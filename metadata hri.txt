SET SQL DIALECT 3;

CREATE DATABASE '192.168.253.80:fatura'
PAGE_SIZE 4096
DEFAULT CHARACTER SET NONE;

/*  External Function declarations */

DECLARE EXTERNAL FUNCTION ADDHOUR
TIMESTAMP, INTEGER
RETURNS TIMESTAMP
ENTRY_POINT 'addHour' MODULE_NAME 'fbudf';


DECLARE EXTERNAL FUNCTION ADDMONTH
TIMESTAMP, INTEGER
RETURNS TIMESTAMP
ENTRY_POINT 'addMonth' MODULE_NAME 'fbudf';


DECLARE EXTERNAL FUNCTION CRIPTO
CSTRING(128) CHARACTER SET NONE
RETURNS CSTRING(33) CHARACTER SET NONE FREE_IT
ENTRY_POINT 'encrypt_md5' MODULE_NAME 'freeudflibc';


DECLARE EXTERNAL FUNCTION IDADE
TIMESTAMP, TIMESTAMP
RETURNS INTEGER BY VALUE 
ENTRY_POINT 'udf_YearsBetween' MODULE_NAME 'tbudf_64bits';


DECLARE EXTERNAL FUNCTION MOD
INTEGER, INTEGER
RETURNS DOUBLE PRECISION BY VALUE 
ENTRY_POINT 'IB_UDF_mod' MODULE_NAME 'ib_udf';


DECLARE EXTERNAL FUNCTION RDB$GET_CONTEXT
VARCHAR(80) CHARACTER SET NONE, VARCHAR(80) CHARACTER SET NONE
RETURNS VARCHAR(255) CHARACTER SET NONE FREE_IT
ENTRY_POINT 'get_context' MODULE_NAME 'system_module';


DECLARE EXTERNAL FUNCTION RDB$SET_CONTEXT
VARCHAR(80) CHARACTER SET NONE, VARCHAR(80) CHARACTER SET NONE, VARCHAR(255) CHARACTER SET NONE
RETURNS INTEGER BY VALUE 
ENTRY_POINT 'set_context' MODULE_NAME 'system_module';


DECLARE EXTERNAL FUNCTION RTRIM
CSTRING(255) CHARACTER SET NONE
RETURNS CSTRING(255) CHARACTER SET NONE FREE_IT
ENTRY_POINT 'IB_UDF_rtrim' MODULE_NAME 'ib_udf';


DECLARE EXTERNAL FUNCTION SQRT
DOUBLE PRECISION
RETURNS DOUBLE PRECISION BY VALUE 
ENTRY_POINT 'IB_UDF_sqrt' MODULE_NAME 'ib_udf';


DECLARE EXTERNAL FUNCTION SRIGHT
VARCHAR(100) CHARACTER SET NONE, SMALLINT
RETURNS VARCHAR(100) CHARACTER SET NONE
ENTRY_POINT 'right' MODULE_NAME 'fbudf';


DECLARE EXTERNAL FUNCTION STRLEN
CSTRING(32767) CHARACTER SET NONE
RETURNS INTEGER BY VALUE 
ENTRY_POINT 'IB_UDF_strlen' MODULE_NAME 'ib_udf';


DECLARE EXTERNAL FUNCTION SUBSTR
CSTRING(255) CHARACTER SET NONE, SMALLINT, SMALLINT
RETURNS CSTRING(255) CHARACTER SET NONE FREE_IT
ENTRY_POINT 'IB_UDF_substr' MODULE_NAME 'ib_udf';


/* Domain definitions */
CREATE DOMAIN "EMAIL" AS VARCHAR(60);
CREATE DOMAIN "ENDERECO" AS VARCHAR(60);
CREATE DOMAIN "NOME" AS VARCHAR(50);
CREATE DOMAIN "PK_ACESSO" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_ALAS" AS SMALLINT;
CREATE DOMAIN "PK_ALINHAMENTO" AS CHAR(1)
	 CHECK(VALUE IN ('E', 'D', 'C' ) );
CREATE DOMAIN "PK_BAIRRO" AS VARCHAR(20);
CREATE DOMAIN "PK_CELULAR" AS VARCHAR(11);
CREATE DOMAIN "PK_CEP" AS VARCHAR(8);
CREATE DOMAIN "PK_CID" AS VARCHAR(4);
CREATE DOMAIN "PK_CIDADE" AS VARCHAR(20);
CREATE DOMAIN "PK_CIVIL" AS VARCHAR(1);
CREATE DOMAIN "PK_CNPJ" AS VARCHAR(18);
CREATE DOMAIN "PK_CODAMB" AS CHAR(8) NOT NULL;
CREATE DOMAIN "PK_CODIGO" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_CODIGOAMB" AS VARCHAR(8);
CREATE DOMAIN "PK_CODIGOAREA" AS SMALLINT;
CREATE DOMAIN "PK_CODIGOCPS" AS FLOAT NOT NULL;
CREATE DOMAIN "PK_CODIGOINT" AS FLOAT;
CREATE DOMAIN "PK_CODIGOMM" AS INTEGER;
CREATE DOMAIN "PK_CODIGOPAC" AS FLOAT NOT NULL;
CREATE DOMAIN "PK_CODIGOPAC1" AS FLOAT;
CREATE DOMAIN "PK_CODIGOPLA" AS SMALLINT;
CREATE DOMAIN "PK_CODIGOSERV" AS INTEGER;
CREATE DOMAIN "PK_CODMOE" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_CONVENIO" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_COR" AS CHAR(1);
CREATE DOMAIN "PK_CPF" AS VARCHAR(11);
CREATE DOMAIN "PK_CREMEB" AS VARCHAR(15);
CREATE DOMAIN "PK_EMAIL" AS VARCHAR(70);
CREATE DOMAIN "PK_GAVETA" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_GRUPOMED" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_HTML" AS VARCHAR(80);
CREATE DOMAIN "PK_LEITOS" AS SMALLINT;
CREATE DOMAIN "PK_MEDICO" AS INTEGER;
CREATE DOMAIN "PK_MEDICOS" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_MOEDAS" AS SMALLINT NOT NULL;
CREATE DOMAIN "PK_PACOTE" AS INTEGER NOT NULL;
CREATE DOMAIN "PK_PRINCIPIO" AS INTEGER;
CREATE DOMAIN "PK_PROGRAMA" AS VARCHAR(46) NOT NULL;
CREATE DOMAIN "PK_SALA" AS SMALLINT NOT NULL;
CREATE DOMAIN "PK_SEXO" AS VARCHAR(1)
	 CHECK (VALUE IN ('M', 'F' ) );
CREATE DOMAIN "PK_SEXO1" AS VARCHAR(1)
	 CHECK( VALUE IN ('M', 'F', 'A') );
CREATE DOMAIN "PK_SIMNAO" AS VARCHAR(1)
	 CHECK (VALUE IN ('S', 'N' ) );
CREATE DOMAIN "PK_SITUACAO" AS VARCHAR(1)
	 CHECK( VALUE IN ('N', 'C', 'B') );
CREATE DOMAIN "PK_TECNICO" AS SMALLINT NOT NULL;
CREATE DOMAIN "PK_TELEFONE" AS VARCHAR(11);
CREATE DOMAIN "PK_TIPOPACOTE" AS CHAR(1)
	 CHECK ( VALUE IN ('M', 'P' ) );
CREATE DOMAIN "PK_TIPOSERV" AS VARCHAR(1)
	 Check ( VALUE IN ( 'D', 'T', 'C', 'V', 'A', 'G',
 'N', 'S', 'O', 'R', 'E', 'P', 'H', 'F' ) );
CREATE DOMAIN "PK_TIPOSERV1" AS VARCHAR(1)
	 CHECK( VALUE IN ( 'D', 'T', 'C', 'V', 'A', 'G', 'N', 'S', 'O', 'R', 'E', 'P', 'H', 'F', 'M', 'U' ) );
CREATE DOMAIN "PK_TRATAMENTO" AS INTEGER;
CREATE DOMAIN "PK_UF" AS VARCHAR(4);

/* Table: ABASOLU, Owner: SYSDBA */

CREATE TABLE "ABASOLU" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SOL_LABO"	 VARCHAR(3),
  "SOL_MEDI"	 VARCHAR(5),
  "SOL_APRE"	 VARCHAR(4),
  "SOL_PREC"	 FLOAT,
  "SOL_TIPO"	 VARCHAR(3),
  "SOL_FLAG"	 CHAR(1),
  "SOL_EDIS"	 FLOAT,
  "SOL_PORT"	 CHAR(1),
  "SOL_GENE"	 CHAR(1),
  "SOL_EXCE"	 CHAR(1),
  "SOL_EX1"	 FLOAT,
  "SOL_EX2"	 FLOAT,
  "SOL_EX3"	 FLOAT,
  "SOL_DATA"	 DATE,
  "SOL_IPI"	 FLOAT,
  "SOL_EX4"	 FLOAT,
  "SOL_EX5"	 FLOAT,
  "SOL_EX6"	 FLOAT,
  "SOL_REV1"	 FLOAT,
  "SOL_REV2"	 FLOAT,
  "SOL_REV3"	 FLOAT,
  "SOL_REV4"	 FLOAT,
  "SOL_REV5"	 FLOAT,
  "SOL_REV6"	 FLOAT,
 PRIMARY KEY ("INDICE")
);

/* Table: ACENTRAL, Owner: SYSDBA */

CREATE TABLE "ACENTRAL" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ACENTRAL"	 VARCHAR(50),
  "PAM"	 VARCHAR(30),
  "FOLEY"	 VARCHAR(30),
  "ENTERAL"	 TIMESTAMP,
  "SORENSEN"	 TIMESTAMP,
  "TUBOTRAQUEAL"	 TIMESTAMP,
  "DRENOABD"	 TIMESTAMP,
  "CODIGOCPS"	 FLOAT,
  "DATA"	 TIMESTAMP,
CONSTRAINT "PK_ACENTRAL" PRIMARY KEY ("INDICE")
);

/* Table: ACESSOESTOQUE, Owner: SYSDBA */

CREATE TABLE "ACESSOESTOQUE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ESTOQUE"	 INTEGER NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
 PRIMARY KEY ("INDICE")
);

/* Table: ACESSOS, Owner: SYSDBA */

CREATE TABLE "ACESSOS" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSA, Owner: SYSDBA */

CREATE TABLE "ACESSOSA" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSC, Owner: SYSDBA */

CREATE TABLE "ACESSOSC" 
(
  "INCLUIR"	 VARCHAR(1),
  "ALTERAR"	 VARCHAR(1),
  "EXCLUIR"	 VARCHAR(1),
  "IMPRIMIR"	 VARCHAR(1),
  "OPERADOR"	 INTEGER NOT NULL,
  "PROGRAMA"	 VARCHAR(46),
  "CACHES"	 VARCHAR(1),
  "ACESSO"	 INTEGER NOT NULL,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSCONTABIL, Owner: SYSDBA */

CREATE TABLE "ACESSOSCONTABIL" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSEXCLUIDOS, Owner: SYSDBA */

CREATE TABLE "ACESSOSEXCLUIDOS" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20)
);

/* Table: ACESSOSF, Owner: SYSDBA */

CREATE TABLE "ACESSOSF" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20)
);

/* Table: ACESSOSI, Owner: SYSDBA */

CREATE TABLE "ACESSOSI" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSL, Owner: SYSDBA */

CREATE TABLE "ACESSOSL" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSLAB, Owner: SYSDBA */

CREATE TABLE "ACESSOSLAB" 
(
  "ACESSO"	 INTEGER NOT NULL,
  "INCLUIR"	 VARCHAR(1),
  "ALTERAR"	 VARCHAR(1),
  "EXCLUIR"	 VARCHAR(1),
  "IMPRIMIR"	 VARCHAR(1),
  "OPERADOR"	 INTEGER NOT NULL,
  "PROGRAMA"	 VARCHAR(50) NOT NULL,
  "CACHES"	 VARCHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSM, Owner: SYSDBA */

CREATE TABLE "ACESSOSM" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSO, Owner: SYSDBA */

CREATE TABLE "ACESSOSO" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSP, Owner: SYSDBA */

CREATE TABLE "ACESSOSP" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20),
 PRIMARY KEY ("ACESSO")
);

/* Table: ACESSOSRESERVA, Owner: SYSDBA */

CREATE TABLE "ACESSOSRESERVA" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20)
);

/* Table: ACESSOSX, Owner: SYSDBA */

CREATE TABLE "ACESSOSX" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "OPERADOR"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "IP2"	 VARCHAR(16),
  "VERSAO2"	 VARCHAR(20)
);

/* Table: ADIANTAMENTO, Owner: SYSDBA */

CREATE TABLE "ADIANTAMENTO" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "TIPO"	 CHAR(1) NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "MOTIVO"	 VARCHAR(100),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: ADMISSAOMEDICA, Owner: SYSDBA */

CREATE TABLE "ADMISSAOMEDICA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "ORIGEM"	 CHAR(1),
  "MOTIVO"	 VARCHAR(1000),
  "HISTORICO"	 VARCHAR(5000),
  "USOMEDICACAO"	 VARCHAR(300),
  "FC"	 VARCHAR(15),
  "FR"	 VARCHAR(15),
  "TA"	 VARCHAR(10),
  "PAM"	 VARCHAR(10),
  "TEMPE"	 VARCHAR(10),
  "SAT"	 VARCHAR(15),
  "PVC"	 VARCHAR(15),
  "PESCOCO"	 VARCHAR(1),
  "VIAAEREA"	 CHAR(1),
  "AP_RESP"	 VARCHAR(50),
  "AP_CARDIOV"	 VARCHAR(100),
  "RITMO"	 CHAR(1),
  "ABDOME"	 VARCHAR(100),
  "EXTREMIDADES"	 VARCHAR(100),
  "SISTEMANERVOSO"	 VARCHAR(100),
  "CVC"	 VARCHAR(10),
  "DRENOS"	 VARCHAR(30),
  "SONDAS"	 VARCHAR(30),
  "RX"	 CHAR(1),
  "LAB"	 CHAR(1),
  "ECG"	 CHAR(1),
  "GASOMETRIA"	 CHAR(1),
  "OUTROSEXAM"	 VARCHAR(30),
  "INF_ANAMP"	 CHAR(1),
  "INF_ANAMMEDASSIST"	 CHAR(1),
  "INF_ANAM_ANEST"	 CHAR(1),
  "INF_ANAM_FAMIL"	 CHAR(1),
  "INF_ANAM_PRONT"	 CHAR(1),
  "SUSPEITADIAG"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PLANODIAG"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PLANOTERAP"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HAS"	 CHAR(1),
  "DM"	 CHAR(1),
  "CARDIOPATIA"	 CHAR(1),
  "PNEUMOPATIA"	 CHAR(1),
  "NEFROPATIA"	 CHAR(1),
  "ASMA"	 CHAR(1),
  "CIRURGIAS"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "ETILISMO"	 CHAR(1),
  "ALERGIA"	 CHAR(1),
  "PALIDEZ"	 CHAR(1),
  "SUDORESE"	 CHAR(1),
  "CIANOSE"	 CHAR(1),
  "ICTERICIA"	 CHAR(1),
  "HEMATOMAS"	 CHAR(1),
  "DESIDRATACAO"	 CHAR(1),
  "DESNUTRICAO"	 CHAR(1),
  "MIOSE"	 CHAR(1),
  "MIDRIASE"	 CHAR(1),
  "ISOCORICAS"	 CHAR(1),
  "ANISOCORICAS"	 CHAR(1),
  "FOTOREAGENTE"	 CHAR(1),
  "FIXAS"	 CHAR(1),
  "MEDICOASSIST"	 VARCHAR(50),
  "PEJ"	 CHAR(1),
  "PRN"	 CHAR(1),
  "PTRAQ"	 CHAR(1),
  "PIC"	 CHAR(1),
  "PDRESP"	 VARCHAR(30),
  "R_SINUSIAL"	 CHAR(1),
  "R_FA"	 CHAR(1),
  "R_ESV"	 CHAR(1),
  "R_SV"	 CHAR(1),
  "R_BAVT"	 CHAR(1),
  "R_TSV"	 CHAR(1),
  "R_TV"	 CHAR(1),
  "R_FV"	 CHAR(1),
  "DM_NAO"	 CHAR(1),
  "DM_HEMIPAR_D"	 CHAR(1),
  "DM_HEMIPAR_E"	 CHAR(1),
  "DM_HEMIPLEGIA_D"	 CHAR(1),
  "DM_HEMIPLEGIA_E"	 CHAR(1),
  "DM_PARAPLEGIA"	 CHAR(1),
  "DM_PARAPESIA"	 CHAR(1),
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "S_GLASGOW"	 VARCHAR(10),
  "S_RV"	 VARCHAR(10),
  "S_RM"	 VARCHAR(10),
  "S_RO"	 VARCHAR(10),
  "CATETERES"	 VARCHAR(30),
  "OUTROS_CAT"	 VARCHAR(30),
  "OUTROS_DRENOS"	 VARCHAR(30),
  "OUTROS_SONDAS"	 VARCHAR(30),
  "FAMILIAR_INF"	 VARCHAR(30),
  "PACNOME"	 VARCHAR(70),
  "INF_ANAM_OUTROS"	 VARCHAR(60),
  "PACIENTE"	 VARCHAR(30),
  "PENDENCIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ANESTESISTA"	 CHAR(1),
  "FAMILIAR"	 CHAR(1),
  "PELOPRONTUARIO"	 CHAR(1),
  "DEFICTMOTOR"	 CHAR(1),
  "OUTROSACHADOS"	 VARCHAR(100),
  "NEOPLASIA"	 CHAR(1),
  "OUTROS_ANTEC"	 VARCHAR(65),
  "CIRURGIAS_ANTEC"	 VARCHAR(60),
  "NEOPLASIA_ANTEC"	 VARCHAR(60),
  "HORA"	 TIME,
  "ANTECEDENTES"	 CHAR(1),
  "EXAMEGERAL"	 CHAR(1),
  "PUPILAS"	 CHAR(1),
  "LEITO"	 VARCHAR(100),
 PRIMARY KEY ("INDICE")
);

/* Table: ADMPED, Owner: SYSDBA */

CREATE TABLE "ADMPED" 
(
  "IDADMPED"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "PESO"	 DOUBLE PRECISION,
  "DATAADMIN"	 DATE,
  "MOTIVO"	 VARCHAR(250),
  "HISTORIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "INFORPREVIAS"	 VARCHAR(250),
  "CIRURGPREVIAS"	 VARCHAR(1),
  "DATA"	 TIMESTAMP,
  "CODIGOCPS"	 INTEGER,
  "USER1"	 INTEGER,
  "PNEUMOPATIAS"	 VARCHAR(1),
  "NEFROPATIAS"	 VARCHAR(1),
  "HEPATOPATIAS"	 VARCHAR(1),
  "CARDIOPATIAS"	 VARCHAR(1),
  "DOENCA_NEURO"	 VARCHAR(1),
  "DOENCA_IMUNO"	 VARCHAR(1),
  "TGINTESTINAL"	 VARCHAR(1),
  "HEMATOLOGIAS"	 VARCHAR(1),
  "HEMOTRANSFUSAO"	 VARCHAR(1),
  "REACAO_TRANFUSIONAL"	 VARCHAR(1),
  "REACAO_TRANS_QUAL"	 VARCHAR(50),
  "HIPERTESAO"	 VARCHAR(1),
  "HIPERTENSAO_QUAL"	 VARCHAR(50),
  "DIABETES"	 VARCHAR(1),
  "DIABETES_QUAL"	 VARCHAR(50),
  "ANTEC_NEO"	 VARCHAR(50),
  "ANTEC_FAMILIARES"	 VARCHAR(200),
  "IMUNIZACOES"	 VARCHAR(200),
  "DNPM"	 VARCHAR(200),
  "ANTEC_OUTROS"	 VARCHAR(200),
  "FC"	 VARCHAR(50),
  "TA"	 VARCHAR(50),
  "STO2"	 VARCHAR(50),
  "TEMP"	 VARCHAR(50),
  "GLASGOW"	 VARCHAR(50),
  "FR"	 VARCHAR(50),
  "GERAL_DADOSVITAIS"	 VARCHAR(250),
  "CARDIOVASC"	 VARCHAR(250),
  "RESPIRATORIO"	 VARCHAR(250),
  "ABDOME"	 VARCHAR(250),
  "EXTREMIDADES"	 VARCHAR(250),
  "NEUROLOGICO"	 VARCHAR(250),
  "GENITOURINARIO"	 VARCHAR(250),
  "OUTROS_DADOSVITAIS"	 VARCHAR(250),
  "PH"	 VARCHAR(50),
  "PCO2"	 VARCHAR(50),
  "PO2"	 VARCHAR(50),
  "HB"	 VARCHAR(50),
  "SATO2"	 VARCHAR(50),
  "K"	 VARCHAR(50),
  "NA"	 VARCHAR(50),
  "CA"	 VARCHAR(50),
  "LAC"	 VARCHAR(50),
  "PO2_FIO2"	 VARCHAR(50),
  "BR"	 VARCHAR(50),
  "HCO3"	 VARCHAR(50),
  "P0O2E"	 VARCHAR(50),
  "FIO2"	 VARCHAR(50),
  "EXAME_IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUPEITA_DIAGNOSTICA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PLANO_TERAPEUTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PLANO_DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBSERVACOES"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "PROFISSIONAL"	 INTEGER,
  "ESTATURA"	 DOUBLE PRECISION,
  "CARDIOPATIA_QUAL"	 VARCHAR(50),
  "HEMOTRASF_QUAL"	 VARCHAR(50),
  "CIRURGPREVIAS_QUAL"	 VARCHAR(50),
  "HEMOTRANSFUSAO_QUAL"	 VARCHAR(50),
  "PNEUMOPATIAS_QUAL"	 VARCHAR(50),
  "DOENCA_IMUNO_QUAL"	 VARCHAR(50),
  "NEFROPATIAS_QUAL"	 VARCHAR(50),
  "TGINTESTINAL_QUAL"	 VARCHAR(50),
  "HEPATOPATIAS_QUAL"	 VARCHAR(50),
  "DOENCA_NEURO_QUAL"	 VARCHAR(50),
  "HEMATOLOGIAS_QUAL"	 VARCHAR(50),
  "DATA_EXAMES_ADM"	 TIMESTAMP,
  "GASO"	 VARCHAR(50),
  "REACAO_TRANFUSIONAL_QUAL"	 VARCHAR(50),
  "TIPO"	 VARCHAR(1),
  "PERIODOH"	 VARCHAR(30),
  "PAM_MIN"	 VARCHAR(30),
  "PAM_MAX"	 VARCHAR(30),
  "FR_MIN"	 NUMERIC(15,2),
  "FR_MAX"	 NUMERIC(15,2),
  "FC_MIN"	 NUMERIC(15,2),
  "FC_MAX"	 NUMERIC(15,2),
  "TAX_MIN"	 NUMERIC(15,2),
  "TAX_MAX"	 NUMERIC(15,2),
  "HGT_MIN"	 NUMERIC(15,2),
  "HGT_MAX"	 NUMERIC(15,2),
  "SAT02_MIN"	 NUMERIC(15,2),
  "SATO2_MAX"	 NUMERIC(15,2),
  "BH_1"	 NUMERIC(15,2),
  "BH_2"	 NUMERIC(15,2),
  "DU_1"	 NUMERIC(15,2),
  "DU_2"	 NUMERIC(15,2),
  "EVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "IMPRESSAO_CLINICA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EVOLUCAO_NOTURNA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "LISTA_PROBLEMAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DISSEC"	 VARCHAR(30),
  "FOLEY"	 VARCHAR(50),
  "PAM"	 VARCHAR(50),
  "SNE"	 VARCHAR(50),
  "TEMP_MIN"	 NUMERIC(15,2),
  "TEMP_MAX"	 NUMERIC(15,2),
  "IMC"	 NUMERIC(15,2),
  "SONDA_ORAL"	 NUMERIC(15,2),
  "SORO"	 NUMERIC(15,2),
  "MED"	 NUMERIC(15,2),
  "DENS_URIN"	 VARCHAR(50),
  "OUTROS1"	 NUMERIC(15,2),
  "OUTROS2"	 NUMERIC(15,2),
  "OUTROS3"	 NUMERIC(15,2),
  "OUTROS4"	 NUMERIC(15,2),
  "DEJECOES"	 NUMERIC(15,2),
  "PABD"	 NUMERIC(15,2),
  "OUTROS5"	 NUMERIC(15,2),
  "RESID_VOMITO"	 NUMERIC(15,2),
  "DRENOS"	 NUMERIC(15,2),
  "GLIC_MIN"	 VARCHAR(50),
  "GLIC_MAX"	 NUMERIC(15,2),
  "OUTROS6"	 NUMERIC(15,2),
  "OUTRO7"	 NUMERIC(15,2),
  "CAPINOGRAFIA"	 NUMERIC(15,2),
  "PA"	 VARCHAR(50),
  "MODO"	 VARCHAR(50),
  "PR"	 NUMERIC(15,2),
  "PVC"	 NUMERIC(15,2),
  "PI"	 NUMERIC(15,2),
  "PEEP"	 VARCHAR(50),
  "TI"	 NUMERIC(15,2),
  "PSV"	 NUMERIC(15,2),
  "VC"	 NUMERIC(15,2),
  "DISSEC2"	 VARCHAR(50),
  "FOLEY2"	 VARCHAR(50),
  "CANULA"	 VARCHAR(50),
  "CANULA2"	 VARCHAR(50),
  "PAM2"	 VARCHAR(50),
  "SNE2"	 VARCHAR(50),
  "PA_MIN"	 NUMERIC(15,2),
  "PA_MAX"	 NUMERIC(15,2),
  "SATURACAO"	 NUMERIC(15,2),
  "PA_MINX"	 VARCHAR(50),
  "PA_MAXX"	 VARCHAR(50),
  "SATURACAOX"	 VARCHAR(50),
  "NUTRICAO"	 VARCHAR(50),
  "RESTRICAO"	 NUMERIC(15,2),
  "PESOCALORICO"	 NUMERIC(15,2),
  "TAXAHIDRICA"	 NUMERIC(15,2),
  "MLDIA"	 NUMERIC(15,2),
  "FORMULA"	 VARCHAR(50),
  "CALORIA100ML"	 NUMERIC(15,2),
  "VOLUME"	 NUMERIC(15,2),
  "NVEZES"	 INTEGER,
  "VENOCLISENPP"	 NUMERIC(15,2),
  "OUTROSSOROS"	 NUMERIC(15,2),
  "THOFERTADA"	 NUMERIC(15,2),
  "TIG"	 NUMERIC(15,2),
  "GLIC_GR"	 NUMERIC(15,2),
  "LIPIDIOS"	 NUMERIC(15,2),
  "AMINOACIDOS"	 NUMERIC(15,2),
  "CALNPPPEDO"	 NUMERIC(15,2),
  "CALDIETA"	 NUMERIC(15,2),
  "RELACAOCAL"	 NUMERIC(15,2),
  "CALTOTALPESO"	 NUMERIC(15,2),
  "CALNA"	 NUMERIC(15,2),
  "CALK"	 NUMERIC(15,2),
  "CALCA"	 NUMERIC(15,2),
  "CALMG"	 NUMERIC(15,2),
  "CALP"	 NUMERIC(15,2),
  "OLIPED"	 NUMERIC(15,2),
  "NAACET"	 NUMERIC(15,2),
  "MEQNA"	 NUMERIC(15,2),
  "NEOZINC"	 NUMERIC(15,2),
  "VIT1"	 NUMERIC(15,2),
  "VIT2"	 NUMERIC(15,2),
  "CLORO"	 NUMERIC(15,2),
  "CALGLIC"	 NUMERIC(15,2),
  "CALLIP"	 NUMERIC(15,2),
  "CALAMINO"	 NUMERIC(15,2),
  "CALCONCENTTOTAL"	 NUMERIC(15,2),
  "OSMOL"	 NUMERIC(15,2),
  "MG"	 VARCHAR(50),
  "OUTROS_DADOSVITAISX"	 VARCHAR(50),
  "MEDICACAO_USO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FR_VENTIL"	 VARCHAR(50),
CONSTRAINT "PK_ADMPED" PRIMARY KEY ("IDADMPED")
);

/* Table: ADMPED_PROB, Owner: SYSDBA */

CREATE TABLE "ADMPED_PROB" 
(
  "IDADMPED_PROB"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "PROBLEMA"	 VARCHAR(500),
  "TRATAMENTO"	 VARCHAR(500),
  "TERMINO"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
CONSTRAINT "PK_ADMPED_PROB" PRIMARY KEY ("IDADMPED_PROB")
);

/* Table: AGENDA, Owner: SYSDBA */

CREATE TABLE "AGENDA" 
(
  "A_NOME"	 VARCHAR(50) NOT NULL,
  "ENDERECO"	 VARCHAR(50),
  "NUMERO"	 VARCHAR(8),
  "CEP"	 PK_CEP ,
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 PK_CIDADE ,
  "TELEFONE"	 VARCHAR(15),
  "UF"	 PK_UF ,
  "EMAIL"	 EMAIL ,
  "COMPLEMENTO"	 VARCHAR(20),
  "CELULAR"	 VARCHAR(15),
 PRIMARY KEY ("A_NOME")
);

/* Table: AGENDAPROF, Owner: SYSDBA */

CREATE TABLE "AGENDAPROF" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "SEMANA"	 INTEGER NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "INTERVALO"	 INTEGER,
  "CLASSIFICACAO"	 INTEGER,
  "OBSERVACAO"	 VARCHAR(150),
  "PROCEDIMENTO"	 VARCHAR(20),
  "DUPLO"	 INTEGER,
  "EXTRA"	 CHAR(1),
CONSTRAINT "PK_AGENDAPROF" PRIMARY KEY ("INDICE")
);

/* Table: AJUDA, Owner: SYSDBA */

CREATE TABLE "AJUDA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ASSUNTO"	 VARCHAR(40) NOT NULL,
  "TIPO"	 VARCHAR(20) NOT NULL,
  "PRIORIDADE"	 VARCHAR(15) NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "CONTATO"	 VARCHAR(50) NOT NULL,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80 NOT NULL,
  "USER1"	 INTEGER NOT NULL,
  "STATUS"	 CHAR(1),
  "EMPRESA"	 VARCHAR(18),
  "SISTEMA"	 VARCHAR(30),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_AJUDA" PRIMARY KEY ("INDICE")
);

/* Table: AJUSTACPS, Owner: SYSDBA */

CREATE TABLE "AJUSTACPS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "TRATAMENTO"	 VARCHAR(100),
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "TIPO"	 CHAR(1),
  "MOTIVO"	 VARCHAR(400),
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "STATUS"	 CHAR(1),
CONSTRAINT "PK_AJUSTACPS" PRIMARY KEY ("INDICE")
);

/* Table: AJUSTACPSITEM, Owner: SYSDBA */

CREATE TABLE "AJUSTACPSITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "AJUSTACPS"	 INTEGER NOT NULL,
  "CODIGOSERV"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(10),
  "QTDE"	 INTEGER,
  "TOTAL"	 DOUBLE PRECISION,
  "QTDEAJUSTE"	 INTEGER,
  "CODIGOSERVAJUSTE"	 INTEGER,
  "TIPOAJUSTE"	 INTEGER,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATA"	 TIMESTAMP,
  "DHE"	 CHAR(1),
  "A_MEDICOS"	 INTEGER,
  "UNITARIO"	 DOUBLE PRECISION,
  "UNITARIOAJUSTE"	 DOUBLE PRECISION,
CONSTRAINT "PK_AJUSTACPSITEM" PRIMARY KEY ("INDICE")
);

/* Table: ALAS, Owner: SYSDBA */

CREATE TABLE "ALAS" 
(
  "A_NOME"	 VARCHAR(40),
  "A_ALA"	 PK_ALAS  NOT NULL,
  "TAMANHO"	 SMALLINT,
  "DIARIA"	 DOUBLE PRECISION,
  "QUANTIDADE"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TRATAMENTO"	 INTEGER,
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESUMO"	 VARCHAR(15),
  "A_ATIVO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "UNIDADENEGOCIO"	 INTEGER,
  "CCUSTO"	 INTEGER,
 PRIMARY KEY ("A_ALA")
);

/* Table: ALERGIAS, Owner: SYSDBA */

CREATE TABLE "ALERGIAS" 
(
  "ID_ALERGIAS"	 INTEGER NOT NULL,
  "MEDICAMENTO"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
CONSTRAINT "PK_ALERGIAS" PRIMARY KEY ("ID_ALERGIAS")
);

/* Table: ALIMENTO, Owner: SYSDBA */

CREATE TABLE "ALIMENTO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(60) NOT NULL,
  "CALORIA"	 DOUBLE PRECISION,
  "PESO"	 DOUBLE PRECISION,
  "APELIDO"	 VARCHAR(30),
  "GRUPOALIMENTO"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_ALIMENTO" PRIMARY KEY ("CODIGO")
);

/* Table: ALIMENTOINFO, Owner: SYSDBA */

CREATE TABLE "ALIMENTOINFO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "ALIMENTO"	 INTEGER,
  "INFONUT"	 INTEGER,
  "VALOR"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: ALTA, Owner: SYSDBA */

CREATE TABLE "ALTA" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "PRXCONSULTA"	 TIMESTAMP,
  "A_MEDICO"	 INTEGER,
  "MEDRESP"	 INTEGER,
  "HISTORICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MEDICAMENTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PLANO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CONDICAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CODIGOCPS"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TIPO_ALTA"	 CHAR(1),
  "RESUMOEVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PROCEDIMENTOS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HEMODERIVADOS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ULTIOS_EXAMES"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_ALTA" PRIMARY KEY ("CODIGO")
);

/* Table: ALTAENFUTI, Owner: SYSDBA */

CREATE TABLE "ALTAENFUTI" 
(
  "IDALTAENFUTI"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT,
  "DATA1"	 TIMESTAMP,
  "ALA"	 INTEGER,
  "USER1"	 INTEGER,
  "DATA_ALTA"	 TIMESTAMP,
  "DATA_ADM"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CODIGOPAC"	 DOUBLE PRECISION,
  "ORIGEM"	 VARCHAR(50),
  "DESTINO"	 VARCHAR(50),
  "MEDICO_ASSIST"	 VARCHAR(50),
  "PESO"	 VARCHAR(10),
  "GRUPO_SANGUINEO"	 VARCHAR(10),
  "TIPO_ISOLAMENTO"	 VARCHAR(100),
  "DM"	 CHAR(1),
  "HAS"	 CHAR(1),
  "CARDIOPATIA"	 CHAR(1),
  "DLP"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "ETILISMO"	 CHAR(1),
  "NIPCDI"	 CHAR(1),
  "ULCERA"	 CHAR(1),
  "DROGAS"	 CHAR(1),
  "NEOPLASIA"	 CHAR(1),
  "HEPATOP"	 CHAR(1),
  "PNEUMO"	 CHAR(1),
  "NEFROP"	 CHAR(1),
  "DST"	 CHAR(1),
  "AVP"	 VARCHAR(50),
  "SVD"	 VARCHAR(50),
  "CVC"	 VARCHAR(50),
  "TOT"	 VARCHAR(50),
  "TQT"	 VARCHAR(50),
  "SNE"	 VARCHAR(50),
  "SNG"	 VARCHAR(50),
  "CAT_EPIDURAL"	 VARCHAR(50),
  "DRENO"	 VARCHAR(150),
  "PA"	 VARCHAR(50),
  "FC"	 VARCHAR(50),
  "SPO2"	 VARCHAR(50),
  "FR"	 VARCHAR(50),
  "TEMP"	 VARCHAR(50),
  "GLIC"	 VARCHAR(50),
  "ENCAMINHAMENTO"	 VARCHAR(50),
  "PENDENCIAS"	 VARCHAR(250),
  "EVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "QUIMIOTERAPIA"	 CHAR(1),
  "OUTROS_ANTECEDENTES"	 VARCHAR(250),
  "OUTROS_DISPOSITIVOS"	 VARCHAR(250),
  "ALERGIA"	 VARCHAR(250),
  "MP"	 CHAR(1),
  "LEITONOME"	 VARCHAR(250),
  "ALANOME"	 VARCHAR(250),
  "STATUSLEITO"	 VARCHAR(100),
  "LEITO"	 INTEGER,
  "DISPO_LOCAL2"	 VARCHAR(50),
  "DISPO_LOCAL3"	 VARCHAR(50),
  "DISPO_LOCAL4"	 VARCHAR(50),
  "DISPO_LOCAL5"	 VARCHAR(50),
  "DISPO_LOCAL6"	 VARCHAR(50),
  "DISPO_LOCAL7"	 VARCHAR(50),
  "DISPO_LOCAL8"	 VARCHAR(50),
  "DISPO_LOCAL1"	 VARCHAR(50),
  "TIPO"	 VARCHAR(1),
CONSTRAINT "PK_ALTAENFUTI" PRIMARY KEY ("IDALTAENFUTI")
);

/* Table: ALTAITEM, Owner: SYSDBA */

CREATE TABLE "ALTAITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ALTA"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(30) NOT NULL,
  "CODIGOSERV"	 INTEGER,
  "DESCRICAO"	 VARCHAR(500) NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(1000),
  "CLASSE"	 VARCHAR(40),
  "RESP_CHECAGEM"	 VARCHAR(30),
  "CPS"	 DOUBLE PRECISION,
  "QUANTIDADE"	 INTEGER,
  "MEDICO"	 INTEGER,
  "EVOLUCAO"	 FLOAT,
  "CIRURGIA"	 INTEGER,
  "INDICE_PEDIDO"	 INTEGER,
  "USUARIONOME"	 VARCHAR(250),
CONSTRAINT "PK_ALTAITEM" PRIMARY KEY ("INDICE")
);

/* Table: ANESTESIA, Owner: SYSDBA */

CREATE TABLE "ANESTESIA" 
(
  "IDANESTERIA"	 INTEGER NOT NULL,
  "CODIGOPAC"	 VARCHAR(50),
  "CODIGOCPS"	 VARCHAR(50),
  "CIRURGIAS"	 VARCHAR(500),
  "ANESTESIAS_PREVIAS"	 VARCHAR(500),
  "INTERCORRENCIAS"	 VARCHAR(500),
  "ALERGIAS"	 VARCHAR(500),
  "HAS"	 CHAR(1),
  "ALCOLISMO"	 CHAR(1),
  "DIGESTIVO"	 CHAR(1),
  "NEURO"	 CHAR(1),
  "RENAL"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "RESPIRATORIO"	 CHAR(1),
  "GENURITARIO"	 CHAR(1),
  "HEMOPATIA"	 CHAR(1),
  "PROTESES"	 CHAR(1),
  "FOBIA"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "CARDIO"	 CHAR(1),
  "LOCOMOTOR"	 CHAR(1),
  "ENDOCRINO"	 CHAR(1),
  "NEFRO"	 CHAR(1),
  "MARCAPASSO"	 CHAR(1),
  "USOMEDICAMENTOS"	 VARCHAR(250),
  "ANTECEDENTE_FAMILIAR"	 VARCHAR(500),
  "FEBRE_ANESTESIA_ANT"	 VARCHAR(500),
  "PROBLEMA_NEURO"	 VARCHAR(500),
  "FC"	 VARCHAR(50),
  "PA"	 VARCHAR(50),
  "PESO"	 VARCHAR(50),
  "EX_RESPIRATORIO"	 VARCHAR(50),
  "EX_CARDIOVASCULAR"	 VARCHAR(50),
  "HB"	 VARCHAR(50),
  "RNI"	 VARCHAR(50),
  "PLAQ"	 VARCHAR(50),
  "GLICEMIA"	 VARCHAR(50),
  "HT"	 VARCHAR(50),
  "AP"	 VARCHAR(50),
  "ECG"	 VARCHAR(50),
  "UREIA"	 VARCHAR(50),
  "CREATININA"	 VARCHAR(50),
  "TESTE_ESFORCO"	 VARCHAR(500),
  "ECO"	 VARCHAR(500),
  "EX_OUTROS"	 VARCHAR(500),
  "COND_DENTARIAS"	 VARCHAR(500),
  "PROTESE_SUPERIOR"	 VARCHAR(50),
  "PROTESE_INFERIOR"	 VARCHAR(50),
  "ESCORE_ASA"	 VARCHAR(50),
  "INCISIVOS"	 VARCHAR(50),
  "TIROMENTONIANA"	 VARCHAR(50),
  "RETROGNATISMO"	 VARCHAR(50),
  "MANDIBULAR"	 VARCHAR(50),
  "PROTUSAO_MANDIBULA"	 VARCHAR(50),
  "PESCOCO_CURTO"	 VARCHAR(50),
  "INTERCISIVOS3"	 VARCHAR(50),
  "MALLAMPATI"	 VARCHAR(50),
  "PALATO"	 VARCHAR(50),
  "CERVIVAL"	 VARCHAR(50),
  "MOVIMENTACAO_CERVICAL"	 VARCHAR(50),
  "ESTERNOMENTO"	 VARCHAR(50),
  "ESTADO_EMOCIONAL"	 VARCHAR(500),
  "MEDICACAO_PREANESTESICA"	 VARCHAR(500),
  "CONDUTA_AVALIACAO"	 VARCHAR(500),
  "ORIENTACOES_PREOPERAT"	 VARCHAR(500),
  "MEDICO"	 INTEGER,
  "USUARIO"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "DEPENDENCIA_QUI"	 CHAR(1),
  "AVALIACAO_FINAL"	 VARCHAR(500),
  "ESCOREMALANPANTI"	 VARCHAR(50),
  "ALERGIALATEX"	 CHAR(1),
  "ANAMNESEOUTROS"	 VARCHAR(500),
CONSTRAINT "PK_ANESTESIA" PRIMARY KEY ("IDANESTERIA")
);

/* Table: ANTIBIOTICOS, Owner: SYSDBA */

CREATE TABLE "ANTIBIOTICOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ANTIBIOTICO"	 VARCHAR(50),
  "CODIGOCPS"	 FLOAT,
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "DATA"	 TIMESTAMP,
CONSTRAINT "PK_ANTIBIOTICOS" PRIMARY KEY ("INDICE")
);

/* Table: APACHE, Owner: SYSDBA */

CREATE TABLE "APACHE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATAADMISSAO"	 TIMESTAMP,
  "HORAADMISSAO"	 TIMESTAMP,
  "MOTIVOINTER"	 VARCHAR(20),
  "CID"	 VARCHAR(4),
  "SEDACAOENT"	 VARCHAR(3),
  "MEDRESP"	 INTEGER,
  "COMORBIDADE"	 CHAR(1),
  "DOENCASCRONICAS"	 CHAR(1),
  "CIRURGIAAREA"	 VARCHAR(15),
  "TEMPERATURA"	 VARCHAR(5),
  "PRESSAOMED"	 VARCHAR(5),
  "FC"	 VARCHAR(5),
  "FR"	 VARCHAR(5),
  "GLASGOW"	 VARCHAR(5),
  "PHARTERIAL"	 VARCHAR(4),
  "PACO2"	 VARCHAR(4),
  "PAO2"	 VARCHAR(4),
  "FIO2"	 VARCHAR(4),
  "SODIO"	 VARCHAR(5),
  "POTASSIO"	 VARCHAR(5),
  "CREATININA"	 VARCHAR(5),
  "HEMATOCRITO"	 VARCHAR(5),
  "LEUCOCITOS"	 VARCHAR(6),
  "SOMAAPACHEII"	 VARCHAR(15),
  "MORTALIEST"	 VARCHAR(15),
  "ENTRADA"	 TIMESTAMP,
  "NUTRIPAREN"	 VARCHAR(5),
  "SAIDA"	 TIMESTAMP,
  "SEPSE"	 VARCHAR(5),
  "DROGVASOTIVA"	 VARCHAR(5),
  "DOSETOTAL"	 VARCHAR(15),
  "ANTIBIOTICO"	 VARCHAR(15),
  "DURANTIBI"	 VARCHAR(10),
  "ESQANTIULT"	 VARCHAR(40),
  "INFNOSOCOMIAL"	 VARCHAR(15),
  "SITIO"	 VARCHAR(20),
  "VENTMEC"	 VARCHAR(10),
  "DATAINICIOVM1"	 TIMESTAMP,
  "DATAINICIOVM2"	 TIMESTAMP,
  "DATAFIANLVM2"	 TIMESTAMP,
  "REINTUBACAO"	 VARCHAR(10),
  "EXTUBACAO"	 VARCHAR(10),
  "TRASQUEOTOMIA"	 VARCHAR(10),
  "DIALISE"	 VARCHAR(10),
  "INSFRENAL"	 VARCHAR(10),
  "ALTA"	 TIMESTAMP,
  "ESTADOVITAL"	 VARCHAR(10),
  "DESTINO"	 VARCHAR(10),
  "MEDPLANTSAIDA"	 VARCHAR(20),
  "SOMATISS28"	 VARCHAR(40),
  "READIMISSAO"	 VARCHAR(10),
  "READAPOSALTA"	 VARCHAR(30),
  "HORAALTA"	 TIMESTAMP,
  "ALTAHOPS"	 TIMESTAMP,
  "REABILITACAO"	 VARCHAR(10),
  "ESCALABARTHEL"	 VARCHAR(10),
  "PRESCRICAO"	 INTEGER,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "ORIGEM"	 VARCHAR(30),
  "HAS"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "DPOC"	 CHAR(1),
  "AIDS"	 CHAR(1),
  "NEOPLASIAS"	 CHAR(1),
  "INSUFICIENCIACARD"	 CHAR(1),
  "ALCCOLISMO"	 CHAR(1),
  "CIRROSEHEPATICA"	 CHAR(1),
  "GRAVIDEZ"	 CHAR(1),
  "INSUFRESPI"	 CHAR(1),
  "IRC"	 CHAR(1),
  "QUIMIOTERAPIA"	 CHAR(1),
  "HIVSEMAIDS"	 CHAR(1),
  "RADIOTERAPIA"	 CHAR(1),
  "TERAPIAIMUNO"	 CHAR(1),
  "TRATAMESTEROIDES"	 CHAR(1),
  "INSUFCORONARIANA"	 CHAR(1),
  "AVC"	 CHAR(1),
  "SEMDOENCCRON"	 CHAR(1),
  "ICCNYHA"	 CHAR(1),
  "PNEUMONIACRON"	 CHAR(1),
  "HEPATOPATIACRON"	 CHAR(1),
  "IRCEMDIALISE"	 CHAR(1),
  "IMUNOCOMPROMETIDOS"	 CHAR(1),
  "CIRURGIA"	 VARCHAR(20),
  "NOMEDROGAVAS"	 VARCHAR(15),
  "VENTMEC2"	 VARCHAR(10),
  "ESPECIFICA_ORIGEM"	 VARCHAR(15),
  "DATAFINALVM1"	 TIMESTAMP,
CONSTRAINT "PK_APACHE" PRIMARY KEY ("INDICE")
);

/* Table: APAC_CPC, Owner: SYSDBA */

CREATE TABLE "APAC_CPC" 
(
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CAMPO01"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO02"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO03"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO04"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO05"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO06"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO07"	 DATE,
  "CAMPO08"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO08_01"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO09"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO10"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO11"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO12"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO13"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO14"	 VARCHAR(100) CHARACTER SET ISO8859_1,
  "CAMPO15"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO16"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO17"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO18"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO19"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO20"	 INTEGER,
  "CAMPO21"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO22"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO23"	 INTEGER,
  "CAMPO24"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO25"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO26"	 INTEGER,
  "CAMPO27"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO28"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO29"	 INTEGER,
  "CAMPO30"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO31"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO32"	 INTEGER,
  "CAMPO33"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO34"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO35"	 INTEGER,
  "CAMPO36"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO37"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO38"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO39"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO40"	 VARCHAR(1000) CHARACTER SET ISO8859_1,
  "CAMPO41"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO42"	 DATE,
  "CAMPO43"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO44"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO46"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO47"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO48"	 VARCHAR(30),
  "CAMPO49"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO50"	 DATE,
  "CAMPO54"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO55"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO56"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO57"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO58"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO58_01"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO59"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO60"	 VARCHAR(50) CHARACTER SET ISO8859_1,
  "CAMPO61"	 VARCHAR(100) CHARACTER SET ISO8859_1,
  "CAMPO62"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO63"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO64"	 DATE,
  "CAMPO65"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO66_01"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO67_01"	 DATE,
  "CAMPO66_02"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO67_02"	 DATE,
  "CAMPO66_03"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO67_03"	 DATE,
  "CAMPO68"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO69"	 DATE,
  "CAMPO70"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO71"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO72"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO73"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO74_01"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO75_01"	 DATE,
  "CAMPO74_02"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO75_02"	 DATE,
  "CAMPO74_03"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CAMPO75_03"	 DATE,
  "CAMPO76"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO77"	 DATE,
  "CAMPO78"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO79_01"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO80_01"	 VARCHAR(150) CHARACTER SET ISO8859_1,
  "CAMPO81_01"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO82_01"	 DATE,
  "CAMPO83_01"	 DATE,
  "CAMPO79_02"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO80_02"	 VARCHAR(150) CHARACTER SET ISO8859_1,
  "CAMPO81_02"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO82_02"	 DATE,
  "CAMPO83_02"	 DATE,
  "CAMPO79_03"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO80_03"	 VARCHAR(150) CHARACTER SET ISO8859_1,
  "CAMPO81_03"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CAMPO82_03"	 DATE,
  "CAMPO83_03"	 DATE,
  "CAMPO84_DATA"	 DATE,
  "CAMPO84_ALTURA"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_PESO"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_DIURESE"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_GLICOSE"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_ALBUMINA"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_HB"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_VASCULAR"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_HIV"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_HCV"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_HBS"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO84_US"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_TRU"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_HB"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_ALBUMINA"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_INTERVENCAO"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_CNCDO"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_HIV"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_HCV"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CAMPO85_HBS"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CPS_ORIGEM_COPIA"	 FLOAT,
  "USER1"	 INTEGER,
CONSTRAINT "PK_APAC_CPC" PRIMARY KEY ("CODIGOCPS")
);

/* Table: APARELHOFISIO, Owner: SYSDBA */

CREATE TABLE "APARELHOFISIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "LIMITE"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: APARELHO_AUDIMETRIA, Owner: SYSDBA */

CREATE TABLE "APARELHO_AUDIMETRIA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "MODELO"	 VARCHAR(30),
  "ULTCALIBRACAO"	 TIMESTAMP,
  "PERIODO"	 INTEGER,
  "ANTECEDENCIA"	 INTEGER,
  "AFERICAO"	 TIMESTAMP,
  "FABRICANTE"	 VARCHAR(30),
  "EMPRESACAL"	 VARCHAR(30),
  "TELEFONE"	 VARCHAR(10),
  "TIPO"	 VARCHAR(40),
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: APELIDOCODAMB, Owner: SYSDBA */

CREATE TABLE "APELIDOCODAMB" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "A_CODAMB1"	 CHAR(8) NOT NULL,
  "A_CODAMB2"	 VARCHAR(10) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "CONVENIO"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "A_CODAMBFINAL"	 VARCHAR(8),
CONSTRAINT "PK_APELIDOCODAMB" PRIMARY KEY ("CODIGO")
);

/* Table: AREA, Owner: SYSDBA */

CREATE TABLE "AREA" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(20),
  "COD_MUNICIPIO"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("CODIGO")
);

/* Table: AREAMED, Owner: SYSDBA */

CREATE TABLE "AREAMED" 
(
  "CODIGOAREA"	 PK_CODIGOAREA  NOT NULL,
  "A_NOME"	 VARCHAR(40),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("CODIGOAREA")
);

/* Table: ATENDIMENTO, Owner: SYSDBA */

CREATE TABLE "ATENDIMENTO" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_ATENDIMENTO" PRIMARY KEY ("SEQUENCIA")
);

/* Table: ATESTADO, Owner: SYSDBA */

CREATE TABLE "ATESTADO" 
(
  "IDATESTADO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "PACIENTE"	 INTEGER,
  "CPS"	 INTEGER,
  "NIP"	 VARCHAR(30),
  "MEDICO"	 INTEGER,
  "DIAS"	 INTEGER,
  "CID"	 VARCHAR(10),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATAFIM"	 TIMESTAMP,
CONSTRAINT "PK_ATESTADO" PRIMARY KEY ("IDATESTADO")
);

/* Table: ATUALIZACAO_BRAS, Owner: SYSDBA */

CREATE TABLE "ATUALIZACAO_BRAS" 
(
  "ID_ATUALIZACAO_BRAS"	 INTEGER NOT NULL,
  "PRECO_ANTIGO"	 DOUBLE PRECISION,
  "CODIGOMM"	 INTEGER,
  "PRECO_NOVO"	 DOUBLE PRECISION,
  "PRECO_ANTIGOPFB"	 DOUBLE PRECISION,
  "PRECO_NOVOPFB"	 DOUBLE PRECISION,
  "DATA_ATUALIZACAO"	 TIMESTAMP,
  "VERSAO_BRAS"	 VARCHAR(100),
CONSTRAINT "PK_ATUALIZACAO_BRAS" PRIMARY KEY ("ID_ATUALIZACAO_BRAS")
);

/* Table: ATUALIZAIMPCONV, Owner: SYSDBA */

CREATE TABLE "ATUALIZAIMPCONV" 
(
  "ATUALIZAIMPCONV"	 INTEGER NOT NULL,
  "USUARIO"	 INTEGER,
  "DATAADD"	 TIMESTAMP,
  "DATAINI"	 DATE,
  "DATAFIM"	 DATE,
  "CONVENIO"	 INTEGER,
  "MOTIVO"	 VARCHAR(150) NOT NULL,
  "ISSANTIGO"	 NUMERIC(18,2),
  "PISANTIGO"	 NUMERIC(18,2),
  "COFINSANTIGO"	 NUMERIC(18,2),
  "CSLANTIGO"	 NUMERIC(18,2),
  "IRRFANTIGO"	 NUMERIC(18,2),
  "ISSNOVO"	 NUMERIC(18,2),
  "PISNOVO"	 NUMERIC(18,2),
  "COFINSNOVO"	 NUMERIC(18,2),
  "CSLNOVO"	 NUMERIC(18,2),
  "IRRFNOVO"	 NUMERIC(18,2),
  "FECHAMENTO"	 INTEGER,
 PRIMARY KEY ("ATUALIZAIMPCONV")
);

/* Table: AUDITA_VALIDADE_FUSMA, Owner: SYSDBA */

CREATE TABLE "AUDITA_VALIDADE_FUSMA" 
(
  "ID_VALIDADEFUSMA"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "VALIDADE"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "INICIO_NOVO"	 TIMESTAMP,
  "VALIDADE_NOVA"	 TIMESTAMP,
  "USUARIO_NOVO"	 INTEGER,
CONSTRAINT "PK_AUDITA_VALIDADE_FUSMA" PRIMARY KEY ("ID_VALIDADEFUSMA")
);

/* Table: AUDITORIAREGRA, Owner: SYSDBA */

CREATE TABLE "AUDITORIAREGRA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "INICIO"	 TIMESTAMP NOT NULL,
  "FINAL"	 TIMESTAMP NOT NULL,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PACOTE"	 INTEGER,
CONSTRAINT "PK_AUDITORIAREGRA" PRIMARY KEY ("INDICE")
);

/* Table: AUTORIZACAO, Owner: SYSDBA */

CREATE TABLE "AUTORIZACAO" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CODIGOPAC"	 FLOAT NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "SITUACAO"	 VARCHAR(15),
  "MOTIVO"	 VARCHAR(100),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "CONVENIO"	 INTEGER NOT NULL,
  "CODIGOSERV"	 FLOAT,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_AUTORIZACAO" PRIMARY KEY ("NUMERO")
);

/* Table: AVALIACAOESPECIALISTA, Owner: SYSDBA */

CREATE TABLE "AVALIACAOESPECIALISTA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "CODMEDICO"	 INTEGER,
  "ESPEC"	 INTEGER,
  "MOTIVO"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "CRM"	 INTEGER,
  "MEDESPECIALISTA"	 VARCHAR(100),
  "CODIGOCPS"	 INTEGER,
  "OBSERVACAO"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "TIPO"	 CHAR(15),
  "DATASOLICITACAO"	 TIMESTAMP,
  "CODESPECIALISTA"	 INTEGER,
CONSTRAINT "PK_AVALIACAOESPECIALISTA" PRIMARY KEY ("INDICE")
);

/* Table: AVALIA_ANEST, Owner: SYSDBA */

CREATE TABLE "AVALIA_ANEST" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PESO"	 VARCHAR(5),
  "PROFISSAO"	 VARCHAR(80),
  "PROCPROPOSTO"	 VARCHAR(150),
  "ALERGIAS"	 VARCHAR(200),
  "HIPERTEARTERIAL"	 CHAR(1),
  "ICC"	 CHAR(1),
  "ANGINA"	 CHAR(1),
  "INFARTO"	 CHAR(1),
  "INFARTO_QUANDO"	 VARCHAR(60),
  "CHAGAS"	 CHAR(1),
  "ARRETIMIA"	 CHAR(1),
  "DOENVULVARES"	 CHAR(1),
  "MMII"	 CHAR(1),
  "TROMBOSE"	 CHAR(1),
  "EMBOLIA"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "CIGARROSDIA"	 VARCHAR(5),
  "SEDENTARISMO"	 CHAR(1),
  "ASMA"	 CHAR(1),
  "ENFISEMA"	 CHAR(1),
  "BRONQCRONICA"	 CHAR(1),
  "TOSSE"	 CHAR(1),
  "BRONQUIECTASIA"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "DIABETES_DESDE"	 VARCHAR(20),
  "COMA"	 CHAR(1),
  "DIABETICO"	 VARCHAR(20),
  "HEMOFLIA"	 CHAR(1),
  "FALCEMIA"	 CHAR(1),
  "MIASTENIA"	 CHAR(1),
  "DOENTIREOIDE"	 CHAR(1),
  "HERNIAHIATO"	 CHAR(1),
  "REFLUXO"	 CHAR(1),
  "MEGESOFAGO"	 CHAR(1),
  "AZIA"	 CHAR(1),
  "GASTRITE"	 CHAR(1),
  "ULCPEPTICA"	 CHAR(1),
  "VOMITOS"	 CHAR(1),
  "HEMATEMESES"	 CHAR(1),
  "DIARREIAS"	 CHAR(1),
  "COLITE"	 CHAR(1),
  "PANCREATITE"	 CHAR(1),
  "HEPATITE"	 CHAR(1),
  "HA"	 VARCHAR(10),
  "TIPO"	 VARCHAR(10),
  "CIRROSE"	 CHAR(1),
  "INSHEPATICA"	 CHAR(1),
  "ESQUITOSSOMOSE"	 CHAR(1),
  "VARESOFAGICAS"	 CHAR(1),
  "DOENBILIARES"	 CHAR(1),
  "DUROLOGICAS"	 CHAR(1),
  "DRENAIS"	 CHAR(1),
  "INSURENAL"	 CHAR(1),
  "GRAVIDEZ"	 CHAR(1),
  "SEMANAS"	 VARCHAR(10),
  "DGINECOLOGICAS"	 VARCHAR(50),
  "DNEUROLOGICAS"	 VARCHAR(100),
  "PARALISIAS"	 VARCHAR(100),
  "PARESIAS"	 VARCHAR(100),
  "PARESTESIAS"	 VARCHAR(100),
  "DPSIQUIATRICAS"	 VARCHAR(100),
  "PERCONSIENCIA"	 CHAR(1),
  "CONVULSOES"	 CHAR(1),
  "CEFALEIAS"	 CHAR(1),
  "TONTURAS"	 CHAR(1),
  "LABIRINTITE"	 CHAR(1),
  "OTITE"	 CHAR(1),
  "DEFAUDITIVO"	 CHAR(1),
  "SINUSITE"	 CHAR(1),
  "RENITE"	 CHAR(1),
  "DEFVISUAL"	 CHAR(1),
  "GLAUCOMA"	 CHAR(1),
  "LUPUS"	 CHAR(1),
  "OSTEOPOROSE"	 CHAR(1),
  "ARTRALGIAS"	 CHAR(1),
  "FEBREREUMA"	 CHAR(1),
  "ESPONDILOARTROSE"	 CHAR(1),
  "HERDISCO"	 CHAR(1),
  "LIMMOVPESCOCO"	 CHAR(1),
  "MACROGLOSSIA"	 CHAR(1),
  "MALLAMPATI"	 VARCHAR(10),
  "PRODENT"	 CHAR(1),
  "APNEIASONO"	 CHAR(1),
  "ALCOOLISMO"	 CHAR(1),
  "DROGILICITAS"	 CHAR(1),
  "MEDICAMENTOS"	 VARCHAR(200),
  "OUTDOENCAS"	 VARCHAR(300),
  "CARDIOPATIAS"	 CHAR(1),
  "DIABETES2"	 CHAR(1),
  "HIPERARTERIAL"	 CHAR(1),
  "HIPERMALIGNA"	 CHAR(1),
  "OUTDOENCA2"	 VARCHAR(100),
  "ANTOBST"	 VARCHAR(300),
  "CIRUGANT"	 VARCHAR(250),
  "ANESTANT"	 VARCHAR(250),
  "COMPLICACOES"	 VARCHAR(300),
  "ARRETIMIA2"	 VARCHAR(20),
  "DOENTIREOIDE2"	 VARCHAR(20),
  "DOENBILIARES2"	 VARCHAR(45),
  "HERDISCO2"	 VARCHAR(20),
  "DROGILICITAS2"	 VARCHAR(30),
  "MEDICAMENTOS1"	 VARCHAR(50),
  "OUTDOENCA1"	 CHAR(1),
  "EXLABORATORIO"	 VARCHAR(300),
  "CABPESCOCO"	 VARCHAR(250),
  "APRESP"	 VARCHAR(300),
  "APCIRCU"	 VARCHAR(250),
  "OUTDADOS"	 VARCHAR(300),
  "ASA"	 VARCHAR(10),
  "DOENVULVARES2"	 VARCHAR(30),
  "PA"	 VARCHAR(5),
  "MMHG"	 VARCHAR(5),
  "FC"	 VARCHAR(5),
  "BPM"	 VARCHAR(5),
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "CODIGOCPS"	 FLOAT,
  "CODPAC"	 VARCHAR(60) NOT NULL,
  "DATA"	 TIMESTAMP,
  "DUROLOGICAS2"	 VARCHAR(50),
  "DRENAIS2"	 VARCHAR(50),
  "DGINECOLOGICAS2"	 VARCHAR(50),
  "DNEUROLOGICAS2"	 VARCHAR(50),
  "PARESIAS2"	 VARCHAR(50),
  "PARESTESIAS2"	 VARCHAR(50),
  "DPSIQUIATRICAS2"	 VARCHAR(50),
  "PERCONSCIENCIA2"	 VARCHAR(50),
  "USER_CRIADOR"	 INTEGER,
  "QUANDO"	 CHAR(1),
  "DESDE"	 VARCHAR(20),
  "NOMEPAC"	 VARCHAR(100),
CONSTRAINT "PK_AVALIA_ANEST" PRIMARY KEY ("INDICE")
);

/* Table: BALANCOHIDR, Owner: SYSDBA */

CREATE TABLE "BALANCOHIDR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATAHORA"	 TIMESTAMP,
  "SORO1"	 DOUBLE PRECISION,
  "SORO2"	 DOUBLE PRECISION,
  "SORO3"	 DOUBLE PRECISION,
  "SORO4"	 DOUBLE PRECISION,
  "SORO5"	 DOUBLE PRECISION,
  "AMINAS1"	 DOUBLE PRECISION,
  "AMINAS2"	 DOUBLE PRECISION,
  "AMINAS3"	 DOUBLE PRECISION,
  "SEDA1"	 DOUBLE PRECISION,
  "SEDA2"	 DOUBLE PRECISION,
  "SEDA3"	 DOUBLE PRECISION,
  "DIETA1"	 DOUBLE PRECISION,
  "DIETA2"	 DOUBLE PRECISION,
  "ANTIBIO1"	 DOUBLE PRECISION,
  "ANTIBIO2"	 DOUBLE PRECISION,
  "ANTIBIO3"	 DOUBLE PRECISION,
  "DIURESE"	 DOUBLE PRECISION,
  "VOMITO"	 DOUBLE PRECISION,
  "DRENO"	 DOUBLE PRECISION,
  "SGEV"	 DOUBLE PRECISION,
  "SGDRENO"	 DOUBLE PRECISION,
  "SGCOLETA"	 DOUBLE PRECISION,
  "CPS"	 FLOAT,
CONSTRAINT "PK_BALANCOHIDR_INDICE" PRIMARY KEY ("INDICE")
);

/* Table: BANCADA, Owner: SYSDBA */

CREATE TABLE "BANCADA" 
(
  "BANCADA_CODIGO"	 INTEGER NOT NULL,
  "BANCADA_DESCRICAO"	 VARCHAR(25) NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "CORRELATORIO"	 VARCHAR(8),
  "ORDEM"	 INTEGER,
CONSTRAINT "PK_BANCADA_CODIGO" PRIMARY KEY ("BANCADA_CODIGO")
);

/* Table: BANCADAEXAME, Owner: SYSDBA */

CREATE TABLE "BANCADAEXAME" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(10) NOT NULL,
  "COD_BANCADA"	 INTEGER NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "CODIGOAMB"	 CHAR(8),
  "CODIGOSERV"	 INTEGER NOT NULL,
  "LAB"	 VARCHAR(5),
  "COD_EXAME"	 VARCHAR(8),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_BANCADAEXAME" PRIMARY KEY ("CODIGO")
);

/* Table: BOLETIM, Owner: SYSDBA */

CREATE TABLE "BOLETIM" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "A_MEDICOS"	 PK_MEDICOS ,
  "CONSCIENCIA"	 CHAR(1),
  "NUTRICAO"	 CHAR(1),
  "VENTILACAO"	 CHAR(1),
  "IMPRESSAO"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TESTERAPIDO"	 VARCHAR(50),
  "RT"	 VARCHAR(50),
  "RX"	 VARCHAR(50),
  "PREVISAO_ALTA"	 VARCHAR(50),
  "HEMODINAMICA"	 VARCHAR(50),
  "EVOLUCAO_CLINICA"	 VARCHAR(50),
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "TIPO"	 CHAR(1),
  "RESUMO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "UNIDADENEGOCIO"	 INTEGER,
  "VENTILACAO_MECANICA"	 VARCHAR(50),
  "STATUS"	 VARCHAR(200),
 PRIMARY KEY ("NUMERO")
);

/* Table: BOTAOEXAME, Owner: SYSDBA */

CREATE TABLE "BOTAOEXAME" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(10) NOT NULL,
  "PACOTE"	 CHAR(1),
  "NOME"	 VARCHAR(40),
  "TIPO"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: BPAATENDIMENTO, Owner: SYSDBA */

CREATE TABLE "BPAATENDIMENTO" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "ATENDIMENTO"	 CHAR(2) NOT NULL,
CONSTRAINT "PK_BPAATENDIMENTO" PRIMARY KEY ("SEQUENCIA")
);

/* Table: BPADISCO, Owner: SYSDBA */

CREATE TABLE "BPADISCO" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "UNIDADE"	 VARCHAR(7) NOT NULL,
  "COMPET"	 VARCHAR(6),
  "FOLHA"	 VARCHAR(3),
  "SEQ"	 CHAR(2),
  "PROCEDIMENTO"	 VARCHAR(8),
  "ATIVIDADE"	 CHAR(2),
  "TIPO"	 CHAR(2),
  "GRUPO"	 CHAR(2),
  "FETARIA"	 CHAR(2),
  "QTD"	 INTEGER,
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "DATAGERADO"	 TIMESTAMP,
  "SITUACAO"	 VARCHAR(50),
CONSTRAINT "PK_BPADISCO" PRIMARY KEY ("SEQUENCIA")
);

/* Table: BPAESPECIALSUS, Owner: SYSDBA */

CREATE TABLE "BPAESPECIALSUS" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "ESPECIALSUS"	 CHAR(2) NOT NULL,
CONSTRAINT "PK_BPAESPECIALSUS" PRIMARY KEY ("SEQUENCIA")
);

/* Table: BPAFETARIA, Owner: SYSDBA */

CREATE TABLE "BPAFETARIA" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "FETARIA"	 CHAR(2) NOT NULL,
CONSTRAINT "PK_BPAFETARIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: BPAGRUPO, Owner: SYSDBA */

CREATE TABLE "BPAGRUPO" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "GRUPO"	 CHAR(2) NOT NULL,
CONSTRAINT "PK_BPAGRUPO" PRIMARY KEY ("SEQUENCIA")
);

/* Table: BRASINDICE, Owner: SYSDBA */

CREATE TABLE "BRASINDICE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODLAB"	 VARCHAR(100),
  "LABORATORIO"	 VARCHAR(200),
  "CODMED"	 VARCHAR(100),
  "MEDICAMENTO"	 VARCHAR(200),
  "CODAPR"	 VARCHAR(100),
  "APRESENTACAO"	 VARCHAR(200),
  "PRECO"	 DOUBLE PRECISION,
  "QTDE"	 VARCHAR(100),
  "PMCPFB"	 VARCHAR(100),
  "PFB"	 DOUBLE PRECISION,
  "EDICAO"	 VARCHAR(100),
  "IPI"	 VARCHAR(100),
  "NEGATIVA"	 VARCHAR(100),
  "EAN"	 VARCHAR(100),
  "TISS"	 VARCHAR(100),
  "TUSS"	 VARCHAR(100),
  "DATAHORA"	 TIMESTAMP,
CONSTRAINT "PK_BRASINDICE" PRIMARY KEY ("INDICE")
);

/* Table: BRASINDICE1, Owner: SYSDBA */

CREATE TABLE "BRASINDICE1" 
(
  "MED_CODI"	 CHAR(5) NOT NULL,
  "MED_DESC"	 VARCHAR(200),
  "MED_FLAG"	 CHAR(1),
  "MED_SOLU"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("MED_CODI")
);

/* Table: BRASINDICE2, Owner: SYSDBA */

CREATE TABLE "BRASINDICE2" 
(
  "APR_CODI"	 CHAR(4) NOT NULL,
  "APR_DESC"	 VARCHAR(200),
  "APR_FLAG"	 CHAR(1),
  "APR_QTDE"	 DOUBLE PRECISION,
  "APR_IPI"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("APR_CODI")
);

/* Table: BRASINDICE3, Owner: SYSDBA */

CREATE TABLE "BRASINDICE3" 
(
  "ABAPREC"	 FLOAT NOT NULL,
  "PRE_MEDI"	 CHAR(5),
  "PRE_LABO"	 CHAR(3),
  "PRE_APRE"	 CHAR(4),
  "PRE_PREC"	 DOUBLE PRECISION,
  "PRE_IPI"	 DOUBLE PRECISION,
  "PRE_FLAG"	 CHAR(1),
  "PRE_DATA"	 TIMESTAMP,
  "PRE_EDIS"	 DOUBLE PRECISION,
  "PRE_PORT"	 CHAR(1),
  "PRE_GENE"	 CHAR(1),
  "PRE_EXCE"	 CHAR(1),
  "PRE_EX1"	 DOUBLE PRECISION,
  "PRE_EX2"	 DOUBLE PRECISION,
  "PRE_EX3"	 DOUBLE PRECISION,
  "PRE_EX4"	 DOUBLE PRECISION,
  "PRE_EX5"	 DOUBLE PRECISION,
  "PRE_EX6"	 DOUBLE PRECISION,
  "PRE_TIPO"	 CHAR(3),
  "PRE_REV1"	 DOUBLE PRECISION,
  "PRE_REV2"	 DOUBLE PRECISION,
  "PRE_REV3"	 DOUBLE PRECISION,
  "PRE_REV4"	 DOUBLE PRECISION,
  "PRE_REV5"	 DOUBLE PRECISION,
  "PRE_REV6"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "EAN"	 VARCHAR(13),
  "NUM_TISS"	 VARCHAR(10),
  "PRE_MDES"	 VARCHAR(80),
  "PREALIQ2"	 DOUBLE PRECISION,
  "TUSS"	 VARCHAR(50),
 PRIMARY KEY ("ABAPREC")
);

/* Table: BRASINDICETEXTO, Owner: SYSDBA */

CREATE TABLE "BRASINDICETEXTO" 
(
  "MED_DESC"	 VARCHAR(250),
  "MED_CODI"	 VARCHAR(100)
);

/* Table: BRASINDICE_ARQUIVO, Owner: SYSDBA */

CREATE TABLE "BRASINDICE_ARQUIVO" 
(
  "CODIMPORTACAO"	 INTEGER NOT NULL,
  "DATAIMPORTACAO"	 TIMESTAMP NOT NULL,
  "CODLAB"	 VARCHAR(4),
  "LABORATORIO"	 VARCHAR(40),
  "CODMED"	 VARCHAR(10),
  "MEDICAMENTO"	 VARCHAR(50),
  "CODAPR"	 VARCHAR(5),
  "APRESENTACAO"	 VARCHAR(50),
  "PRECOTOTAL"	 DOUBLE PRECISION,
  "QTDE"	 DOUBLE PRECISION,
  "PMC_PFB"	 DOUBLE PRECISION,
  "PRECOFRACAO"	 DOUBLE PRECISION,
  "EDICAO"	 VARCHAR(10),
  "IPI"	 DOUBLE PRECISION,
  "NEGATIVA"	 CHAR(1),
  "EAN"	 VARCHAR(15),
  "TISS"	 VARCHAR(10),
  "GENERICO"	 CHAR(1)
);

/* Table: CADMUN, Owner: SYSDBA */

CREATE TABLE "CADMUN" 
(
  "MUNCOD"	 VARCHAR(6),
  "MUNCODDV"	 VARCHAR(7),
  "SITUACAO"	 VARCHAR(5),
  "MUNSINP"	 VARCHAR(5),
  "MUNSIAFI"	 VARCHAR(4),
  "MUNNOME"	 VARCHAR(50),
  "MUNNOMEX"	 VARCHAR(50),
  "OBSERV"	 VARCHAR(50),
  "MUNSINON"	 VARCHAR(28),
  "MUNSINONDV"	 VARCHAR(32),
  "AMAZONIA"	 VARCHAR(1),
  "FRONTEIRA"	 VARCHAR(1),
  "CAPITAL"	 VARCHAR(1),
  "UFCOD"	 VARCHAR(2),
  "MESOCOD"	 VARCHAR(4),
  "MICROCOD"	 VARCHAR(5),
  "MSAUDCOD"	 VARCHAR(4),
  "RSAUDCOD"	 VARCHAR(4),
  "RMETRCOD"	 VARCHAR(4),
  "AGLCOD"	 VARCHAR(4),
  "ANOINST"	 VARCHAR(4),
  "ANOEXT"	 VARCHAR(4),
  "SUCESSOR"	 VARCHAR(7),
  "LATITUDE"	 DOUBLE PRECISION,
  "LONGITUDE"	 DOUBLE PRECISION,
  "ALTITUDE"	 DOUBLE PRECISION,
  "AREA"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DDD"	 VARCHAR(3),
  "DATASINC"	 TIMESTAMP,
  "CEP"	 CHAR(8)
);

/* Table: CADMUNCPC, Owner: SYSDBA */

CREATE TABLE "CADMUNCPC" 
(
  "MUNCOD"	 VARCHAR(6),
  "MUNCODDV"	 VARCHAR(7),
  "SITUACAO"	 VARCHAR(5),
  "MUNSINP"	 VARCHAR(5),
  "MUNSIAFI"	 VARCHAR(4),
  "MUNNOME"	 VARCHAR(50),
  "MUNNOMEX"	 VARCHAR(50),
  "OBSERV"	 VARCHAR(50),
  "MUNSINON"	 VARCHAR(28),
  "MUNSINONDV"	 VARCHAR(32),
  "AMAZONIA"	 VARCHAR(1),
  "FRONTEIRA"	 VARCHAR(1),
  "CAPITAL"	 VARCHAR(1),
  "UFCOD"	 VARCHAR(2),
  "MESOCOD"	 VARCHAR(4),
  "MICROCOD"	 VARCHAR(5),
  "MSAUDCOD"	 VARCHAR(4),
  "RSAUDCOD"	 VARCHAR(4),
  "RMETRCOD"	 VARCHAR(4),
  "AGLCOD"	 VARCHAR(4),
  "ANOINST"	 VARCHAR(4),
  "ANOEXT"	 VARCHAR(4),
  "SUCESSOR"	 VARCHAR(7),
  "LATITUDE"	 DOUBLE PRECISION,
  "LONGITUDE"	 DOUBLE PRECISION,
  "ALTITUDE"	 DOUBLE PRECISION,
  "AREA"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DDD"	 VARCHAR(3),
  "DATASINC"	 TIMESTAMP,
  "CEP"	 CHAR(8)
);

/* Table: CADUF, Owner: SYSDBA */

CREATE TABLE "CADUF" 
(
  "UFCOD"	 VARCHAR(2),
  "UFSIGLA"	 VARCHAR(2),
  "UFNOME"	 VARCHAR(50),
  "UFNOMEX"	 VARCHAR(50),
  "UFSINON"	 VARCHAR(3),
  "UFSINP"	 VARCHAR(2),
  "REGCOD"	 VARCHAR(1),
  "UFAREA"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: CALENDARIOFATURA, Owner: SYSDBA */

CREATE TABLE "CALENDARIOFATURA" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "OBSERVACAO"	 VARCHAR(60),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "RECEBIMENTO"	 TIMESTAMP,
  "TIPO"	 VARCHAR(20),
  "DATAOPERACIONAL"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: CARGACOMPILAB, Owner: SYSDBA */

CREATE TABLE "CARGACOMPILAB" 
(
  "IDCARGACOMPILAB"	 DOUBLE PRECISION NOT NULL,
  "NIP"	 VARCHAR(250),
  "DATA"	 VARCHAR(250),
  "CODIGO_PROC"	 VARCHAR(250),
  "TIPOATD"	 VARCHAR(250),
  "DESCRICAO"	 VARCHAR(250),
  "DATASINC"	 TIMESTAMP,
  "REFERENCIA"	 VARCHAR(30),
  "IMPORTADO"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(250),
  "EXPORTADO"	 VARCHAR(250),
  "DATAEXAME"	 DATE,
CONSTRAINT "PK_CARGACOMPILAB" PRIMARY KEY ("IDCARGACOMPILAB")
);

/* Table: CARGACOMPILAB_ERRO, Owner: SYSDBA */

CREATE TABLE "CARGACOMPILAB_ERRO" 
(
  "IDCARGACOMPILAB_ERRO"	 INTEGER NOT NULL,
  "NIP"	 VARCHAR(100),
  "OBSERVACAO"	 VARCHAR(100),
  "REFERENCIA"	 VARCHAR(30),
  "DATASINC"	 TIMESTAMP,
  "CODIGO_PROC"	 VARCHAR(30),
  "VALOR_CALCULADO"	 DOUBLE PRECISION,
  "CPS"	 INTEGER,
  "AMH"	 CHAR(1),
  "IMH"	 CHAR(1),
CONSTRAINT "PK_CARGACOMPILAB_ERRO" PRIMARY KEY ("IDCARGACOMPILAB_ERRO")
);

/* Table: CARGOCBO, Owner: SYSDBA */

CREATE TABLE "CARGOCBO" 
(
  "CBO"	 VARCHAR(30),
  "DESCRICAO"	 VARCHAR(100),
  "ID"	 SMALLINT
);

/* Table: CARTA, Owner: SYSDBA */

CREATE TABLE "CARTA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DE"	 INTEGER NOT NULL,
  "PARA"	 INTEGER NOT NULL,
  "ASSUNTO"	 VARCHAR(100) NOT NULL,
  "MENSAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "LIDA"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: CATALOGO, Owner: SYSDBA */

CREATE TABLE "CATALOGO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "ENDERECO"	 VARCHAR(60),
  "BAIRRO"	 VARCHAR(30),
  "CIDADE"	 VARCHAR(30),
  "PAIS"	 VARCHAR(30),
  "CEP"	 VARCHAR(8),
  "NASC"	 TIMESTAMP,
  "CPF"	 CHAR(11),
  "RG"	 VARCHAR(15),
  "TELEFONE1"	 VARCHAR(15),
  "TELEFONE2"	 VARCHAR(15),
  "TELEFONE3"	 VARCHAR(15),
  "EMAIL1"	 VARCHAR(60),
  "EMAIL2"	 VARCHAR(60),
  "WWW"	 VARCHAR(60),
  "TRABALHO"	 VARCHAR(50),
  "EMPRESA"	 VARCHAR(50),
  "CNPJ"	 CHAR(14),
  "ENDERECOJOB"	 VARCHAR(60),
  "WWWJOG"	 VARCHAR(60),
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "GRUPO"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_CATALOGO" PRIMARY KEY ("CODIGO")
);

/* Table: CATALOGOGRUPO, Owner: SYSDBA */

CREATE TABLE "CATALOGOGRUPO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_CATALOGOGRUPO" PRIMARY KEY ("CODIGO")
);

/* Table: CBOSUS, Owner: SYSDBA */

CREATE TABLE "CBOSUS" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "ID"	 INTEGER,
  "CODIGO"	 VARCHAR(6),
  "DESCRICAO"	 VARCHAR(800),
CONSTRAINT "PK_CBO" PRIMARY KEY ("SEQUENCIA")
);

/* Table: CCIH, Owner: SYSDBA */

CREATE TABLE "CCIH" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CLINICA"	 VARCHAR(30),
  "CPS"	 INTEGER,
  "ANTIMICROBIANO"	 VARCHAR(30),
  "CID1"	 VARCHAR(4),
  "CID2"	 VARCHAR(4),
  "CID3"	 VARCHAR(4),
  "DOSEDIARIA"	 VARCHAR(10),
  "VIA"	 VARCHAR(10),
  "TEMPO"	 VARCHAR(15),
  "USOTERAPEUTICO"	 CHAR(1),
  "INICIO"	 CHAR(1),
  "PRORROGACAO"	 CHAR(1),
  "FERIDACIRURGICA"	 CHAR(1),
  "NENHUMA"	 CHAR(1),
  "URINA"	 CHAR(1),
  "SANGUE"	 CHAR(1),
  "LIQUOR"	 CHAR(1),
  "SECRETRAQUEAL"	 CHAR(1),
  "LAVADOBRONCOALVEOLAR"	 CHAR(1),
  "OUTROS"	 CHAR(1),
  "PATOGENOIDENTIFICADO"	 VARCHAR(1),
  "ANTIOBIOGRAMA"	 VARCHAR(30),
  "USOPROFILATICO"	 CHAR(1),
  "PROCEDIMENTO"	 VARCHAR(250),
  "MEDICORESP"	 VARCHAR(50),
  "DATA"	 TIMESTAMP,
  "CRM"	 VARCHAR(8),
  "MEDICOCCIH"	 VARCHAR(40),
  "FARMACEUTICO"	 VARCHAR(40),
  "CRMCCIH"	 VARCHAR(8),
  "CRF"	 VARCHAR(8),
  "PRESCRICAO"	 INTEGER,
  "PATOGENO1"	 VARCHAR(40),
  "PATOGENO2"	 VARCHAR(40),
  "ANTISENSIB"	 VARCHAR(60),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATAINICIO"	 TIMESTAMP,
  "DATAFINAL"	 TIMESTAMP,
  "ANTIMICROBIANO1"	 VARCHAR(30),
  "DOSEDIARIA1"	 VARCHAR(10),
  "VIA1"	 VARCHAR(10),
  "TEMPO1"	 VARCHAR(15),
  "DIAGNOSTICO"	 VARCHAR(300),
  "PONTACATETER"	 CHAR(1),
  "PACIENTE"	 INTEGER,
  "LEITO"	 VARCHAR(100),
  "CODIGOMED"	 INTEGER,
  "NOMEPAC"	 VARCHAR(100),
  "IMPRESSO"	 CHAR(1),
  "INDICE_NOTAMED2"	 FLOAT,
  "PARECER_FARMACEUTICO"	 VARCHAR(3000),
  "PARECER_SCIH"	 VARCHAR(3000),
  "DATA_FARMA"	 TIMESTAMP,
  "DATA_SCIH"	 TIMESTAMP,
  "ENDOCARDITE"	 CHAR(1),
  "FLEBITE"	 VARCHAR(1),
  "GASTOINTESTINAL"	 VARCHAR(1),
  "OSTEOMIELITE"	 VARCHAR(1),
  "PELEPARTESMOLES"	 VARCHAR(1),
  "PERIONITE"	 VARCHAR(1),
  "PERICARDITE"	 VARCHAR(1),
  "RESPIRATORIA"	 VARCHAR(1),
  "URINARIA"	 VARCHAR(1),
  "VIASBILIARES"	 VARCHAR(1),
  "SNC"	 VARCHAR(1),
  "SEPSECATETER"	 VARCHAR(1),
  "SEPSEINDEFINIDO"	 VARCHAR(1),
  "SITIOCIRURGICO"	 VARCHAR(1),
  "OUTROSITIO"	 VARCHAR(1),
  "PRIMEIRAREQUISICAO"	 CHAR(1),
  "MUDANCAANTIMICROBIANO"	 VARCHAR(1),
  "INFECCOMUNITARIA"	 VARCHAR(1),
  "INFECHOSPITALAR"	 VARCHAR(1),
  "ANTIBIOGRAMA"	 VARCHAR(1),
  "FUNCAORENALALT"	 VARCHAR(1),
  "FUNCAOHEPALT"	 VARCHAR(1),
  "IC"	 VARCHAR(1),
  "IH"	 VARCHAR(1),
  "SITIO"	 VARCHAR(30),
  "OBSERVACAO_ENF"	 VARCHAR(250),
  "CODALA"	 INTEGER,
  "POSOLOGIA_CCIH"	 VARCHAR(60) CHARACTER SET ISO8859_1,
  "DOSE"	 VARCHAR(10),
  "SEPSE"	 CHAR(1),
  "SEPSE_FOCO"	 VARCHAR(50),
  "ATB_MESANTERIOR"	 CHAR(1),
  "QUAL_ATB_MESANT"	 VARCHAR(50),
  "INSTITUICIONALIZADO"	 CHAR(1),
  "INTERNAMENTO_MESANT"	 CHAR(1),
CONSTRAINT "PK_CCIH" PRIMARY KEY ("INDICE")
);

/* Table: CEPSUS, Owner: SYSDBA */

CREATE TABLE "CEPSUS" 
(
  "CEP"	 VARCHAR(30),
  "IBGE"	 VARCHAR(30),
  "IDCEPSUS"	 FLOAT
);

/* Table: CHAMADOS, Owner: SYSDBA */

CREATE TABLE "CHAMADOS" 
(
  "EQUIPAMENTO"	 VARCHAR(10),
  "PROBLEMA"	 VARCHAR(500),
  "DATA"	 VARCHAR(10),
  "HORA"	 VARCHAR(5),
  "USUARIO"	 VARCHAR(15),
  "N_CHAMADO"	 INTEGER,
  "STATUS"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: CHAMAGUICHE, Owner: SYSDBA */

CREATE TABLE "CHAMAGUICHE" 
(
  "GUICHE"	 SMALLINT
);

/* Table: CHECKCVC, Owner: SYSDBA */

CREATE TABLE "CHECKCVC" 
(
  "IDCHECKCVC"	 INTEGER,
  "NOTASALA"	 INTEGER,
  "IDRESPCHECKLIST"	 INTEGER,
  "IDRESPINSERCAO"	 INTEGER,
  "TIPOCAT"	 VARCHAR(250),
  "LOCAL"	 VARCHAR(250),
  "HIGMAOS"	 VARCHAR(1),
  "PELE"	 VARCHAR(1),
  "SECAR"	 VARCHAR(1),
  "BARREIRAS"	 VARCHAR(1),
  "CAMPO"	 VARCHAR(1),
  "CURATIVO"	 VARCHAR(1),
  "CODIGOCPS"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "USER1"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "DATA"	 TIMESTAMP
);

/* Table: CHECKLIST_CIRURGICO_2, Owner: SYSDBA */

CREATE TABLE "CHECKLIST_CIRURGICO_2" 
(
  "INDICE"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "CONFIRMACAO_PACIENTE"	 CHAR(1),
  "SITIO_DEMARCADO"	 CHAR(1),
  "EQUIPAMENTO"	 CHAR(1),
  "VIA_AEREA"	 CHAR(1),
  "BRONCOASPIRACAO"	 CHAR(1),
  "MATERIAL_AEREA"	 CHAR(1),
  "ALERGIA_TEXTO"	 VARCHAR(50),
  "ALERGIA"	 CHAR(1),
  "ANTICOAGULANTE"	 CHAR(1),
  "REVISAO_EQUIPAMENTO"	 CHAR(1),
  "PERCA_SANGUINEA"	 CHAR(1),
  "USER1"	 INTEGER,
  "MEMBROS_EQUIPE"	 CHAR(1),
  "VERBAL"	 CHAR(1),
  "EQUIPAMENTO_ENFERMAGEM"	 CHAR(1),
  "PREOCUPACOES"	 CHAR(1),
  "PROFILAXIA"	 CHAR(1),
  "EXAMES"	 CHAR(1),
  "ADESAO_ANEST"	 CHAR(1),
  "ADESAO_CIRUR"	 CHAR(1),
  "USER2"	 INTEGER,
  "CONTAGEM"	 CHAR(1),
  "PECAS"	 CHAR(1),
  "FALHA"	 CHAR(1),
  "USER3"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "NOTASALA"	 INTEGER,
  "PROCED_CONFIRMADO"	 CHAR(1),
  "CODIGOPAC"	 INTEGER
);

/* Table: CHECKUP, Owner: SYSDBA */

CREATE TABLE "CHECKUP" 
(
  "IDCHECKUP"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER,
  "AVESTILOVIDA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ALIMENTACAO"	 VARCHAR(250),
  "SOBREPESO"	 VARCHAR(250),
  "SEDENTARISMO"	 VARCHAR(250),
  "ESTRESSE"	 VARCHAR(250),
  "SONO"	 VARCHAR(250),
  "ANSIEDADE"	 VARCHAR(250),
  "DEPRESSAO"	 VARCHAR(250),
  "RISCO"	 VARCHAR(250),
  "AVALIACAO_CARDIO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RELATORIO_FINAL"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA"	 TIMESTAMP,
  "MEDICO"	 INTEGER,
  "RISCO_DIABETE"	 VARCHAR(250),
  "RELATORIO_FINALIZADO"	 CHAR(1),
  "DATA_FINALIZACAO"	 DATE,
CONSTRAINT "PK_CHECKUP" PRIMARY KEY ("IDCHECKUP")
);

/* Table: CHECKUP_ESPEC, Owner: SYSDBA */

CREATE TABLE "CHECKUP_ESPEC" 
(
  "IDCHECKUP_ESPEC"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "DATA_ATD"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(250),
  "CODCHECKUP"	 INTEGER NOT NULL,
  "ESPECIALIDADE"	 INTEGER NOT NULL,
  "RELATORIO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USUARIO"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "HISTORIA_PREGRESSA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EXAME_FISICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CONDUTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "METAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PREVISAO_RETORNO"	 DATE,
CONSTRAINT "PK_CHECKUP_ESPEC" PRIMARY KEY ("IDCHECKUP_ESPEC")
);

/* Table: CID, Owner: SYSDBA */

CREATE TABLE "CID" 
(
  "CID10"	 VARCHAR(4) NOT NULL,
  "OPC"	 VARCHAR(1),
  "CAT"	 VARCHAR(1),
  "SUBCAT"	 VARCHAR(1),
  "DESCR"	 VARCHAR(50),
  "RESTRSEXO"	 VARCHAR(1),
  "OBSERVACAO"	 VARCHAR(60),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TIPODOENCA"	 CHAR(1),
  "CODESP"	 CHAR(2),
  "TRATAMENTO"	 VARCHAR(300),
  "CIDANS"	 VARCHAR(4),
 PRIMARY KEY ("CID10")
);

/* Table: CIDPROC, Owner: SYSDBA */

CREATE TABLE "CIDPROC" 
(
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "CID10"	 VARCHAR(4) NOT NULL,
  "TABELA"	 INTEGER
);

/* Table: CIDPROF, Owner: SYSDBA */

CREATE TABLE "CIDPROF" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CID10"	 VARCHAR(4) NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
 PRIMARY KEY ("INDICE")
);

/* Table: CIDPROT1, Owner: SYSDBA */

CREATE TABLE "CIDPROT1" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PROTOCOLO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TITULO"	 VARCHAR(60),
  "DATA2"	 TIMESTAMP,
  "DATA1"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
CONSTRAINT "PK_CIDPROTOCOLO" PRIMARY KEY ("INDICE")
);

/* Table: CIDPROT2, Owner: SYSDBA */

CREATE TABLE "CIDPROT2" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DROGA"	 VARCHAR(400),
  "TIPOINFUSAO"	 VARCHAR(20),
  "DOSEDIARIA"	 VARCHAR(20),
  "CICLO"	 VARCHAR(50),
  "VIA"	 VARCHAR(20),
  "CODCIDPROT1"	 INTEGER,
  "OBSERVACAO"	 VARCHAR(1000),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DOSEPROTOCOLO"	 FLOAT,
  "MEDIDA"	 CHAR(5),
  "TIPODROGA"	 CHAR(1),
CONSTRAINT "PK_CIDPROTOCOLO2" PRIMARY KEY ("INDICE")
);

/* Table: CIDPROTAMARRA, Owner: SYSDBA */

CREATE TABLE "CIDPROTAMARRA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CID"	 CHAR(4),
  "PROTOCOLO"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
CONSTRAINT "PK_CIDPROTAMARRA" PRIMARY KEY ("INDICE")
);

/* Table: CIRURGIA_COMPLEMENTO, Owner: SYSDBA */

CREATE TABLE "CIRURGIA_COMPLEMENTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "COD_MARCACAO"	 FLOAT NOT NULL,
  "EVOLUCA0_ENFERMAGEM"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "RELATORIO_CIRURGICO"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "RELATORIO_ANESTESICO"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "FOLHA_SALA"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "FOLHA_EQUIPAMENTOS"	 VARCHAR(1) CHARACTER SET ISO8859_1,
CONSTRAINT "PK_CIRURGIA_COMPLEMENTO" PRIMARY KEY ("INDICE")
);

/* Table: CLIENTE, Owner: SYSDBA */

CREATE TABLE "CLIENTE" 
(
  "CNPJ"	 VARCHAR(30) NOT NULL,
  "SISTEMA"	 VARCHAR(100) NOT NULL,
  "CODIGO"	 VARCHAR(250) NOT NULL,
  "VALIDADE"	 DATE NOT NULL,
CONSTRAINT "PK_CLIENTE" PRIMARY KEY ("CNPJ", "SISTEMA")
);

/* Table: CL_RISCO, Owner: SYSDBA */

CREATE TABLE "CL_RISCO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(250) NOT NULL,
  "ORDEM"	 SMALLINT,
CONSTRAINT "PK_CL_RISCO" PRIMARY KEY ("CODIGO")
);

/* Table: CL_RISCO_SINTOMAS, Owner: SYSDBA */

CREATE TABLE "CL_RISCO_SINTOMAS" 
(
  "SINTOMA"	 VARCHAR(250),
  "VERMELHO"	 VARCHAR(500),
  "AMARELO"	 VARCHAR(500),
  "VERDE"	 VARCHAR(500),
  "AZUL"	 VARCHAR(500),
  "CLASSE"	 INTEGER NOT NULL
);

/* Table: CMED, Owner: SYSDBA */

CREATE TABLE "CMED" 
(
  "INDICE"	 INTEGER NOT NULL,
  "GGREM"	 VARCHAR(15),
  "LABORATORIO"	 VARCHAR(50),
  "PRODUTO"	 VARCHAR(60),
  "APRESENTACAO"	 VARCHAR(60),
  "PF0"	 DOUBLE PRECISION,
  "PF12"	 DOUBLE PRECISION,
  "PF17"	 DOUBLE PRECISION,
  "PF18"	 DOUBLE PRECISION,
  "PF19"	 DOUBLE PRECISION,
  "PFZONA"	 DOUBLE PRECISION,
  "PMC0"	 DOUBLE PRECISION,
  "PMC12"	 DOUBLE PRECISION,
  "PMC17"	 DOUBLE PRECISION,
  "PMC18"	 DOUBLE PRECISION,
  "PMC19"	 DOUBLE PRECISION,
  "PMCZONA"	 DOUBLE PRECISION,
  "PRINCIPIO"	 VARCHAR(60),
 PRIMARY KEY ("INDICE")
);

/* Table: CNAE, Owner: SYSDBA */

CREATE TABLE "CNAE" 
(
  "CODIGO"	 VARCHAR(7),
  "NOME"	 VARCHAR(50),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SECAO"	 CHAR(1),
  "DIVISAO"	 CHAR(2),
  "GRUPO"	 CHAR(4),
  "DATASINC"	 TIMESTAMP
);

/* Table: COMPATSANGUE, Owner: SYSDBA */

CREATE TABLE "COMPATSANGUE" 
(
  "CODIGO"	 PK_CODIGO ,
  "DATA"	 TIMESTAMP,
  "BOLSA"	 INTEGER,
  "VALIDADE"	 TIMESTAMP,
  "GRUPO"	 CHAR(2),
  "RH"	 CHAR(1),
  "HC"	 CHAR(5),
  "PAI"	 CHAR(3),
  "TA"	 SMALLINT,
  "GRAUS"	 SMALLINT,
  "AGM"	 SMALLINT,
  "CODIGOPAC"	 PK_CODIGO ,
  "COMPATIVEL"	 CHAR(3),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HEMACIAS"	 CHAR(1),
  "PLASMA"	 CHAR(1),
  "PLAQUETA"	 CHAR(1),
CONSTRAINT "PK_COMPATSANGUE" PRIMARY KEY ("CODIGO")
);

/* Table: COMPLEMENTOASSIST, Owner: SYSDBA */

CREATE TABLE "COMPLEMENTOASSIST" 
(
  "IDCOMPLEMENTOASSIST"	 INTEGER NOT NULL,
  "TIPOPESO"	 VARCHAR(100),
  "TESTERASTRE"	 VARCHAR(1),
  "NEOCONGENITA"	 VARCHAR(1),
  "VIOLENCIAINF"	 VARCHAR(1),
  "TIPO"	 VARCHAR(20),
  "CPS"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "USER1"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "TPFAIXAETARIA"	 VARCHAR(1),
  "ESPECIALIDADE"	 INTEGER,
CONSTRAINT "PK_COMPLEMENTOASSIST" PRIMARY KEY ("IDCOMPLEMENTOASSIST")
);

/* Table: CONFIG, Owner: SYSDBA */

CREATE TABLE "CONFIG" 
(
  "CONFIG_ID"	 INTEGER NOT NULL,
  "CONFIG_VARIABLE"	 VARCHAR(60),
  "CONFIG_VALUE"	 VARCHAR(60),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: CONSULTAANESTESIA, Owner: SYSDBA */

CREATE TABLE "CONSULTAANESTESIA" 
(
  "IDCONSULTAANESTESIA"	 INTEGER NOT NULL,
  "CPS"	 DOUBLE PRECISION,
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "CIRURGIA"	 VARCHAR(5000),
  "CIRURGIAO"	 INTEGER,
  "NOMECIRURGIAO"	 VARCHAR(250),
  "CIRURGIAANTERIOR"	 VARCHAR(5000),
  "INTERCORRENCIAS"	 VARCHAR(5000),
  "HEMO"	 VARCHAR(5000),
  "ANTECEDFAMILIAR"	 VARCHAR(5000),
  "CIGARRODIA"	 VARCHAR(50),
  "TEMPOCIGARRODIA"	 VARCHAR(5000),
  "ALERGIAS"	 VARCHAR(5000),
  "OBS"	 VARCHAR(5000),
  "MEDICACAOUSO"	 VARCHAR(5000),
  "ESTADOFISICO"	 VARCHAR(5000),
  "EG"	 VARCHAR(5000),
  "PESO"	 VARCHAR(50),
  "ALTURA"	 VARCHAR(50),
  "PA"	 VARCHAR(50),
  "FC"	 VARCHAR(50),
  "VIAAEREA"	 VARCHAR(50),
  "MALLAMPANTI"	 VARCHAR(50),
  "MOBPESCOCO"	 VARCHAR(50),
  "DENTE"	 VARCHAR(50),
  "ATM"	 VARCHAR(50),
  "COLVERTEB"	 VARCHAR(500),
  "SCV"	 VARCHAR(500),
  "SR"	 VARCHAR(500),
  "OUTROS"	 VARCHAR(500),
  "HT"	 VARCHAR(50),
  "HB"	 VARCHAR(50),
  "PLAQUETA"	 VARCHAR(50),
  "TP"	 VARCHAR(50),
  "AE"	 VARCHAR(50),
  "INR"	 VARCHAR(50),
  "LONOGRAMA"	 VARCHAR(50),
  "NA"	 VARCHAR(50),
  "CA"	 VARCHAR(50),
  "HC"	 VARCHAR(50),
  "OUTROSEXAMELAB"	 VARCHAR(500),
  "GLICEMIA"	 VARCHAR(50),
  "UREA"	 VARCHAR(50),
  "CREATININA"	 VARCHAR(50),
  "RXTORAX"	 VARCHAR(500),
  "ECG"	 VARCHAR(500),
  "RISCOCIRG"	 VARCHAR(1000),
  "PARECERCARDIO"	 VARCHAR(1000),
  "OUTROSEX2"	 VARCHAR(50),
  "LIBERADO"	 VARCHAR(50),
  "OBSCONDUTA"	 VARCHAR(500),
  "JEJUM"	 VARCHAR(500),
  "MEDICACAO"	 VARCHAR(500),
  "ORIENTACUIDADOS"	 VARCHAR(500),
  "ESTERNOMAIOR12"	 VARCHAR(20),
  "HAS"	 VARCHAR(1),
  "PALPITACAO"	 VARCHAR(1),
  "EDEMAMMI"	 VARCHAR(1),
  "DORPRECORDIAL"	 VARCHAR(1),
  "MARCACAPASSO"	 VARCHAR(1),
  "VARIZES"	 VARCHAR(1),
  "DISPNEIA"	 VARCHAR(1),
  "TOSSE"	 VARCHAR(1),
  "ASMA"	 VARCHAR(1),
  "CIANOSE"	 VARCHAR(1),
  "HEMOP"	 VARCHAR(1),
  "APNEIASONO"	 VARCHAR(1),
  "DOREPIGASTRICA"	 VARCHAR(1),
  "GASTRITE"	 VARCHAR(1),
  "REFLUXO"	 VARCHAR(1),
  "HEPATITE"	 VARCHAR(1),
  "CIRROSE"	 VARCHAR(1),
  "DISURIA"	 VARCHAR(1),
  "POLIURIA"	 VARCHAR(1),
  "DORLOMBAR"	 VARCHAR(1),
  "DUM"	 VARCHAR(1),
  "DIABETE"	 VARCHAR(1),
  "DOENCATIREOIDE"	 VARCHAR(1),
  "ANEMIA"	 VARCHAR(1),
  "SANGRAMENTO"	 VARCHAR(1),
  "TRASFUSAO"	 VARCHAR(1),
  "ALERGIA"	 VARCHAR(1),
  "HERPES"	 VARCHAR(1),
  "FRAQMUSC"	 VARCHAR(1),
  "DORARTICULAR"	 VARCHAR(1),
  "PATOLCOL"	 VARCHAR(1),
  "DEFICTLOCOMOCAO"	 VARCHAR(1),
  "CONVULSAO"	 VARCHAR(1),
  "DESMAIO"	 VARCHAR(1),
  "CEFALEIA"	 VARCHAR(1),
  "PARESTESIAS"	 VARCHAR(1),
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "ANESTESIAPROPOSTA"	 VARCHAR(500),
  "HTPERCENTE"	 VARCHAR(50),
CONSTRAINT "PK_CONSULTAANESTESIA" PRIMARY KEY ("IDCONSULTAANESTESIA")
);

/* Table: CONSULTAENF, Owner: SYSDBA */

CREATE TABLE "CONSULTAENF" 
(
  "INDICE"	 INTEGER NOT NULL,
  "COD_CPS"	 FLOAT NOT NULL,
  "COD_PAC"	 FLOAT,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "OBS"	 VARCHAR(9999),
  "DATA"	 TIMESTAMP,
CONSTRAINT "PK_CONSULTAENF_INDICE" PRIMARY KEY ("INDICE")
);

/* Table: CONSULTAENF2, Owner: SYSDBA */

CREATE TABLE "CONSULTAENF2" 
(
  "INDICE2"	 INTEGER NOT NULL,
  "IND_CONSENF"	 INTEGER NOT NULL,
  "PERGUNTA"	 VARCHAR(200),
  "RESPOSTA"	 VARCHAR(200),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "OBSERV"	 VARCHAR(1000),
CONSTRAINT "PK_CONSULTAENF2_INDICE2" PRIMARY KEY ("INDICE2")
);

/* Table: CONSULTA_ANES, Owner: SYSDBA */

CREATE TABLE "CONSULTA_ANES" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PROFISSAO"	 VARCHAR(100),
  "ETILISMO"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "DROGAS"	 CHAR(1),
  "PRATESPORTE"	 CHAR(1),
  "LAZER"	 CHAR(1),
  "ASMA"	 CHAR(1),
  "ALERGIA"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "DTIREOIDIANAS"	 CHAR(1),
  "ICC"	 CHAR(1),
  "ANGINA"	 CHAR(1),
  "HARTERIAL"	 CHAR(1),
  "IAM"	 CHAR(1),
  "HEPATITE"	 CHAR(1),
  "OUTDOENCAS"	 VARCHAR(300),
  "VIROSINFANCIA"	 VARCHAR(100),
  "HEREDOFAMILIAR"	 VARCHAR(100),
  "ANTFAMILIARES"	 VARCHAR(100),
  "ANTOBSTETRICOS"	 VARCHAR(100),
  "CIRUANTERIORES"	 VARCHAR(100),
  "MEDICACAOUSO"	 VARCHAR(200),
  "ALERGMEDICACAO"	 VARCHAR(200),
  "CABECA"	 VARCHAR(150),
  "PESCOCO"	 VARCHAR(150),
  "TRONCO"	 VARCHAR(150),
  "ABDOMEN"	 VARCHAR(150),
  "VIASURINARIAS"	 VARCHAR(150),
  "EXTREMIDADES"	 VARCHAR(150),
  "FC"	 FLOAT,
  "FR"	 FLOAT,
  "PA"	 VARCHAR(15),
  "CABEPESCOCO"	 VARCHAR(100),
  "APRESPIRATORIO"	 VARCHAR(150),
  "APCARVASCULAR"	 VARCHAR(150),
  "APGASINTESTINAL"	 VARCHAR(150),
  "APGENITURINARIO"	 VARCHAR(150),
  "MMSS_MMII"	 VARCHAR(100),
  "SISNERVOSO"	 VARCHAR(150),
  "HT"	 FLOAT,
  "HG"	 FLOAT,
  "LEUCOGRAMA"	 FLOAT,
  "GLICEMIA"	 FLOAT,
  "COAGULOGRAMA"	 FLOAT,
  "OUTROS"	 VARCHAR(150),
  "OBSERVACAO"	 VARCHAR(300),
  "ANESPROP"	 VARCHAR(100),
  "ASA"	 VARCHAR(20),
  "DATA"	 TIMESTAMP,
  "CIRUPROPOSTA"	 VARCHAR(50),
  "DOENCATUAL"	 VARCHAR(80),
  "PESO"	 VARCHAR(20),
  "ANESANT"	 VARCHAR(150),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "CODPAC"	 VARCHAR(50) NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "USER_CRIADOR"	 INTEGER,
  "NOMEPAC"	 VARCHAR(100),
  "EPATITE"	 CHAR(1),
CONSTRAINT "PK_CONSULTA_ANES" PRIMARY KEY ("INDICE")
);

/* Table: CONSULTA_ENFERMAGEM, Owner: SYSDBA */

CREATE TABLE "CONSULTA_ENFERMAGEM" 
(
  "ID_CONSULTA_ENFERMAGEM"	 INTEGER NOT NULL,
  "RELIGIAO"	 VARCHAR(250),
  "INFORMANTE"	 INTEGER,
  "TIPO_SANGUE"	 INTEGER,
  "INFO_TIPO_SANGUE"	 VARCHAR(100),
  "QUEIXA_PRINCIPAL"	 VARCHAR(250),
  "INICIO_SINTOMA"	 VARCHAR(100),
  "TEMPO_SINTOMA"	 VARCHAR(100),
  "PALIDEZ"	 CHAR(1),
  "CIANOSE"	 CHAR(1),
  "MAL_ESTAR"	 CHAR(1),
  "FRAQUEZA"	 CHAR(1),
  "SUDORESE"	 CHAR(1),
  "DISPNEIA"	 CHAR(1),
  "NAUSEA"	 CHAR(1),
  "VOMITOS"	 CHAR(1),
  "ICTERICIA"	 CHAR(1),
  "DOR"	 CHAR(1),
  "LOCAL_DOR"	 VARCHAR(100),
  "QTD_VOMITOS"	 INTEGER,
  "OUTROS_SINTOMAS"	 VARCHAR(100),
  "INTERNAMENTO_ANTERIOR"	 CHAR(1),
  "DATA_INTERNAMENTO_ANTERIOR"	 TIMESTAMP,
  "MOTIVO_INTERNAMENTO"	 VARCHAR(250),
  "TRANSFUSAO_ANTERIOR"	 VARCHAR(20),
  "REACOES"	 VARCHAR(100),
  "ALERGIAS"	 VARCHAR(100),
  "HAS"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "DEFICIENCIA_VISUAL"	 CHAR(1),
  "CARDIOPATA"	 CHAR(1),
  "NEFROLOGIA"	 CHAR(1),
  "DEFICIENCIA_AUDITIVA"	 CHAR(1),
  "ASMA"	 CHAR(1),
  "HEPATOPATIA"	 CHAR(1),
  "DOENCA_MENTAL"	 CHAR(1),
  "CONVULSAO"	 CHAR(1),
  "USO_TOXICO"	 CHAR(1),
  "NEOPLASIA"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "ETILISMO"	 CHAR(1),
  "OUTROS"	 VARCHAR(100),
  "MEDICACOES_EMUSO"	 VARCHAR(200),
  "PA"	 DOUBLE PRECISION,
  "FC"	 DOUBLE PRECISION,
  "FR"	 DOUBLE PRECISION,
  "TEMPERATURA"	 DOUBLE PRECISION,
  "ESCALA_DOR"	 INTEGER,
  "NIVEL_CONSCIENCIA"	 VARCHAR(100),
  "PUPILAS"	 VARCHAR(100),
  "NUTRICAO"	 VARCHAR(100),
  "HIGIENE_CORPORAL"	 VARCHAR(100),
  "PELE"	 VARCHAR(100),
  "MUCOSA_ESCLEROTICA"	 VARCHAR(100),
  "CAVIDADE_ORAL"	 VARCHAR(100),
  "CABECA"	 VARCHAR(100),
  "PESCOCO"	 VARCHAR(100),
  "TORAX"	 VARCHAR(100),
  "PADRAO_VENTILATORIO"	 VARCHAR(100),
  "MAMAS"	 VARCHAR(100),
  "ABDOME"	 VARCHAR(100),
  "GENITALIA"	 VARCHAR(100),
  "MMSS"	 VARCHAR(100),
  "MMII"	 VARCHAR(100),
  "SONO"	 VARCHAR(100),
  "ALIMENTACAO"	 VARCHAR(100),
  "DIUERESE"	 VARCHAR(100),
  "EVACUACAO"	 VARCHAR(100),
  "PROTESE"	 VARCHAR(100),
  "MARCA_PASSO"	 VARCHAR(100),
  "TEMPO_MARCAPASSO"	 DOUBLE PRECISION,
  "INFORMACOES_ADICIONAIS"	 VARCHAR(250),
  "CODIGOCPS"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "ORIGEM"	 VARCHAR(250),
  "CADIO_FREQUENCIA"	 VARCHAR(250),
  "CARDIO_RTMO"	 VARCHAR(250),
  "PROFISSAO"	 VARCHAR(100),
  "RX"	 CHAR(1),
  "ECG"	 CHAR(1),
  "ECO"	 CHAR(1),
  "EDA"	 CHAR(1),
  "TC"	 CHAR(1),
  "USG"	 CHAR(1),
  "RM"	 CHAR(1),
  "ANTECEDENTES_CIRURGICOS"	 VARCHAR(250),
  "TURNO"	 VARCHAR(20),
  "CULTURA"	 VARCHAR(250),
  "LABORATORIO"	 VARCHAR(20),
  "GLICOSE"	 DOUBLE PRECISION,
  "SPO2"	 DOUBLE PRECISION,
  "DIAGNOSTICO_MEDICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DST"	 CHAR(1),
  "DIETA"	 VARCHAR(100),
  "AUSCUTA_CARDIO"	 VARCHAR(100),
  "FREQUENCIA"	 VARCHAR(100),
  "RITMO"	 VARCHAR(100),
  "RESPIRACAO"	 VARCHAR(100),
  "VOLUME_URINA"	 VARCHAR(100),
  "CARACT_URINA"	 VARCHAR(100),
  "ALERGIA_MEDICAMENTOSA"	 VARCHAR(100),
  "ALERGIA_ALMIMENTAR"	 VARCHAR(100),
  "ALERGIA_OUTRAS"	 VARCHAR(100),
  "ORIGEM_INTER"	 VARCHAR(100),
  "MOTIVO_INTER_ATUAL"	 VARCHAR(100),
  "SANGUE"	 CHAR(1),
  "FEZES"	 CHAR(1),
  "URINA"	 CHAR(1),
  "PESO"	 DOUBLE PRECISION,
  "ALTURA"	 DOUBLE PRECISION,
  "IMC"	 DOUBLE PRECISION,
  "ULCERA"	 CHAR(1),
  "PNEUMOPATIA"	 CHAR(1),
  "FERIDA"	 VARCHAR(100),
  "DRENO"	 VARCHAR(100),
  "RHA"	 VARCHAR(100),
  "COR"	 VARCHAR(100),
  "ULT_DEJECAO"	 TIMESTAMP,
  "CULTURAS_SELECIONADAS"	 VARCHAR(100),
  "ODOR"	 VARCHAR(100),
  "PAD"	 VARCHAR(20),
  "ENFERMEIRO"	 INTEGER,
  "USUARIO"	 INTEGER,
  "HIST_ADMISSAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_CONSULTA_ENFERMAGEM" PRIMARY KEY ("ID_CONSULTA_ENFERMAGEM")
);

/* Table: CONTABIL, Owner: SYSDBA */

CREATE TABLE "CONTABIL" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40) NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "CONTABIL"	 VARCHAR(12),
  "TIPOMATMED"	 VARCHAR(8),
  "CONTABIL1"	 VARCHAR(12),
  "CONTABIL2"	 VARCHAR(12),
  "CONTABIL3"	 VARCHAR(12),
  "CONTABIL4"	 VARCHAR(12)
);

/* Table: CONTATOS, Owner: SYSDBA */

CREATE TABLE "CONTATOS" 
(
  "NUMERO"	 SMALLINT NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "ENDERECO"	 VARCHAR(60),
  "BAIRRO"	 VARCHAR(20),
  "CIDADE"	 VARCHAR(20),
  "CEP"	 CHAR(8),
  "NASCIMENTO"	 TIMESTAMP,
  "TELEFONE"	 CHAR(11),
  "TELEFONE2"	 CHAR(11),
  "CELULAR"	 CHAR(11),
  "RAMAL"	 CHAR(4),
  "FUNCAO"	 VARCHAR(40),
  "EMAIL"	 VARCHAR(40),
  "FOTO"	 BLOB SUB_TYPE BLR SEGMENT SIZE 1,
  "CARTAO"	 BLOB SUB_TYPE BLR SEGMENT SIZE 1,
  "OBSERVACAO"	 BLOB SUB_TYPE BLR SEGMENT SIZE 1,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CODIGOPAC"	 INTEGER,
 PRIMARY KEY ("NUMERO")
);

/* Table: CONTATOSEMP, Owner: SYSDBA */

CREATE TABLE "CONTATOSEMP" 
(
  "NUMERO"	 SMALLINT NOT NULL,
  "CLIFOR"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40) NOT NULL,
  "CPF"	 CHAR(11),
  "ENDERECO"	 VARCHAR(40),
  "BAIRRO"	 VARCHAR(20),
  "CIDADE"	 VARCHAR(20),
  "CEP"	 VARCHAR(8),
  "NASCIMENTO"	 TIMESTAMP,
  "TELEFONE"	 VARCHAR(11),
  "TELEFONE2"	 VARCHAR(11),
  "CELULAR"	 VARCHAR(11),
  "RAMAL"	 VARCHAR(4),
  "HTML"	 VARCHAR(40),
  "EMAIL"	 VARCHAR(40),
  "FOTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CARTAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: CONTROLEPAC, Owner: SYSDBA */

CREATE TABLE "CONTROLEPAC" 
(
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "RESUMO"	 VARCHAR(20),
  "GRUPO"	 VARCHAR(50),
  "ORDEM"	 INTEGER,
  "AUTO"	 CHAR(1),
  "MONITOR"	 CHAR(1),
  "CALCULO"	 CHAR(1),
  "MINIMO"	 FLOAT,
  "MAXIMO"	 FLOAT,
CONSTRAINT "PK_CONTROLEPAC" PRIMARY KEY ("DESCRICAO")
);

/* Table: CONVCODCRED, Owner: SYSDBA */

CREATE TABLE "CONVCODCRED" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "CODIGOPLA"	 SMALLINT NOT NULL,
  "CODIGOAMB1"	 VARCHAR(10) NOT NULL,
  "CODIGOAMB2"	 VARCHAR(10),
  "CODCRED"	 VARCHAR(20) NOT NULL,
  "DATAUSER1"	 TIMESTAMP,
  "CODUSER1"	 INTEGER,
  "DATAUSER2"	 TIMESTAMP,
  "CODUSER2"	 INTEGER,
CONSTRAINT "PK_CONVCODCRED" PRIMARY KEY ("INDICE")
);

/* Table: CONVENIO, Owner: SYSDBA */

CREATE TABLE "CONVENIO" 
(
  "CONVENIO"	 PK_CONVENIO ,
  "A_NOME"	 VARCHAR(40) NOT NULL,
  "ENDERECO"	 ENDERECO ,
  "BAIRRO"	 VARCHAR(20),
  "CIDADE"	 VARCHAR(20),
  "CONTATO"	 VARCHAR(40),
  "ENTREGA"	 TIMESTAMP,
  "MENSAGEM"	 VARCHAR(250),
  "MENSAGEM1"	 VARCHAR(250),
  "LIMITE"	 TIMESTAMP,
  "REVISAO"	 SMALLINT,
  "ADCAMB"	 VARCHAR(1),
  "ADCINT"	 VARCHAR(1),
  "ETIQUETA"	 VARCHAR(1),
  "CODEMERG"	 VARCHAR(12),
  "A_VALOR"	 DOUBLE PRECISION,
  "CODMAT"	 VARCHAR(10),
  "CODESP"	 VARCHAR(10),
  "CEP"	 VARCHAR(8),
  "EMAIL"	 PK_EMAIL ,
  "HTML"	 PK_HTML ,
  "HONORARIO"	 PK_SIMNAO ,
  "H"	 PK_SIMNAO ,
  "V"	 PK_SIMNAO ,
  "R"	 PK_SIMNAO ,
  "C"	 PK_SIMNAO ,
  "S"	 PK_SIMNAO ,
  "N"	 PK_SIMNAO ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "TELEFONE1"	 VARCHAR(15),
  "UF"	 PK_UF ,
  "INTERNAMENTO"	 VARCHAR(1),
  "AMBULATORIO"	 VARCHAR(1),
  "EMERGENCIA"	 VARCHAR(1),
  "LIBERADO"	 PK_SITUACAO ,
  "CODCRED"	 CHAR(15),
  "MENSAGEM2"	 VARCHAR(250),
  "TABHON"	 SMALLINT,
  "TABTAXA"	 SMALLINT,
  "MOETABHON"	 SMALLINT,
  "MOETABTAXA"	 SMALLINT,
  "CODMED"	 VARCHAR(10),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "JANEIRO"	 DOUBLE PRECISION,
  "FEVEREIRO"	 DOUBLE PRECISION,
  "MARCO"	 DOUBLE PRECISION,
  "ABRIL"	 DOUBLE PRECISION,
  "MAIO"	 DOUBLE PRECISION,
  "JUNHO"	 DOUBLE PRECISION,
  "JULHO"	 DOUBLE PRECISION,
  "AGOSTO"	 DOUBLE PRECISION,
  "SETEMBRO"	 DOUBLE PRECISION,
  "OUTUBRO"	 DOUBLE PRECISION,
  "NOVEMBRO"	 DOUBLE PRECISION,
  "DEZEMBRO"	 DOUBLE PRECISION,
  "CONSULTA"	 DOUBLE PRECISION,
  "TRAVAEM"	 TIMESTAMP,
  "FORMULA"	 SMALLINT,
  "CNPJ"	 PK_CNPJ ,
  "CODIGOANTIGO"	 FLOAT,
  "CONSULTA1"	 DOUBLE PRECISION,
  "HTML1"	 VARCHAR(200),
  "FILME"	 DOUBLE PRECISION,
  "FORMULA1"	 SMALLINT,
  "PC_ENDERECO"	 CHAR(1),
  "PC_MATRICULA"	 CHAR(1),
  "PC_IDENTIDADE"	 CHAR(1),
  "PC_NASC"	 CHAR(1),
  "PC_TRABALHO"	 CHAR(1),
  "PC_NATURALIDADE"	 CHAR(1),
  "PC_PAI"	 CHAR(1),
  "PC_MAE"	 CHAR(1),
  "PC_SEXO"	 CHAR(1),
  "PC_A_CPF"	 CHAR(1),
  "PC_CEP"	 CHAR(1),
  "PC_BAIRRO"	 CHAR(1),
  "PC_CIDADE"	 CHAR(1),
  "PC_TELEFONE"	 CHAR(1),
  "PC_CELULAR"	 CHAR(1),
  "PC_CIVIL"	 CHAR(1),
  "PC_COR"	 CHAR(1),
  "PC_TRABALHO1"	 CHAR(1),
  "KCA_DATAFAT"	 CHAR(1),
  "KCA_HORA"	 CHAR(1),
  "KCMATRICULA"	 CHAR(1),
  "KCA_VALIDADE"	 CHAR(1),
  "KCA_GUIA"	 CHAR(1),
  "KCA_ULTPAGTO"	 CHAR(1),
  "KCA_CID"	 CHAR(1),
  "KCDATASAIDA"	 CHAR(1),
  "KCHORASAIDA"	 CHAR(1),
  "KCSOLTIPO"	 CHAR(1),
  "KCSOLCREMEB"	 CHAR(1),
  "KCSOLDATA"	 CHAR(1),
  "KCSOLCNPJ"	 CHAR(1),
  "KCPRINCIPAL"	 CHAR(1),
  "KCESPECIALIDADE"	 CHAR(1),
  "ESPECIALIDADE"	 CHAR(1),
  "MOETABEXAME"	 SMALLINT,
  "PARTICULAR"	 CHAR(1),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "PACOTE"	 CHAR(1),
  "TRAVAEM1"	 TIMESTAMP,
  "TRAVAEM2"	 TIMESTAMP,
  "TABRX"	 INTEGER,
  "MOETABRX"	 INTEGER,
  "DIAENTREGA"	 INTEGER,
  "DIAENTREGA1"	 INTEGER,
  "TABCBHPM"	 INTEGER,
  "DATACONTRATOINI"	 TIMESTAMP,
  "DATACONTRATOFIM"	 TIMESTAMP,
  "DATAPROXIMANEGOC"	 TIMESTAMP,
  "RESPAMB"	 INTEGER,
  "RESPEMG"	 INTEGER,
  "RESPINT"	 INTEGER,
  "CONTRASTE1"	 DOUBLE PRECISION,
  "CONTRASTE2"	 DOUBLE PRECISION,
  "MATMEDOBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "NOTAFISCAL"	 CHAR(1),
  "IRRF"	 CHAR(1),
  "ENDERECO1"	 VARCHAR(50),
  "BAIRRO1"	 VARCHAR(20),
  "CIDADE1"	 VARCHAR(20),
  "CEP1"	 CHAR(8),
  "TELEFONE2"	 VARCHAR(15),
  "UF1"	 PK_UF ,
  "EMAIL2"	 PK_EMAIL ,
  "HTML2"	 PK_HTML ,
  "LIMITEENVIOFATURA"	 VARCHAR(40),
  "LIMITERECEBFATURA"	 VARCHAR(40),
  "TRAVAIMP"	 CHAR(1),
  "IE"	 VARCHAR(20),
  "TRAVAESP"	 CHAR(1),
  "ABRAMGE"	 VARCHAR(5),
  "EMPRESA"	 SMALLINT,
  "SIMPRO"	 DOUBLE PRECISION,
  "CODCONTR"	 VARCHAR(10),
  "CODORTPROT"	 VARCHAR(10),
  "DIASGLOSA"	 VARCHAR(40),
  "PREVPAGTOGLOSA"	 VARCHAR(40),
  "SIMPROX"	 CHAR(1),
  "NORMAL1"	 TIMESTAMP,
  "NORMAL2"	 TIMESTAMP,
  "SABADO1"	 TIMESTAMP,
  "SABADO2"	 TIMESTAMP,
  "MARGEMH"	 DOUBLE PRECISION,
  "FROMCONVENIO"	 INTEGER,
  "UCO"	 DOUBLE PRECISION,
  "FORMCONVENIO"	 INTEGER,
  "DATACONTRATOULT"	 TIMESTAMP,
  "OBSNEGOCIACAO"	 VARCHAR(200),
  "TAMANHOMAT"	 INTEGER,
  "IMPOSTONAFONTE"	 DOUBLE PRECISION,
  "CONSULTAUNICA"	 CHAR(1),
  "EXPORTAR"	 CHAR(1),
  "FAX"	 VARCHAR(15),
  "H_IRRF"	 DOUBLE PRECISION,
  "H_PIS"	 DOUBLE PRECISION,
  "H_COFINS"	 DOUBLE PRECISION,
  "H_CLS"	 DOUBLE PRECISION,
  "H_ISS"	 DOUBLE PRECISION,
  "MOETABFISIO"	 INTEGER,
  "FILMETOM"	 DOUBLE PRECISION,
  "MEDICINET"	 CHAR(1),
  "KC_PLANO"	 CHAR(1),
  "KCPORIGEM"	 CHAR(1),
  "ENVIAFAX"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "MOSTRAPLANO"	 CHAR(1),
  "MOSTRAULTPAGTO"	 CHAR(1),
  "MOSTRAPRODUTO"	 CHAR(1),
  "MOSTRAVALIDADE"	 CHAR(1),
  "MOSTRAGUIA"	 CHAR(1),
  "MOSTRAMEDSOL"	 CHAR(1),
  "KCA_PRODUTO"	 CHAR(1),
  "CODESPECIALIDADE"	 CHAR(1),
  "CONTABIL"	 VARCHAR(20),
  "CODCONSULTA"	 VARCHAR(8),
  "MMAVISO"	 NUMERIC(15,2),
  "LOGOMARCA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FONTEREMUNERA"	 CHAR(1),
  "ANS"	 VARCHAR(6),
  "REMESSA"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "PADRAOCONSULTA"	 VARCHAR(8),
  "MOEDATABTOM"	 SMALLINT,
  "BRASINDICE"	 FLOAT,
  "KCANS"	 CHAR(1),
  "RAZAOSOCIAL"	 VARCHAR(60),
  "IM"	 VARCHAR(14),
  "IMPCODIGOUNIMED"	 CHAR(1),
  "TABMED"	 CHAR(2),
  "TABMAT"	 CHAR(2),
  "DIARIAENF"	 VARCHAR(8),
  "DIARIAENF2"	 VARCHAR(8),
  "DIARIAAPT"	 VARCHAR(8),
  "DIARIAUTI"	 VARCHAR(8),
  "ASSISTENF"	 VARCHAR(8),
  "ASSISTENF2"	 VARCHAR(8),
  "ASSISTAPT"	 VARCHAR(8),
  "ASSISTUTI"	 VARCHAR(8),
  "TAXAINT"	 VARCHAR(8),
  "HORAAUTO"	 TIMESTAMP,
  "GENERICO"	 CHAR(1),
  "INTERNAMENTOENF"	 CHAR(1),
  "INTERNAMENTOAP"	 CHAR(1),
  "INTERNAMENTOUTI"	 CHAR(1),
  "KCTPDOENCA"	 CHAR(1),
  "KCINDACIDENTE"	 CHAR(1),
  "KCTEMPDOENCA"	 CHAR(1),
  "KCUNTEMPDOENCA"	 CHAR(1),
  "KCTPATENDTISS"	 CHAR(1),
  "MEDICOPADRAO"	 INTEGER,
  "PAGTGENERICO"	 CHAR(1),
  "TAMANHOAUT"	 INTEGER,
  "MASCARAAUTORIZ"	 VARCHAR(30),
  "IMPCODTISS"	 VARCHAR(1),
  "IMPOSTOMEDICO"	 CHAR(1),
  "CODSINT"	 VARCHAR(8),
  "PACOTEEMG"	 CHAR(1),
  "PACOTEINT"	 CHAR(1),
  "HTMLAUT"	 VARCHAR(80),
  "TIPOENVIO"	 INTEGER,
  "MOEDACORX"	 INTEGER,
  "MOEDACOTO"	 INTEGER,
  "DIASPARCIAL"	 INTEGER,
  "LIMITECH"	 INTEGER,
  "CBONOVO"	 CHAR(1),
  "CODIGOREVISAO"	 VARCHAR(10),
  "PACOTEAMB"	 CHAR(1),
  "SITEENVIO"	 VARCHAR(100),
  "PASTAXML"	 VARCHAR(100),
  "ZIPARXML"	 CHAR(1),
  "ORTPROT"	 DOUBLE PRECISION,
  "ORTPROT1"	 SMALLINT,
  "TAXAEMEG"	 VARCHAR(8),
  "HORAAUTOEMEG"	 INTEGER,
  "FAIXAOPME"	 CHAR(1),
  "VERSAO_SCHEMA"	 VARCHAR(10),
  "TABTAXA1"	 SMALLINT,
  "TABTAXA_VENC"	 TIMESTAMP,
  "TABELAMISTA"	 CHAR(1),
  "LIMITEPROCGUIA"	 INTEGER,
  "SOMA_GUIA"	 INTEGER,
  "MARCADO"	 CHAR(1),
  "BANCO"	 VARCHAR(40),
  "NAODUPLICAGUIA"	 CHAR(1),
  "CONDENSAMATMED"	 CHAR(1),
  "CONDENSAPROCED"	 CHAR(1),
  "EXIBIRCODTUSS"	 CHAR(1),
  "TABPROCTISS"	 CHAR(2),
  "PC_EMAIL"	 CHAR(1),
  "INDICEPF"	 DOUBLE PRECISION,
  "CONTABIL1"	 VARCHAR(8),
  "KCAUTORIZA"	 CHAR(1),
  "CONTABILMM"	 VARCHAR(20),
  "INDICEDIETA"	 DOUBLE PRECISION,
 PRIMARY KEY ("CONVENIO")
);

/* Table: CONVENIOINFLACAO, Owner: SYSDBA */

CREATE TABLE "CONVENIOINFLACAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "A_CODAMB1"	 PK_CODAMB  NOT NULL,
  "A_CODAMB2"	 PK_CODAMB  NOT NULL,
  "INFLACAO"	 DOUBLE PRECISION NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: CONVENIOSPAC, Owner: SYSDBA */

CREATE TABLE "CONVENIOSPAC" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "CONVENIO"	 INTEGER,
  "MATRICULA"	 VARCHAR(50),
  "VALIDADE"	 TIMESTAMP,
  "TIPO"	 VARCHAR(100),
  "OBSERVACAO"	 VARCHAR(250),
  "ATIVO"	 CHAR(1),
  "CODIGOPAC"	 INTEGER,
CONSTRAINT "PK_CONVENIOSPAC" PRIMARY KEY ("INDICE")
);

/* Table: CONVMATMEDESP, Owner: SYSDBA */

CREATE TABLE "CONVMATMEDESP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOMM"	 PK_CODIGOMM ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: CONVMATMEDFAIXA, Owner: SYSDBA */

CREATE TABLE "CONVMATMEDFAIXA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "TIPOMATMED"	 CHAR(8),
  "VALOR1"	 DOUBLE PRECISION,
  "VALOR2"	 DOUBLE PRECISION,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "PERCENTUAL"	 DOUBLE PRECISION,
  "USER1"	 INTEGER,
  "DATAUSER1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATAUSER2"	 TIMESTAMP,
CONSTRAINT "PK_CONVMATMEDFAIXA" PRIMARY KEY ("INDICE")
);

/* Table: CONVPLANO, Owner: SYSDBA */

CREATE TABLE "CONVPLANO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(70) NOT NULL,
  "ACOMODACAO"	 VARCHAR(30),
  "OBSERVACAO"	 VARCHAR(200),
  "DATA2"	 TIMESTAMP,
  "AMBULATORIO"	 DOUBLE PRECISION,
  "EMERGENCIA"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP,
  "DESCONTO"	 DOUBLE PRECISION,
  "PERCENTUALPLANO"	 DOUBLE PRECISION,
  "CODPLANO"	 VARCHAR(8),
  "SUSPENSO"	 CHAR(1),
  "AMB_ATEND"	 CHAR(1),
  "EMG_ATEND"	 CHAR(1),
  "INTER_ATEND"	 CHAR(1),
  "ENF_ATEND"	 CHAR(1),
  "APT_ATEND"	 CHAR(1),
  "UTI_ATEND"	 CHAR(1),
  "CODAMB_INI"	 VARCHAR(8),
  "CODAMB_FIM"	 VARCHAR(8),
  "PRODUTO"	 VARCHAR(50),
CONSTRAINT "PK_CONVPLANO" PRIMARY KEY ("CODIGO")
);

/* Table: CONVPORTE, Owner: SYSDBA */

CREATE TABLE "CONVPORTE" 
(
  "CONVENIO"	 INTEGER NOT NULL,
  "PORTE"	 CHAR(3) NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "INICIO"	 TIMESTAMP,
  "FINAL"	 TIMESTAMP,
  "INDICE"	 INTEGER,
CONSTRAINT "PK_CONVPORTE" PRIMARY KEY ("CONVENIO", "PORTE")
);

/* Table: CONVSERVICOS, Owner: SYSDBA */

CREATE TABLE "CONVSERVICOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOSERV"	 INTEGER NOT NULL,
  "UTI"	 CHAR(1),
  "SEMI"	 CHAR(1),
  "CC"	 CHAR(1),
  "EMERG"	 CHAR(1),
  "APTO"	 CHAR(1),
  "CONVENIO"	 INTEGER NOT NULL,
  "AMBUL"	 CHAR(1),
  "OBSERVACAO"	 VARCHAR(350),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "VERSAO1"	 VARCHAR(20),
  "VERSAO2"	 VARCHAR(20),
  "IP1"	 VARCHAR(15),
  "IP2"	 VARCHAR(15),
 PRIMARY KEY ("INDICE")
);

/* Table: CONVSERVSUS, Owner: SYSDBA */

CREATE TABLE "CONVSERVSUS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "BPA_I"	 CHAR(1),
  "BPA_C"	 CHAR(1),
  "AIH"	 CHAR(1),
  "USERID"	 INTEGER,
  "DATAUSERID"	 TIMESTAMP,
  "PROCEDIMENTO"	 VARCHAR(10),
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
CONSTRAINT "PK_CONVSERVSUS" PRIMARY KEY ("INDICE")
);

/* Table: CONVVISITA, Owner: SYSDBA */

CREATE TABLE "CONVVISITA" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "ASSUNTO"	 VARCHAR(50),
  "SITUACAO"	 VARCHAR(20),
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA1"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "USER2"	 INTEGER,
CONSTRAINT "PK_CONVVISITA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: CONV_SUSCLASS, Owner: SYSDBA */

CREATE TABLE "CONV_SUSCLASS" 
(
  "PROCEDIMENTO"	 VARCHAR(10) NOT NULL,
  "COD_SERVICO"	 VARCHAR(3) NOT NULL,
  "COD_CLASS"	 VARCHAR(3) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6) NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
CONSTRAINT "PK_CONV_SUSCLASS" PRIMARY KEY ("PROCEDIMENTO", "COD_SERVICO", "COD_CLASS", "COMPETENCIA", "CONVENIO")
);

/* Table: CPS1, Owner: SYSDBA */

CREATE TABLE "CPS1" 
(
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOPLA"	 PK_CODIGOPLA  NOT NULL,
  "A_DATA"	 TIMESTAMP,
  "A_DATAFAT"	 TIMESTAMP,
  "A_HORA"	 TIMESTAMP,
  "MATRICULA"	 VARCHAR(30),
  "A_VALIDADE"	 TIMESTAMP,
  "A_GUIA"	 VARCHAR(30),
  "A_SITUACAO"	 CHAR(1),
  "A_TIPO"	 CHAR(1),
  "A_ULTPAGTO"	 TIMESTAMP,
  "AUTORIZA"	 VARCHAR(20),
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "A_CID"	 PK_CID ,
  "CODIGOPAC"	 PK_CODIGOPAC ,
  "CODIGOCPS"	 PK_CODIGOCPS  NOT NULL,
  "VALORTOTAL"	 DOUBLE PRECISION,
  "DESCONTO"	 DOUBLE PRECISION,
  "GLOSA"	 DOUBLE PRECISION,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "TOTALMATMED"	 DOUBLE PRECISION,
  "SOLTIPO"	 CHAR(2),
  "SOLCREMEB"	 CHAR(8),
  "SOLESP"	 CHAR(4),
  "SOLDATA"	 TIMESTAMP,
  "SOLCNPJ"	 CHAR(14),
  "MEDRESP"	 PK_MEDICOS ,
  "PRENATAL"	 CHAR(1),
  "PRINCIPAL"	 CHAR(8),
  "TIPOATEND"	 CHAR(1),
  "ESPECIALIDADE"	 CHAR(2),
  "VALIDGUIA"	 TIMESTAMP,
  "DATAAUTORIZA"	 TIMESTAMP,
  "LOCALGUIA"	 VARCHAR(30),
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TIPOATEND1"	 CHAR(1),
  "LIQUIDO"	 COMPUTED BY ( VALORTOTAL + TOTALMATMED - DESCONTO ),
  "RESPONSAVEL"	 VARCHAR(50),
  "ENDERECO"	 VARCHAR(50),
  "IDENTIDADE"	 VARCHAR(15),
  "A_CPF"	 PK_CPF ,
  "CEP"	 VARCHAR(8),
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 PK_CIDADE ,
  "TELEFONE"	 VARCHAR(15),
  "CELULAR"	 VARCHAR(15),
  "CODIGOANTIGO"	 FLOAT,
  "MOTIVO"	 CHAR(1),
  "DIASSOL"	 SMALLINT,
  "DATAENTREGA"	 TIMESTAMP,
  "PRODUTO"	 VARCHAR(10),
  "SOLESP1"	 CHAR(2),
  "FATURA"	 FLOAT,
  "MARCACAO"	 FLOAT,
  "ORIGEM"	 CHAR(1),
  "UF"	 CHAR(2),
  "PRORROGA"	 SMALLINT,
  "DIARIA"	 SMALLINT,
  "A_ALA"	 INTEGER,
  "A_LEITO"	 INTEGER,
  "AIH0"	 VARCHAR(10),
  "AIH1"	 CHAR(1),
  "AIHPRONTUARIO"	 INTEGER,
  "AIHCODMUN"	 INTEGER,
  "AIHTIPODOC"	 CHAR(1),
  "AIHCARTID"	 INTEGER,
  "AIHMES"	 INTEGER,
  "AIHANO"	 INTEGER,
  "AIHESPECIALIDADE"	 CHAR(2),
  "AIHMOTIVOCOB"	 CHAR(2),
  "AIHCPFMA"	 VARCHAR(11),
  "IMPRESSO"	 VARCHAR(4),
  "MOTIVOEXCLUSAO"	 VARCHAR(200),
  "EMPRESA"	 SMALLINT,
  "TRATAMENTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EXAME"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATENDIMENTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESULTADO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ANTECEDENTE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATAREPRESENTA"	 TIMESTAMP,
  "ANOTACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER3"	 INTEGER,
  "CONFERIDO"	 CHAR(1),
  "UFSOL"	 CHAR(2),
  "RECIBO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "UFCREMEBSOL"	 VARCHAR(2),
  "USER4"	 INTEGER,
  "DATA4"	 TIMESTAMP,
  "UNIDADE"	 SMALLINT,
  "DATARECEBIMENTO"	 TIMESTAMP,
  "FATURAGLOSA"	 INTEGER,
  "PLANO"	 INTEGER,
  "VALORDISCO"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP,
  "DATAIMPRIMIU"	 TIMESTAMP,
  "TIPOALTATISS"	 CHAR(2),
  "NUMEROOBITO"	 VARCHAR(12),
  "TIPODOENCA"	 CHAR(1),
  "TEMPODOENCA"	 INTEGER,
  "TEMPODOENCAUND"	 CHAR(1),
  "INDICAACIDENTE"	 CHAR(1),
  "TIPOSAIDA"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "ACUIDADEOD"	 VARCHAR(10),
  "ACUIDADEOE"	 VARCHAR(10),
  "SOLICITAINTER"	 INTEGER,
  "TIPOATENDIMENTOTISS"	 CHAR(2),
  "USER5"	 INTEGER,
  "DATA5"	 TIMESTAMP,
  "TRAVADIA"	 TIMESTAMP,
  "CID1"	 VARCHAR(4),
  "CID2"	 VARCHAR(4),
  "CIDOBITO"	 VARCHAR(4),
  "TIPOINTERNAOBSTR"	 CHAR(1),
  "OBTOMULHER"	 CHAR(1),
  "OBTONEONATAL"	 CHAR(1),
  "NASCIDOVIVOS"	 INTEGER,
  "QUANTNASCVIVOS"	 INTEGER,
  "QUANTNASCMORTOS"	 INTEGER,
  "QUANTNASCPREMAT"	 INTEGER,
  "OBTONEONATALTARDIO"	 INTEGER,
  "TRAVATUDO"	 CHAR(1),
  "NUM_SOLICITACAO_INTER"	 VARCHAR(15),
  "OBSCPS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DAYHOSPITAL"	 CHAR(1),
  "TIPODOC"	 CHAR(2),
  "OBSLAB"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TPATENDMED"	 INTEGER,
  "GRUPOSUS"	 CHAR(2),
  "TIPOACOMODACAO"	 VARCHAR(12),
  "MEDICOOBS"	 INTEGER,
  "CONVENIO1"	 INTEGER,
  "GRAVIDADE"	 CHAR(1),
  "GUIASOL"	 VARCHAR(20),
  "REALTORIOALTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "GUIAGLOSA"	 VARCHAR(15),
  "PROTOCOLO"	 VARCHAR(10),
  "RAT"	 VARCHAR(10),
  "CONFERIDODATA"	 TIMESTAMP,
  "RAT_COD"	 VARCHAR(2),
  "MAQUINETA"	 VARCHAR(10),
  "ABDOMEN"	 INTEGER,
  "PA"	 VARCHAR(30),
  "CONTINUAPROG"	 CHAR(1),
  "PESO"	 DOUBLE PRECISION,
  "ALTURA"	 DOUBLE PRECISION,
  "NUTRI"	 CHAR(1),
  "UNNEG"	 INTEGER,
  "MARKTING"	 INTEGER,
  "MARCADO"	 CHAR(1),
  "FR"	 VARCHAR(30),
  "MUCOSA"	 VARCHAR(30),
  "ALTAPREVISAO"	 TIMESTAMP,
  "DATAAUTORIZADO"	 TIMESTAMP,
  "TIPOCONTA"	 CHAR(1),
  "ATDRN"	 CHAR(1),
  "TIPOCONSULTA"	 VARCHAR(10),
  "VERSAOGUIA"	 VARCHAR(15),
  "DATARAT"	 TIMESTAMP,
  "NUMEROGUIAOPERADORA"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "RETORNO_AGENDADO"	 VARCHAR(1),
  "MOTIVO_RETORNO"	 INTEGER,
  "NECESSIDADE_RETORNO"	 VARCHAR(1),
  "DECLARACAONASCIDOVIVOS"	 VARCHAR(20),
 PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPS1_COMPL, Owner: SYSDBA */

CREATE TABLE "CPS1_COMPL" 
(
  "CODIGOCPS"	 FLOAT NOT NULL,
  "TISS_TIPOGUIA"	 SMALLINT,
  "PORTADOR"	 INTEGER,
  "NOTA_FISCAL"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
CONSTRAINT "PK_CPS1_COMPL" PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPS2, Owner: SYSDBA */

CREATE TABLE "CPS2" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS2"	 FLOAT NOT NULL,
  "CODIGOSERV"	 PK_CONVENIO ,
  "CODIGOAMB"	 CHAR(8),
  "CODIGOAMB1"	 CHAR(8),
  "A_MEDICOS"	 PK_MEDICOS ,
  "QUANTIDADE"	 INTEGER,
  "A_CODMOE"	 PK_CODMOE ,
  "A_QUANTIDA"	 FLOAT,
  "VALOR"	 FLOAT,
  "A_SITUACAO"	 VARCHAR(1),
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "CREMEBSOL"	 CHAR(6),
  "DHE"	 CHAR(1),
  "GLOSA"	 DOUBLE PRECISION,
  "LIQUIDO"	 COMPUTED BY ( VALOR - GLOSA ),
  "FALHA"	 INTEGER,
  "REPRESENTA"	 DOUBLE PRECISION,
  "SENHA"	 VARCHAR(20),
  "ESPECIALIDADE"	 CHAR(2),
  "VIA"	 CHAR(1),
  "VALORPROF"	 FLOAT,
  "A_FILME"	 FLOAT,
  "SUSTIPO"	 CHAR(2),
  "SUSTIPOATO"	 CHAR(2),
  "SUSCNPJ"	 VARCHAR(14),
  "SUSNOTA"	 VARCHAR(12),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "STATUS"	 SMALLINT,
  "STATUS1"	 SMALLINT,
  "DICOM"	 INTEGER,
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "CO"	 DOUBLE PRECISION,
  "COBRAR"	 CHAR(1),
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "PRESENHA"	 VARCHAR(20),
  "TERMINAL"	 VARCHAR(8),
  "UNIDADENEGOCIO"	 INTEGER,
  "GRUPOSUS"	 CHAR(2),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "GRAUPARTICIPACAO"	 CHAR(2),
  "DATAREPRESENTA"	 TIMESTAMP,
  "TECNICA"	 CHAR(1),
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "GRUPOSUS1"	 CHAR(2),
  "CUSTO"	 FLOAT,
  "MATERIAL"	 VARCHAR(30),
  "MNM"	 VARCHAR(10),
  "GLOSATIPO2"	 SMALLINT,
  "ANVISA"	 VARCHAR(30),
  "GLOSACERTA"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "XMLID"	 INTEGER,
  "SOLICITANTE"	 INTEGER,
  "CONTRASTE"	 CHAR(1),
  "MEDICACAO_ASSOCIADA"	 VARCHAR(50),
  "RECEBPARCIAL"	 CHAR(1),
  "DATARECEBP1"	 TIMESTAMP,
  "DATARECEBP2"	 TIMESTAMP,
  "DATARECEBP3"	 TIMESTAMP,
  "DATARECEBP4"	 TIMESTAMP,
  "VALORRECEBP1"	 DOUBLE PRECISION,
  "VALORRECEBP2"	 DOUBLE PRECISION,
  "VALORRECEBP3"	 DOUBLE PRECISION,
  "VALORRECEBP4"	 DOUBLE PRECISION,
  "DATARECEBITEM"	 TIMESTAMP,
  "CIRURGIA"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: CPS2CC, Owner: SYSDBA */

CREATE TABLE "CPS2CC" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS2"	 FLOAT NOT NULL,
  "CODIGOSERV"	 PK_CONVENIO ,
  "CODIGOAMB"	 CHAR(8),
  "CODIGOAMB1"	 CHAR(8),
  "A_MEDICOS"	 PK_MEDICOS ,
  "QUANTIDADE"	 INTEGER,
  "A_CODMOE"	 PK_CODMOE ,
  "A_QUANTIDA"	 FLOAT,
  "VALOR"	 FLOAT,
  "A_SITUACAO"	 VARCHAR(1),
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "CREMEBSOL"	 CHAR(6),
  "DHE"	 CHAR(1),
  "GLOSA"	 DOUBLE PRECISION,
  "LIQUIDO"	 COMPUTED BY ( VALOR - GLOSA ),
  "FALHA"	 INTEGER,
  "REPRESENTA"	 DOUBLE PRECISION,
  "SENHA"	 VARCHAR(20),
  "ESPECIALIDADE"	 CHAR(2),
  "VIA"	 CHAR(1),
  "VALORPROF"	 FLOAT,
  "A_FILME"	 FLOAT,
  "SUSTIPO"	 CHAR(2),
  "SUSTIPOATO"	 CHAR(2),
  "SUSCNPJ"	 VARCHAR(14),
  "SUSNOTA"	 VARCHAR(12),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "STATUS"	 SMALLINT,
  "STATUS1"	 SMALLINT,
  "DICOM"	 INTEGER,
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "CO"	 DOUBLE PRECISION,
  "COBRAR"	 CHAR(1),
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "PRESENHA"	 VARCHAR(20),
  "TERMINAL"	 VARCHAR(8),
  "UNIDADENEGOCIO"	 INTEGER,
  "GRUPOSUS"	 CHAR(2),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "GRAUPARTICIPACAO"	 CHAR(2),
  "DATAREPRESENTA"	 TIMESTAMP,
  "TECNICA"	 CHAR(1),
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "GRUPOSUS1"	 CHAR(2),
  "CUSTO"	 FLOAT,
  "MATERIAL"	 VARCHAR(30),
  "MNM"	 VARCHAR(10),
  "GLOSATIPO2"	 SMALLINT,
  "ANVISA"	 VARCHAR(30),
  "GLOSACERTA"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "XMLID"	 INTEGER,
  "SOLICITANTE"	 INTEGER,
  "CONTRASTE"	 CHAR(1),
  "MEDICACAO_ASSOCIADA"	 VARCHAR(50),
  "CIRURGIA"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: CPS3, Owner: SYSDBA */

CREATE TABLE "CPS3" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "QUANTIDADE"	 INTEGER NOT NULL,
  "UNITARIO"	 FLOAT NOT NULL,
  "TOTAL"	 DOUBLE PRECISION NOT NULL,
  "GLOSA"	 DOUBLE PRECISION,
  "LIQUIDO"	 COMPUTED BY ( TOTAL - GLOSA ),
  "REPRESENTA"	 DOUBLE PRECISION,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "A_MEDICOS"	 INTEGER,
  "CUSTO"	 FLOAT,
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
  "UNIDADENEGOCIO"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "BRASINDICE"	 VARCHAR(4),
  "SAIDA"	 FLOAT,
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "PACOTE"	 INTEGER,
  "REAPRESENTATISS"	 VARCHAR(10),
  "GRUPOSUS"	 VARCHAR(2),
  "DATAREPRESENTA"	 TIMESTAMP,
  "GLOSATIPO2"	 SMALLINT,
  "GLOSACERTA"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "XMLID"	 INTEGER,
  "RECEBPARCIAL"	 CHAR(1),
  "DATARECEBP1"	 TIMESTAMP,
  "DATARECEBP2"	 TIMESTAMP,
  "DATARECEBP3"	 TIMESTAMP,
  "DATARECEBP4"	 TIMESTAMP,
  "VALORRECEBP1"	 DOUBLE PRECISION,
  "VALORRECEBP2"	 DOUBLE PRECISION,
  "VALORRECEBP3"	 DOUBLE PRECISION,
  "VALORRECEBP4"	 DOUBLE PRECISION,
  "DATARECEBITEM"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: CPS5, Owner: SYSDBA */

CREATE TABLE "CPS5" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CID10"	 CHAR(4) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CODIGOPAC"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: CPS6, Owner: SYSDBA */

CREATE TABLE "CPS6" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CODIGOCPS6"	 PK_CODIGOCPS ,
  "CODIGOSERV"	 PK_CODIGOSERV ,
  "CODIGOAMB"	 PK_CODIGOAMB ,
  "A_SITUACAO"	 CHAR(1),
  "PROCEDIMENTO"	 VARCHAR(100),
  "DICOM"	 INTEGER,
  "SELECAO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "QTDE"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CPSIMPOR"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "PRESCRICAO"	 FLOAT,
  "TIPOPROC"	 INTEGER,
  "CONFIRMADO"	 CHAR(1),
  "COLETADO"	 CHAR(1),
  "NUMEROLAUDO"	 FLOAT,
  "STATUS"	 INTEGER,
  "POSOLOGIA"	 VARCHAR(30),
  "OBSERVACAO"	 VARCHAR(500),
  "SOLICITANTE"	 INTEGER,
  "EXECUTADOPOR"	 INTEGER,
  "ID"	 INTEGER,
  "TRATAMENTO"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "CLASSE"	 VARCHAR(30),
  "INDICE_PEDIDO"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "CID_SOLICITACAO"	 VARCHAR(10),
  "WORKLIST"	 TIMESTAMP,
  "USUARIODELETOU"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: CPS7, Owner: SYSDBA */

CREATE TABLE "CPS7" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CODIGOCPS7"	 PK_CODIGOCPS ,
  "CODIGOMM"	 PK_CODIGOMM ,
  "NOME"	 VARCHAR(80),
  "POSOLOGIA"	 CHAR(1),
  "VIA"	 CHAR(1),
  "ADMINISTRACAO"	 CHAR(1),
  "RECEITA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TIPO_POSOLOGIA"	 VARCHAR(40),
  "TIPO_ADM"	 VARCHAR(40),
  "TIPO_APRES"	 VARCHAR(40),
  "MEDICAMENTO"	 VARCHAR(60),
  "QUANTIDADE"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: CPS8, Owner: SYSDBA */

CREATE TABLE "CPS8" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS8"	 FLOAT NOT NULL,
  "A_PACOTE"	 INTEGER NOT NULL,
  "QUANTIDADE"	 SMALLINT NOT NULL,
  "UNITARIO"	 DOUBLE PRECISION NOT NULL,
  "TOTAL"	 COMPUTED BY ( QUANTIDADE * UNITARIO ),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: CPSAIH, Owner: SYSDBA */

CREATE TABLE "CPSAIH" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CNPJ"	 VARCHAR(14) NOT NULL,
  "ATO"	 CHAR(8) NOT NULL,
  "QUANTIDADE"	 INTEGER NOT NULL,
  "NOTAFISCAL"	 VARCHAR(12),
  "TIPO"	 CHAR(2),
  "TIPOATO"	 CHAR(2),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: CPSAMEV, Owner: SYSDBA */

CREATE TABLE "CPSAMEV" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "MEDICO"	 INTEGER NOT NULL,
  "ANAMENESE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "DATA"	 TIMESTAMP,
  "CID"	 VARCHAR(10),
 PRIMARY KEY ("NUMERO")
);

/* Table: CPSAUDITORIA, Owner: SYSDBA */

CREATE TABLE "CPSAUDITORIA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "TRATAMENTO"	 VARCHAR(100) NOT NULL,
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "TIPO"	 INTEGER,
  "SERVICO"	 DOUBLE PRECISION,
  "MATMED"	 DOUBLE PRECISION,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_CPSAUDITORIA" PRIMARY KEY ("INDICE")
);

/* Table: CPSAUDITORIAITEM, Owner: SYSDBA */

CREATE TABLE "CPSAUDITORIAITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CPSAUDITORIA"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "HORA"	 TIMESTAMP,
  "DESCRICAO"	 VARCHAR(200),
  "QTDE"	 INTEGER,
  "CODIGOAMB"	 VARCHAR(10),
  "CODIGOSERV"	 INTEGER,
  "DHE"	 CHAR(1),
  "VALOR"	 DOUBLE PRECISION
);

/* Table: CPSAUDITORIATIPO, Owner: SYSDBA */

CREATE TABLE "CPSAUDITORIATIPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
CONSTRAINT "PK_CPSAUDITORIATIPO" PRIMARY KEY ("INDICE")
);

/* Table: CPSAUDTRAVA, Owner: SYSDBA */

CREATE TABLE "CPSAUDTRAVA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODIGOAMB"	 VARCHAR(10),
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "DATAUSER1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATAUSER2"	 TIMESTAMP,
  "DELETADO"	 CHAR(1),
CONSTRAINT "PK_CPSAUDTRAVA" PRIMARY KEY ("INDICE")
);

/* Table: CPSAUTSOL, Owner: SYSDBA */

CREATE TABLE "CPSAUTSOL" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODIGOAMB"	 CHAR(8) NOT NULL,
  "DATA"	 TIMESTAMP,
  "STATUS"	 VARCHAR(15),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "CODIGOSERV"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "QUANTSOL"	 INTEGER,
  "QUANTAUT"	 INTEGER,
  "CODIGOMM"	 INTEGER,
CONSTRAINT "PK_CPSAUTSOL" PRIMARY KEY ("INDICE")
);

/* Table: CPSCONTROLE, Owner: SYSDBA */

CREATE TABLE "CPSCONTROLE" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "DETALHE"	 VARCHAR(500) NOT NULL,
  "DATA"	 TIMESTAMP,
  "STATUS"	 VARCHAR(15),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "AVISO"	 CHAR(1),
  "RESPONSAVEL"	 INTEGER,
CONSTRAINT "PK_CPSCONTROLE" PRIMARY KEY ("INDICE")
);

/* Table: CPSCONTROLEPAC, Owner: SYSDBA */

CREATE TABLE "CPSCONTROLEPAC" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "TIPO"	 VARCHAR(25) NOT NULL,
  "VALOR"	 DOUBLE PRECISION NOT NULL,
  "OBSERVACAO"	 VARCHAR(200),
  "ARQUIVO"	 VARCHAR(30),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "CONFIRMADO"	 VARCHAR(1),
CONSTRAINT "PK_CPSCONTROLEPAC" PRIMARY KEY ("INDICE")
);

/* Table: CPSFISIO, Owner: SYSDBA */

CREATE TABLE "CPSFISIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "HORAENTRADA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "MODALIDADE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "INTENSIDADE"	 VARCHAR(20),
  "STATUS"	 CHAR(1),
  "CRITICA"	 VARCHAR(200),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CONCLUSAO"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(200),
CONSTRAINT "PK_CPSFISIO" PRIMARY KEY ("INDICE")
);

/* Table: CPSIMPRESOS, Owner: SYSDBA */

CREATE TABLE "CPSIMPRESOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "CODIGOPAC"	 PK_CODIGOPAC ,
  "DATA"	 TIMESTAMP,
  "TEXTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TITULO"	 VARCHAR(30),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: CPSIMPRESSO, Owner: SYSDBA */

CREATE TABLE "CPSIMPRESSO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "TEXTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TITULO"	 VARCHAR(30),
  "CODIGOPAC"	 FLOAT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "A_MEDICOS"	 INTEGER,
  "CONTROLADO"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATAUSER1"	 TIMESTAMP,
  "DATAUSER2"	 TIMESTAMP,
  "PAPEL"	 CHAR(2),
  "CABECALHO"	 CHAR(1),
  "INDICACAO"	 VARCHAR(250),
 PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDO1, Owner: SYSDBA */

CREATE TABLE "CPSLAUDO1" 
(
  "CODIGOCPS"	 PK_CODIGOCPS  NOT NULL,
  "CODIGOPAC"	 PK_CODIGOPAC ,
  "CONVENIO"	 PK_CONVENIO ,
  "A_DATAFAT"	 TIMESTAMP,
  "A_HORA"	 TIMESTAMP,
  "MATRICULA"	 VARCHAR(30),
  "A_CID"	 CHAR(4),
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "SOLCNPJ"	 CHAR(14),
  "SOLCREMEB"	 CHAR(8),
  "SOLDATA"	 TIMESTAMP,
  "MEDRESP"	 PK_MEDICOS ,
  "LAUDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "A_TECNICO"	 SMALLINT,
  "NOMEMEDICO"	 VARCHAR(40),
  "CONTRASTE1"	 SMALLINT,
  "CONTRASTE2"	 SMALLINT,
  "DESCONTO"	 DOUBLE PRECISION,
  "FATURA"	 FLOAT,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "NUMEROORIGEM"	 FLOAT,
  "ENTREGA"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(500),
  "DATASINC"	 TIMESTAMP,
  "LAUDO2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "LAUDO3"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "LAUDO4"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "LAUDO5"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "LAUDO6"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SENHA"	 VARCHAR(8),
  "ENVIAINTERNET"	 VARCHAR(20),
  "INTERNET"	 TIMESTAMP,
  "SOLICITAINTER"	 INTEGER,
  "STATUS"	 INTEGER,
  "DATAIMPORTACAO"	 TIMESTAMP,
  "ORIGEM"	 VARCHAR(20),
  "LAUDOMANUAL"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "PESO"	 FLOAT,
  "ALTURA"	 FLOAT,
  "IMPRESSO"	 CHAR(1),
  "LAUDOEXAME"	 CHAR(1),
  "CODIGOPLA"	 SMALLINT,
  "TRATAMENTO"	 INTEGER,
  "RECEMNASC"	 CHAR(1),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "LAUDOPOREXAME"	 CHAR(1),
  "LIBERADO"	 CHAR(1),
 PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPSLAUDO2, Owner: SYSDBA */

CREATE TABLE "CPSLAUDO2" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS2"	 FLOAT NOT NULL,
  "CODIGOSERV"	 PK_CODIGOSERV ,
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "CHAPA"	 CHAR(10),
  "VIA"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "SERVICO"	 INTEGER,
  "INDICE1"	 INTEGER,
  "LAUDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TRAVA"	 CHAR(1),
  "DICOMDIR"	 VARCHAR(500),
  "PROCEDIMENTO"	 VARCHAR(70),
  "FILME"	 SMALLINT,
  "DATASINC"	 TIMESTAMP,
  "AMOSTRAS"	 SMALLINT,
  "ORDEM"	 SMALLINT,
  "QUEBRA"	 CHAR(1),
  "LAUDOPADRAO"	 VARCHAR(60),
  "QTDELINHA"	 INTEGER,
  "A_MEDICOS"	 INTEGER,
  "AMOSTRA1"	 CHAR(1),
  "AMOSTRA2"	 CHAR(1),
  "AMOSTRA3"	 CHAR(1),
  "MNM"	 VARCHAR(10),
  "STATUS"	 CHAR(1),
  "FATURAR"	 CHAR(1),
  "CPS2INDICE"	 FLOAT,
  "SITUACAO"	 INTEGER,
  "TABELA_ORIGEM"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "IND_TAB_ORIGEM"	 INTEGER,
  "INTERNET"	 CHAR(1),
  "LAUDOPDF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATANET"	 TIMESTAMP,
  "ASSINATURA"	 INTEGER,
  "DATAASSINATURA"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDO3, Owner: SYSDBA */

CREATE TABLE "CPSLAUDO3" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDOANTIB, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOANTIB" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODANTIBIOTICO"	 INTEGER NOT NULL,
  "CODIGOSERV"	 INTEGER NOT NULL,
CONSTRAINT "PK_CPSLAUDOANTIB" PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDOBACT, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOBACT" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODIGOSERV"	 INTEGER NOT NULL,
  "CODBACT"	 INTEGER NOT NULL,
CONSTRAINT "PK_CPSLAUDOBACT" PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDOCAL, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOCAL" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(25) NOT NULL,
  "CALCULO"	 VARCHAR(200) NOT NULL,
CONSTRAINT "PK_CPSLAUDOCAL" PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDODATA, Owner: SYSDBA */

CREATE TABLE "CPSLAUDODATA" 
(
  "CODIGOCPS"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "LAUDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_CPSLAUDODATA" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: CPSLAUDOFILME, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOFILME" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "FILME"	 VARCHAR(15),
  "QUANTIDADE"	 SMALLINT,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "PERDA"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDOOBS, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOOBS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODLAUDO"	 FLOAT NOT NULL,
  "LAUDOPADRAO"	 VARCHAR(60) NOT NULL,
  "ORDEM"	 SMALLINT NOT NULL,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80 NOT NULL,
  "DATA"	 TIMESTAMP,
  "HORA"	 TIMESTAMP,
CONSTRAINT "PK_CPSLAUDOOBS" PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDOVAR, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOVAR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "VALOR"	 VARCHAR(600),
  "CPS"	 FLOAT,
  "DATA"	 TIMESTAMP,
  "HORA"	 TIMESTAMP,
  "DATAHORA"	 TIMESTAMP,
CONSTRAINT "PK_CPSLAUDOVAR" PRIMARY KEY ("INDICE")
);

/* Table: CPSLAUDOVAR1, Owner: SYSDBA */

CREATE TABLE "CPSLAUDOVAR1" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100),
  "ORDEM"	 INTEGER,
  "PADRAO"	 CHAR(1),
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: CPSMANCHESTER, Owner: SYSDBA */

CREATE TABLE "CPSMANCHESTER" 
(
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "QUEIXA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HISTORIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ALERGIAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MEDICACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MEDIDA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "REAVALIACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RISCO"	 INTEGER,
  "P"	 VARCHAR(20),
  "PA"	 VARCHAR(20),
  "FR"	 VARCHAR(20),
  "TAX"	 VARCHAR(20),
  "USER1"	 INTEGER NOT NULL,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "HGT"	 VARCHAR(20),
  "SAT"	 VARCHAR(20),
  "PESO"	 VARCHAR(20),
  "PROTOCOLOS"	 VARCHAR(250),
  "FC"	 VARCHAR(250),
  "RISCOMEDICO"	 INTEGER,
  "PSF_POSTO"	 CHAR(1),
  "PSF_LOCALIDADE"	 VARCHAR(50),
  "PSF_HOSPITAL"	 CHAR(1),
  "PSF_JUSTIFICATIVA"	 VARCHAR(50),
  "DATAHORA"	 TIMESTAMP,
  "POSTOSAUDE"	 INTEGER,
  "AGRESSAO_FISICA"	 VARCHAR(50),
  "VIOLENCIA"	 VARCHAR(50),
  "DROGAS"	 VARCHAR(50),
  "TRANS_ATROPELAMENTO"	 VARCHAR(1),
  "TRANS_CARRO"	 VARCHAR(1),
  "TRANS_MOTO"	 VARCHAR(1),
  "TRANS_BICICLETA"	 VARCHAR(1),
  "TRANS_CARROCA"	 VARCHAR(1),
  "TRANS_MAIOR_IDADE"	 VARCHAR(1),
  "TRANS_MENOR_IDADE"	 VARCHAR(1),
  "TRANS_ZONA_URBANA"	 VARCHAR(1),
  "TRANS_OUTRA_CIDADE"	 VARCHAR(1),
  "TRANS_ZONA_RURAL"	 VARCHAR(1),
  "GRAVIDEZ_PRECOCE"	 VARCHAR(1),
  "INDICE"	 INTEGER NOT NULL,
  "ENCAMINHAMENTO"	 INTEGER,
  "GARVIDEZ_PRECOCE"	 VARCHAR(1),
  "TRANS_ZEONA_RURAL"	 VARCHAR(1),
  "MOTIVOCLAS"	 INTEGER,
CONSTRAINT "PK_CPSMANCHESTER" PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPSMANIPULADO, Owner: SYSDBA */

CREATE TABLE "CPSMANIPULADO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "MANIPULADO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "OBS"	 VARCHAR(300),
  "QTDE"	 INTEGER,
  "TEXTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DISPENSADO"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_CPSMANIPULADO" PRIMARY KEY ("INDICE")
);

/* Table: CPSNUT, Owner: SYSDBA */

CREATE TABLE "CPSNUT" 
(
  "CODIGOCPS"	 INTEGER NOT NULL,
  "COMPLEMENTO"	 VARCHAR(200),
  "DESJEJUM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "COLACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ALMOCO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "LANCHE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "JANTAR"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CEIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBSERVACAO"	 VARCHAR(300),
  "MAPA"	 CHAR(1),
  "DIETA"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "DIAGNOSTICO"	 VARCHAR(600),
  "DIAGNOSTICO1"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "TERAPIANUTRI"	 CHAR(1),
  "TIPO_ADOCAMENTO"	 CHAR(1),
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "CARATERISTICA"	 INTEGER,
  "TIPO_ADOCANTE"	 INTEGER,
CONSTRAINT "PK_CPSNUT" PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPSOBS, Owner: SYSDBA */

CREATE TABLE "CPSOBS" 
(
  "CODIGOCPS"	 FLOAT NOT NULL,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EXAME"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATENDIMENTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: CPSOFTALMO, Owner: SYSDBA */

CREATE TABLE "CPSOFTALMO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "EXAME"	 VARCHAR(30) NOT NULL,
  "LADO"	 CHAR(1) NOT NULL,
  "ESF"	 FLOAT,
  "CIL"	 FLOAT,
  "ADICAO"	 FLOAT,
  "EIXO"	 FLOAT,
  "PRISMA"	 VARCHAR(15),
  "BASE"	 VARCHAR(15),
  "MMHG"	 FLOAT,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "REFRACAOOD"	 VARCHAR(10),
  "REFRACAOOE"	 VARCHAR(10),
  "TONOMETRIAOD"	 VARCHAR(12),
  "TONOMETRIAOE"	 VARCHAR(12),
  "RETINAOD"	 VARCHAR(10),
  "RETINAOE"	 VARCHAR(10),
  "CERATOSCOPIAOD"	 VARCHAR(10),
  "CERATOSCOPIAOE"	 VARCHAR(10),
  "BIOMETRIAOD"	 VARCHAR(10),
  "BIOMETRIAOE"	 VARCHAR(10),
  "ACUIDADEOD"	 VARCHAR(10),
  "ACUIDADEOE"	 VARCHAR(10),
  "ADICIONAL"	 VARCHAR(10),
  "DNP"	 VARCHAR(20),
  "TIPO"	 VARCHAR(40),
  "OBS"	 VARCHAR(40),
  "MICROSCOPIAOD"	 VARCHAR(10),
  "MICROSCOPIAOE"	 VARCHAR(10),
  "PAQUIMETRIAOD"	 VARCHAR(10),
  "PAQUIMETRIAOE"	 VARCHAR(10),
  "MICROSCOPIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "BIOMICROSCOPIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FUNDOSCOPIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ACUIDADEOE1"	 VARCHAR(10),
  "ACUIDADEOD1"	 VARCHAR(10),
  "REFRACAOCILOD"	 VARCHAR(10),
  "REFRACAOCILOE"	 VARCHAR(10),
  "REFRACAOEIXOOD"	 VARCHAR(10),
  "REFRACAOEIXOOE"	 VARCHAR(10),
  "CERA1"	 VARCHAR(11),
  "CERA2"	 VARCHAR(10),
  "CERA3"	 VARCHAR(10),
  "CERA4"	 VARCHAR(10),
  "CERA5"	 VARCHAR(11),
  "CERA6"	 VARCHAR(10),
  "CERA7"	 VARCHAR(10),
  "CERA8"	 VARCHAR(10),
  "SEGUIMENTOATD"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "CAMPOVISUALOD"	 VARCHAR(50),
  "CAMPOVISUALOE"	 VARCHAR(50),
  "RETINOGRAFIAOD"	 VARCHAR(50),
  "RETINOGRAFIAOE"	 VARCHAR(50),
  "EXAMEEXTERNO"	 VARCHAR(250),
  "EXAMEEXTERNOOD"	 VARCHAR(50),
  "EXAMEEXTERNOOE"	 VARCHAR(50),
CONSTRAINT "PK_CPSOFTALMO" PRIMARY KEY ("INDICE")
);

/* Table: CPSONCO, Owner: SYSDBA */

CREATE TABLE "CPSONCO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT,
  "TOXIDADE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TA"	 VARCHAR(6),
  "SC"	 FLOAT,
  "PESO"	 FLOAT,
  "TEMPERATURA"	 FLOAT,
  "AP_CARDIOVASC"	 VARCHAR(300),
  "AP_RESP"	 VARCHAR(300),
  "ABDOMEN"	 VARCHAR(300),
  "LINFONODO"	 VARCHAR(300),
  "CAB_PESCOCO"	 VARCHAR(300),
  "SIST_NERVOSO"	 VARCHAR(300),
  "EXTREMIDADES"	 VARCHAR(300),
  "OUTROS"	 VARCHAR(300),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "IP2"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "VERSAO2"	 VARCHAR(20),
  "QUEIXAP"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HMA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EXAMEFISICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CARCINOGENOS"	 CHAR(100),
  "MEDICACOES"	 VARCHAR(100),
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CONDUTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HISTORIAVIDA"	 VARCHAR(300),
  "HISTORIASOCIAL"	 VARCHAR(300),
  "HISTORIAPATOLOGICA"	 VARCHAR(300),
  "HISTORIAFAMILIAR"	 VARCHAR(300),
  "CHECAEXAME"	 CHAR(1),
  "DATAQUIMIOTERAPIA"	 TIMESTAMP,
  "FINALIDADE"	 CHAR(1),
  "PROTOCOLO"	 INTEGER,
  "PRIMEIRA"	 CHAR(1),
  "CODIGOPAC"	 INTEGER,
  "ALTURA"	 FLOAT,
CONSTRAINT "PK_CPSONCO" PRIMARY KEY ("INDICE")
);

/* Table: CPSONCOITENS, Owner: SYSDBA */

CREATE TABLE "CPSONCOITENS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DROGA"	 VARCHAR(400),
  "TIPOINFUSAO"	 VARCHAR(20),
  "DOSEDIARIA"	 VARCHAR(20),
  "CICLO"	 VARCHAR(50),
  "VIA"	 VARCHAR(20),
  "CODCIDPROT1"	 INTEGER,
  "OBSERVACAO"	 VARCHAR(1000),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DOSEPROTOCOLO"	 FLOAT,
  "MEDIDA"	 CHAR(5),
  "TIPODROGA"	 CHAR(1),
  "CPSONCO"	 INTEGER,
  "CID"	 VARCHAR(4),
  "IP1"	 VARCHAR(16),
  "IP2"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "VERSAO2"	 VARCHAR(20),
CONSTRAINT "PKCPSONCOITENS" PRIMARY KEY ("INDICE")
);

/* Table: CPSPRONTUARIO, Owner: SYSDBA */

CREATE TABLE "CPSPRONTUARIO" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "DETALHE"	 VARCHAR(500) NOT NULL,
  "SAIDA"	 TIMESTAMP,
  "PREVISAO"	 TIMESTAMP,
  "ENTRADA"	 TIMESTAMP,
  "PORTADOR"	 VARCHAR(50),
  "STATUS"	 VARCHAR(15),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "AVISO"	 CHAR(1),
CONSTRAINT "PK_CPSPRONTUARIO" PRIMARY KEY ("INDICE")
);

/* Table: CPSPROTOCOLO, Owner: SYSDBA */

CREATE TABLE "CPSPROTOCOLO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "TRATAMENTO"	 INTEGER NOT NULL,
  "VALORINICIAL"	 DOUBLE PRECISION,
  "VALORFINAL"	 DOUBLE PRECISION,
  "DATA"	 TIMESTAMP,
  "CONFIRMADO"	 CHAR(1),
  "PREVISAO"	 TIMESTAMP,
  "SITUACAO"	 VARCHAR(30),
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PROPRIETARIO"	 INTEGER,
  "USUARIO"	 TIMESTAMP,
CONSTRAINT "PK_CPSPROTOCOLO" PRIMARY KEY ("INDICE")
);

/* Table: CPSPROTOCOLOSAPI, Owner: SYSDBA */

CREATE TABLE "CPSPROTOCOLOSAPI" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "PROTOCOLO"	 INTEGER NOT NULL,
  "ITEM"	 VARCHAR(250) NOT NULL,
  "TIPO"	 VARCHAR(250) NOT NULL,
  "STATUS"	 VARCHAR(30) NOT NULL,
  "OBS"	 VARCHAR(250),
CONSTRAINT "PK_CPSPROTOCOLOSAPI" PRIMARY KEY ("INDICE")
);

/* Table: CPSRATEIO, Owner: SYSDBA */

CREATE TABLE "CPSRATEIO" 
(
  "CPS"	 INTEGER,
  "TRATAMENTO"	 INTEGER,
  "VENCIMENTO"	 TIMESTAMP,
  "PREVISAO"	 TIMESTAMP,
  "DATABAIXA"	 TIMESTAMP,
  "VALOR"	 DOUBLE PRECISION,
  "TOTAL"	 DOUBLE PRECISION,
  "PARCELA"	 DOUBLE PRECISION
);

/* Table: CPSSUSAIH, Owner: SYSDBA */

CREATE TABLE "CPSSUSAIH" 
(
  "CODIGOCPS"	 FLOAT NOT NULL,
  "AIH_NUM_AIH"	 CHAR(13) CHARACTER SET WIN1252 NOT NULL,
  "AIH_IDENT"	 CHAR(2) CHARACTER SET WIN1252 NOT NULL,
  "AIH_APRES"	 CHAR(6) CHARACTER SET WIN1252 NOT NULL,
  "AIH_PRONT"	 VARCHAR(15) CHARACTER SET WIN1252 NOT NULL,
  "AIH_DT_INT"	 TIMESTAMP NOT NULL,
  "AIH_DT_SAI"	 TIMESTAMP NOT NULL,
  "AIH_SEQ_AIH5"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_SIT"	 CHAR(1) CHARACTER SET WIN1252 NOT NULL,
  "AIH_DCIH"	 VARCHAR(8) CHARACTER SET WIN1252,
  "AIH_NOME_RESP"	 VARCHAR(70) CHARACTER SET WIN1252,
  "AIH_DOC_MED_SOLIC"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PROC_SOLIC"	 CHAR(10) CHARACTER SET WIN1252,
  "AIH_CAR_INT"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_DT_EMISS"	 TIMESTAMP,
  "AIH_DOC_MED_RESP"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_DOC_DIR_CLINICO"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PROC_REA"	 CHAR(10) CHARACTER SET WIN1252,
  "AIH_CID_PRI"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_CID_SEC"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_CID_C_ASS"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_CID_MOR"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_MOT_COB"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_N_VIVOS"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_N_MORTOS"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_QT_SAI_ALTA"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_QT_SAI_TRANSF"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_QT_SAI_OBITO"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_ENFER"	 VARCHAR(4) CHARACTER SET WIN1252,
  "AIH_LEITO"	 VARCHAR(4) CHARACTER SET WIN1252,
  "AIH_CNPJ_EMPR"	 CHAR(14) CHARACTER SET WIN1252,
  "AIH_AIH_ANT"	 CHAR(13) CHARACTER SET WIN1252,
  "AIH_AIH_POS"	 CHAR(13) CHARACTER SET WIN1252,
  "AIH_COD_AUT"	 CHAR(3) CHARACTER SET WIN1252,
  "AIH_DOC_MED_AUTORIZADOR"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PRE_NATAL"	 VARCHAR(11) CHARACTER SET WIN1252,
  "AIH_VINC_PREV"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_ORG_EMISSOR"	 CHAR(10) CHARACTER SET WIN1252,
  "AIH_PAC_NOME"	 VARCHAR(70) CHARACTER SET WIN1252,
  "AIH_PAC_COD_LOGR"	 CHAR(3) CHARACTER SET WIN1252,
  "AIH_PAC_LOGR"	 VARCHAR(50) CHARACTER SET WIN1252,
  "AIH_PAC_NUMERO"	 VARCHAR(7) CHARACTER SET WIN1252,
  "AIH_PAC_COMPL"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PAC_BAIRRO"	 VARCHAR(30) CHARACTER SET WIN1252,
  "AIH_PAC_MUNICIPIO"	 CHAR(6) CHARACTER SET WIN1252,
  "AIH_PAC_MUNICIPIO_ORIG"	 CHAR(6) CHARACTER SET WIN1252,
  "AIH_PAC_UF"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_PAC_CEP"	 CHAR(8) CHARACTER SET WIN1252,
  "AIH_PAC_DT_NASC"	 TIMESTAMP,
  "AIH_PAC_SEXO"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_PAC_NACIO"	 CHAR(3) CHARACTER SET WIN1252,
  "AIH_PAC_DOC"	 VARCHAR(11) CHARACTER SET WIN1252,
  "AIH_PAC_CNS"	 CHAR(15) CHARACTER SET WIN1252,
  "AIH_PAC_NOME_MAE"	 VARCHAR(70) CHARACTER SET WIN1252,
  "AIH_PAC_TELEFONE"	 VARCHAR(30) CHARACTER SET WIN1252,
  "AIH_PAC_RACA_COR"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_MUDANCA_PROC"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_CLINICA"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_MODALIDADE"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_CNAER"	 VARCHAR(3) CHARACTER SET WIN1252,
  "AIH_CBOR"	 CHAR(6) CHARACTER SET WIN1252,
  "AIH_LOTE"	 INTEGER,
  "AIH_VERSAO_CONSIST"	 CHAR(4) CHARACTER SET WIN1252,
  "AIH_NEO_MESES"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_NEO_PESO"	 INTEGER,
  "AIH_NEO_SAIDA"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_LQ_QT_FILHOS"	 SMALLINT,
  "AIH_LQ_CID_IND"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_LQ_INSTR"	 SMALLINT,
  "AIH_LQ_METODO1"	 SMALLINT,
  "AIH_LQ_METODO2"	 SMALLINT,
  "AIH_LQ_GESTANTE_ALTO_RISCO"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_PAC_TIPO_DOC"	 SMALLINT,
CONSTRAINT "PK_CPSSUSAIH" PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPSSUSAIH1, Owner: SYSDBA */

CREATE TABLE "CPSSUSAIH1" 
(
  "CODIGOCPS"	 FLOAT NOT NULL,
  "AIH_NUM_AIH"	 CHAR(13) CHARACTER SET WIN1252 NOT NULL,
  "AIH_IDENT"	 CHAR(2) CHARACTER SET WIN1252 NOT NULL,
  "AIH_APRES"	 CHAR(6) CHARACTER SET WIN1252 NOT NULL,
  "AIH_PRONT"	 VARCHAR(15) CHARACTER SET WIN1252 NOT NULL,
  "AIH_DT_INT"	 TIMESTAMP NOT NULL,
  "AIH_DT_SAI"	 TIMESTAMP NOT NULL,
  "AIH_SEQ_AIH5"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_SIT"	 CHAR(1) CHARACTER SET WIN1252 NOT NULL,
  "AIH_DCIH"	 VARCHAR(8) CHARACTER SET WIN1252,
  "AIH_NOME_RESP"	 VARCHAR(70) CHARACTER SET WIN1252,
  "AIH_DOC_MED_SOLIC"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PROC_SOLIC"	 CHAR(10) CHARACTER SET WIN1252,
  "AIH_CAR_INT"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_DT_EMISS"	 TIMESTAMP,
  "AIH_DOC_MED_RESP"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_DOC_DIR_CLINICO"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PROC_REA"	 CHAR(10) CHARACTER SET WIN1252,
  "AIH_CID_PRI"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_CID_SEC"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_CID_C_ASS"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_CID_MOR"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_MOT_COB"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_N_VIVOS"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_N_MORTOS"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_QT_SAI_ALTA"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_QT_SAI_TRANSF"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_QT_SAI_OBITO"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_ENFER"	 VARCHAR(4) CHARACTER SET WIN1252,
  "AIH_LEITO"	 VARCHAR(4) CHARACTER SET WIN1252,
  "AIH_CNPJ_EMPR"	 CHAR(14) CHARACTER SET WIN1252,
  "AIH_AIH_ANT"	 CHAR(13) CHARACTER SET WIN1252,
  "AIH_AIH_POS"	 CHAR(13) CHARACTER SET WIN1252,
  "AIH_COD_AUT"	 CHAR(3) CHARACTER SET WIN1252,
  "AIH_DOC_MED_AUTORIZADOR"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PRE_NATAL"	 VARCHAR(11) CHARACTER SET WIN1252,
  "AIH_VINC_PREV"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_ORG_EMISSOR"	 CHAR(10) CHARACTER SET WIN1252,
  "AIH_PAC_NOME"	 VARCHAR(70) CHARACTER SET WIN1252,
  "AIH_PAC_COD_LOGR"	 CHAR(3) CHARACTER SET WIN1252,
  "AIH_PAC_LOGR"	 VARCHAR(50) CHARACTER SET WIN1252,
  "AIH_PAC_NUMERO"	 VARCHAR(7) CHARACTER SET WIN1252,
  "AIH_PAC_COMPL"	 VARCHAR(15) CHARACTER SET WIN1252,
  "AIH_PAC_BAIRRO"	 VARCHAR(30) CHARACTER SET WIN1252,
  "AIH_PAC_MUNICIPIO"	 CHAR(6) CHARACTER SET WIN1252,
  "AIH_PAC_MUNICIPIO_ORIG"	 CHAR(6) CHARACTER SET WIN1252,
  "AIH_PAC_UF"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_PAC_CEP"	 CHAR(8) CHARACTER SET WIN1252,
  "AIH_PAC_DT_NASC"	 TIMESTAMP,
  "AIH_PAC_SEXO"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_PAC_NACIO"	 CHAR(3) CHARACTER SET WIN1252,
  "AIH_PAC_DOC"	 VARCHAR(11) CHARACTER SET WIN1252,
  "AIH_PAC_CNS"	 CHAR(15) CHARACTER SET WIN1252,
  "AIH_PAC_NOME_MAE"	 VARCHAR(70) CHARACTER SET WIN1252,
  "AIH_PAC_TELEFONE"	 VARCHAR(30) CHARACTER SET WIN1252,
  "AIH_PAC_RACA_COR"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_MUDANCA_PROC"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_CLINICA"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_MODALIDADE"	 CHAR(2) CHARACTER SET WIN1252,
  "AIH_CNAER"	 VARCHAR(3) CHARACTER SET WIN1252,
  "AIH_CBOR"	 CHAR(6) CHARACTER SET WIN1252,
  "AIH_LOTE"	 INTEGER,
  "AIH_VERSAO_CONSIST"	 CHAR(4) CHARACTER SET WIN1252,
  "AIH_NEO_MESES"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_NEO_PESO"	 INTEGER,
  "AIH_NEO_SAIDA"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_LQ_QT_FILHOS"	 SMALLINT,
  "AIH_LQ_CID_IND"	 VARCHAR(5) CHARACTER SET WIN1252,
  "AIH_LQ_INSTR"	 SMALLINT,
  "AIH_LQ_METODO1"	 SMALLINT,
  "AIH_LQ_METODO2"	 SMALLINT,
  "AIH_LQ_GESTANTE_ALTO_RISCO"	 CHAR(1) CHARACTER SET WIN1252,
  "AIH_PAC_TIPO_DOC"	 SMALLINT,
CONSTRAINT "PK_CPSSUSAIH1" PRIMARY KEY ("CODIGOCPS")
);

/* Table: CPSTRIAGEM, Owner: SYSDBA */

CREATE TABLE "CPSTRIAGEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "RISCO"	 SMALLINT,
  "PRINC_QUEIXAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ABD_DISTENDIDO"	 CHAR(1),
  "ABD_DOLORIDO"	 CHAR(1),
  "ALCOOLISMO"	 CHAR(1),
  "ANOREXIA"	 CHAR(1),
  "ANCIOSO"	 CHAR(1),
  "COMA"	 CHAR(1),
  "CRISE_HIPERT"	 CHAR(1),
  "CONFUSO"	 CHAR(1),
  "CONSCIENTE"	 CHAR(1),
  "DEPRIMIDO"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "DISPNEIA"	 CHAR(1),
  "TOSSE_PRODUT"	 CHAR(1),
  "DOENCA_RENAL"	 CHAR(1),
  "DOR_TORACICA"	 CHAR(1),
  "HAS"	 CHAR(1),
  "INAPETENCIA"	 CHAR(1),
  "MIALGIA"	 CHAR(1),
  "MOB_FISICA_MANT"	 CHAR(1),
  "MOB_FISICA_PREJ"	 CHAR(1),
  "NAUSEAS"	 CHAR(1),
  "SONOLENTO"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "TONTURA"	 CHAR(1),
  "TOSSE"	 CHAR(1),
  "CONVULSOES"	 CHAR(1),
  "CANCER"	 CHAR(1),
  "CARCER_DESC"	 VARCHAR(100),
  "CARDIACA"	 CHAR(1),
  "CARDIACA_DESC"	 VARCHAR(100),
  "DADOS_VITAIS"	 VARCHAR(100),
  "MEDICACAO_USUAL"	 VARCHAR(100),
  "PA"	 VARCHAR(15),
  "P"	 VARCHAR(15),
  "FR"	 VARCHAR(15),
  "T"	 VARCHAR(15),
  "HGT"	 VARCHAR(15),
  "ALERGIA"	 VARCHAR(300),
  "ENCAMINHAMENTO"	 VARCHAR(500),
  "USER1"	 INTEGER,
  "DATAUSER1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATAUSER2"	 TIMESTAMP,
CONSTRAINT "PK_CPSTRIAGEM" PRIMARY KEY ("INDICE")
);

/* Table: CPS_ACOMP, Owner: SYSDBA */

CREATE TABLE "CPS_ACOMP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "NOME"	 VARCHAR(40),
  "USUARIO2"	 INTEGER,
  "DATALANCAMENTO"	 TIMESTAMP,
  "NOME2"	 VARCHAR(40),
  "USUARIORESP"	 INTEGER,
  "USUARIORESPNOME"	 VARCHAR(40),
  "DATAINI"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "CONVENIO"	 INTEGER,
  "CHECADO"	 CHAR(1),
  "TRATAMENTOS"	 VARCHAR(100),
  "CPS"	 VARCHAR(100),
  "TIPO"	 VARCHAR(100),
  "TRATAMENTO"	 INTEGER,
  "CODIGOCPS"	 FLOAT,
  "LOTE"	 INTEGER,
  "PARCELA"	 INTEGER,
  "DESCRICAO"	 VARCHAR(250),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_CPS_ACOMP" PRIMARY KEY ("INDICE")
);

/* Table: CTRL_DISPOSITIVOS, Owner: SYSDBA */

CREATE TABLE "CTRL_DISPOSITIVOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "COD_ENF"	 INTEGER,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "CRM"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "OBSERVENF"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "DISPOSITIVO"	 INTEGER,
  "TROCADO"	 TIMESTAMP,
  "COD_TROCOU"	 INTEGER,
CONSTRAINT "PK_CTRL_DISPOSITIVOS" PRIMARY KEY ("INDICE")
);

/* Table: CTRL_HEMODIALISE, Owner: SYSDBA */

CREATE TABLE "CTRL_HEMODIALISE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "COD_ENF"	 INTEGER,
  "CONSELHO"	 INTEGER,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "CODIGOCPS"	 INTEGER,
  "OBS"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "ITEM"	 VARCHAR(80),
  "QTDE"	 VARCHAR(20),
CONSTRAINT "PK_CTRL_HEMODIALISE" PRIMARY KEY ("INDICE")
);

/* Table: CULTURAADM, Owner: SYSDBA */

CREATE TABLE "CULTURAADM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(100),
  "COLETA"	 VARCHAR(30),
  "AGENTE"	 VARCHAR(30),
  "SENSIBILIDADE"	 VARCHAR(30),
  "CODIGOCPS"	 FLOAT,
  "DATA"	 TIMESTAMP,
CONSTRAINT "PK_CULTURAADM" PRIMARY KEY ("INDICE")
);

/* Table: CUSTOPACOTE, Owner: SYSDBA */

CREATE TABLE "CUSTOPACOTE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "TRATAMENTO"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(20),
  "VALOR"	 DOUBLE PRECISION,
 PRIMARY KEY ("INDICE")
);

/* Table: DAIH210, Owner: SYSDBA */

CREATE TABLE "DAIH210" 
(
  "MN_IBGE"	 VARCHAR(6),
  "MN_NOME"	 VARCHAR(60),
  "MN_SIGLA"	 VARCHAR(2),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: DECISION, Owner: SYSDBA */

CREATE TABLE "DECISION" 
(
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISION_DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DECISION_FOCO"	 VARCHAR(30) NOT NULL,
  "DECISION_STATUS"	 CHAR(1) NOT NULL,
  "DECISION_PAI"	 INTEGER,
  "DECISION_ORDEM"	 VARCHAR(15),
  "DECISIONCENARIO_CODIGO"	 INTEGER NOT NULL,
  "DECISION_ORDERBY"	 SMALLINT,
  "DECISION_ORDERASC"	 CHAR(1),
  "DECISIONIMAGEM_CODIGO"	 INTEGER,
  "DECISION_PARAMETRO"	 VARCHAR(100),
  "DECISION_CENARIOS"	 VARCHAR(100),
  "DECISION_TOUCH"	 CHAR(1),
  "DECISION_SAPI"	 CHAR(1),
CONSTRAINT "PK_DECISION" PRIMARY KEY ("DECISION_CODIGO")
);

/* Table: DECISIONACESSO, Owner: SYSDBA */

CREATE TABLE "DECISIONACESSO" 
(
  "DECISIONACESSO_CODIGO"	 INTEGER NOT NULL,
  "DECISIONACESSO_FOCO"	 VARCHAR(30),
  "DECISIONACESSO_META"	 CHAR(1),
  "DECISIONACESSO_READONLY"	 CHAR(1)
);

/* Table: DECISIONCAMPO, Owner: SYSDBA */

CREATE TABLE "DECISIONCAMPO" 
(
  "DECISIONCAMPO_CODIGO"	 INTEGER NOT NULL,
  "DECISIONCAMPO_DESCRICAO"	 VARCHAR(40) NOT NULL,
  "DECISIONCAMPO_CAMPO"	 VARCHAR(100) NOT NULL,
  "DECISION_FOCO"	 VARCHAR(30) NOT NULL,
  "DECISIONCAMPO_CAMPOINDICE"	 VARCHAR(100),
  "DECISIONCAMPO_PARAMETROINTERNO"	 CHAR(1),
  "DECISIONCAMPO_SQL"	 VARCHAR(200),
CONSTRAINT "PK_DECISIONCAMPO" PRIMARY KEY ("DECISIONCAMPO_CODIGO")
);

/* Table: DECISIONCENARIO, Owner: SYSDBA */

CREATE TABLE "DECISIONCENARIO" 
(
  "DECISIONCENARIO_CODIGO"	 INTEGER NOT NULL,
  "DECISIONCENARIO_DESCRICAO"	 VARCHAR(100) NOT NULL,
  "DECISIONCENARIO_FOCO"	 VARCHAR(100) NOT NULL,
  "DECISIONCENARIO_ORDEM"	 SMALLINT,
  "DECISIONCENARIO_TOUCH"	 CHAR(1),
  "DECISIONCENARIO_SAPI"	 CHAR(1),
CONSTRAINT "PK_DECISIONCENARIO" PRIMARY KEY ("DECISIONCENARIO_CODIGO")
);

/* Table: DECISIONFILTRO, Owner: SYSDBA */

CREATE TABLE "DECISIONFILTRO" 
(
  "DECISIONFILTRO_CODIGO"	 INTEGER NOT NULL,
  "DECISIONFILTRO_VALOR1"	 VARCHAR(400) NOT NULL,
  "DECISIONFILTRO_VALOR2"	 VARCHAR(400),
  "DECISIONFILTRO_VALOR3"	 VARCHAR(400),
  "DECISIONFILTRO_OPERADOR"	 VARCHAR(30),
  "DECISIONFILTRO_NOT"	 CHAR(1),
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONFILTRO_LIGACAO"	 VARCHAR(5),
  "DECISIONFILTRO_ORDEM"	 INTEGER,
  "DECISIONFILTRO_NIVEL"	 VARCHAR(10),
  "DECISIONCENARIO_CODIGO"	 INTEGER,
CONSTRAINT "PK_DECISIONFILTRO" PRIMARY KEY ("DECISIONFILTRO_CODIGO")
);

/* Table: DECISIONFOCO, Owner: SYSDBA */

CREATE TABLE "DECISIONFOCO" 
(
  "DECISIONFOCO_DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DECISIONFOCO_PROCEDURE"	 VARCHAR(50) NOT NULL,
  "DECISIONFOCO_PARAMETRO_0"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_1"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_2"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_3"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_4"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_5"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_6"	 VARCHAR(50),
  "DECISIONFOCO_PARAMETRO_7"	 VARCHAR(50),
  "DECISIONFOCO_ORDEM"	 SMALLINT,
  "DECISIONFOCO_ATIVO"	 CHAR(1),
  "DECISIONFOCO_CONSULTANULA"	 VARCHAR(50),
  "DECISIONFOCO_SGBD"	 VARCHAR(100),
CONSTRAINT "PK_DECISIONFOCO" PRIMARY KEY ("DECISIONFOCO_DESCRICAO")
);

/* Table: DECISIONGRAF, Owner: SYSDBA */

CREATE TABLE "DECISIONGRAF" 
(
  "DECISIONGRAF_CODIGO"	 INTEGER NOT NULL,
  "DECISIONGRAF_EIXOX"	 VARCHAR(50) NOT NULL,
  "DECISIONGRAF_EIXOY"	 VARCHAR(50) NOT NULL,
  "DECISIONGRAF_TIPO"	 VARCHAR(50) NOT NULL,
  "DECISIONGRAF_ORDEM"	 VARCHAR(50) NOT NULL,
  "DECISIONGRAF_MARCA"	 VARCHAR(20),
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONGRAF_QTDEMAX"	 INTEGER,
CONSTRAINT "PK_DECISIONGRAF" PRIMARY KEY ("DECISIONGRAF_CODIGO")
);

/* Table: DECISIONGRUPO, Owner: SYSDBA */

CREATE TABLE "DECISIONGRUPO" 
(
  "DECISIONGRUPO_CODIGO"	 INTEGER NOT NULL,
  "DECISIONGRUPO_ORDEM"	 SMALLINT NOT NULL,
  "DECISIONGRUPO_DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DECISIONGRUPO_TOTAL"	 CHAR(1) NOT NULL,
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONGRUPO_CAMPO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_DECISIONGRUPO" PRIMARY KEY ("DECISIONGRUPO_CODIGO")
);

/* Table: DECISIONHAVING, Owner: SYSDBA */

CREATE TABLE "DECISIONHAVING" 
(
  "DECISIONHAVING_CODIGO"	 INTEGER NOT NULL,
  "DECISIONHAVING_VALOR1"	 VARCHAR(400) NOT NULL,
  "DECISIONHAVING_VALOR2"	 VARCHAR(400),
  "DECISIONHAVING_VALOR3"	 VARCHAR(400),
  "DECISIONHAVING_OPERADOR"	 VARCHAR(30),
  "DECISIONHAVING_NOT"	 CHAR(1),
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONHAVING_LIGACAO"	 VARCHAR(5),
  "DECISIONHAVING_ORDEM"	 INTEGER,
  "DECISIONHAVING_NIVEL"	 VARCHAR(10),
CONSTRAINT "PK_DECISIONHAVING" PRIMARY KEY ("DECISIONHAVING_CODIGO")
);

/* Table: DECISIONITEM, Owner: SYSDBA */

CREATE TABLE "DECISIONITEM" 
(
  "DECISIONITEM_CODIGO"	 INTEGER NOT NULL,
  "DECISIONITEM_DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DECISIONITEM_CAMPO"	 VARCHAR(250) NOT NULL,
  "DECISIONITEM_ORDEM"	 VARCHAR(50) NOT NULL,
  "DECISIONITEM_FORMULA"	 VARCHAR(30) NOT NULL,
  "DECISIONITEM_TOTAL"	 CHAR(1),
  "DECISIONITEM_TAMANHO"	 SMALLINT,
  "DECISIONITEM_TITULO"	 VARCHAR(30),
  "DECISIONITEM_MASCARA"	 VARCHAR(20),
  "DECISIONITEM_ALINHAMENTO"	 CHAR(1),
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONITEM_ATIVO"	 CHAR(1),
  "DECISIONITEM_GRUPO"	 CHAR(1),
  "DECISIONITEM_TIPO"	 CHAR(1),
  "DECISIONITEM_ORDERBY"	 SMALLINT,
  "DECISIONITEM_ORDERASC"	 CHAR(1),
CONSTRAINT "PK_DECISIONITEM" PRIMARY KEY ("DECISIONITEM_CODIGO")
);

/* Table: DECISIONJOIN, Owner: SYSDBA */

CREATE TABLE "DECISIONJOIN" 
(
  "DECISIONJOIN_TEXTO"	 VARCHAR(100) NOT NULL,
  "DECISIONJOIN_SQL"	 VARCHAR(1000) NOT NULL,
  "DECISION_FOCO"	 VARCHAR(30),
  "DECISIONJOIN_CODIGO"	 INTEGER NOT NULL,
  "DECISIONJOIN_ORDEM"	 INTEGER,
CONSTRAINT "PK_DECISIONJOIN" PRIMARY KEY ("DECISIONJOIN_CODIGO")
);

/* Table: DECISIONMETA, Owner: SYSDBA */

CREATE TABLE "DECISIONMETA" 
(
  "DECISIONMETA_CODIGO"	 INTEGER NOT NULL,
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONMETA_DESCRICAO"	 VARCHAR(100) NOT NULL,
  "DECISIONMETA_INICIO"	 TIMESTAMP NOT NULL,
  "DECISIONMETA_FINAL"	 TIMESTAMP,
  "DECISIONMETA_CHECA1"	 VARCHAR(30),
  "DECISIONMETA_CHECA2"	 VARCHAR(30),
  "DECISIONMETA_CHECA3"	 VARCHAR(30),
  "DECISIONCENARIO_CODIGO"	 INTEGER,
  "DECISIONMETA_ASC"	 CHAR(1),
  "DECISIONMETA_DIAS"	 INTEGER,
  "DECISIONMETA_CENARIOS"	 VARCHAR(100),
  "DECISIONMETA_FILTROADD"	 VARCHAR(500),
  "DECISIONMETA_CAPTION"	 VARCHAR(200),
  "DECISIONMETA_FILTROADDCHK"	 CHAR(1),
CONSTRAINT "PK_DECISIONMETA" PRIMARY KEY ("DECISIONMETA_CODIGO")
);

/* Table: DECISIONMETAITEM, Owner: SYSDBA */

CREATE TABLE "DECISIONMETAITEM" 
(
  "DECISIONMETAITEM_CODIGO"	 INTEGER NOT NULL,
  "DECISIONMETA_CODIGO"	 INTEGER NOT NULL,
  "DECISIONMETAITEM_CHAVE2"	 FLOAT,
  "DECISIONMETAITEM_CHAVE3"	 FLOAT,
  "DECISIONMETAITEM_CHAVE4"	 FLOAT,
  "DECISIONMETAITEM_CHAVE5"	 FLOAT,
  "DECISIONMETAITEM_MIN"	 FLOAT,
  "DECISIONMETAITEM_MAX"	 FLOAT,
  "DECISIONMETAITEM_VALOR"	 FLOAT,
  "DECISIONMETAITEM_CAMPOCHAVE1"	 VARCHAR(100),
  "DECISIONMETAITEM_CAMPOCHAVE2"	 VARCHAR(100),
  "DECISIONMETAITEM_CAMPOCHAVE3"	 VARCHAR(100),
  "DECISIONMETAITEM_CAMPOCHAVE4"	 VARCHAR(100),
  "DECISIONMETAITEM_CAMPOCHAVE5"	 VARCHAR(100),
  "DECISIONMETAITEM_CHAVE1"	 FLOAT,
  "DECISIONMETAITEM_MIN1"	 FLOAT,
  "DECISIONMETAITEM_MAX1"	 FLOAT,
  "DECISIONMETAITEM_MIN2"	 FLOAT,
  "DECISIONMETAITEM_MAX2"	 FLOAT,
  "DECISIONMETAITEM_MIN3"	 FLOAT,
  "DECISIONMETAITEM_MAX3"	 FLOAT,
  "DECISIONMETAITEM_MIN4"	 FLOAT,
  "DECISIONMETAITEM_MAX4"	 FLOAT,
  "DECISIONMETAITEM_MIN5"	 FLOAT,
  "DECISIONMETAITEM_MAX5"	 FLOAT,
CONSTRAINT "PK_DECISIONMETAITEM" PRIMARY KEY ("DECISIONMETAITEM_CODIGO")
);

/* Table: DECISIONPAINEL, Owner: SYSDBA */

CREATE TABLE "DECISIONPAINEL" 
(
  "DECISIONPAINEL_CODIGO"	 INTEGER NOT NULL,
  "DECISIONPAINEL_DESCRICAO"	 VARCHAR(100) NOT NULL,
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONCENARIO_CODIGO"	 VARCHAR(200),
  "DECISIONPAINEL_EXIBIR"	 CHAR(1) NOT NULL,
  "DECISIONPAINEL_TOP"	 INTEGER NOT NULL,
  "DECISIONPAINEL_LEFT"	 INTEGER NOT NULL,
  "DECISIONPAINEL_WIDTH"	 INTEGER NOT NULL,
  "DECISIONPAINEL_HEIGHT"	 INTEGER NOT NULL,
  "DECISIONPAINEL_UPDATE"	 INTEGER,
  "DECISIONPAINEL_PERIODO"	 INTEGER,
  "DECISIONPAINEL_CENARIO"	 VARCHAR(30),
  "DECISIONPAINEL_PAINELSUP"	 CHAR(1),
  "DECISIONPAINEL_PAINELINF"	 CHAR(1),
  "DECISIONPAINEL_PAINELESQ"	 CHAR(1),
  "DECISIONPAINEL_PAINELDIR"	 CHAR(1),
  "DECISIONPAINEL_FILTRO"	 VARCHAR(1000),
  "DECISIONPAINEL_CAPTION"	 VARCHAR(300),
  "DECISIONPAINEL_META"	 CHAR(1),
  "DECISIONPAINEL_GRAF3D"	 CHAR(1),
  "DECISIONPAINEL_ORDERBY"	 VARCHAR(100),
  "DECISIONPAINEL_ORDERBY2"	 VARCHAR(100),
  "DECISIONPAINEL_TELAW"	 SMALLINT,
  "DECISIONPAINEL_TELAH"	 SMALLINT,
  "DECISIONPAINEL_TOUCH"	 CHAR(1),
CONSTRAINT "PK_DECISIONPAINEL" PRIMARY KEY ("DECISIONPAINEL_CODIGO")
);

/* Table: DECISIONSCRIPT, Owner: SYSDBA */

CREATE TABLE "DECISIONSCRIPT" 
(
  "DECISIONSCRIPT_CODIGO"	 INTEGER NOT NULL,
  "DECISIONSCRIPT_DESCRICAO"	 VARCHAR(30) NOT NULL,
  "DECISIONSCRIPT_SQL"	 VARCHAR(1000) NOT NULL,
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISION_FOCO"	 VARCHAR(50),
  "DECISIONSCRIPT_ORDEM"	 INTEGER NOT NULL,
CONSTRAINT "PK_DECISIONSCRIPT" PRIMARY KEY ("DECISIONSCRIPT_CODIGO")
);

/* Table: DECISIONSPEAK, Owner: SYSDBA */

CREATE TABLE "DECISIONSPEAK" 
(
  "DECISIONSPEAK_CODIGO"	 INTEGER NOT NULL,
  "DECISIONSPEAK_DESCRICAO"	 VARCHAR(200) NOT NULL,
  "DECISION_CODIGO"	 INTEGER,
  "DECISIONSPEAK_SQL"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DECISIONSPEAK_INTERVALO"	 DOUBLE PRECISION,
  "DECISIONSPEAK_PERGUNTA"	 CHAR(1),
  "DECISIONSPEAK_ABERTURA"	 CHAR(1),
  "DECISIONSPEAK_ORDEM"	 INTEGER
);

/* Table: DECISIONUSUARIOPAINEL, Owner: SYSDBA */

CREATE TABLE "DECISIONUSUARIOPAINEL" 
(
  "DECISIONUSUARIOPAINEL_CODIGO"	 INTEGER NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
  "DECISIONUSUARIOPAINEL_MIN"	 INTEGER,
  "DECISIONPAINEL_DESCRICAO"	 VARCHAR(100),
  "DECISIONUSUARIOPAINEL_ORDEM"	 INTEGER,
  "DECISIONUSUARIOPAINEL_ATIVO"	 CHAR(1),
CONSTRAINT "PK_DECISIONUSUARIOPAINEL" PRIMARY KEY ("DECISIONUSUARIOPAINEL_CODIGO")
);

/* Table: DECISIONVALOR, Owner: SYSDBA */

CREATE TABLE "DECISIONVALOR" 
(
  "DECISIONVALOR_CODIGO"	 INTEGER NOT NULL,
  "DECISIONVALOR_DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONVALOR_FORMULA"	 VARCHAR(30) NOT NULL,
CONSTRAINT "PK_DECISIONVALOR" PRIMARY KEY ("DECISIONVALOR_CODIGO")
);

/* Table: DEFCONVPLA1, Owner: SYSDBA */

CREATE TABLE "DEFCONVPLA1" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "NOMEPLANO"	 VARCHAR(15) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: DEFPROF, Owner: SYSDBA */

CREATE TABLE "DEFPROF" 
(
  "INDICE"	 FLOAT NOT NULL,
  "A_CODAMB1"	 PK_CODAMB  NOT NULL,
  "A_CODAMB2"	 PK_CODAMB  NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS  NOT NULL,
  "PERCENTUAL"	 DOUBLE PRECISION NOT NULL,
  "PERCENTUAL1"	 DOUBLE PRECISION NOT NULL,
  "CONVENIO"	 INTEGER,
  "VALORFIXO"	 DOUBLE PRECISION,
  "PARCEIRO"	 INTEGER,
  "PARCEIROPERC"	 DOUBLE PRECISION,
  "FILME"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "CO"	 CHAR(1),
  "FILMEPARCEIRO"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP,
  "UNIDADENEGOCIO"	 INTEGER,
  "VENCIMENTO"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "GRUPO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: DEFPROF1, Owner: SYSDBA */

CREATE TABLE "DEFPROF1" 
(
  "INDICE"	 FLOAT NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS  NOT NULL,
  "ESPECIALIDADE"	 CHAR(2) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ATIVO"	 CHAR(1),
  "RQE"	 VARCHAR(50),
 PRIMARY KEY ("INDICE")
);

/* Table: DEFPROF3, Owner: SYSDBA */

CREATE TABLE "DEFPROF3" 
(
  "INDICE"	 FLOAT NOT NULL,
  "A_CODAMB1"	 PK_CODAMB  NOT NULL,
  "A_CODAMB2"	 PK_CODAMB  NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS  NOT NULL,
  "DATA2"	 TIMESTAMP,
  "TABELAPADRAO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "TRAVAR"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "UNIDADENEGOCIO"	 INTEGER,
  "CONVENIO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: DEFPROF4, Owner: SYSDBA */

CREATE TABLE "DEFPROF4" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS  NOT NULL,
  "AMB"	 CHAR(1),
  "EME"	 CHAR(1),
  "INTER"	 CHAR(1),
  "ENVIADOPARA"	 VARCHAR(40),
  "DATA2"	 TIMESTAMP,
  "DESCONTO"	 CHAR(1),
  "EMPRESA"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "MOEDA"	 SMALLINT,
  "TABELA"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: DEFPROFDESCONTO, Owner: SYSDBA */

CREATE TABLE "DEFPROFDESCONTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "PORCENTO"	 CHAR(1),
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_DEFPROFDESCONTO" PRIMARY KEY ("INDICE")
);

/* Table: DEFPROFMED, Owner: SYSDBA */

CREATE TABLE "DEFPROFMED" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30) NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_DEFPROFMED" PRIMARY KEY ("INDICE")
);

/* Table: DEFPROFMM, Owner: SYSDBA */

CREATE TABLE "DEFPROFMM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS  NOT NULL,
  "CODIGOMM"	 PK_CODIGOMM ,
  "PERCENTUAL"	 DOUBLE PRECISION NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "A_CODAMB1"	 CHAR(8),
  "A_CODAMB2"	 CHAR(8),
  "PERCENTUAL1"	 DOUBLE PRECISION,
  "CONVENIO"	 INTEGER,
  "VALORFIXO"	 DOUBLE PRECISION,
  "PARCEIRO"	 INTEGER,
  "PARCEIROPERC"	 DOUBLE PRECISION,
  "UNIDADENEGOCIO"	 INTEGER,
  "VENCIMENTO"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: DEFPROFRATEIO, Owner: SYSDBA */

CREATE TABLE "DEFPROFRATEIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "DATAINICIO"	 TIMESTAMP NOT NULL,
  "DATAFINAL"	 TIMESTAMP NOT NULL,
  "PORCENTAGEM"	 DOUBLE PRECISION,
  "PARCEIRO"	 INTEGER NOT NULL,
CONSTRAINT "PK_DEFPROFRATEIO" PRIMARY KEY ("INDICE")
);

/* Table: DEFPROFSOL, Owner: SYSDBA */

CREATE TABLE "DEFPROFSOL" 
(
  "INDICE"	 INTEGER NOT NULL,
  "INICIO"	 TIMESTAMP NOT NULL,
  "FINAL"	 TIMESTAMP NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "PORCENTAGEM"	 DOUBLE PRECISION NOT NULL,
  "CODIGOAMB1"	 VARCHAR(10) NOT NULL,
  "CODIGOAMB2"	 VARCHAR(10) NOT NULL,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "FILME"	 DOUBLE PRECISION,
  "DESCONTAMEDICO"	 CHAR(1),
CONSTRAINT "PK_DEFPROFSOL" PRIMARY KEY ("INDICE")
);

/* Table: DENTES, Owner: SYSDBA */

CREATE TABLE "DENTES" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "DENTE"	 INTEGER,
  "EXISTE"	 CHAR(1),
  "COR"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "COR1"	 INTEGER,
  "COR2"	 INTEGER,
  "COR3"	 INTEGER,
  "COR4"	 INTEGER,
  "COR5"	 INTEGER,
  "COR6"	 INTEGER,
  "COR7"	 INTEGER,
  "COR8"	 INTEGER,
  "COR9"	 INTEGER,
  "COR10"	 INTEGER,
  "COR11"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: DEPTO, Owner: SYSDBA */

CREATE TABLE "DEPTO" 
(
  "DEPTO"	 SMALLINT NOT NULL,
  "NOME"	 VARCHAR(30),
  "DEPTOFIN"	 INTEGER,
  "NATOPFIN"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "EMAIL"	 VARCHAR(50),
  "EMAIL_COORDENACAO"	 VARCHAR(250),
  "CCUSTO"	 INTEGER,
 PRIMARY KEY ("DEPTO")
);

/* Table: DEPTOX, Owner: SYSDBA */

CREATE TABLE "DEPTOX" 
(
  "DEPTO"	 SMALLINT NOT NULL,
  "NOME"	 VARCHAR(30),
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("DEPTO")
);

/* Table: DICOM, Owner: SYSDBA */

CREATE TABLE "DICOM" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "PACIENTE"	 VARCHAR(50),
  "SOLICITACAO"	 TIMESTAMP NOT NULL,
  "PREVISAO"	 TIMESTAMP NOT NULL,
  "INCLUSAO"	 TIMESTAMP,
  "STATUS"	 CHAR(1),
  "SERVIDOR"	 VARCHAR(30),
  "CAMINHO"	 VARCHAR(1000),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CD"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "MODALIDADE"	 CHAR(1),
CONSTRAINT "PK_CODIGO" PRIMARY KEY ("CODIGO")
);

/* Table: DICOM2, Owner: SYSDBA */

CREATE TABLE "DICOM2" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "PACIENTE"	 VARCHAR(50),
  "SOLICITACAO"	 TIMESTAMP NOT NULL,
  "PREVISAO"	 TIMESTAMP NOT NULL,
  "INCLUSAO"	 TIMESTAMP,
  "STATUS"	 CHAR(1),
  "SERVIDOR"	 VARCHAR(30),
  "CAMINHO"	 VARCHAR(1000),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_DICOM2" PRIMARY KEY ("CODIGO")
);

/* Table: DIETA, Owner: SYSDBA */

CREATE TABLE "DIETA" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "RESUMO"	 VARCHAR(8),
CONSTRAINT "PK_DIETA" PRIMARY KEY ("CODIGO")
);

/* Table: DIETAITEM, Owner: SYSDBA */

CREATE TABLE "DIETAITEM" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DIETA"	 INTEGER NOT NULL,
  "ALIMENTO"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(15) NOT NULL,
  "QTDE"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_DIETAITEM" PRIMARY KEY ("CODIGO")
);

/* Table: DIETA_CARACTE, Owner: SYSDBA */

CREATE TABLE "DIETA_CARACTE" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL
);

/* Table: DISPOSITIVOS, Owner: SYSDBA */

CREATE TABLE "DISPOSITIVOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "DISPOSITIVO"	 VARCHAR(150),
  "TROCA"	 VARCHAR(150),
  "RECOMENDACOES"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
CONSTRAINT "PK_DISPOSITIVOS" PRIMARY KEY ("INDICE")
);

/* Table: DISTRIBUICAO_LEITOS, Owner: SYSDBA */

CREATE TABLE "DISTRIBUICAO_LEITOS" 
(
  "ID_DISTRIBUICAO"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER,
  "ENFERMEIRO"	 INTEGER,
  "DATA"	 DATE,
  "TURNO"	 VARCHAR(20),
  "LEITO"	 VARCHAR(100),
  "ALA"	 VARCHAR(100),
CONSTRAINT "PK_DISTRIBUICAO_LEITOS" PRIMARY KEY ("ID_DISTRIBUICAO")
);

/* Table: DROGASCONTINUAS, Owner: SYSDBA */

CREATE TABLE "DROGASCONTINUAS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DROGA"	 VARCHAR(50),
  "ML"	 VARCHAR(30),
  "CONCENTRACAO"	 VARCHAR(30),
  "CODIGOCPS"	 FLOAT,
  "DATA"	 TIMESTAMP,
CONSTRAINT "PK_DROGASCONTINUAS" PRIMARY KEY ("INDICE")
);

/* Table: DSIMAGEM, Owner: SYSDBA */

CREATE TABLE "DSIMAGEM" 
(
  "DSIMAGEM_CODIGO"	 INTEGER NOT NULL,
  "DSIMAGEM_DESCRICAO"	 VARCHAR(100) NOT NULL,
  "DSIMAGEM_FIGURA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80 NOT NULL,
  "DSIMAGEM_ATIVO"	 CHAR(1) NOT NULL,
  "DSIMAGEM_ALTURA"	 DOUBLE PRECISION NOT NULL,
  "DSIMAGEM_LARGURA"	 DOUBLE PRECISION NOT NULL,
CONSTRAINT "PK_DSIMAGEM" PRIMARY KEY ("DSIMAGEM_CODIGO")
);

/* Table: DSIMAGEMITEM, Owner: SYSDBA */

CREATE TABLE "DSIMAGEMITEM" 
(
  "DSIMAGEMITEM_CODIGO"	 INTEGER NOT NULL,
  "DSIMAGEMITEM_DESCRICAO"	 VARCHAR(100) NOT NULL,
  "DSIMAGEM_CODIGO"	 INTEGER NOT NULL,
  "DSIMAGEMITEM_ATIVO"	 CHAR(1) NOT NULL,
  "DSIMAGEMITEM_ALTURA"	 DOUBLE PRECISION NOT NULL,
  "DSIMAGEMITEM_LARGURA"	 DOUBLE PRECISION NOT NULL,
  "DSIMAGEMITEM_RESUMO"	 VARCHAR(100),
  "DSIMAGEMITEM_MOSTRANOME"	 CHAR(1),
CONSTRAINT "PK_DSIMAGEMITEM" PRIMARY KEY ("DSIMAGEMITEM_CODIGO")
);

/* Table: DSSTATIC, Owner: SYSDBA */

CREATE TABLE "DSSTATIC" 
(
  "DSSTATIC_CODIGO"	 INTEGER NOT NULL,
  "DECISION_CODIGO"	 INTEGER NOT NULL,
  "DECISIONCENARIO_CODIGOS"	 VARCHAR(30),
  "DSSTATIC_HORAINICIO"	 TIMESTAMP,
  "DSSTATIC_HORAFINAL"	 TIMESTAMP,
  "DSSTATIC_TITULO"	 VARCHAR(100)
);

/* Table: DVA, Owner: SYSDBA */

CREATE TABLE "DVA" 
(
  "ID_DVA"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "TERMINO"	 TIMESTAMP,
  "EVOLUCAO"	 INTEGER,
  "DROGAS_VA"	 VARCHAR(100),
CONSTRAINT "PK_DVA" PRIMARY KEY ("ID_DVA")
);

/* Table: EMPRESACONFIG, Owner: SYSDBA */

CREATE TABLE "EMPRESACONFIG" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SISTEMA"	 VARCHAR(20),
  "PARAMETRO"	 VARCHAR(40),
  "VALOR"	 VARCHAR(100),
  "DESCRICAO"	 VARCHAR(150),
  "DATASINC"	 TIMESTAMP,
  "GRUPO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "IP1"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "VERSAO1"	 VARCHAR(20),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "TEXTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
 PRIMARY KEY ("INDICE")
);

/* Table: EMPRESAMO, Owner: SYSDBA */

CREATE TABLE "EMPRESAMO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "EMPRESA"	 VARCHAR(54) NOT NULL,
  "RAZAOSOCIAL"	 VARCHAR(54) NOT NULL,
  "CNPJ"	 VARCHAR(15),
  "ESTADUAL"	 VARCHAR(13),
  "MATRICULA"	 VARCHAR(20),
  "ENDERECO"	 VARCHAR(50),
  "REFERC"	 VARCHAR(120),
  "BAIRRO"	 VARCHAR(25),
  "CIDADE"	 VARCHAR(25),
  "CEP"	 VARCHAR(8),
  "UF"	 PK_UF ,
  "TELEFONE"	 CHAR(11),
  "TELEFONE2"	 CHAR(11),
  "HTML"	 VARCHAR(40),
  "EMAIL"	 VARCHAR(40),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ENDERECO2"	 CHAR(50),
  "BAIRRO2"	 CHAR(20),
  "CIDADE2"	 CHAR(20),
  "CEP2"	 CHAR(8),
  "TELEFONE3"	 CHAR(11),
  "ATIVIDADE"	 CHAR(20),
  "USER1"	 SMALLINT NOT NULL,
  "USER2"	 SMALLINT,
  "DATA1"	 TIMESTAMP NOT NULL,
  "DATA2"	 TIMESTAMP,
  "GRAUDERISCO"	 SMALLINT,
  "CNAE"	 VARCHAR(5),
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("CODIGO")
);

/* Table: EMPRESAS, Owner: SYSDBA */

CREATE TABLE "EMPRESAS" 
(
  "RAZAOSOCIAL"	 VARCHAR(50) NOT NULL,
  "ENDERECO"	 VARCHAR(60),
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 PK_CIDADE ,
  "CEP"	 PK_CEP ,
  "CNPJ"	 PK_CNPJ ,
  "TELEFONE"	 VARCHAR(15),
  "EMAIL"	 PK_EMAIL ,
  "HTML"	 VARCHAR(50),
  "ANO"	 VARCHAR(4),
  "DIARIO"	 FLOAT,
  "PORTASERIAL"	 VARCHAR(4),
  "TIPODISCAGEM"	 VARCHAR(5),
  "PREFIXO"	 VARCHAR(1),
  "CONTROLE"	 VARCHAR(8),
  "CONTROLE1"	 VARCHAR(1),
  "TIPOJANELA"	 VARCHAR(1),
  "NETFILEDIR"	 VARCHAR(10),
  "USUARIO"	 VARCHAR(20),
  "NUMEROCOPIA"	 VARCHAR(10),
  "CORRELATORIO"	 VARCHAR(8),
  "CORRELATORIO1"	 VARCHAR(8),
  "LOGO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "UF"	 PK_UF ,
  "AUXPRI"	 SMALLINT,
  "AUXSEG"	 SMALLINT,
  "AUXTER"	 SMALLINT,
  "AUXINS"	 SMALLINT,
  "FILMERX"	 SMALLINT,
  "FILMEUS"	 SMALLINT,
  "MENSCART"	 CHAR(65),
  "HTML1"	 VARCHAR(50),
  "P_DATAMIN"	 TIMESTAMP,
  "P_DATAMAX"	 TIMESTAMP,
  "LOCALENTRAGA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MENSAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EMITENF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ASSINATURA"	 CHAR(1),
  "MARCAMAT"	 CHAR(1),
  "MARCAMED"	 CHAR(1),
  "SMTP"	 VARCHAR(30),
  "HTML_M"	 VARCHAR(50),
  "HTML_F"	 VARCHAR(50),
  "HTML_L"	 VARCHAR(50),
  "IMPORTAFAR"	 CHAR(1),
  "HONOINT"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RETENCAO"	 CHAR(1),
  "TIPORELHON"	 CHAR(1),
  "INTEGRALAUDO"	 CHAR(1),
  "VALIDA"	 CHAR(18),
  "MAXTEMPOREL"	 INTEGER,
  "APELIDO"	 VARCHAR(100),
  "A_MEDICO"	 INTEGER,
  "CODIGO"	 SMALLINT,
  "CNES"	 VARCHAR(10),
  "HTML_FIN"	 VARCHAR(50),
  "CPFDIRETOR"	 CHAR(11),
  "NOMEDIRETOR"	 VARCHAR(50),
  "HTML_NET"	 VARCHAR(80),
  "LOGINDINAMICO"	 CHAR(1),
  "PACOTEATIVO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "LIMITE"	 VARCHAR(30),
  "DATA2"	 TIMESTAMP,
  "QTDEMEDICO"	 VARCHAR(4),
  "EXPCPSPARTICULAR"	 CHAR(1),
  "EXPCPSGLOSA"	 CHAR(1),
  "GRAVALOG"	 CHAR(1),
  "DATASTOKENTRADA"	 TIMESTAMP,
  "DATASTOKSAIDA"	 TIMESTAMP,
  "DATASTOKDEVOLUCAO"	 TIMESTAMP,
  "DIASALTA"	 SMALLINT,
  "DDD"	 CHAR(2),
  "TIPORELESTOQUE"	 CHAR(1),
  "FAX"	 VARCHAR(11),
  "USERID"	 VARCHAR(50),
  "SENHASMTP"	 VARCHAR(20),
  "EMAILAUTORIZA"	 VARCHAR(50),
  "DATASINC"	 TIMESTAMP,
  "TIPOEMPRESA"	 CHAR(1),
  "ANS"	 VARCHAR(15),
  "CIDADEIBGE"	 VARCHAR(7),
  "RCPDIRETOR"	 VARCHAR(10),
  "CONTABILFORNECEDOR"	 VARCHAR(5),
  "CONTABILCLIENTE"	 VARCHAR(5),
  "VERINTERNADOS"	 CHAR(1),
  "BUSCAIMAGEM"	 CHAR(1),
  "SENHA"	 VARCHAR(8),
  "NUMERO"	 VARCHAR(8),
  "LOGRADOURO"	 CHAR(3),
  "MENSAGEM_MARCA"	 VARCHAR(300),
  "TRAVACONTABIL"	 TIMESTAMP,
  "IE"	 VARCHAR(20),
  "IM"	 VARCHAR(20),
  "NIRE"	 VARCHAR(30),
  "ORGCOMP"	 VARCHAR(30),
  "COD_ENT_REF"	 VARCHAR(2),
  "COD_INSCR"	 VARCHAR(2),
  "NNIRE"	 VARCHAR(11),
  "NUM_ORD"	 INTEGER,
  "DT_ARQ"	 TIMESTAMP,
  "DT_ARQ_CONV"	 TIMESTAMP,
  "ISS"	 DOUBLE PRECISION,
  "CGA"	 VARCHAR(10),
  "CNAE"	 INTEGER,
  "NATJURIDICA"	 INTEGER,
  "ALIQRAT"	 DOUBLE PRECISION,
  "FPAS"	 INTEGER,
  "GPS"	 INTEGER,
  "INTERNET"	 CHAR(1),
  "OPTANTESIMPLESNACIONAL"	 CHAR(1),
  "INCENTIVADORCULTURAL"	 CHAR(1),
 PRIMARY KEY ("RAZAOSOCIAL")
);

/* Table: ENIVOSMS, Owner: SYSDBA */

CREATE TABLE "ENIVOSMS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "COMMANDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ULTIMOENVIO"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "MENSAGEM"	 VARCHAR(140) NOT NULL,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: ENQUETE, Owner: SYSDBA */

CREATE TABLE "ENQUETE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TITULO"	 VARCHAR(200) NOT NULL,
  "FREQUENCIA"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "VALIDADE"	 TIMESTAMP NOT NULL,
  "NIVEL1"	 VARCHAR(40) NOT NULL,
  "NIVEL2"	 VARCHAR(40) NOT NULL,
  "NIVEL3"	 VARCHAR(40),
  "NIVEL4"	 VARCHAR(40),
  "NIVEL5"	 VARCHAR(40),
  "NIVEL6"	 VARCHAR(40),
  "NIVEL7"	 VARCHAR(40),
  "NIVEL8"	 VARCHAR(40),
  "NIVEL9"	 VARCHAR(40),
  "NIVEL10"	 VARCHAR(40),
  "PUBLICO"	 VARCHAR(30) NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "ORDEM"	 SMALLINT,
  "SETOR"	 VARCHAR(40),
  "NIVEL11"	 VARCHAR(40),
  "NIVEL12"	 VARCHAR(40),
  "NIVEL13"	 VARCHAR(40),
  "NIVEL14"	 VARCHAR(40),
  "NIVEL15"	 VARCHAR(40),
CONSTRAINT "PK_ENQUETE" PRIMARY KEY ("INDICE")
);

/* Table: EQUIPMED, Owner: SYSDBA */

CREATE TABLE "EQUIPMED" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30) NOT NULL,
  "DETALHE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SETOR"	 VARCHAR(70),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_EQUIPMED" PRIMARY KEY ("CODIGO")
);

/* Table: EQUIPMEDITEM, Owner: SYSDBA */

CREATE TABLE "EQUIPMEDITEM" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "EQUIPMED"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_EQUIPMEDITEM" PRIMARY KEY ("CODIGO")
);

/* Table: ERROSUSER, Owner: SYSDBA */

CREATE TABLE "ERROSUSER" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "ACONTECIDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: ESCALAALDRETE, Owner: SYSDBA */

CREATE TABLE "ESCALAALDRETE" 
(
  "MUSCULAR"	 INTEGER NOT NULL,
  "RESPIRACAO"	 INTEGER NOT NULL,
  "CIRCULACAO"	 INTEGER NOT NULL,
  "CONSCIENCIA"	 INTEGER NOT NULL,
  "SATURACAO"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAALDRETE" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAAPACHE, Owner: SYSDBA */

CREATE TABLE "ESCALAAPACHE" 
(
  "TEMPERATURA"	 INTEGER NOT NULL,
  "PRESSAO"	 INTEGER NOT NULL,
  "FC"	 INTEGER NOT NULL,
  "FR"	 INTEGER NOT NULL,
  "OXIGENIO"	 INTEGER NOT NULL,
  "PH"	 INTEGER NOT NULL,
  "NA"	 INTEGER NOT NULL,
  "K"	 INTEGER NOT NULL,
  "CREA"	 INTEGER NOT NULL,
  "HEMA"	 INTEGER NOT NULL,
  "LEUCO"	 INTEGER NOT NULL,
  "GLASGOW"	 INTEGER NOT NULL,
  "IDADE"	 INTEGER NOT NULL,
  "CRONICA"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAAPACHE" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAASA, Owner: SYSDBA */

CREATE TABLE "ESCALAASA" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
CONSTRAINT "PK_ESCALAASA" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALABALTHAZAR, Owner: SYSDBA */

CREATE TABLE "ESCALABALTHAZAR" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALABALTHAZAR" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALABORG, Owner: SYSDBA */

CREATE TABLE "ESCALABORG" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALABORG" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALABRADEN, Owner: SYSDBA */

CREATE TABLE "ESCALABRADEN" 
(
  "PERCEPCAO"	 INTEGER NOT NULL,
  "HUMILDADE"	 INTEGER NOT NULL,
  "ATIVIDADE"	 INTEGER NOT NULL,
  "MOBILIDADE"	 INTEGER NOT NULL,
  "NUTRICAO"	 INTEGER NOT NULL,
  "FRICCAO"	 INTEGER NOT NULL,
  "OXIGENACAO"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALABRADEN" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALACASVD, Owner: SYSDBA */

CREATE TABLE "ESCALACASVD" 
(
  "TIPO"	 INTEGER,
  "CLASSIFICACAO"	 INTEGER,
  "TIPOCATETER"	 INTEGER,
  "INDICACAO"	 INTEGER,
  "ANTESPROC1"	 INTEGER,
  "ANTESPROC2"	 INTEGER,
  "ANTESPROC3"	 INTEGER,
  "ANTESPROC4"	 INTEGER,
  "TEPROC1"	 INTEGER,
  "TEPROC2"	 INTEGER,
  "APOSPROC1"	 INTEGER,
  "APOSPROC2"	 INTEGER,
  "APOSPROC3"	 INTEGER,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
  "RESP"	 INTEGER,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "QUANTIDADE"	 INTEGER,
CONSTRAINT "PK_ESCALACASVD" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALACATETER, Owner: SYSDBA */

CREATE TABLE "ESCALACATETER" 
(
  "TIPO"	 INTEGER,
  "CLASSIFICACAO"	 INTEGER,
  "TIPOCATETER"	 INTEGER,
  "INDICACAO"	 INTEGER,
  "ANTESPROC1"	 INTEGER,
  "ANTESPROC2"	 INTEGER,
  "ANTESPROC3"	 INTEGER,
  "ANTESPROC4"	 INTEGER,
  "ANTESPROC5"	 INTEGER,
  "DURANTEPROC1"	 INTEGER,
  "DURANTEPROC2"	 INTEGER,
  "DURANTEPROC3"	 INTEGER,
  "APOSPROC1"	 INTEGER,
  "APOSPROC2"	 INTEGER,
  "APOSPROC3"	 INTEGER,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
  "RESP"	 INTEGER,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
CONSTRAINT "PK_ESCALACATETER" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALADOR, Owner: SYSDBA */

CREATE TABLE "ESCALADOR" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALADOR" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAFACE, Owner: SYSDBA */

CREATE TABLE "ESCALAFACE" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
CONSTRAINT "PK_ESCALAFACE" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAFISHER, Owner: SYSDBA */

CREATE TABLE "ESCALAFISHER" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
CONSTRAINT "PK_ESCALAFISHER" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAFLEBITE, Owner: SYSDBA */

CREATE TABLE "ESCALAFLEBITE" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAFLEBITE" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAFRAMINGHAM, Owner: SYSDBA */

CREATE TABLE "ESCALAFRAMINGHAM" 
(
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "IDADE"	 INTEGER NOT NULL,
  "COLESTEROL"	 INTEGER,
  "HDL"	 INTEGER,
  "PRESSAO"	 INTEGER,
  "DIABETE"	 INTEGER,
  "TABAGISMO"	 INTEGER,
  "PRESSAONT"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "CONDUTA"	 VARCHAR(250),
  "MEDICO"	 INTEGER,
CONSTRAINT "PK_ESCALAFRAMINGHAM" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAFUGULIN, Owner: SYSDBA */

CREATE TABLE "ESCALAFUGULIN" 
(
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "MENTE"	 INTEGER,
  "OXIG"	 INTEGER,
  "SV"	 INTEGER,
  "MOTILIDADE"	 INTEGER,
  "DEAMBULACAO"	 INTEGER,
  "ALIMENTACAO"	 INTEGER,
  "CC"	 INTEGER,
  "ELIMINACAO"	 INTEGER,
  "TERAPEUTICA"	 INTEGER,
  "USER1"	 INTEGER
);

/* Table: ESCALAGLASGOW, Owner: SYSDBA */

CREATE TABLE "ESCALAGLASGOW" 
(
  "OCULAR"	 INTEGER NOT NULL,
  "VERBAL"	 INTEGER NOT NULL,
  "MOTORA"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "PUPILA"	 INTEGER,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAGLASGOW" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAHH, Owner: SYSDBA */

CREATE TABLE "ESCALAHH" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAHH" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAMEDICA, Owner: SYSDBA */

CREATE TABLE "ESCALAMEDICA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "SITUACAO"	 INTEGER NOT NULL,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CODIGOCPS"	 DOUBLE PRECISION NOT NULL,
  "A_ALA"	 INTEGER,
  "ALA"	 INTEGER NOT NULL,
CONSTRAINT "PK_ESCALAMEDICA" PRIMARY KEY ("INDICE")
);

/* Table: ESCALAMEWS, Owner: SYSDBA */

CREATE TABLE "ESCALAMEWS" 
(
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "FR"	 INTEGER,
  "PAS"	 INTEGER,
  "FC"	 INTEGER,
  "TEMP"	 INTEGER,
  "SNC"	 INTEGER
);

/* Table: ESCALAMORSE, Owner: SYSDBA */

CREATE TABLE "ESCALAMORSE" 
(
  "QUEDA"	 INTEGER NOT NULL,
  "DIAGNOSTICO"	 INTEGER NOT NULL,
  "CAMINHAR"	 INTEGER NOT NULL,
  "INTRAVENOSA"	 INTEGER NOT NULL,
  "POSTURA"	 INTEGER NOT NULL,
  "MENTAL"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAMORSE" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAMRC, Owner: SYSDBA */

CREATE TABLE "ESCALAMRC" 
(
  "EOMBRO"	 INTEGER,
  "ECOTOVELO"	 INTEGER,
  "EPUNHO"	 INTEGER,
  "EQUADRIL"	 INTEGER,
  "EJOELHO"	 INTEGER,
  "ETRONOZELO"	 INTEGER,
  "DOMBRO"	 INTEGER,
  "DCOTOVELO"	 INTEGER,
  "DPUNHO"	 INTEGER,
  "DQUADRIL"	 INTEGER,
  "DJOELHO"	 INTEGER,
  "DTRONOZELO"	 INTEGER,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAMRC" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAPERME, Owner: SYSDBA */

CREATE TABLE "ESCALAPERME" 
(
  "MENTAL"	 INTEGER,
  "BARREIRA"	 INTEGER,
  "FORCA"	 INTEGER,
  "LEITO"	 INTEGER,
  "TRANSFERENCIA"	 INTEGER,
  "MARCHA"	 INTEGER,
  "ENDURANCE"	 INTEGER,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAPERME" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALAQUEDA, Owner: SYSDBA */

CREATE TABLE "ESCALAQUEDA" 
(
  "CRIANCA"	 INTEGER,
  "IDOSO_MAIOR60"	 INTEGER,
  "IDOSO_MENOR60"	 INTEGER,
  "MEDICAOCAO_SNC"	 INTEGER,
  "JOVEM_MEDICACAO"	 INTEGER,
  "DIURETICOS"	 INTEGER,
  "PROB_PES"	 INTEGER,
  "NEUROLOGICO"	 INTEGER,
  "DEPRESSAO"	 INTEGER,
  "ONCOLOGICO"	 INTEGER,
  "HISTORIA_QUEDA"	 INTEGER,
  "COLONOSCOPIA"	 INTEGER,
  "MARCHA"	 INTEGER,
  "SENSITIVO"	 INTEGER,
  "CONSCIENCIA"	 INTEGER,
  "MASSA_CORPOREA"	 INTEGER,
  "POS_OPERATORIO"	 INTEGER,
  "TIPO"	 INTEGER,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALAQUEDA" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALARASS, Owner: SYSDBA */

CREATE TABLE "ESCALARASS" 
(
  "VALOR"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER,
CONSTRAINT "PK_ESCALARASS" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALASAPS3, Owner: SYSDBA */

CREATE TABLE "ESCALASAPS3" 
(
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "IDADE"	 INTEGER NOT NULL,
  "COMORBIDADE"	 INTEGER,
  "DIASINT"	 INTEGER,
  "PROCEDENCIA"	 INTEGER,
  "VASOATIVO"	 INTEGER,
  "ADMISSAO"	 INTEGER,
  "URGENCIA"	 INTEGER,
  "OPERACAO"	 INTEGER,
  "MOTIVO"	 INTEGER,
  "CARDIOLOGICA"	 INTEGER,
  "ABDOMEN"	 INTEGER,
  "INFECCAO"	 INTEGER,
  "GLASGOW"	 INTEGER,
  "FC"	 INTEGER,
  "PAS"	 INTEGER,
  "OXIG"	 INTEGER,
  "TEMP"	 INTEGER,
  "LEUCO"	 INTEGER,
  "PLAQUETAS"	 INTEGER,
  "PH"	 INTEGER,
  "CREATININA"	 INTEGER,
  "BILIRRUBIINA"	 INTEGER,
  "UTI"	 INTEGER,
  "QUIMIO"	 INTEGER,
  "CANCER"	 INTEGER,
  "HEMATO"	 INTEGER,
  "ICC"	 INTEGER,
  "CIRROSE"	 INTEGER,
  "AIDS"	 INTEGER,
  "HEPATICO"	 INTEGER,
  "NOSOCOMIAL"	 INTEGER,
  "RESPIRATORIA"	 INTEGER,
CONSTRAINT "PK_ESCALASAPS3" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESCALASOFA, Owner: SYSDBA */

CREATE TABLE "ESCALASOFA" 
(
  "SNG"	 INTEGER NOT NULL,
  "RESP"	 INTEGER NOT NULL,
  "GASTRO"	 INTEGER NOT NULL,
  "CARDIO"	 INTEGER NOT NULL,
  "PLAQUETA"	 INTEGER NOT NULL,
  "RENAL"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
CONSTRAINT "PK_ESCALASOFA" PRIMARY KEY ("CODIGOCPS", "DATA")
);

/* Table: ESPECCONVENIO, Owner: SYSDBA */

CREATE TABLE "ESPECCONVENIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "ESPECIALIDADE"	 CHAR(2),
  "CODIGOAMB"	 VARCHAR(12),
  "CODIGOAMB1"	 VARCHAR(12),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: ESPECIAL, Owner: SYSDBA */

CREATE TABLE "ESPECIAL" 
(
  "SOLICITA"	 PK_CODIGO ,
  "A_DATA"	 TIMESTAMP NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "JUSTIFICA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "A_MEDICOS"	 PK_MEDICO  NOT NULL,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_ESPECIAL" PRIMARY KEY ("SOLICITA")
);

/* Table: ESPECIALIDADE, Owner: SYSDBA */

CREATE TABLE "ESPECIALIDADE" 
(
  "NOME"	 VARCHAR(60),
  "CODESP"	 CHAR(2) NOT NULL,
  "CODIGOCONV"	 CHAR(4),
  "CODIGOAMB"	 CHAR(8),
  "GRUPO"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "GEAP"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "CAPSAUDE"	 VARCHAR(8),
  "PL"	 CHAR(2),
  "CBO"	 VARCHAR(6),
  "IDADE"	 INTEGER,
  "SEXO"	 CHAR(1),
  "IDADEMAX"	 INTEGER,
  "INTERNA"	 CHAR(1),
  "CBONOVO"	 VARCHAR(7),
  "UNIDADENEGOCIO"	 INTEGER,
  "UNIDADENEGOCIOEMG"	 INTEGER,
  "UNIDADENEGOCIOINT"	 INTEGER,
  "USER2"	 INTEGER,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "IP"	 VARCHAR(18),
  "VERSAO"	 VARCHAR(18),
  "IP1"	 VARCHAR(18),
  "VERSAO1"	 VARCHAR(18),
  "CBOSUS"	 VARCHAR(7),
  "CBOTISSV3"	 VARCHAR(7),
  "ATIVO"	 CHAR(1),
  "ESPECIALIDADE"	 INTEGER,
  "NOMEMAPA"	 VARCHAR(50),
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RQE"	 VARCHAR(50)
);

/* Table: ESPECIALSUS, Owner: SYSDBA */

CREATE TABLE "ESPECIALSUS" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_ESPECIALSUS" PRIMARY KEY ("SEQUENCIA")
);

/* Table: ETARIASUS, Owner: SYSDBA */

CREATE TABLE "ETARIASUS" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "IDADEINICIO"	 SMALLINT NOT NULL,
  "IDADEFIM"	 SMALLINT NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_ETARIASUS" PRIMARY KEY ("CODIGO")
);

/* Table: EVOLUCAOCLASSE, Owner: SYSDBA */

CREATE TABLE "EVOLUCAOCLASSE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TIPO"	 CHAR(1) CHARACTER SET ISO8859_1 NOT NULL,
  "DESCRICAO"	 VARCHAR(40) CHARACTER SET ISO8859_1 NOT NULL,
CONSTRAINT "PK_EVOLUCAOCLASSE" PRIMARY KEY ("INDICE")
);

/* Table: EVOLUCAOENF, Owner: SYSDBA */

CREATE TABLE "EVOLUCAOENF" 
(
  "EVOLUCAO"	 FLOAT NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "CONTEUDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "IMPRESSO"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "TIPO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CLASSE"	 INTEGER,
  "PLANO_CONDUTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PROBLEMAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HISTORIA_ADMISSAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA_ADMISSAO"	 DATE,
  "TURNO"	 VARCHAR(20),
  "PROCEDIMENTOS"	 VARCHAR(250),
  "ISOLAMENTO"	 CHAR(1),
  "SUSP_DIAGNOSTICA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TIPOEVOL"	 CHAR(1),
  "TEMPERATURA"	 DOUBLE PRECISION,
  "PULSO"	 INTEGER,
  "FR"	 INTEGER,
  "PAS"	 VARCHAR(10),
  "PAD"	 VARCHAR(10),
  "PESO"	 DOUBLE PRECISION,
  "MEMORANDO"	 VARCHAR(250),
  "IMPRESSAO_FISICA"	 CHAR(1),
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
 PRIMARY KEY ("EVOLUCAO")
);

/* Table: EVOLUCAOENF_TIPO, Owner: SYSDBA */

CREATE TABLE "EVOLUCAOENF_TIPO" 
(
  "IDEVOLUCAOENF_TIPO"	 VARCHAR(2),
  "DESCRICAO"	 VARCHAR(50)
);

/* Table: EVOLUCAOTIPO, Owner: SYSDBA */

CREATE TABLE "EVOLUCAOTIPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TIPO"	 CHAR(1) NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
CONSTRAINT "PK_EVOLUCAOTIPO" PRIMARY KEY ("INDICE")
);

/* Table: EXAMEFISICO, Owner: SYSDBA */

CREATE TABLE "EXAMEFISICO" 
(
  "IDEXAMEFISICO"	 INTEGER NOT NULL,
  "ECG"	 VARCHAR(50),
  "ABERTURAOCULAR"	 VARCHAR(50),
  "PUPILAS"	 VARCHAR(50),
  "FOTOREACAOD"	 CHAR(1),
  "FOTOREACAOE"	 CHAR(1),
  "RESPOSTAMOTORA"	 VARCHAR(100),
  "MOTRIC_FN"	 SMALLINT,
  "MOTRIC_PARESIA"	 SMALLINT,
  "MOTRIC_PLEGIA"	 SMALLINT,
  "MOTRIC_PAREST"	 SMALLINT,
  "MOTRIC_DESAC"	 SMALLINT,
  "MOTRIC_DESCORT"	 SMALLINT,
  "MOTRIC_MEMBROAFETADO"	 VARCHAR(50),
  "CODIGOCPS"	 DOUBLE PRECISION,
  "USER1"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "LEITO"	 VARCHAR(100),
  "ECG_SEDADO"	 SMALLINT,
  "COUROCABELUDO"	 VARCHAR(50),
  "PROTESE"	 VARCHAR(10),
  "PROTESETIPO"	 VARCHAR(50),
  "COUROCABELUDO_OUTROS"	 VARCHAR(50),
  "AC_DIMINUIDA"	 SMALLINT,
  "AC_AUSENTE"	 SMALLINT,
  "AC_IMPOSS_AVALIAR"	 SMALLINT,
  "AC_SEM_ALT"	 SMALLINT,
  "AC_SECRECAO"	 SMALLINT,
  "AC_LACRIMEJAMENTO"	 SMALLINT,
  "AC_HEMOR_INTRA"	 SMALLINT,
  "AC_OLHO"	 VARCHAR(50),
  "ESCLEROTIDAS"	 VARCHAR(50),
  "AAUD_DIMI"	 SMALLINT,
  "AAUD_AUSENTE"	 SMALLINT,
  "AAUD_IMPOSS_AV"	 SMALLINT,
  "AAUD_SEMALT"	 SMALLINT,
  "AAUD_SECR"	 SMALLINT,
  "AAUD_EDEMA"	 SMALLINT,
  "AAUD_OUVIDO"	 VARCHAR(50),
  "OROFARINGE"	 VARCHAR(50),
  "TORAX_SIMET"	 SMALLINT,
  "TORAX_ASSIM"	 SMALLINT,
  "TORAX_AP"	 VARCHAR(50),
  "TORAX_DRENOD"	 SMALLINT,
  "TORAX_VOLUME"	 VARCHAR(50),
  "TORAX_DRENOE"	 SMALLINT,
  "TORAX_EPNEU"	 SMALLINT,
  "TORAX_DISP"	 SMALLINT,
  "TORAX_BRAD"	 SMALLINT,
  "TORAX_TAQIPNEI"	 SMALLINT,
  "TORAX_TAQDISP"	 SMALLINT,
  "TORAX_TOSSE"	 SMALLINT,
  "TORAX_ARAMB"	 SMALLINT,
  "TORAX_CATET_NASAL"	 SMALLINT,
  "TORAX_CATET_NASAL_LTM"	 SMALLINT,
  "TORAX_MASCARA_VENTURI"	 SMALLINT,
  "TORAX_MASCA_VENT_PERCENT"	 SMALLINT,
  "TQT"	 SMALLINT,
  "TOT"	 SMALLINT,
  "TORAX_VM"	 SMALLINT,
  "TORAX_PEEP"	 SMALLINT,
  "TORAX_DATA"	 DATE,
  "PERFUSOES_PERIFERICAS"	 VARCHAR(50),
  "PAMI"	 INTEGER,
  "PAMI_DATA_INSTAL"	 DATE,
  "PULSO"	 VARCHAR(50),
  "SNG"	 SMALLINT,
  "SNE"	 SMALLINT,
  "SOG"	 SMALLINT,
  "SOE"	 SMALLINT,
  "GTT"	 SMALLINT,
  "JTT"	 SMALLINT,
  "GASTRO_DATA"	 DATE,
  "EVACUACAO"	 VARCHAR(50),
  "EVACUACAOCOLOST"	 SMALLINT,
  "OSTOMIA_ANOTACAO"	 VARCHAR(50),
  "ABD_PLANO"	 SMALLINT,
  "ABD_RIGIDO"	 SMALLINT,
  "ABD_GLOBOSO"	 SMALLINT,
  "ABD_GRAVIDICO"	 SMALLINT,
  "ABD_TIMPANICO"	 SMALLINT,
  "ABD_DISTENDIDO"	 SMALLINT,
  "LOCAL_DOR_APALPACAO"	 VARCHAR(50),
  "TIPO_DRENO"	 VARCHAR(50),
  "LOCAL_DRENO"	 VARCHAR(50),
  "VOL_DRENO"	 VARCHAR(50),
  "RHA"	 VARCHAR(50),
  "PELE_EDEMA"	 VARCHAR(50),
  "PELE_LESOES"	 SMALLINT,
  "PELE_CICATRIZES"	 SMALLINT,
  "PELE_HIDRATADA"	 SMALLINT,
  "PELE_CORADA"	 SMALLINT,
  "PELE_HIPOC"	 SMALLINT,
  "PELE_ICTER"	 SMALLINT,
  "PELE_ERITEMA"	 SMALLINT,
  "GENIT_MICESPONT"	 SMALLINT,
  "GENIT_UROP"	 SMALLINT,
  "GENIT_CISTOST"	 SMALLINT,
  "GENIT_SVD_DATA"	 DATE,
  "GENIT_INCONT"	 SMALLINT,
  "GENIT_OLIGURIA"	 SMALLINT,
  "GENIT_ANURIA"	 SMALLINT,
  "GENIT_POLIU"	 SMALLINT,
  "GENIT_DISSURIA"	 SMALLINT,
  "GENIT_HEMATURIA"	 SMALLINT,
  "GENIT_LIMPIDA"	 SMALLINT,
  "GENIT_SEDIMENTO"	 SMALLINT,
  "GENIT_OUTROS"	 VARCHAR(50),
  "MEMBROS_SEMALT"	 SMALLINT,
  "MEMBROS_LESAO"	 SMALLINT,
  "MEMBROS_EDEMA"	 SMALLINT,
  "MEMBROS_MOBIL_DIM"	 SMALLINT,
  "MEMBROS_OUTROS"	 VARCHAR(50),
  "MEMBROS_AFETADO"	 VARCHAR(50),
  "CVP"	 SMALLINT,
  "CVC"	 SMALLINT,
  "CDL"	 SMALLINT,
  "FLUINDO"	 SMALLINT,
  "HIDROLISADO"	 SMALLINT,
  "OUTROS_DISPOSIT"	 VARCHAR(50),
  "AAUD_LESAO"	 SMALLINT,
  "INFECCAO"	 VARCHAR(250),
  "ASPIRACAO"	 VARCHAR(250),
  "TEMPERATURA"	 VARCHAR(250),
  "RESPIRATORIO"	 VARCHAR(250),
  "DEGLUTICAO"	 VARCHAR(250),
  "PELE"	 VARCHAR(250),
  "URINARIA"	 VARCHAR(250),
  "ATIVIDADE"	 VARCHAR(250),
  "SONO"	 VARCHAR(250),
  "DIARREIA"	 VARCHAR(250),
  "ANSIEDADE"	 VARCHAR(250),
  "NUTRICAO"	 VARCHAR(250),
  "DEAMBULACAO"	 VARCHAR(250),
  "EVOLUCAO"	 VARCHAR(5000),
  "EVID_INFECCAO"	 VARCHAR(250),
  "EVID_ASPIRACAO"	 VARCHAR(250),
  "EVID_TEMPERATURA"	 VARCHAR(250),
  "EVID_RESPIRATORIO"	 VARCHAR(250),
  "EVID_DEGLUTICAO"	 VARCHAR(250),
  "EVID_PELE"	 VARCHAR(250),
  "EVID_URINARIA"	 VARCHAR(250),
  "EVID_ATIVIDADE"	 VARCHAR(250),
  "EVID_SONO"	 VARCHAR(250),
  "EVID_DIARREIA"	 VARCHAR(250),
  "EVID_ANSIEDADE"	 VARCHAR(250),
  "EVID_NUTRICAO"	 VARCHAR(250),
  "EVID_DEAMBULACAO"	 VARCHAR(250),
  "CVP_LOCAL"	 VARCHAR(50),
  "CVP_DATA"	 TIMESTAMP,
  "CVC_TIPO"	 VARCHAR(50),
  "CVC_DATA"	 TIMESTAMP,
  "SVD"	 SMALLINT,
  "SVD_DATA"	 TIMESTAMP,
  "FONTANELAS"	 VARCHAR(50),
  "MAMAS"	 VARCHAR(50),
  "MAMILOS"	 VARCHAR(50),
  "LOQUIOS"	 VARCHAR(50),
  "COLOSTRO"	 VARCHAR(50),
  "OXIG_ASP"	 VARCHAR(250),
  "OXIG_NEBU"	 VARCHAR(250),
  "OXIG_APIRACAO"	 VARCHAR(250),
  "DIE_PRESC_ZERO"	 CHAR(1),
  "DIE_PRESC_ORAL"	 CHAR(1),
  "DIE_PRESC_SNE"	 CHAR(1),
  "DIE_PRESC_OSTO"	 CHAR(1),
  "DIE_PRESC_NPT"	 VARCHAR(10),
  "DIE_NPT"	 VARCHAR(250),
  "DIE_LAVARSNE"	 VARCHAR(250),
  "ELIMI_PRESC_DIURESE"	 VARCHAR(10),
  "ELIMI_LOQ"	 VARCHAR(250),
  "ELIMI_LOQ_QTDE"	 VARCHAR(250),
  "MOBI_DEAMB"	 VARCHAR(250),
  "MOBI_PRESC_REPOUSO"	 VARCHAR(10),
  "MOBI_CABGRAU"	 VARCHAR(10),
  "MOBI_CABECEIRA"	 VARCHAR(250),
  "MOBI_MEMBROS"	 VARCHAR(250),
  "HIG_BANHOTIPO"	 VARCHAR(50),
  "HIG_PRESC_BANHO"	 VARCHAR(250),
  "HIG_OCULAR"	 VARCHAR(250),
  "HIG_INTIMA"	 VARCHAR(250),
  "HIG_FRALDAS"	 VARCHAR(250),
  "HIG_TRICOTREGIAO"	 VARCHAR(50),
  "HIG_TRICOTOMIA"	 VARCHAR(250),
  "APRAZ_CURAT1"	 VARCHAR(250),
  "APRAZ_CURAT2"	 VARCHAR(250),
  "APRAZ_CURAT3"	 VARCHAR(250),
  "APRAZ_CURAT4"	 VARCHAR(250),
  "APRAZ_CURAT1LOCAL"	 VARCHAR(50),
  "APRAZ_CURAT2LOCAL"	 VARCHAR(50),
  "APRAZ_CURAT3LOCAL"	 VARCHAR(50),
  "APRAZ_CURAT4LOCAL"	 VARCHAR(50),
  "APRAZ_CURAT1TIPO"	 VARCHAR(50),
  "APRAZ_CURAT2TIPO"	 VARCHAR(50),
  "APRAZ_CURAT3TIPO"	 VARCHAR(50),
  "APRAZ_CURAT4TIPO"	 VARCHAR(50),
  "APRAZ_EVOL_FERIDA"	 VARCHAR(250),
  "APRAZ_CONSC"	 VARCHAR(250),
  "APRAZ_EMOC"	 VARCHAR(250),
  "APRAZ_VIGILA"	 VARCHAR(250),
  "APRAZ_OXIG"	 VARCHAR(250),
  "OXIG_TUMIF"	 VARCHAR(250),
  "OXIG_AUMIF"	 VARCHAR(250),
  "ELIMI_REG_DEBITO"	 CHAR(1),
  "ELIMI_DEP_BOLSA"	 CHAR(1),
  "ELIMI_APRAZ_DIUR"	 VARCHAR(250),
  "ELIMI_APRAZ_DEJE"	 VARCHAR(250),
  "ELIMI_APRAZ_OST"	 VARCHAR(250),
  "ELIMI_APRAZ_BOLSA"	 VARCHAR(250),
  "ELIMI_TROCAR_BOLSA"	 CHAR(1),
  "ELIMI_LAVAR_BOLSA"	 CHAR(1),
  "OXIG_FTOT"	 VARCHAR(250),
  "OXIG_FTQT"	 VARCHAR(250),
  "HIG_ORAL"	 VARCHAR(250),
  "EVOLUCAOFERIDA"	 VARCHAR(250),
  "ASPIRA_TIPO"	 VARCHAR(50),
  "ASPIRA_APRAZ"	 VARCHAR(250),
  "SEG_BRADEN"	 VARCHAR(250),
  "SEG_DECUBITO"	 VARCHAR(250),
  "SEG_POSSEA"	 VARCHAR(250),
  "SEG_COLCHAO"	 VARCHAR(250),
  "SEG_HIDRO"	 VARCHAR(250),
  "SEG_HIDRO_INSTAL"	 DATE,
  "SEG_HIDRO_TROCA"	 DATE,
  "SEG_AVAFERIDA"	 VARCHAR(250),
  "SEG_RISCO_QUEDA"	 VARCHAR(30),
  "SEG_QUEDA"	 VARCHAR(250),
  "SEG_GRADES"	 VARCHAR(250),
  "SEG_MOV"	 VARCHAR(250),
  "SEG_DEAMBU"	 VARCHAR(250),
  "SEG_EFEITOCOLA"	 VARCHAR(250),
  "SEG_PULSEIRA"	 VARCHAR(250),
  "SEG_DISPLAY"	 VARCHAR(250),
  "SEG_ACOMPAN"	 VARCHAR(250),
  "SEG_PULSEIRA_ACOMP"	 VARCHAR(250),
  "SEG_ULCERALOCAL"	 VARCHAR(50),
  "SEG_ULCERAGRAU"	 VARCHAR(50),
  "BRADEN_SCORE"	 VARCHAR(20),
  "BRADEN_RISCO"	 VARCHAR(50),
  "ASPIRA_TIPO_ORAL"	 CHAR(1),
  "ASPIRA_TIPO_NASAL"	 CHAR(1),
  "ASPIRA_TIPO_TRAQ"	 CHAR(1),
  "HFAZER"	 SMALLINT,
  "HAJUDAR"	 SMALLINT,
  "HSUPERV"	 SMALLINT,
  "NFAZER"	 SMALLINT,
  "NAJUDAR"	 SMALLINT,
  "NSUPERV"	 SMALLINT,
  "GLICEMIIA"	 VARCHAR(250),
  "ICTERICIANEO"	 VARCHAR(250),
  "EVID_ICTERICIANEO"	 VARCHAR(250),
  "ELETROLITICO"	 VARCHAR(250),
  "CONSTIPACAO"	 VARCHAR(250),
  "EVID_CONSTIPACAO"	 VARCHAR(250),
  "RET_URINARIA"	 VARCHAR(250),
  "EVID_RET_URINARIA"	 VARCHAR(250),
  "TROCA_GASES"	 VARCHAR(250),
  "EVID_TROCA_GASES"	 VARCHAR(250),
  "PERFUSAO_TISSULAR"	 VARCHAR(250),
  "EVID_PERFUSAO_TISSULAR"	 VARCHAR(250),
  "VENTILACAO_ESP"	 VARCHAR(250),
  "EVID_VENTILACAO_ESP"	 VARCHAR(250),
  "PAT_MAT_PREJUD"	 VARCHAR(250),
  "EVID_PAT_MAT_PREJUD"	 VARCHAR(250),
  "VINCULO_PREJUD"	 VARCHAR(250),
  "EVID_VINCULO_PREJUD"	 VARCHAR(250),
  "ELIM_URINARIA"	 VARCHAR(250),
  "EVID_ELIM_URINARIA"	 VARCHAR(250),
  "AMAMENTACAO_INTER"	 VARCHAR(250),
  "EVID_AMAMENTACAO_INTER"	 VARCHAR(250),
  "AMAMENTACAO_INEFIC"	 VARCHAR(250),
  "EVID_AMAMENTACAO_INEFIC"	 VARCHAR(250),
  "RISCO_CONSTIPA"	 VARCHAR(250),
  "PUPILA_D_E"	 VARCHAR(50),
  "PUP_ISOCORICA"	 SMALLINT,
  "PUP_ANISOCOR"	 SMALLINT,
  "PUP_MIDRIASE"	 SMALLINT,
  "PUP_MIOSE"	 SMALLINT,
  "TIPOLOCAL_LESAO"	 VARCHAR(50),
  "PAMI_LOCAL"	 VARCHAR(50),
  "CVP_LOCAL2"	 VARCHAR(50),
  "CVC_TIPO2"	 VARCHAR(50),
  "CVC_TIPO3"	 VARCHAR(50),
  "CVC_LOCAL1"	 VARCHAR(50),
  "CVC_LOCAL2"	 VARCHAR(50),
  "CVC_LOCAL3"	 VARCHAR(50),
  "OSTOMIA_TIPO"	 VARCHAR(50),
  "ATIVO"	 SMALLINT,
  "CHOROSO"	 SMALLINT,
  "HIPOATIVO"	 SMALLINT,
  "REATIVO"	 SMALLINT,
  "SONOLENTO"	 SMALLINT,
  "NEONATAL"	 SMALLINT,
  "PELE_PLETORICA"	 SMALLINT,
  "PELE_PETEQUIAS"	 SMALLINT,
  "PELE_INTEGRA"	 INTEGER,
  "PELE_DESCAMANDO"	 SMALLINT,
  "PELE_HEMANGIOMA"	 SMALLINT,
  "PELE_EQUIMOSE"	 SMALLINT,
  "PELE_DERMATITE"	 SMALLINT,
  "PELE_ICT_ZONA"	 VARCHAR(50),
  "CARDIO_SEMALT"	 SMALLINT,
  "CARDIO_SOPRO"	 SMALLINT,
  "CARDIO_TAQUI"	 SMALLINT,
  "CARDIO_BRAQ"	 SMALLINT,
  "PAPINHA"	 SMALLINT,
  "GASTRO_VOL"	 VARCHAR(50),
  "GASTRO_OUTROS"	 VARCHAR(50),
  "GENIT_OLIGURIA_ML"	 VARCHAR(50),
  "DIAS_INTERNACAO_HOSP"	 SMALLINT,
  "PESO_NASC"	 DOUBLE PRECISION,
  "PESO_ATUAL"	 DOUBLE PRECISION,
  "IDADE_GESTACIONAL"	 DOUBLE PRECISION,
  "IDADE_GESTACIONAL_C"	 DOUBLE PRECISION,
  "DIAS_VIDA"	 SMALLINT,
  "SEXO"	 VARCHAR(50),
  "TOT_DATA"	 DATE,
  "TQT_DATA"	 DATE,
  "SOG_DATA"	 DATE,
  "SNE_DATA"	 DATE,
  "BOCA_SA"	 SMALLINT,
  "BOCA_SANG"	 SMALLINT,
  "BOCA_ULC"	 SMALLINT,
  "BOCA_LESAO"	 SMALLINT,
  "BOCA_MONILIASE"	 SMALLINT,
  "BOCA_MALFORM"	 VARCHAR(50),
  "DATA_BANHO"	 DATE,
  "HORA_BANHO"	 TIME,
  "MEDIDAS_PESO"	 VARCHAR(50),
  "MEDIDAS_PC"	 VARCHAR(50),
  "MEDIDAS_PA"	 VARCHAR(50),
  "MEDIDAS_ESTATURA"	 VARCHAR(50),
  "MEDIDAS_PT"	 VARCHAR(50),
  "MEDIDAS_PESO_HR"	 TIME,
  "MEDIDAS_PC_HR"	 TIME,
  "MEDIDAS_PA_HR"	 TIME,
  "MEDIDAS_ESTATURA_HR"	 TIME,
  "MEDIDAS_PT_HR"	 TIME,
  "MEDIDAS_PESO_DT"	 DATE,
  "MEDIDAS_PC_DT"	 DATE,
  "MEDIDAS_PA_DT"	 DATE,
  "MEDIDAS_ESTATURA_DT"	 DATE,
  "MEDIDAS_PT_DT"	 DATE,
CONSTRAINT "PK_EXAMEFISICO" PRIMARY KEY ("IDEXAMEFISICO")
);

/* Table: EXAMES1, Owner: SYSDBA */

CREATE TABLE "EXAMES1" 
(
  "A_NOTAMED"	 FLOAT NOT NULL,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IMPRESSO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "A_CID"	 PK_CID ,
  "TRATAMENTO"	 INTEGER,
  "PV"	 INTEGER,
  "IMPORTADO"	 CHAR(1),
  "JUSTIFICATIVA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
 PRIMARY KEY ("A_NOTAMED")
);

/* Table: EXAMES2, Owner: SYSDBA */

CREATE TABLE "EXAMES2" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "A_NOTAMED"	 FLOAT NOT NULL,
  "CODIGOSERV"	 PK_CODIGOSERV ,
  "A_MEDICOS"	 INTEGER,
  "A_DRENO"	 CHAR(1),
  "SOLICITA"	 INTEGER,
  "CODIGOUSU"	 INTEGER,
  "RESULTADO"	 CHAR(1),
  "A_DATA1"	 TIMESTAMP,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "CODIGOSERVX"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CPSIMPOR"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "QTD"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: EXAMPACIENTE, Owner: SYSDBA */

CREATE TABLE "EXAMPACIENTE" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "CODIGOAMB"	 CHAR(8) NOT NULL,
  "DATA"	 TIMESTAMP,
  "VALOR"	 DOUBLE PRECISION,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "CREMEB"	 VARCHAR(10),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_EXAMPACIENTE" PRIMARY KEY ("CODIGO")
);

/* Table: EXCLUIDOSBRAS, Owner: SYSDBA */

CREATE TABLE "EXCLUIDOSBRAS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TISS"	 VARCHAR(10),
  "REVISTA"	 VARCHAR(10),
CONSTRAINT "PK_EXCLUIDOSBRAS" PRIMARY KEY ("INDICE")
);

/* Table: EXPCONTABIL, Owner: SYSDBA */

CREATE TABLE "EXPCONTABIL" 
(
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "SCRIPTSQL"	 VARCHAR(250) NOT NULL,
  "BD"	 VARCHAR(250) NOT NULL,
  "USUARIO"	 VARCHAR(100) NOT NULL,
  "SENHA"	 VARCHAR(100) NOT NULL
);

/* Table: FALA_CORRECAO, Owner: SYSDBA */

CREATE TABLE "FALA_CORRECAO" 
(
  "SIMBOLO"	 VARCHAR(20) CHARACTER SET ISO8859_1 NOT NULL,
  "PALAVRA"	 VARCHAR(50) CHARACTER SET ISO8859_1 NOT NULL,
CONSTRAINT "PK_FALA_CORRECAO" PRIMARY KEY ("SIMBOLO")
);

/* Table: FECHAMENTO, Owner: SYSDBA */

CREATE TABLE "FECHAMENTO" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "DATAINICIAL"	 TIMESTAMP NOT NULL,
  "DATAFINAL"	 TIMESTAMP NOT NULL,
  "NOTAFISCAL"	 VARCHAR(10),
  "OBSERVACAO"	 VARCHAR(80),
  "TOTAL"	 DOUBLE PRECISION,
  "QUANTIDADE"	 INTEGER,
  "PAGMEDICO"	 TIMESTAMP,
  "DATAPAGMEDICO"	 TIMESTAMP,
  "VENCIMENTO"	 TIMESTAMP,
  "FINANCEIRO"	 INTEGER,
  "RECEBIDO"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "NOTAFISCALDATA"	 TIMESTAMP,
  "LOTE"	 VARCHAR(30),
  "H_IRRF"	 DOUBLE PRECISION,
  "H_PIS"	 DOUBLE PRECISION,
  "H_COFINS"	 DOUBLE PRECISION,
  "H_CLS"	 DOUBLE PRECISION,
  "H_ISS"	 DOUBLE PRECISION,
  "H_DESCONTO"	 DOUBLE PRECISION,
  "PARCIAL"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA3"	 TIMESTAMP,
  "REFERENTE"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "DESCRICAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RELATORIO"	 TIMESTAMP,
  "RECURSOGLOSA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ARECEBER"	 DOUBLE PRECISION,
  "GLOSA"	 DOUBLE PRECISION,
  "PROTOCOLODEV"	 VARCHAR(15),
  "PROTOCOLOXML"	 VARCHAR(30),
  "LANFINANC"	 INTEGER,
  "PROTOCOLOXMLDEV"	 VARCHAR(30),
  "TRAVARECEB"	 CHAR(1),
  "MOTIVO_AJUSTE"	 VARCHAR(100),
  "DATAENTREGA"	 TIMESTAMP,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: FECHAMENTO2, Owner: SYSDBA */

CREATE TABLE "FECHAMENTO2" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SEQUENCIA"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "MOTIVO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: FECHAMENTO3, Owner: SYSDBA */

CREATE TABLE "FECHAMENTO3" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SEQUENCIA"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "BANCO"	 INTEGER,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "VALOR"	 DOUBLE PRECISION,
  "TIPO"	 CHAR(1),
  "FINANCEIRO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: FECHAMENTOABERTO, Owner: SYSDBA */

CREATE TABLE "FECHAMENTOABERTO" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "DATAINICIAL"	 TIMESTAMP NOT NULL,
  "DATAFINAL"	 TIMESTAMP NOT NULL,
  "NOTAFISCAL"	 VARCHAR(10),
  "OBSERVACAO"	 VARCHAR(80),
  "TOTAL"	 DOUBLE PRECISION,
  "QUANTIDADE"	 INTEGER,
  "PAGMEDICO"	 TIMESTAMP,
  "DATAPAGMEDICO"	 TIMESTAMP,
  "VENCIMENTO"	 TIMESTAMP,
  "FINANCEIRO"	 INTEGER,
  "RECEBIDO"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "NOTAFISCALDATA"	 TIMESTAMP,
  "LOTE"	 VARCHAR(30),
  "H_IRRF"	 DOUBLE PRECISION,
  "H_PIS"	 DOUBLE PRECISION,
  "H_COFINS"	 DOUBLE PRECISION,
  "H_CLS"	 DOUBLE PRECISION,
  "H_ISS"	 DOUBLE PRECISION,
  "H_DESCONTO"	 DOUBLE PRECISION,
  "PARCIAL"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA3"	 TIMESTAMP,
  "REFERENTE"	 INTEGER,
  "DATASINC"	 TIMESTAMP
);

/* Table: FERIADO, Owner: SYSDBA */

CREATE TABLE "FERIADO" 
(
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_NOME"	 VARCHAR(30),
  "CODIGO"	 SMALLINT,
  "MENSAGEM"	 CHAR(120),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "FIXO"	 CHAR(1),
  "DHE"	 CHAR(1),
 PRIMARY KEY ("A_DATA")
);

/* Table: FETARIA, Owner: SYSDBA */

CREATE TABLE "FETARIA" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_FETARIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: FILTRO, Owner: SYSDBA */

CREATE TABLE "FILTRO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TITULO"	 VARCHAR(40) NOT NULL,
  "BD"	 INTEGER NOT NULL,
  "CAMPOINDICE"	 VARCHAR(50),
  "SQLTEXTO"	 VARCHAR(30000),
  "CAMPO1"	 VARCHAR(40),
  "CAMPO1TRUE"	 VARCHAR(40),
  "CAMPO1FALSE"	 VARCHAR(40),
  "CAMPO2"	 VARCHAR(40),
  "CAMPO2TRUE"	 VARCHAR(40),
  "CAMPO2FALSE"	 VARCHAR(40),
  "CAMPO3"	 VARCHAR(40),
  "CAMPO3TRUE"	 VARCHAR(40),
  "CAMPO3FALSE"	 VARCHAR(40),
  "CAMPO4"	 VARCHAR(40),
  "CAMPO4TRUE"	 VARCHAR(40),
  "CAMPO4FALSE"	 VARCHAR(40),
CONSTRAINT "PK_FILTRO" PRIMARY KEY ("INDICE")
);

/* Table: FINGER, Owner: SYSDBA */

CREATE TABLE "FINGER" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "TEMPLATE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80 NOT NULL,
  "VINCULACAO"	 FLOAT NOT NULL,
  "TABELA"	 VARCHAR(40) NOT NULL,
  "VALIDACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DEDO"	 SMALLINT NOT NULL,
CONSTRAINT "PK_FINGER" PRIMARY KEY ("CODIGO")
);

/* Table: FISIOTERAPIA, Owner: SYSDBA */

CREATE TABLE "FISIOTERAPIA" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MOTOR"	 CHAR(1),
  "RESPIRATORIA"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: FORMA_ORG, Owner: SYSDBA */

CREATE TABLE "FORMA_ORG" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(250),
  "COD_GRUPO"	 VARCHAR(2),
  "COD_SUBGRUPO"	 VARCHAR(2),
  "COMPETENCIA"	 VARCHAR(6),
CONSTRAINT "PK_FORMA_ORG" PRIMARY KEY ("SEQUENCIA")
);

/* Table: FORNECPROD, Owner: SYSDBA */

CREATE TABLE "FORNECPROD" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "PRODUTO"	 INTEGER NOT NULL,
  "CODFORNEC"	 INTEGER NOT NULL,
CONSTRAINT "PK_FORNECPROD" PRIMARY KEY ("CODIGO")
);

/* Table: FPO_SUS, Owner: SYSDBA */

CREATE TABLE "FPO_SUS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "QUANTIDADE"	 INTEGER NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "PROCEDIMENTO"	 VARCHAR(10) NOT NULL,
  "USER1"	 INTEGER,
  "DATAUSER1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATAUSER2"	 TIMESTAMP,
  "CONVENIO"	 INTEGER NOT NULL,
CONSTRAINT "PK_FPO_SUS" PRIMARY KEY ("INDICE")
);

/* Table: FRASESLAUDO, Owner: SYSDBA */

CREATE TABLE "FRASESLAUDO" 
(
  "CODIGO"	 VARCHAR(5) NOT NULL,
  "FRASE"	 VARCHAR(1000) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TIPOLAUDO"	 INTEGER,
 PRIMARY KEY ("CODIGO")
);

/* Table: FUGULIN, Owner: SYSDBA */

CREATE TABLE "FUGULIN" 
(
  "ID_FUGULIN"	 FLOAT NOT NULL,
  "ESTADO_MENTAL"	 INTEGER,
  "SINAIS_VITAIS"	 INTEGER,
  "MOTILIDADE"	 INTEGER,
  "DEAMBULACAO"	 INTEGER,
  "ALIMENTACAO"	 INTEGER,
  "CUIDADO_CORPORAL"	 INTEGER,
  "ELIMINACAO"	 INTEGER,
  "TERAPEUTICA"	 INTEGER,
  "INTEGRIDADE_CUTANEO_MUCOSA"	 INTEGER,
  "CURATIVO"	 INTEGER,
  "TEMPO_DE_CURATIVO"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "CODIGOCPS"	 FLOAT,
  "DATASINC"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "OXIGENACAO"	 INTEGER,
  "UMIDADE"	 INTEGER,
  "ELIMINACOES"	 INTEGER,
  "NUTRICAO"	 INTEGER,
  "TOTAL_FUG"	 INTEGER,
  "TOTAL_BRADEN"	 INTEGER,
  "LEITO"	 VARCHAR(250),
  "USER1"	 INTEGER,
  "ALA"	 INTEGER,
CONSTRAINT "PK_FUGULIN" PRIMARY KEY ("ID_FUGULIN")
);

/* Table: FUG_ALIMENTACAO, Owner: SYSDBA */

CREATE TABLE "FUG_ALIMENTACAO" 
(
  "IDFUGALIMENTACAO"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_ALIMENTACAO" PRIMARY KEY ("IDFUGALIMENTACAO")
);

/* Table: FUG_CUIDADOCORPORAL, Owner: SYSDBA */

CREATE TABLE "FUG_CUIDADOCORPORAL" 
(
  "IDFUG_CUIDADOCORPORAL"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_CUIDADOCORPORAL" PRIMARY KEY ("IDFUG_CUIDADOCORPORAL")
);

/* Table: FUG_CURATIVO, Owner: SYSDBA */

CREATE TABLE "FUG_CURATIVO" 
(
  "IDFUG_CURATIVO"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_CURATIVO" PRIMARY KEY ("IDFUG_CURATIVO")
);

/* Table: FUG_DEAMBULACAO, Owner: SYSDBA */

CREATE TABLE "FUG_DEAMBULACAO" 
(
  "IDFUGDEAMBULACAO"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_DEAMBULACAO" PRIMARY KEY ("IDFUGDEAMBULACAO")
);

/* Table: FUG_ELIMINACOES, Owner: SYSDBA */

CREATE TABLE "FUG_ELIMINACOES" 
(
  "ID_FUGEMILINACOES"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
CONSTRAINT "PK_FUG_ELIMINACOES" PRIMARY KEY ("ID_FUGEMILINACOES")
);

/* Table: FUG_INTEGRIDADECUTANEA, Owner: SYSDBA */

CREATE TABLE "FUG_INTEGRIDADECUTANEA" 
(
  "IDFUG_INTEGRIDADECUTANEA"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_INTEGRIDADECUTANEA" PRIMARY KEY ("IDFUG_INTEGRIDADECUTANEA")
);

/* Table: FUG_MENTAL, Owner: SYSDBA */

CREATE TABLE "FUG_MENTAL" 
(
  "IDFUGMENTAL"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_MENTAL" PRIMARY KEY ("IDFUGMENTAL")
);

/* Table: FUG_MOTILIDADE, Owner: SYSDBA */

CREATE TABLE "FUG_MOTILIDADE" 
(
  "IDFUGMOTILIDADE"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_MOTILIDADE" PRIMARY KEY ("IDFUGMOTILIDADE")
);

/* Table: FUG_NUTRICAO, Owner: SYSDBA */

CREATE TABLE "FUG_NUTRICAO" 
(
  "ID_FUGNUTRICAO"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_NUTRICAO" PRIMARY KEY ("ID_FUGNUTRICAO")
);

/* Table: FUG_OXIGENIO, Owner: SYSDBA */

CREATE TABLE "FUG_OXIGENIO" 
(
  "IDFUGOXIGENIO"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
CONSTRAINT "PK_FUG_OXIGENIO" PRIMARY KEY ("IDFUGOXIGENIO")
);

/* Table: FUG_SINAISVITAIS, Owner: SYSDBA */

CREATE TABLE "FUG_SINAISVITAIS" 
(
  "IDFUGSINAISVITAIS"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
CONSTRAINT "PK_FUG_SINAISVITAIS" PRIMARY KEY ("IDFUGSINAISVITAIS")
);

/* Table: FUG_TEMPOCURATIVO, Owner: SYSDBA */

CREATE TABLE "FUG_TEMPOCURATIVO" 
(
  "IDFUG_TEMPOCURATIVO"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
CONSTRAINT "PK_FUG_TEMPOCURATIVO" PRIMARY KEY ("IDFUG_TEMPOCURATIVO")
);

/* Table: FUG_TERAPEUTICA, Owner: SYSDBA */

CREATE TABLE "FUG_TERAPEUTICA" 
(
  "IDFUG_TERAPEUTICA"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "FUGULIN"	 INTEGER,
CONSTRAINT "PK_FUG_TERAPEUTICA" PRIMARY KEY ("IDFUG_TERAPEUTICA")
);

/* Table: FUG_UMIDADE, Owner: SYSDBA */

CREATE TABLE "FUG_UMIDADE" 
(
  "ID_FUGUMIDADE"	 INTEGER NOT NULL,
  "CLASSIFICACAO"	 VARCHAR(250),
  "BRADEN"	 INTEGER,
CONSTRAINT "PK_FUG_UMIDADE" PRIMARY KEY ("ID_FUGUMIDADE")
);

/* Table: FUNCAO, Owner: SYSDBA */

CREATE TABLE "FUNCAO" 
(
  "FUNCAO"	 SMALLINT NOT NULL,
  "NOME"	 VARCHAR(30),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("FUNCAO")
);

/* Table: GLOSADETALHE, Owner: SYSDBA */

CREATE TABLE "GLOSADETALHE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "TIPO"	 CHAR(1) NOT NULL,
  "ITEM"	 INTEGER NOT NULL,
  "REPRESENTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
 PRIMARY KEY ("INDICE")
);

/* Table: GLOSAJUSTIFICATIVA, Owner: SYSDBA */

CREATE TABLE "GLOSAJUSTIFICATIVA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CHAVEITEM"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(20) NOT NULL,
  "JUSTIFICATIVA"	 VARCHAR(500)
);

/* Table: GRAFICO, Owner: SYSDBA */

CREATE TABLE "GRAFICO" 
(
  "GRAFICO"	 FLOAT NOT NULL,
  "IDADE1"	 FLOAT,
  "IDADE2"	 FLOAT,
  "IDADE3"	 FLOAT,
  "IDADE4"	 FLOAT,
  "IDADE5"	 FLOAT,
  "IDADE6"	 FLOAT,
  "IDADE7"	 FLOAT,
  "IDADE8"	 FLOAT,
  "IDADE9"	 FLOAT,
  "IDADE10"	 FLOAT,
  "HOMEM"	 FLOAT,
  "MULHER"	 FLOAT,
  "APARELHOS"	 DOUBLE PRECISION,
  "PROCED_ESPECIAIS"	 DOUBLE PRECISION,
  "DIARIAS"	 DOUBLE PRECISION,
  "LABORATORIO"	 DOUBLE PRECISION,
  "GASOTERAPIA"	 DOUBLE PRECISION,
  "HONORARIO"	 DOUBLE PRECISION,
  "NEBULIZACAO"	 DOUBLE PRECISION,
  "HEMOTERAPIA"	 DOUBLE PRECISION,
  "EXAMESESPECIAIS"	 DOUBLE PRECISION,
  "BIOIMAGEM"	 DOUBLE PRECISION,
  "TAXAS"	 DOUBLE PRECISION,
  "FISIOTERAPIA"	 DOUBLE PRECISION,
  "AVALIACOES"	 DOUBLE PRECISION,
  "MATERIAL"	 DOUBLE PRECISION,
  "MEDICAMENTO"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("GRAFICO")
);

/* Table: GRUPO, Owner: SYSDBA */

CREATE TABLE "GRUPO" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_GRUPO" PRIMARY KEY ("SEQUENCIA")
);

/* Table: GRUPOALIMENTO, Owner: SYSDBA */

CREATE TABLE "GRUPOALIMENTO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30),
  "PROTAVB"	 VARCHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: GRUPOGERAL, Owner: SYSDBA */

CREATE TABLE "GRUPOGERAL" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "GRUPO"	 VARCHAR(250),
  "RESUMO"	 VARCHAR(250),
  "DESCRICAO"	 VARCHAR(250),
CONSTRAINT "PK_GRUPOGERAL" PRIMARY KEY ("CODIGO")
);

/* Table: GRUPOMED, Owner: SYSDBA */

CREATE TABLE "GRUPOMED" 
(
  "A_NOMEGRUPO"	 VARCHAR(40) NOT NULL,
  "A_RETI"	 FLOAT,
  "A_RETE"	 FLOAT,
  "A_GRUPOM"	 PK_GRUPOMED ,
  "CODIGO"	 INTEGER NOT NULL,
  "A_CODIGO1"	 PK_CODIGO ,
  "CONSULTA"	 FLOAT,
  "VISITA"	 FLOAT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "DATA1"	 TIMESTAMP,
  "EMERGENCIA"	 FLOAT,
  "CONSULTAEMERGENCIA"	 FLOAT,
  "PROCEDEMERGENCIA"	 FLOAT,
  "A_GRUPOMVINC"	 INTEGER,
  "VENCIMENTO"	 TIMESTAMP,
 PRIMARY KEY ("A_GRUPOM")
);

/* Table: GRUPOSUS, Owner: SYSDBA */

CREATE TABLE "GRUPOSUS" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(250) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6),
CONSTRAINT "PK_GRUPOSUS" PRIMARY KEY ("SEQUENCIA")
);

/* Table: GRUPOTERA, Owner: SYSDBA */

CREATE TABLE "GRUPOTERA" 
(
  "A_GRUPOTEURA"	 INTEGER NOT NULL,
  "A_NOME"	 VARCHAR(60) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("A_GRUPOTEURA")
);

/* Table: GRUPO_SANGUINEO, Owner: SYSDBA */

CREATE TABLE "GRUPO_SANGUINEO" 
(
  "ID_GRUPO_SANGUINEO"	 INTEGER NOT NULL,
  "TIPOSANGUE"	 VARCHAR(10),
CONSTRAINT "PK_GRUPO_SANGUINEO" PRIMARY KEY ("ID_GRUPO_SANGUINEO")
);

/* Table: GUICHE, Owner: SYSDBA */

CREATE TABLE "GUICHE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "MEDICO"	 PK_MEDICO ,
  "GUICHE"	 SMALLINT,
  "NUMERO"	 SMALLINT,
  "PREF"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: HABILITA_PROCEDIMENTO, Owner: SYSDBA */

CREATE TABLE "HABILITA_PROCEDIMENTO" 
(
  "PROCEDIMENTO"	 VARCHAR(10) NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6) NOT NULL,
CONSTRAINT "PK_HABILITA_PROCEDIMENTO" PRIMARY KEY ("PROCEDIMENTO", "CODIGO", "COMPETENCIA")
);

/* Table: HELMINTOS, Owner: SYSDBA */

CREATE TABLE "HELMINTOS" 
(
  "CODIGO"	 VARCHAR(4) NOT NULL,
  "NOME"	 VARCHAR(40) NOT NULL,
  "OVOS"	 CHAR(1),
  "LARVAS"	 CHAR(1),
 PRIMARY KEY ("CODIGO")
);

/* Table: HIS_ENFERMAGEM, Owner: SYSDBA */

CREATE TABLE "HIS_ENFERMAGEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CIRUPROG"	 VARCHAR(60),
  "CIRUGIAO"	 VARCHAR(50),
  "DATCIRUR"	 TIMESTAMP,
  "PROFISSAO"	 VARCHAR(100),
  "IDADE"	 VARCHAR(5),
  "GRUSANG"	 VARCHAR(5),
  "RH"	 VARCHAR(5),
  "PESO"	 VARCHAR(10),
  "TIPRESID"	 CHAR(1),
  "TRANSPALTAHOSP"	 CHAR(1),
  "CONHEPROCED"	 CHAR(1),
  "DIFAPREND"	 CHAR(1),
  "DIFAPRENDESC"	 VARCHAR(100),
  "ACOPOSOPE"	 CHAR(1),
  "ACOPOSOPEDESC"	 VARCHAR(100),
  "DIFLOCOM"	 CHAR(1),
  "DIFLOCOMTIPO"	 CHAR(1),
  "EEMOCALMO"	 CHAR(1),
  "EEMOANSI"	 CHAR(1),
  "EEMOAGI"	 CHAR(1),
  "EEMODEPRE"	 CHAR(1),
  "EEMOOUT"	 VARCHAR(30),
  "HBVIDETILI"	 CHAR(1),
  "HBVIDTABAG"	 CHAR(1),
  "HBVIDEXEFIS"	 CHAR(1),
  "HBVIDEXEFISDES"	 VARCHAR(30),
  "SONREP"	 CHAR(1),
  "SONREPDESC"	 VARCHAR(50),
  "ANFMDIABMEL"	 CHAR(1),
  "ANFMCARDIO"	 CHAR(1),
  "ANFMNEOP"	 CHAR(1),
  "ANFMHIPERT"	 CHAR(1),
  "ANFMPNEUM"	 CHAR(1),
  "ANFMOUT"	 VARCHAR(30),
  "ANFMNEOPDES"	 VARCHAR(50),
  "ANFMSEMHIS"	 CHAR(1),
  "APATDIAMELLI"	 CHAR(1),
  "APATHIPERT"	 CHAR(1),
  "APATCARDIO"	 CHAR(1),
  "APATCARDIODES"	 VARCHAR(20),
  "APATPNEU"	 CHAR(1),
  "APATPNEUDES"	 VARCHAR(20),
  "APATGASINTES"	 CHAR(1),
  "APATGASINTEDES"	 VARCHAR(20),
  "APATNEFRO"	 CHAR(1),
  "APATNEFRODES"	 VARCHAR(20),
  "APATNEUR"	 CHAR(1),
  "APATNEURDES"	 VARCHAR(20),
  "APATCOL"	 CHAR(1),
  "APATCOLDES"	 VARCHAR(20),
  "APATINFCON"	 CHAR(1),
  "APATINFCONDES"	 VARCHAR(20),
  "APATOUT"	 VARCHAR(100),
  "ANTCIRUR"	 CHAR(1),
  "ANTCIRUGQUAIS"	 VARCHAR(200),
  "ANTCIRUINTER"	 CHAR(1),
  "ATCIRUINTQUAIS"	 VARCHAR(200),
  "ALERMED"	 CHAR(1),
  "ALERMEDES"	 VARCHAR(30),
  "ALERALIM"	 CHAR(1),
  "ALERALIMDES"	 VARCHAR(20),
  "ALERFITADE"	 CHAR(1),
  "ALERSOLTOP"	 CHAR(1),
  "ALERLAT"	 CHAR(1),
  "ALERDESCO"	 CHAR(1),
  "MALEREDEGLO"	 CHAR(1),
  "MALERANAFI"	 CHAR(1),
  "MALEREURCUT"	 CHAR(1),
  "MALEREDEFAC"	 CHAR(1),
  "MALEROUT"	 VARCHAR(20),
  "USOMEDI"	 CHAR(1),
  "USOMEDIQUAIS"	 VARCHAR(300),
  "INALIAPET"	 CHAR(1),
  "INALICONS"	 CHAR(1),
  "INALIDIMIN"	 CHAR(1),
  "INALIAUMEN"	 CHAR(1),
  "INALIUSOCAF"	 CHAR(1),
  "INALIMASDEG"	 CHAR(1),
  "INALIMASDEGDES"	 VARCHAR(50),
  "ELURINORM"	 CHAR(1),
  "ELURINCOURI"	 CHAR(1),
  "ELURICISTO"	 CHAR(1),
  "ELURIOUTROS7"	 VARCHAR(40),
  "ELINTNOR"	 CHAR(1),
  "ELINTDIAR"	 CHAR(1),
  "ELINTDIARDES"	 VARCHAR(30),
  "ELINTOBST"	 CHAR(1),
  "ELINTOBSTDES"	 VARCHAR(30),
  "ELINTENTER"	 CHAR(1),
  "ELINTSANGRET"	 CHAR(1),
  "ELINTCOLOS"	 CHAR(1),
  "ELINTOUT"	 CHAR(1),
  "CONPROCDESC"	 VARCHAR(50),
  "DIFLOCMOUT"	 VARCHAR(20),
  "CBSEMANOR"	 CHAR(1),
  "CBALOP"	 CHAR(1),
  "CBOUT"	 VARCHAR(30),
  "OLHSEMANOR"	 CHAR(1),
  "OLHCEG"	 CHAR(1),
  "OLHACUVIS"	 CHAR(1),
  "OLHACUVISDES"	 VARCHAR(30),
  "OLHOUT"	 VARCHAR(30),
  "OUVSEMANOR"	 CHAR(1),
  "OUVSUR"	 CHAR(1),
  "OUVACAUD"	 CHAR(1),
  "OUVACAUDES"	 VARCHAR(30),
  "OUVOUT"	 CHAR(1),
  "NARSEMANOR"	 CHAR(1),
  "NARDESEP"	 CHAR(1),
  "NAROUT"	 VARCHAR(30),
  "BOCSEMANOR"	 CHAR(1),
  "BOCLES"	 CHAR(1),
  "BOCOUT"	 VARCHAR(30),
  "DENSEMANOR"	 CHAR(1),
  "DENAUPAR"	 CHAR(1),
  "DENAUTOT"	 CHAR(1),
  "DENPROT"	 CHAR(1),
  "DENPROTDES"	 VARCHAR(30),
  "PESMOBPRE"	 CHAR(1),
  "PESRIGNU"	 CHAR(1),
  "PESOUT"	 VARCHAR(30),
  "TORATPTSIME"	 CHAR(1),
  "TORATPTASSI"	 CHAR(1),
  "MUCNORM"	 CHAR(1),
  "MUCHIP"	 CHAR(1),
  "MUCICTE"	 CHAR(1),
  "PELINT"	 CHAR(1),
  "PELRESS"	 CHAR(1),
  "PELDESC"	 CHAR(1),
  "PELLES"	 CHAR(1),
  "PELESDES"	 VARCHAR(30),
  "ELSPRES"	 CHAR(1),
  "ELSDIMI"	 CHAR(1),
  "TURPRES"	 CHAR(1),
  "TURDIMI"	 CHAR(1),
  "MASEMALT"	 CHAR(1),
  "MAMAST"	 CHAR(1),
  "MANOD"	 CHAR(1),
  "MAOUT"	 VARCHAR(30),
  "ABDPLA"	 CHAR(1),
  "ABDDIS"	 CHAR(1),
  "ABDOUT"	 VARCHAR(30),
  "GENMSEMANOR"	 CHAR(1),
  "GENMFIMO"	 CHAR(1),
  "GENMOUT"	 VARCHAR(30),
  "GENFSEMANOR"	 CHAR(1),
  "GENFLES"	 CHAR(1),
  "GENOUT"	 VARCHAR(30),
  "ANRESEMANOR"	 CHAR(1),
  "ANREFISS"	 CHAR(1),
  "ANREHEM"	 CHAR(1),
  "ANREOUT"	 VARCHAR(30),
  "MSMIMOBPRE"	 CHAR(1),
  "MSMIMOBPREDES"	 VARCHAR(20),
  "MSMIMOBLIM"	 CHAR(1),
  "MSMIMOBLIMDES"	 VARCHAR(20),
  "MSMIDEF"	 CHAR(1),
  "MSMIDEFDES"	 VARCHAR(20),
  "MSMIEDE"	 CHAR(1),
  "MSMIEDEDES"	 VARCHAR(20),
  "MSMIVAR"	 CHAR(1),
  "MSMIVARDES"	 VARCHAR(20),
  "EXANERX"	 CHAR(1),
  "EXANERXDES"	 VARCHAR(20),
  "EXANUSG"	 CHAR(1),
  "EXANUSGDES"	 VARCHAR(20),
  "EXANMAM"	 CHAR(1),
  "EXANMAMDES"	 VARCHAR(20),
  "EXANELE"	 CHAR(1),
  "EXANRMN"	 CHAR(1),
  "EXANRMNDES"	 VARCHAR(20),
  "EXANDUP"	 CHAR(1),
  "EXANDUPDES"	 VARCHAR(20),
  "EXANORTRZDIA"	 CHAR(1),
  "EXANORTRZDIADES"	 VARCHAR(50),
  "EXANNAOAPLI"	 CHAR(1),
  "EXANESTURO"	 CHAR(1),
  "EXANHIST"	 CHAR(1),
  "EXANOUT"	 VARCHAR(30),
  "OBSER"	 VARCHAR(300),
  "ENFECOREM"	 VARCHAR(50),
  "DATAFIN"	 TIMESTAMP,
  "CODIGOCPS"	 FLOAT,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "CODPAC"	 FLOAT,
  "DIFLOCOMTIPOM"	 CHAR(1),
  "TIPORESIDAPTO"	 CHAR(1),
  "USER_CRIADOR"	 INTEGER,
  "DATA"	 TIMESTAMP NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "NOMEPAC"	 VARCHAR(100),
  "DATACIRURGIA"	 TIMESTAMP,
  "GRUSANGUINEO"	 VARCHAR(5),
  "TIPORESIDENCIA"	 CHAR(1),
  "CONHEPROCED2"	 VARCHAR(100),
  "DIFICULAPREND"	 CHAR(1),
  "DIFICULAPREND2"	 VARCHAR(100),
  "ACOMPPOSOPERA"	 CHAR(1),
  "ACOMPPOSOPERA2"	 VARCHAR(100),
  "DIFICULOCOMO"	 CHAR(1),
  "DIFICULOCOMO2"	 CHAR(1),
  "CALMO"	 CHAR(1),
  "ANSIOSO"	 CHAR(1),
  "AGITADO"	 CHAR(1),
  "DEPRESSIVO"	 CHAR(1),
  "OUTROS"	 CHAR(1),
  "OUTROS1"	 VARCHAR(20),
  "ETILISMO"	 CHAR(1),
  "TABAGISMO"	 CHAR(1),
  "EXERCICIOFISICO"	 CHAR(1),
  "EXERCICIOFISICO2"	 VARCHAR(30),
  "SONOREPOUSO"	 CHAR(1),
  "SONOREPOUSO2"	 VARCHAR(50),
  "DIABMELLITUS"	 CHAR(1),
  "CARDIOPATA"	 CHAR(1),
  "NEOPLASIA"	 CHAR(1),
  "HIPERTENSAO"	 CHAR(1),
  "PNEUMOPATIA"	 CHAR(1),
  "OUTROS2"	 CHAR(1),
  "OUTROS3"	 VARCHAR(30),
  "HORARIO"	 TIME,
CONSTRAINT "PK_HIS_ENFERMAGEM" PRIMARY KEY ("INDICE")
);

/* Table: IBR_PAG_MED, Owner: SYSDBA */

CREATE TABLE "IBR_PAG_MED" 
(
  "CODIGO_MEDICO"	 INTEGER NOT NULL,
  "A_NOME"	 VARCHAR(100) NOT NULL,
  "LINK"	 VARCHAR(10) NOT NULL,
  "MES"	 INTEGER NOT NULL,
  "LIDO"	 CHAR(1) NOT NULL
);

/* Table: IBR_PESQ_TC, Owner: SYSDBA */

CREATE TABLE "IBR_PESQ_TC" 
(
  "RESPONDIDO_EM"	 TIMESTAMP NOT NULL,
  "CARDIACO"	 VARCHAR(255) NOT NULL,
  "ASMA"	 CHAR(1) NOT NULL,
  "RINITE"	 CHAR(1) NOT NULL,
  "PELE"	 CHAR(1) NOT NULL,
  "PENICILINA"	 CHAR(1) NOT NULL,
  "SULFA"	 CHAR(1) NOT NULL,
  "AL_ALIMENTOS"	 CHAR(1) NOT NULL,
  "AL_MEDICAMENTO"	 CHAR(1) NOT NULL,
  "REACAO_ALERGICA"	 CHAR(1) NOT NULL,
  "CONTRASTE_IODADO"	 CHAR(1) NOT NULL,
  "ALERGIA"	 CHAR(1) NOT NULL,
  "NOME_PACIENTE"	 VARCHAR(100) NOT NULL,
  "IDENTIFICACAO"	 VARCHAR(12) NOT NULL
);

/* Table: IMAGENS, Owner: SYSDBA */

CREATE TABLE "IMAGENS" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "ARQUIVO"	 VARCHAR(40),
  "TIPO"	 VARCHAR(30),
  "NOME"	 VARCHAR(50),
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DESCRICAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "CODIGO"	 CHAR(4),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "LOCAL"	 VARCHAR(50),
  "DATA"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "EXTENSAO"	 VARCHAR(10),
 PRIMARY KEY ("NUMERO")
);

/* Table: IMPORTPRONT, Owner: SYSDBA */

CREATE TABLE "IMPORTPRONT" 
(
  "DATA"	 VARCHAR(6),
  "PAC"	 VARCHAR(6),
  "MED"	 VARCHAR(5),
  "OBSERVACAO"	 VARCHAR(5000),
  "DATANOVA"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: IMPORTPRONT2, Owner: SYSDBA */

CREATE TABLE "IMPORTPRONT2" 
(
  "DATA"	 VARCHAR(6),
  "PAC"	 VARCHAR(6),
  "MED"	 VARCHAR(5),
  "OBSERVACAO"	 VARCHAR(5000),
  "DATANOVA"	 TIMESTAMP,
  "MEDNOVO"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: IMPRESSAODIGITAL, Owner: SYSDBA */

CREATE TABLE "IMPRESSAODIGITAL" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(10) NOT NULL,
  "SENHA"	 VARCHAR(700),
  "CODIGO"	 VARCHAR(10)
);

/* Table: IMP_FUSMA, Owner: SYSDBA */

CREATE TABLE "IMP_FUSMA" 
(
  "NIP_TIT"	 VARCHAR(10),
  "MAT_FIN"	 VARCHAR(2),
  "ORD"	 VARCHAR(2),
  "OMP"	 VARCHAR(3),
  "OML"	 VARCHAR(3),
  "POSTO"	 VARCHAR(2),
  "CORPO"	 VARCHAR(4),
  "QUADRO"	 VARCHAR(4),
  "ESPEC"	 VARCHAR(4),
  "NOME"	 VARCHAR(250),
  "DATA_NASC"	 VARCHAR(10),
  "SEXO"	 VARCHAR(1),
  "ESTCIV"	 VARCHAR(1),
  "NAT"	 VARCHAR(2),
  "NAC"	 VARCHAR(2),
  "G_PARENT"	 VARCHAR(2),
  "DIST"	 VARCHAR(1),
  "IMH"	 VARCHAR(1),
  "SIT"	 VARCHAR(2),
  "C_N_I_S"	 VARCHAR(1),
  "NUMBOL"	 VARCHAR(4),
  "ANOBOL"	 VARCHAR(4),
  "PAI"	 VARCHAR(250),
  "MAE"	 VARCHAR(250),
  "INIFUS"	 VARCHAR(8),
  "VALFUS"	 VARCHAR(13),
  "MATSIAPE"	 VARCHAR(8),
  "FUSM_DEP"	 VARCHAR(1),
  "ESTADO"	 VARCHAR(2),
  "CIDADE"	 VARCHAR(40),
  "OMH_FM"	 VARCHAR(3),
  "AP"	 VARCHAR(4),
  "AMH"	 VARCHAR(1),
  "DATAIMPORT"	 TIME,
  "NIP_VINC"	 VARCHAR(10),
  "TIPO_DEP"	 CHAR(1),
  "DATAIMPORTACAO"	 TIMESTAMP
);

/* Table: INDICEOPME, Owner: SYSDBA */

CREATE TABLE "INDICEOPME" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER,
  "INICIO"	 DOUBLE PRECISION,
  "FIM"	 DOUBLE PRECISION,
  "PORCENT"	 DOUBLE PRECISION,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
CONSTRAINT "PK_INDICEOPME" PRIMARY KEY ("INDICE")
);

/* Table: INFONUT, Owner: SYSDBA */

CREATE TABLE "INFONUT" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30),
  "UNIDADE"	 VARCHAR(6),
  "ORDPADRAO"	 DOUBLE PRECISION,
  "VISIVEL"	 VARCHAR(1),
  "ORDUSDA"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: INTENSIDADE, Owner: SYSDBA */

CREATE TABLE "INTENSIDADE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "MODALIDADE"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_INTENSIDADE" PRIMARY KEY ("INDICE")
);

/* Table: INTER2, Owner: SYSDBA */

CREATE TABLE "INTER2" 
(
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_VIA"	 CHAR(1),
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "A_DATAFIM"	 TIMESTAMP,
  "A_HORAFIM"	 TIMESTAMP,
  "A_ENVIO"	 TIMESTAMP,
  "DOCUMENTOS"	 SMALLINT,
  "A_DATADIA"	 TIMESTAMP,
  "FATURA"	 CHAR(1),
  "CODIGO"	 PK_CODIGO ,
  "INTER2NO"	 FLOAT NOT NULL,
  "A_VALOR"	 DOUBLE PRECISION,
  "A_GLOSA"	 DOUBLE PRECISION,
  "A_VALOR1"	 DOUBLE PRECISION NOT NULL,
  "TOTAL"	 COMPUTED BY (A_VALOR + A_VALOR1),
  "MARCADO"	 CHAR(1),
  "PARCELA"	 SMALLINT,
  "TIPOGUIA"	 CHAR(1),
  "MOTIVOALTA"	 CHAR(1),
  "FATURANO"	 INTEGER,
  "MEDICA"	 CHAR(1),
  "ENFERMAGEM"	 CHAR(1),
  "ADM"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "MEDICOSOL"	 INTEGER,
  "TIPO"	 CHAR(1),
  "CODSERV1"	 CHAR(8),
  "CODSERV2"	 CHAR(8),
  "CODSERV3"	 CHAR(8),
  "OBSERVACAO2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIARIA"	 INTEGER,
  "DESCONTO"	 DOUBLE PRECISION,
  "P_VALOR"	 DOUBLE PRECISION,
  "P_VALOR1"	 DOUBLE PRECISION,
  "VALORDISCO"	 DOUBLE PRECISION,
  "DATAREPRESENTA"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "FATURAGLOSA"	 INTEGER,
  "A_GUIA"	 VARCHAR(30),
  "DATARECEBIMENTO"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DIARIAAUTO"	 VARCHAR(8),
  "DIARIAHORA"	 TIMESTAMP,
  "TRAVADIA"	 TIMESTAMP,
  "ASSISTAUTO"	 VARCHAR(8),
  "TIPOACOMODACAO"	 CHAR(1),
  "TIPOENFERMARIA"	 CHAR(1),
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "ALTAMEDICO"	 TIMESTAMP,
  "ALTAANESTESISTA"	 TIMESTAMP,
  "ALTAAUDITOR"	 TIMESTAMP,
  "ALTAFARMACIA"	 TIMESTAMP,
  "ALTAENFERMAGEM"	 TIMESTAMP,
  "TIPOALTATISS"	 CHAR(2),
  "TRATAMENTO2"	 INTEGER,
  "PTOTAL"	 COMPUTED BY (P_VALOR + P_VALOR1),
  "RAT"	 VARCHAR(10),
  "RAT_COD"	 VARCHAR(2),
  "DATAULTIMORECALC"	 TIMESTAMP,
  "A_MEDICOS"	 INTEGER,
  "CODIGOAMBSUS"	 VARCHAR(10),
  "CODIGOSERV"	 INTEGER,
  "ESPECIALIDADE"	 CHAR(2),
  "CID"	 VARCHAR(4),
  "DATARAT"	 TIMESTAMP,
  "SMS"	 CHAR(1),
  "TIPOFATURAMENTO"	 CHAR(1),
  "PRORROGA"	 INTEGER,
  "NUMEROGUIAOPERADORA"	 VARCHAR(30),
  "GUIAOPERADORA"	 VARCHAR(30) CHARACTER SET ISO8859_1,
 PRIMARY KEY ("INTER2NO")
);

/* Table: INTER2X, Owner: SYSDBA */

CREATE TABLE "INTER2X" 
(
  "CODIGOINT"	 PK_CODIGOINT ,
  "TRATAMENTO"	 PK_TRATAMENTO ,
  "CONVENIO"	 PK_CONVENIO ,
  "A_VIA"	 CHAR(1),
  "A_DATA"	 TIMESTAMP,
  "A_HORA"	 TIMESTAMP,
  "A_DATAFIM"	 TIMESTAMP,
  "A_HORAFIM"	 TIMESTAMP,
  "A_ENVIO"	 TIMESTAMP,
  "DOCUMENTOS"	 SMALLINT,
  "A_DATADIA"	 TIMESTAMP,
  "FATURA"	 CHAR(1),
  "CODIGO"	 PK_CODIGO ,
  "INTER2NO"	 FLOAT,
  "A_VALOR"	 DOUBLE PRECISION,
  "A_GLOSA"	 DOUBLE PRECISION,
  "A_VALOR1"	 DOUBLE PRECISION NOT NULL,
  "MARCADO"	 CHAR(1),
  "PARCELA"	 SMALLINT,
  "TIPOGUIA"	 CHAR(1),
  "MOTIVOALTA"	 CHAR(1),
  "FATURANO"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: INTER3, Owner: SYSDBA */

CREATE TABLE "INTER3" 
(
  "INTER3NO"	 FLOAT NOT NULL,
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "CODIGOSERV"	 PK_CONVENIO  NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "QUANTIDADE"	 SMALLINT,
  "A_CODMOE"	 PK_MOEDAS ,
  "A_QUANTIDADE"	 FLOAT,
  "CODIGO"	 PK_CODIGO ,
  "VALOR"	 DOUBLE PRECISION NOT NULL,
  "CODIGOAMB"	 CHAR(8),
  "GLOSA"	 DOUBLE PRECISION,
  "LIQUIDO"	 COMPUTED BY ( VALOR - GLOSA ),
  "DHE"	 CHAR(1),
  "FALHA"	 INTEGER,
  "SENHA"	 VARCHAR(12),
  "PORTE"	 VARCHAR(4),
  "CODESP"	 CHAR(2),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "REPRESENTA"	 DOUBLE PRECISION,
  "A_FILME"	 FLOAT,
  "CODIGOAMB1"	 CHAR(8),
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "TIPOCOB"	 SMALLINT,
  "CO"	 DOUBLE PRECISION,
  "COBRAR"	 CHAR(1),
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "UNIDADENEGOCIO"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "TECNICA"	 CHAR(1),
  "GRAUPARTICIPACAO"	 CHAR(2),
  "HORAFINAL"	 TIMESTAMP,
  "PACOTE"	 INTEGER,
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "CUSTO"	 FLOAT,
  "A_SITUACAO"	 VARCHAR(1),
  "GRUPOSUS"	 VARCHAR(2),
  "NF"	 VARCHAR(12),
  "FORNECEDOR"	 INTEGER,
  "DATAREPRESENTA"	 TIMESTAMP,
  "GLOSATIPO2"	 SMALLINT,
  "TRATANTERIOR"	 INTEGER,
  "GLOSACERTA"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "XMLID"	 INTEGER,
  "SOLICITANTE"	 INTEGER,
  "CONTRASTE"	 CHAR(1),
  "VIA"	 CHAR(1),
  "MEDICACAO_ASSOCIADA"	 VARCHAR(50),
  "RECEBPARCIAL"	 CHAR(1),
  "DATARECEBP1"	 TIMESTAMP,
  "DATARECEBP2"	 TIMESTAMP,
  "DATARECEBP3"	 TIMESTAMP,
  "DATARECEBP4"	 TIMESTAMP,
  "VALORRECEBP1"	 DOUBLE PRECISION,
  "VALORRECEBP2"	 DOUBLE PRECISION,
  "VALORRECEBP3"	 DOUBLE PRECISION,
  "VALORRECEBP4"	 DOUBLE PRECISION,
  "DATARECEBITEM"	 TIMESTAMP,
 PRIMARY KEY ("INTER3NO")
);

/* Table: INTER32, Owner: SYSDBA */

CREATE TABLE "INTER32" 
(
  "INTER3NO"	 FLOAT NOT NULL,
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "CODIGOMM"	 PK_CODIGOMM  NOT NULL,
  "QUANTIDADE"	 SMALLINT,
  "VALOR"	 DOUBLE PRECISION,
  "CODIGO"	 PK_CODIGO ,
  "TOTAL"	 COMPUTED BY (QUANTIDADE * VALOR),
  "GLOSA"	 DOUBLE PRECISION,
  "LIQUIDO"	 COMPUTED BY ( TOTAL - GLOSA ),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "REPRESENTA"	 DOUBLE PRECISION,
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "A_MEDICOS"	 INTEGER,
  "CUSTO"	 FLOAT,
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "UNIDADENEGOCIO"	 INTEGER,
  "COBRAR"	 CHAR(1),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "BRASINDICE"	 VARCHAR(4),
  "SAIDA"	 FLOAT,
  "PACOTE"	 INTEGER,
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "REAPRESENTATISS"	 VARCHAR(10),
  "FORNECEDOR"	 INTEGER,
  "NF"	 VARCHAR(12),
  "DATAREPRESENTA"	 TIMESTAMP,
  "GLOSATIPO2"	 SMALLINT,
  "TRATANTERIOR"	 INTEGER,
  "GLOSACERTA"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "XMLID"	 INTEGER,
  "RECEBPARCIAL"	 CHAR(1),
  "DATARECEBP1"	 TIMESTAMP,
  "DATARECEBP2"	 TIMESTAMP,
  "DATARECEBP3"	 TIMESTAMP,
  "DATARECEBP4"	 TIMESTAMP,
  "VALORRECEBP1"	 DOUBLE PRECISION,
  "VALORRECEBP2"	 DOUBLE PRECISION,
  "VALORRECEBP3"	 DOUBLE PRECISION,
  "VALORRECEBP4"	 DOUBLE PRECISION,
  "DATARECEBITEM"	 TIMESTAMP,
 PRIMARY KEY ("INTER3NO")
);

/* Table: INTER4, Owner: SYSDBA */

CREATE TABLE "INTER4" 
(
  "INTER4NO"	 FLOAT NOT NULL,
  "CODIGOINT"	 PK_CODIGOINT ,
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATAFIM"	 TIMESTAMP,
  "HORAFIM"	 TIMESTAMP,
  "FOIPARA"	 PK_LEITOS ,
  "LEITO"	 PK_LEITOS  NOT NULL,
  "CODIGO"	 PK_CODIGO ,
  "A_ALA"	 SMALLINT NOT NULL,
  "A_CODIGO1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "A_CODIGO"	 INTEGER,
  "A_MEDICOS"	 SMALLINT,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INTER4NO")
);

/* Table: INTERNAMENTO, Owner: SYSDBA */

CREATE TABLE "INTERNAMENTO" 
(
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "DATACONTA"	 TIMESTAMP,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATAALTA"	 TIMESTAMP,
  "HORAALTA"	 TIMESTAMP,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "LEITO"	 PK_LEITOS  NOT NULL,
  "LEITOX"	 CHAR(2),
  "DATAX"	 TIMESTAMP,
  "HORAX"	 TIMESTAMP,
  "MATRICULA"	 CHAR(30),
  "GIH"	 CHAR(14),
  "IDENTIDADE"	 CHAR(15),
  "EMISSORCI"	 CHAR(15),
  "EMISSAOCI"	 TIMESTAMP,
  "CIVIL"	 PK_CIVIL ,
  "PROFISSAO"	 CHAR(20),
  "TIPOLEITO"	 SMALLINT,
  "PERMANENC"	 SMALLINT,
  "PRORROGA"	 SMALLINT,
  "TIPOCOB"	 CHAR(1),
  "A_MEDICOS"	 PK_MEDICOS  NOT NULL,
  "NOTIFICA"	 CHAR(50) NOT NULL,
  "NOTIEND"	 CHAR(50),
  "NOTITEL"	 CHAR(10),
  "TRABALHO"	 CHAR(40),
  "TIPOINT"	 CHAR(1),
  "TIPOCIR"	 CHAR(1),
  "DIAGNOST1"	 CHAR(60),
  "DIAGNOST2"	 CHAR(60),
  "DIAGNOST3"	 CHAR(60),
  "ELETIVA"	 CHAR(1),
  "CODIGOA"	 SMALLINT,
  "A_CODIGO1"	 SMALLINT,
  "A_MORTO"	 CHAR(1),
  "A_MEDRESP"	 SMALLINT,
  "SSOCIAL"	 CHAR(1),
  "DIASOL"	 SMALLINT,
  "GRPS"	 CHAR(7),
  "CID10"	 PK_CID ,
  "CODIGO"	 PK_CODIGO ,
  "NOTICPF"	 PK_CPF ,
  "NOTICELUL"	 VARCHAR(15),
  "NOTIUF"	 PK_UF ,
  "NOTICIDADE"	 PK_CIDADE ,
  "NOTIBAIRRO"	 PK_BAIRRO ,
  "NOTICEP"	 VARCHAR(8),
  "PROCEDENCIA"	 CHAR(25),
  "MOTIVO"	 INTEGER,
  "CODIGOPAC"	 PK_CODIGOPAC ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("CODIGOINT")
);

/* Table: INTERVISITA, Owner: SYSDBA */

CREATE TABLE "INTERVISITA" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGOCPS"	 PK_CODIGOINT ,
  "NOME"	 VARCHAR(40),
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATAFIM"	 TIMESTAMP,
  "HORAFIM"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "RG"	 VARCHAR(20),
  "TIPOVISITA"	 VARCHAR(20),
  "TIPOVISITANTE"	 VARCHAR(20),
  "LEITO"	 VARCHAR(50),
  "MEDICOS"	 INTEGER,
  "FOTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "REINCIDENCIA"	 CHAR(1),
  "LOCALENTRADA"	 INTEGER,
  "ALEITO"	 INTEGER,
  "ALA"	 INTEGER,
  "SETOR"	 VARCHAR(50),
  "OBS"	 VARCHAR(50),
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: IPAQ, Owner: SYSDBA */

CREATE TABLE "IPAQ" 
(
  "CODIGOPAC"	 INTEGER,
  "QTD_CAMINHADA"	 INTEGER,
  "TEMPO_CAMINHADA"	 DOUBLE PRECISION,
  "QTD_MODERADA"	 INTEGER,
  "TEMPO_MODERADA"	 DOUBLE PRECISION,
  "QTD_VIGOROSA"	 INTEGER,
  "TEMPO_VIGOROSA"	 DOUBLE PRECISION,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER
);

/* Table: JUSTIFICAPADRAO, Owner: SYSDBA */

CREATE TABLE "JUSTIFICAPADRAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40) NOT NULL,
  "DESCRICAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
 PRIMARY KEY ("INDICE")
);

/* Table: LABORA, Owner: SYSDBA */

CREATE TABLE "LABORA" 
(
  "LAB_CODI"	 CHAR(3) NOT NULL,
  "LAB_DESC"	 VARCHAR(40),
  "LAB_FLAG"	 CHAR(1),
  "HTML"	 VARCHAR(60),
  "EMAIL"	 VARCHAR(60),
  "TELEFONE"	 VARCHAR(15),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "MED"	 CHAR(1),
  "MAT"	 CHAR(1),
  "SOL"	 CHAR(1),
 PRIMARY KEY ("LAB_CODI")
);

/* Table: LABORATORIO_EQUIP, Owner: SYSDBA */

CREATE TABLE "LABORATORIO_EQUIP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_LABORATORIO_EQUIP" PRIMARY KEY ("INDICE")
);

/* Table: LAB_PARDINI, Owner: SYSDBA */

CREATE TABLE "LAB_PARDINI" 
(
  "MNEXA"	 VARCHAR(10) CHARACTER SET ISO8859_1 NOT NULL,
  "MNMAT"	 VARCHAR(10) CHARACTER SET ISO8859_1 NOT NULL,
  "DESCEXA"	 VARCHAR(200) CHARACTER SET ISO8859_1 NOT NULL,
  "ORIGEMADMISSIVEL"	 VARCHAR(20) CHARACTER SET ISO8859_1,
  "DESCMATREAL"	 VARCHAR(50) CHARACTER SET ISO8859_1,
  "CONSERVANTE"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "INFOCOMP"	 VARCHAR(50) CHARACTER SET ISO8859_1,
  "INDICE"	 INTEGER NOT NULL,
CONSTRAINT "PK_LAB_PARDINI_INDICE" PRIMARY KEY ("INDICE")
);

/* Table: LAUDOANTIBIOTICOS, Owner: SYSDBA */

CREATE TABLE "LAUDOANTIBIOTICOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(10),
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "APLICBACTERIA"	 CHAR(1),
  "APLICFUNGO"	 CHAR(1),
  "STATUS"	 CHAR(1),
CONSTRAINT "PK_LAUDOANTIBIOTICOS" PRIMARY KEY ("INDICE")
);

/* Table: LAUDOBACTERIA, Owner: SYSDBA */

CREATE TABLE "LAUDOBACTERIA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(15) NOT NULL,
  "BACTERIA"	 VARCHAR(50),
  "CLASSE"	 VARCHAR(15),
  "STATUS"	 VARCHAR(1),
CONSTRAINT "PK_LAUDOBACTERIA" PRIMARY KEY ("INDICE")
);

/* Table: LAUDOPADRX, Owner: SYSDBA */

CREATE TABLE "LAUDOPADRX" 
(
  "LAUDO"	 VARCHAR(60) NOT NULL,
  "DESCRICAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ORIENTACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CODPRINCIPAL"	 CHAR(8),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "LAUDOTIPO"	 CHAR(1),
  "ORDEM"	 INTEGER,
  "QUEBRA"	 CHAR(1),
  "QTDELINHA"	 INTEGER,
  "LAUDOMANUAL"	 CHAR(1),
  "PREFERENCIAL"	 CHAR(1),
  "ATIVO"	 CHAR(1),
  "MATCOLETA"	 INTEGER,
  "MSGMATERIAL"	 CHAR(1),
  "MNM"	 VARCHAR(10),
  "RESULTADO"	 VARCHAR(20),
  "ROTINA"	 VARCHAR(20),
  "TEMPERATURA"	 VARCHAR(30),
  "COD_BANCADA"	 INTEGER,
  "COD_EQUIPAMENTO"	 INTEGER,
  "ALVARO"	 VARCHAR(30),
  "ALVAROMATERIAL"	 VARCHAR(30),
  "ORIGEM"	 INTEGER,
  "INDICE"	 INTEGER,
  "COD_PARDINI"	 INTEGER,
 PRIMARY KEY ("LAUDO")
);

/* Table: LAUDOPADRX_COMPLEMENTO, Owner: SYSDBA */

CREATE TABLE "LAUDOPADRX_COMPLEMENTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "LAUDO"	 VARCHAR(60) CHARACTER SET ISO8859_1 NOT NULL,
  "INFOCOMP_NOME"	 VARCHAR(50) CHARACTER SET ISO8859_1,
CONSTRAINT "PK_LAUDOPADRX_COMPLEMENTO" PRIMARY KEY ("INDICE")
);

/* Table: LAUDOVAR, Owner: SYSDBA */

CREATE TABLE "LAUDOVAR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(25) NOT NULL,
  "LAUDO"	 VARCHAR(60),
  "ANTERIOR"	 SMALLINT,
  "TITULO"	 VARCHAR(30),
  "FIXO"	 CHAR(1),
  "CALCULADO"	 CHAR(1),
  "ORDEM"	 INTEGER,
  "MINIMO"	 FLOAT,
  "MAXIMO"	 FLOAT,
  "FORMATACAO"	 CHAR(20),
  "TIPO"	 VARCHAR(30),
  "PORCENTAGEM"	 CHAR(1),
  "TIPOCONSULTA"	 VARCHAR(30),
  "TAMANHO"	 INTEGER,
  "LINHADEL"	 CHAR(1),
  "POSICAO"	 CHAR(1),
  "CODFRASEPAD"	 VARCHAR(5),
  "ALVARO"	 VARCHAR(30),
  "PARDINI"	 VARCHAR(50) CHARACTER SET ISO8859_1,
CONSTRAINT "PK_LAUDOVAR" PRIMARY KEY ("INDICE")
);

/* Table: LEITOS, Owner: SYSDBA */

CREATE TABLE "LEITOS" 
(
  "LEITO"	 PK_LEITOS  NOT NULL,
  "A_TIPO"	 VARCHAR(2),
  "A_NOME"	 VARCHAR(40),
  "A_ATIVO"	 PK_SIMNAO ,
  "CODIGOINT"	 PK_CODIGOINT ,
  "A_GRUPO"	 PK_ALAS  NOT NULL,
  "TAMANHO"	 SMALLINT,
  "LEITOANTIGO"	 CHAR(3),
  "ESTADO"	 CHAR(1),
  "ANDAR"	 CHAR(2),
  "DATA2"	 TIMESTAMP,
  "CONTAR"	 PK_SIMNAO ,
  "DATASINC"	 TIMESTAMP,
  "PACOTE"	 INTEGER,
  "RESUMO"	 VARCHAR(8),
  "UNIDADENEGOCIO"	 INTEGER,
  "CCUSTO"	 INTEGER,
  "OBSMAPA"	 VARCHAR(250),
  "A_MEDICOS"	 INTEGER,
  "MENSAGEM01"	 VARCHAR(250),
  "MENSAGEM02"	 VARCHAR(250),
  "MENSAGEM03"	 VARCHAR(250),
 PRIMARY KEY ("LEITO")
);

/* Table: LINKS, Owner: SYSDBA */

CREATE TABLE "LINKS" 
(
  "LINKS"	 VARCHAR(120) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOCALENTRADA, Owner: SYSDBA */

CREATE TABLE "LOCALENTRADA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
CONSTRAINT "PK_LOCALENTRADA" PRIMARY KEY ("INDICE")
);

/* Table: LOG, Owner: SYSDBA */

CREATE TABLE "LOG" 
(
  "INDICE"	 INTEGER NOT NULL,
  "IP"	 VARCHAR(16),
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "TIPOGUIA"	 INTEGER,
  "ACAO"	 VARCHAR(100),
  "CPS"	 FLOAT,
CONSTRAINT "PK_LOG" PRIMARY KEY ("INDICE")
);

/* Table: LOGSAPI, Owner: SYSDBA */

CREATE TABLE "LOGSAPI" 
(
  "INDICE"	 VARCHAR(50) NOT NULL,
  "TABELA"	 VARCHAR(50) NOT NULL,
  "CAMPO"	 VARCHAR(50) NOT NULL,
  "TIPO"	 VARCHAR(20) NOT NULL,
  "DATAHORA"	 TIMESTAMP,
  "IP"	 VARCHAR(50) NOT NULL,
  "SISTEMA"	 VARCHAR(100),
  "VERSAO"	 VARCHAR(50),
  "USUARIO"	 VARCHAR(50),
  "IDCONNECTION"	 VARCHAR(50),
  "PROCESSO"	 VARCHAR(250),
CONSTRAINT "PK_LOGSAPI" PRIMARY KEY ("INDICE")
);

/* Table: LOGSAPIITEM, Owner: SYSDBA */

CREATE TABLE "LOGSAPIITEM" 
(
  "LOGSAPI"	 VARCHAR(50) NOT NULL,
  "CAMPO"	 VARCHAR(50) NOT NULL,
  "VALOROLD"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "VALORNEW"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80
);

/* Table: LOGTABELAS, Owner: SYSDBA */

CREATE TABLE "LOGTABELAS" 
(
  "INDICE"	 FLOAT NOT NULL,
  "NOMETABELA"	 VARCHAR(50) NOT NULL,
  "CHAVETABELA"	 FLOAT NOT NULL,
  "CODUSUARIO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "CONTEUDO"	 VARCHAR(9000) NOT NULL,
CONSTRAINT "PK_LOGTABELAS" PRIMARY KEY ("INDICE")
);

/* Table: LOGUSUARIO, Owner: SYSDBA */

CREATE TABLE "LOGUSUARIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
  "SISTEMA"	 VARCHAR(20) NOT NULL,
  "ENTRADA"	 TIMESTAMP NOT NULL,
  "SAIDA"	 TIMESTAMP NOT NULL,
  "IP"	 VARCHAR(20),
  "VERSAO"	 VARCHAR(20),
 PRIMARY KEY ("INDICE")
);

/* Table: LOG_BAIRRO, Owner: SYSDBA */

CREATE TABLE "LOG_BAIRRO" 
(
  "BAI_NU_SEQUENCIAL"	 INTEGER,
  "UFE_SG"	 VARCHAR(2),
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "BAI_NO"	 VARCHAR(72),
  "BAI_NO_ABREV"	 VARCHAR(36),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_CONVENIOS, Owner: SYSDBA */

CREATE TABLE "LOG_CONVENIOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "NOMEUSUARIO"	 VARCHAR(200),
  "ALTERACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CAMPO"	 VARCHAR(100),
  "VALOR_ANTIGO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CODCONVENIO"	 INTEGER,
CONSTRAINT "PK_LOG_CONVENIOS" PRIMARY KEY ("INDICE")
);

/* Table: LOG_CPC, Owner: SYSDBA */

CREATE TABLE "LOG_CPC" 
(
  "CPC_NU_SEQUENCIAL"	 INTEGER,
  "UFE_SG"	 VARCHAR(2),
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "CEP"	 VARCHAR(10),
  "CPC_NO"	 VARCHAR(72),
  "CPC_ENDERECO"	 VARCHAR(80),
  "CPC_TIPO"	 VARCHAR(2),
  "CPC_ABRANGENCIA"	 VARCHAR(80),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_FAIXA_BAIRRO, Owner: SYSDBA */

CREATE TABLE "LOG_FAIXA_BAIRRO" 
(
  "BAI_NU_SEQUENCIAL"	 INTEGER,
  "FCB_NU_ORDEM"	 INTEGER,
  "FCB_RAD_INI"	 VARCHAR(5),
  "FCB_SUF_INI"	 VARCHAR(3),
  "FCB_RAD_FIM"	 VARCHAR(5),
  "FCB_SUF_FIM"	 VARCHAR(3),
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_FAIXA_CPC, Owner: SYSDBA */

CREATE TABLE "LOG_FAIXA_CPC" 
(
  "CPC_NU_SEQUENCIAL"	 INTEGER,
  "CPC_NU_INICIAL"	 INTEGER,
  "CPC_NU_FINAL"	 INTEGER,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_FAIXA_LOCALIDADE, Owner: SYSDBA */

CREATE TABLE "LOG_FAIXA_LOCALIDADE" 
(
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "LOC_RAD1_INI"	 VARCHAR(5),
  "LOC_SUF1_INI"	 VARCHAR(3),
  "LOC_RAD1_FIM"	 VARCHAR(5),
  "LOC_SUF1_FIM"	 VARCHAR(3),
  "LOC_RAD2_INI"	 VARCHAR(5),
  "LOC_SUF2_INI"	 VARCHAR(3),
  "LOC_RAD2_FIM"	 VARCHAR(5),
  "LOC_SUF2_FIM"	 VARCHAR(3),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_FAIXA_UF, Owner: SYSDBA */

CREATE TABLE "LOG_FAIXA_UF" 
(
  "UFE_SG"	 VARCHAR(2),
  "UFE_NO"	 VARCHAR(72),
  "UFE_RAD1_INI"	 VARCHAR(5),
  "UFE_SUF1_INI"	 VARCHAR(3),
  "UFE_RAD1_FIM"	 VARCHAR(5),
  "UFE_SUF1_FIM"	 VARCHAR(3),
  "UFE_RAD2_INI"	 VARCHAR(5),
  "UFE_SUF2_INI"	 VARCHAR(3),
  "UFE_RAD2_FIM"	 VARCHAR(5),
  "UFE_SUF2_FIM"	 VARCHAR(3),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_FAIXA_UOP, Owner: SYSDBA */

CREATE TABLE "LOG_FAIXA_UOP" 
(
  "UOP_NU_SEQUENCIAL"	 INTEGER,
  "FNC_NU_INICIAL"	 INTEGER,
  "FNC_NU_FINAL"	 INTEGER,
  "FNC_IN_TIPO"	 VARCHAR(255),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_GRANDE_USUARIO, Owner: SYSDBA */

CREATE TABLE "LOG_GRANDE_USUARIO" 
(
  "GRU_NU_SEQUENCIAL"	 INTEGER,
  "UFE_SG"	 VARCHAR(2),
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "LOG_NU_SEQUENCIAL"	 VARCHAR(8),
  "BAI_NU_SEQUENCIAL"	 INTEGER,
  "GRU_NO"	 VARCHAR(72),
  "CEP"	 VARCHAR(8),
  "GRU_ENDERECO"	 VARCHAR(200),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_LOCALIDADE, Owner: SYSDBA */

CREATE TABLE "LOG_LOCALIDADE" 
(
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "LOC_NOSUB"	 VARCHAR(50),
  "LOC_NO"	 VARCHAR(60),
  "CEP"	 VARCHAR(8),
  "UFE_SG"	 VARCHAR(2),
  "LOC_IN_SITUACAO"	 INTEGER,
  "LOC_IN_TIPO_LOCALIDADE"	 VARCHAR(1),
  "LOC_NU_SEQUENCIAL_SUB"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_LOGRADOURO, Owner: SYSDBA */

CREATE TABLE "LOG_LOGRADOURO" 
(
  "LOG_NU_SEQUENCIAL"	 INTEGER,
  "UFE_SG"	 VARCHAR(2),
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "LOG_NO"	 VARCHAR(70),
  "LOG_NOME"	 VARCHAR(125),
  "BAI_NU_SEQUENCIAL_INI"	 INTEGER,
  "BAI_NU_SEQUENCIAL_FIM"	 INTEGER,
  "CEP"	 VARCHAR(8),
  "LOG_COMPLEMENTO"	 VARCHAR(100),
  "LOG_TIPO_LOGRADOURO"	 VARCHAR(72),
  "LOG_STATUS_TIPO_LOG"	 VARCHAR(1),
  "LOG_NO_SEM_ACENTO"	 VARCHAR(70),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_SISTEMA, Owner: SYSDBA */

CREATE TABLE "LOG_SISTEMA" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "DESCRICAO"	 VARCHAR(200),
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: LOG_TIPO_LOGR, Owner: SYSDBA */

CREATE TABLE "LOG_TIPO_LOGR" 
(
  "TIPOLOGRADOURO"	 VARCHAR(10),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOG_UNID_OPER, Owner: SYSDBA */

CREATE TABLE "LOG_UNID_OPER" 
(
  "UOP_NU_SEQUENCIAL"	 INTEGER,
  "UFE_SG"	 VARCHAR(2),
  "LOC_NU_SEQUENCIAL"	 INTEGER,
  "LOG_NU_SEQUENCIAL"	 INTEGER,
  "BAI_NU_SEQUENCIAL"	 INTEGER,
  "UOP_NO"	 VARCHAR(100),
  "CEP"	 VARCHAR(8),
  "UOP_ENDERECO"	 VARCHAR(200),
  "UOP_IN_CP"	 VARCHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: LOTE, Owner: SYSDBA */

CREATE TABLE "LOTE" 
(
  "DESCRICAO"	 VARCHAR(30) NOT NULL,
CONSTRAINT "PK_LOTE" PRIMARY KEY ("DESCRICAO")
);

/* Table: MAQUINETA, Owner: SYSDBA */

CREATE TABLE "MAQUINETA" 
(
  "CONVENIO"	 INTEGER NOT NULL,
  "MAQUINA"	 VARCHAR(10)
);

/* Table: MARCACAO, Owner: SYSDBA */

CREATE TABLE "MARCACAO" 
(
  "NUMERO"	 FLOAT NOT NULL,
  "PACIENTE"	 CHAR(50),
  "DATA"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(500),
  "SALA"	 CHAR(2),
  "CIRURGIA"	 CHAR(30),
  "ANESTESIA"	 CHAR(30),
  "TELEFONE"	 VARCHAR(15),
  "HORA"	 TIMESTAMP,
  "CONVENIO"	 INTEGER,
  "A_MEDICOS"	 PK_MEDICO ,
  "TIPO"	 CHAR(1),
  "CODIGOPAC"	 PK_CODIGOPAC1 ,
  "CADASTRADOEM"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "ESTADO"	 CHAR(1),
  "CONTATO"	 CHAR(1),
  "DATAHORA"	 TIMESTAMP,
  "FEITO"	 CHAR(1),
  "CODIGOPROC"	 INTEGER,
  "CODIGOAMB"	 CHAR(8),
  "CONTADOR"	 SMALLINT,
  "CODIGO"	 PK_CODIGO ,
  "EXTRA"	 CHAR(1),
  "TELEFONEAUX"	 VARCHAR(15),
  "CODIGOCPS"	 FLOAT,
  "STATUS"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CONTRASTE"	 CHAR(1),
  "SOLCREMEB"	 VARCHAR(8),
  "MEDRESP"	 INTEGER,
  "DICOM"	 INTEGER,
  "USER2"	 INTEGER,
  "SOLICITACAO"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "XML"	 CHAR(1),
  "PLANO"	 VARCHAR(4),
  "CONFIRMADO"	 CHAR(1),
  "DATAUSER1"	 TIMESTAMP,
  "DATAUSER2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DILATANDO"	 CHAR(1),
  "MATRICULA"	 VARCHAR(40),
  "HORAFATURA"	 TIMESTAMP,
  "GRUPOSUS"	 CHAR(2),
  "USERB1"	 INTEGER,
  "USERB2"	 INTEGER,
  "USERGERACAO"	 INTEGER,
  "IMPRESSOETIQUETA"	 CHAR(1),
  "TRIAGEM"	 INTEGER,
  "ORDEMTRIAGEM"	 SMALLINT,
  "DESTAQUE"	 CHAR(1),
  "CLASSIFICACAO"	 INTEGER,
  "SMS_MARCADO"	 INTEGER,
  "OPERADORA_CELULAR"	 INTEGER,
  "SMSENVIA"	 CHAR(1),
  "A_MEDICOS2"	 INTEGER,
  "CHECKUP"	 CHAR(1),
  "CHECKUP_RETORNO"	 VARCHAR(1),
  "VALOR"	 DOUBLE PRECISION,
  "AUTORIZACAO"	 VARCHAR(30),
  "CONFIRMACAO_N"	 CHAR(1),
  "OBSERVACAO_ADM"	 VARCHAR(250),
  "PNE"	 CHAR(1),
  "IPPAINEL"	 VARCHAR(30),
  "MOTIVO"	 INTEGER,
 PRIMARY KEY ("NUMERO")
);

/* Table: MARCACAOLIMITE, Owner: SYSDBA */

CREATE TABLE "MARCACAOLIMITE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "PERIODO"	 SMALLINT NOT NULL,
  "CODIGOAMB"	 VARCHAR(8),
  "QTDE"	 SMALLINT NOT NULL,
  "A_MEDICOS"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "FINAL"	 TIMESTAMP,
  "VALOR"	 DOUBLE PRECISION,
  "PROCEDIMENTO"	 VARCHAR(250),
  "SEGUNDA"	 CHAR(1),
  "TERCA"	 CHAR(1),
  "QUARTA"	 CHAR(1),
  "QUINTA"	 CHAR(1),
  "SEXTA"	 CHAR(1),
  "SABADO"	 CHAR(1),
  "DOMINGO"	 CHAR(1),
  "HORARIOINICIO"	 TIMESTAMP,
  "HORARIOFINAL"	 TIMESTAMP,
  "EXTRAS"	 CHAR(1),
CONSTRAINT "PK_MARCACAOLIMITE" PRIMARY KEY ("INDICE")
);

/* Table: MARCACAO_REG_LIMPOS, Owner: SYSDBA */

CREATE TABLE "MARCACAO_REG_LIMPOS" 
(
  "NUMERO"	 FLOAT NOT NULL,
  "PACIENTE"	 CHAR(50),
  "DATA"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(80),
  "SALA"	 CHAR(2),
  "CIRURGIA"	 CHAR(30),
  "ANESTESIA"	 CHAR(30),
  "TELEFONE"	 VARCHAR(15),
  "HORA"	 TIMESTAMP,
  "CONVENIO"	 INTEGER,
  "A_MEDICOS"	 INTEGER,
  "TIPO"	 CHAR(1),
  "CODIGOPAC"	 PK_CODIGOPAC1 ,
  "CADASTRADOEM"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "ESTADO"	 CHAR(1),
  "CONTATO"	 CHAR(1),
  "DATAHORA"	 TIMESTAMP,
  "FEITO"	 CHAR(1),
  "CODIGOPROC"	 INTEGER,
  "CODIGOAMB"	 CHAR(8),
  "CONTADOR"	 SMALLINT,
  "CODIGO"	 PK_CODIGO ,
  "EXTRA"	 CHAR(1),
  "TELEFONEAUX"	 VARCHAR(15),
  "CODIGOCPS"	 FLOAT,
  "STATUS"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CONTRASTE"	 CHAR(1),
  "SOLCREMEB"	 VARCHAR(8),
  "MEDRESP"	 INTEGER,
  "DICOM"	 INTEGER,
  "USER2"	 INTEGER,
  "SOLICITACAO"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "XML"	 CHAR(1),
  "PLANO"	 VARCHAR(2),
  "CONFIRMADO"	 CHAR(1),
  "DATAUSER1"	 TIMESTAMP,
  "DATAUSER2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DILATANDO"	 CHAR(1),
  "MOTIVOEXC"	 VARCHAR(200),
  "DATAEXC"	 TIMESTAMP,
  "CHECKUP"	 CHAR(1),
 PRIMARY KEY ("NUMERO")
);

/* Table: MARCACIROPME, Owner: SYSDBA */

CREATE TABLE "MARCACIROPME" 
(
  "INDICE"	 SMALLINT NOT NULL,
  "CODIGOMM"	 INTEGER,
  "MARCACAO"	 INTEGER NOT NULL,
  "DATA1"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "QTDE"	 INTEGER,
  "DESCRICAO"	 VARCHAR(50),
  "TRATAMENTO"	 SMALLINT,
  "VALOR"	 DOUBLE PRECISION,
  "FORNECEDOR"	 INTEGER,
  "TIPO"	 CHAR(1)
);

/* Table: MARCACIRURGIA, Owner: SYSDBA */

CREATE TABLE "MARCACIRURGIA" 
(
  "NUMERO"	 FLOAT NOT NULL,
  "PACIENTE"	 CHAR(50),
  "DATA"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(100),
  "SALA"	 CHAR(2),
  "CIRURGIA"	 CHAR(30),
  "ANESTESIA"	 CHAR(30),
  "TELEFONE"	 VARCHAR(15),
  "HORA"	 TIMESTAMP,
  "CONVENIO"	 INTEGER,
  "A_MEDICOS"	 PK_MEDICO ,
  "TIPO"	 CHAR(1),
  "CODIGOPAC"	 PK_CODIGOPAC1 ,
  "CADASTRADOEM"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "ESTADO"	 CHAR(1),
  "ESPECIALIDADE"	 CHAR(2),
  "DATAHORA"	 TIMESTAMP,
  "FEITO"	 CHAR(1),
  "CODIGOPROC"	 INTEGER,
  "CODIGOAMB"	 CHAR(8),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "OPE"	 VARCHAR(150),
  "CID"	 VARCHAR(4),
  "ANOTACOES"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESERVASANGUE"	 CHAR(1),
  "RESERVAUTI"	 CHAR(1),
  "BIOPSIACONG"	 CHAR(1),
  "GRUPOSUS"	 CHAR(2),
  "CODIGOAMB1"	 VARCHAR(8),
  "GRUPOSUS1"	 CHAR(2),
  "CODIGOAMB2"	 VARCHAR(8),
  "GRUPOSUS2"	 CHAR(2),
  "CODIGOPROC1"	 INTEGER,
  "CODIGOPROC2"	 INTEGER,
  "TIPOACOM"	 CHAR(1),
  "PREVISAOFIM"	 TIMESTAMP,
  "SOLCREMEB"	 VARCHAR(8),
  "CODIGOCPS"	 FLOAT,
  "TIPOCIRURGIA"	 VARCHAR(1),
  "A_ALA"	 INTEGER,
  "A_LEITO"	 INTEGER,
  "REMARCADO"	 CHAR(1),
  "CELULAR"	 VARCHAR(15),
  "NUM_DIARIAS"	 INTEGER,
  "CONFIRMA_MATERIAL"	 VARCHAR(1),
  "ARCO_C"	 VARCHAR(1),
  "SET_VIDEO"	 VARCHAR(1),
  "ESTERILIZAR_MATERIAL"	 VARCHAR(1),
  "PRE_OPERATORIO_OK"	 VARCHAR(1),
  "POS_OPERATORIO_OK"	 VARCHAR(1),
  "A_MEDICOS2"	 INTEGER,
  "MOTIVO_CANCELAMENTO"	 INTEGER,
  "MICROSCOPIO"	 VARCHAR(1),
  "MOTIVO"	 INTEGER,
  "CONFIRMADO"	 CHAR(1),
  "DIARA_PREVISAO"	 TIMESTAMP,
  "DIARIA_DURACAO"	 VARCHAR(50),
  "DIARIA_PREVISAO"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: MARCACLASSE, Owner: SYSDBA */

CREATE TABLE "MARCACLASSE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
  "ATIVO"	 CHAR(1) NOT NULL,
CONSTRAINT "PK_MARCACLASSE" PRIMARY KEY ("INDICE")
);

/* Table: MARCASESSOES, Owner: SYSDBA */

CREATE TABLE "MARCASESSOES" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "HORAENTRADA"	 TIMESTAMP NOT NULL,
  "HORASAIDA"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(200),
  "DATASINC"	 TIMESTAMP NOT NULL,
  "DATA2"	 TIMESTAMP NOT NULL,
  "CODIGOPAC"	 FLOAT,
  "CODIGOCPS"	 FLOAT,
  "STATUS"	 VARCHAR(15),
CONSTRAINT "PK_MARCASESSOES" PRIMARY KEY ("INDICE")
);

/* Table: MARKTING, Owner: SYSDBA */

CREATE TABLE "MARKTING" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40),
 PRIMARY KEY ("INDICE")
);

/* Table: MATCOLETA, Owner: SYSDBA */

CREATE TABLE "MATCOLETA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: MATMED, Owner: SYSDBA */

CREATE TABLE "MATMED" 
(
  "CODIGOMM"	 INTEGER NOT NULL,
  "A_FATOR"	 FLOAT,
  "A_CODAMB"	 CHAR(8) NOT NULL,
  "A_NOME"	 VARCHAR(50) NOT NULL,
  "A_RESUMO"	 VARCHAR(30) NOT NULL,
  "A_LABO"	 VARCHAR(25),
  "A_GRUPO"	 SMALLINT,
  "APRESENTA"	 VARCHAR(20) NOT NULL,
  "MAXDIA"	 SMALLINT,
  "CODIGO"	 SMALLINT,
  "A_ATIVO"	 CHAR(1) NOT NULL,
  "ULTPRECO"	 FLOAT,
  "DATAULTPRECO"	 TIMESTAMP,
  "CODIGOANT"	 CHAR(5),
  "MED_CODI"	 CHAR(5),
  "APR_CODI"	 CHAR(4),
  "RESUMO1"	 VARCHAR(50),
  "PACOTE"	 CHAR(1),
  "SIMPRO"	 INTEGER,
  "A_MEDICOS"	 INTEGER,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CMU"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP,
  "BRASINDICE"	 VARCHAR(20),
  "SIMPROATIVO"	 CHAR(1),
  "LABOBRAS"	 INTEGER,
  "TISSBRAS"	 VARCHAR(10),
  "PAGINA"	 INTEGER,
  "GENERICO"	 CHAR(1),
  "MED_CODIG"	 CHAR(5),
  "APR_CODIG"	 CHAR(4),
  "LABOBRASG"	 INTEGER,
  "BRASINDICEG"	 VARCHAR(20),
  "PAGINAG"	 INTEGER,
  "TISSBRASG"	 VARCHAR(10),
  "AUTORIZACAO"	 CHAR(1),
  "ANVISA"	 VARCHAR(30),
  "TABELA"	 CHAR(2),
  "UN"	 INTEGER,
  "USORESTRITO"	 CHAR(1),
  "USORESTRITO1"	 CHAR(1),
  "TUSSBRAS"	 VARCHAR(10),
  "TUSSBRASG"	 VARCHAR(10),
  "FORADOSIMPRO"	 CHAR(1),
  "FORADOBRAS"	 CHAR(1),
  "SIMPROSIMILAR"	 CHAR(1),
  "COD_EMBALAGEM"	 INTEGER,
  "DIETA"	 CHAR(1),
  "REF_FABRICANTE"	 VARCHAR(100),
 PRIMARY KEY ("CODIGOMM")
);

/* Table: MATMEDCONV, Owner: SYSDBA */

CREATE TABLE "MATMEDCONV" 
(
  "CODIGOMM"	 PK_CODIGOMM  NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "VALOR"	 FLOAT,
  "CODIGOCONV"	 CHAR(8),
  "INDICE"	 FLOAT NOT NULL,
  "DATA2"	 TIMESTAMP,
  "BLOQUEADO"	 CHAR(1),
  "QTDE"	 SMALLINT,
  "INTERVALO"	 SMALLINT,
  "DATASINC"	 TIMESTAMP,
  "CODTISS"	 VARCHAR(10),
  "OBS"	 VARCHAR(30),
  "A_CODAMB"	 CHAR(8),
  "NOVONOME"	 VARCHAR(250),
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "VERSAO1"	 VARCHAR(20),
  "VERSAO2"	 VARCHAR(20),
  "IP1"	 VARCHAR(15),
  "IP2"	 VARCHAR(15),
  "GENERICO"	 CHAR(1),
  "FATOR"	 DOUBLE PRECISION,
  "ACRESCDESCON"	 DOUBLE PRECISION,
  "GENER_ETICO"	 INTEGER,
  "VENCIMENTO"	 TIMESTAMP,
  "DATA"	 TIMESTAMP,
  "TABELA"	 VARCHAR(2),
  "CODTISS2"	 VARCHAR(10),
  "CODIGOANTIGO"	 VARCHAR(10),
  "COD_MEDIDA"	 VARCHAR(10),
  "ERROTNUMM"	 VARCHAR(10),
  "ANVISA"	 VARCHAR(30),
CONSTRAINT "PK_MATMEDCONV" PRIMARY KEY ("INDICE")
);

/* Table: MATMEDCONVREST, Owner: SYSDBA */

CREATE TABLE "MATMEDCONVREST" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "AMBUL"	 CHAR(1),
  "EMERG"	 CHAR(1),
  "INTER"	 CHAR(1),
  "OBSERVACAO"	 VARCHAR(100),
  "CCIRURG"	 CHAR(1),
  "APART"	 CHAR(1),
  "ENFER"	 CHAR(1),
  "UTI"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: MATMEDP, Owner: SYSDBA */

CREATE TABLE "MATMEDP" 
(
  "DATA"	 TIMESTAMP NOT NULL,
  "BRASINDICE"	 CHAR(4),
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "PRECO"	 FLOAT NOT NULL,
  "CODIGO"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CODIMPORT"	 INTEGER,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "PRECOPFB"	 FLOAT,
  "PRECOPMC"	 DOUBLE PRECISION,
  "CODIGO_FAT"	 VARCHAR(30),
 PRIMARY KEY ("INDICE")
);

/* Table: MATMEDPADRAO, Owner: SYSDBA */

CREATE TABLE "MATMEDPADRAO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "TISS"	 VARCHAR(10),
  "TIPO"	 VARCHAR(8),
  "CODIGOPLA"	 INTEGER,
  "DESCRICAO"	 VARCHAR(150) NOT NULL,
  "LABORATORIO"	 VARCHAR(50),
  "SIMPRO"	 VARCHAR(12),
  "BRASMEDI"	 VARCHAR(5),
  "BRASAPRE"	 VARCHAR(5),
  "BRASLABO"	 VARCHAR(5),
  "QTDE"	 INTEGER,
  "APRESENTACAO"	 VARCHAR(20)
);

/* Table: MATMEDPG, Owner: SYSDBA */

CREATE TABLE "MATMEDPG" 
(
  "DATA"	 TIMESTAMP NOT NULL,
  "BRASINDICE"	 CHAR(4),
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "PRECO"	 FLOAT NOT NULL,
  "CODIGO"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CODIMPORT"	 INTEGER,
  "PRECOPFB"	 FLOAT,
 PRIMARY KEY ("INDICE")
);

/* Table: MATMEDPLANSERV, Owner: SYSDBA */

CREATE TABLE "MATMEDPLANSERV" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50),
  "CODTISS"	 VARCHAR(25),
  "TIPO"	 VARCHAR(1),
  "MARCA"	 VARCHAR(40),
  "QUANTIDADE"	 INTEGER,
  "UNITARIO"	 VARCHAR(8),
  "INDICACAOOPME"	 CHAR(1)
);

/* Table: MATMEDSEMSALDOPRESC, Owner: SYSDBA */

CREATE TABLE "MATMEDSEMSALDOPRESC" 
(
  "IDMATMEDSEMSALDOPRESC"	 INTEGER,
  "NOTAMED"	 INTEGER,
  "PRODUTO"	 INTEGER,
  "DATA"	 TIMESTAMP
);

/* Table: MATMEDUNIMED, Owner: SYSDBA */

CREATE TABLE "MATMEDUNIMED" 
(
  "CODIGO"	 INTEGER,
  "SIMPRO"	 INTEGER,
  "ANVISA"	 VARCHAR(15),
  "NOME"	 VARCHAR(100),
  "CODIGOUNIMED"	 VARCHAR(30),
  "SITUACAO"	 VARCHAR(10),
  "TIPO"	 VARCHAR(5),
  "DATASINC"	 TIMESTAMP
);

/* Table: MATMEDUNIMED2, Owner: SYSDBA */

CREATE TABLE "MATMEDUNIMED2" 
(
  "MMU_ID"	 INTEGER NOT NULL,
  "MMU_ANVISA"	 VARCHAR(40) CHARACTER SET ISO8859_1,
  "MMU_NOME_UNIMED"	 VARCHAR(500) CHARACTER SET ISO8859_1,
  "MMU_CODIGO_UNIMED"	 VARCHAR(40) CHARACTER SET ISO8859_1,
  "MMU_TIPO"	 VARCHAR(5) CHARACTER SET ISO8859_1,
  "DATASINC"	 TIMESTAMP,
  "MMU_ATIVO"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "VERSAO"	 CHAR(1),
CONSTRAINT "PK_MATMEDUNIMED_MMU_ID" PRIMARY KEY ("MMU_ID")
);

/* Table: MATMED_FATURA, Owner: SYSDBA */

CREATE TABLE "MATMED_FATURA" 
(
  "CODIGOMM"	 INTEGER NOT NULL,
  "COD_ATD"	 INTEGER NOT NULL,
  "PROCEDIMENTO"	 VARCHAR(10) NOT NULL,
CONSTRAINT "PK_MATMED_FATURA" PRIMARY KEY ("CODIGOMM", "COD_ATD", "PROCEDIMENTO")
);

/* Table: MEDICACAO_USO_CONTINUO, Owner: SYSDBA */

CREATE TABLE "MEDICACAO_USO_CONTINUO" 
(
  "IDMEDICACAO_USO_CONTINUO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(250),
  "MANTER"	 CHAR(1),
  "SUSPENDER"	 CHAR(1),
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "ANESTESIA"	 INTEGER,
CONSTRAINT "PK_MEDICACAO_USO_CONTINUO" PRIMARY KEY ("IDMEDICACAO_USO_CONTINUO")
);

/* Table: MEDICOCOBRANCA, Owner: SYSDBA */

CREATE TABLE "MEDICOCOBRANCA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "CONVENIO"	 PK_CONVENIO ,
  "RAZAOSOCIAL"	 VARCHAR(50),
  "CPF"	 VARCHAR(11),
  "CNPJ"	 VARCHAR(14),
 PRIMARY KEY ("INDICE")
);

/* Table: MEDICOREST, Owner: SYSDBA */

CREATE TABLE "MEDICOREST" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "CONVENIO"	 PK_CONVENIO ,
  "TIPO"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: MEDICOS, Owner: SYSDBA */

CREATE TABLE "MEDICOS" 
(
  "A_MEDICOS"	 PK_MEDICOS ,
  "A_NOME"	 VARCHAR(40) NOT NULL,
  "ENDERECO"	 VARCHAR(50),
  "BIP"	 VARCHAR(10),
  "EMPRESA"	 VARCHAR(45),
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "A_CPF"	 PK_CPF ,
  "CEP"	 VARCHAR(8),
  "CIDADE"	 PK_CIDADE ,
  "BAIRRO"	 PK_BAIRRO ,
  "TELEFONE1"	 VARCHAR(15),
  "TELEFONE2"	 VARCHAR(15),
  "TELEFONE3"	 VARCHAR(15),
  "CNPJ"	 PK_CNPJ ,
  "A_GRUPOM"	 PK_GRUPOMED ,
  "EMAIL"	 PK_EMAIL ,
  "HTML"	 PK_HTML ,
  "NASCIMENTO"	 TIMESTAMP,
  "FOTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATIVO"	 PK_SIMNAO ,
  "HONORARIO"	 PK_SIMNAO ,
  "SEGUNDA3"	 SMALLINT,
  "TERCA3"	 SMALLINT,
  "QUARTA3"	 SMALLINT,
  "QUINTA3"	 SMALLINT,
  "SEXTA3"	 SMALLINT,
  "SEBADO3"	 SMALLINT,
  "DOMINGO3"	 SMALLINT,
  "SEGUNDA2"	 SMALLINT,
  "TERCA2"	 SMALLINT,
  "QUARTA2"	 SMALLINT,
  "QUINTA2"	 SMALLINT,
  "SEXTA2"	 SMALLINT,
  "SABADO2"	 SMALLINT,
  "DOMINGO2"	 SMALLINT,
  "UF"	 PK_UF ,
  "UFCREMEB"	 PK_UF ,
  "A_CREMEB"	 PK_CREMEB ,
  "AMB"	 CHAR(1),
  "EME"	 CHAR(1),
  "INTER"	 CHAR(1),
  "LAUDO"	 CHAR(1),
  "SEGUNDAH"	 TIMESTAMP,
  "TERCAH"	 TIMESTAMP,
  "QUARTAH"	 TIMESTAMP,
  "QUINTAH"	 TIMESTAMP,
  "SEXTAH"	 TIMESTAMP,
  "SABADOH"	 TIMESTAMP,
  "DOMINGOH"	 TIMESTAMP,
  "CODIGOANTIGO"	 FLOAT,
  "FILME"	 CHAR(1),
  "ESPECIAL"	 CHAR(2),
  "CREMEB2"	 VARCHAR(6),
  "PRIMEIRA"	 SMALLINT,
  "PERC1"	 SMALLINT,
  "PERC2"	 SMALLINT,
  "PERC3"	 SMALLINT,
  "OBSERVACAO"	 VARCHAR(5000),
  "IDENTIDADE"	 VARCHAR(14),
  "ENDERECO1"	 VARCHAR(50),
  "BAIRRO1"	 PK_BAIRRO ,
  "CIDADE1"	 PK_CIDADE ,
  "CEP1"	 VARCHAR(8),
  "CIR"	 CHAR(1),
  "INTE"	 CHAR(1),
  "APELIDO"	 VARCHAR(50),
  "MATMED"	 CHAR(1),
  "PARTICULAR"	 CHAR(1),
  "PROVISORIO"	 CHAR(1),
  "DATAPROVISORIO"	 TIMESTAMP,
  "TOTAL"	 CHAR(1),
  "OBSERVACAO2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "GRUPO"	 SMALLINT,
  "PARTICULAR1"	 CHAR(1),
  "FILMEPERC"	 DOUBLE PRECISION,
  "TRAVAPROC"	 CHAR(1),
  "SEGUNDA3T"	 SMALLINT,
  "TERCA3T"	 SMALLINT,
  "QUARTA3T"	 SMALLINT,
  "QUINTA3T"	 SMALLINT,
  "SEXTA3T"	 SMALLINT,
  "SABADO3T"	 SMALLINT,
  "DOMINGO3T"	 SMALLINT,
  "SEGUNDA2T"	 SMALLINT,
  "TERCA2T"	 SMALLINT,
  "QUARTA2T"	 SMALLINT,
  "QUINTA2T"	 SMALLINT,
  "SEXTA2T"	 SMALLINT,
  "SABADO2T"	 SMALLINT,
  "DOMINGO2T"	 SMALLINT,
  "SEGUNDAHT"	 TIMESTAMP,
  "TERCAHT"	 TIMESTAMP,
  "QUARTAHT"	 TIMESTAMP,
  "QUINTAHT"	 TIMESTAMP,
  "SEXTAHT"	 TIMESTAMP,
  "SABADOHT"	 TIMESTAMP,
  "DOMINGOHT"	 TIMESTAMP,
  "PRIMEIRAT"	 SMALLINT,
  "SUS"	 VARCHAR(15),
  "ANAMNESE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FILMEPERCUS"	 DOUBLE PRECISION,
  "PAGEXCLUSIVO"	 CHAR(1),
  "FATURISTA"	 CHAR(1),
  "CO"	 CHAR(1),
  "TITULO"	 VARCHAR(200),
  "UNIMED"	 VARCHAR(20),
  "CODEMPRESA"	 INTEGER,
  "FISIOTERAPIA"	 CHAR(1),
  "SOMENTEHONORARIO"	 CHAR(1),
  "AGENDA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "NUMEROPIS"	 VARCHAR(11),
  "TIPO"	 CHAR(1),
  "TITULOPRESC"	 CHAR(1),
  "MATMEDPERC"	 DOUBLE PRECISION,
  "OPCAOTELMARC"	 CHAR(1),
  "CBOS"	 VARCHAR(15),
  "CBO"	 CHAR(6),
  "TIPOCONSELHO"	 VARCHAR(20),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "SEGUNDA5"	 TIMESTAMP,
  "SEGUNDA6"	 INTEGER,
  "SEGUNDA7"	 INTEGER,
  "TERCA5"	 TIMESTAMP,
  "TERCA6"	 INTEGER,
  "TERCA7"	 INTEGER,
  "QUARTA5"	 TIMESTAMP,
  "QUARTA6"	 INTEGER,
  "QUARTA7"	 INTEGER,
  "QUINTA5"	 TIMESTAMP,
  "QUINTA6"	 INTEGER,
  "QUINTA7"	 INTEGER,
  "SEXTA5"	 TIMESTAMP,
  "SEXTA6"	 INTEGER,
  "SEXTA7"	 INTEGER,
  "SABADO5"	 TIMESTAMP,
  "SABADO6"	 INTEGER,
  "SABADO7"	 INTEGER,
  "DOMINGO5"	 TIMESTAMP,
  "DOMINGO6"	 INTEGER,
  "DOMINGO7"	 INTEGER,
  "SEGUNDA5T"	 TIMESTAMP,
  "SEGUNDA6T"	 INTEGER,
  "SEGUNDA7T"	 INTEGER,
  "TERCA5T"	 TIMESTAMP,
  "TERCA6T"	 INTEGER,
  "TERCA7T"	 INTEGER,
  "QUARTA5T"	 TIMESTAMP,
  "QUARTA6T"	 INTEGER,
  "QUARTA7T"	 INTEGER,
  "QUINTA5T"	 TIMESTAMP,
  "QUINTA6T"	 INTEGER,
  "QUINTA7T"	 INTEGER,
  "SEXTA5T"	 TIMESTAMP,
  "SEXTA6T"	 INTEGER,
  "SEXTA7T"	 INTEGER,
  "SABADO5T"	 TIMESTAMP,
  "SABADO6T"	 INTEGER,
  "SABADO7T"	 INTEGER,
  "DOMINGO5T"	 TIMESTAMP,
  "DOMINGO6T"	 INTEGER,
  "DOMINGO7T"	 INTEGER,
  "SEGUNDAFIM"	 TIMESTAMP,
  "TERCAFIM"	 TIMESTAMP,
  "QUARTAFIM"	 TIMESTAMP,
  "QUINTAFIM"	 TIMESTAMP,
  "SEXTAFIM"	 TIMESTAMP,
  "SABADOFIM"	 TIMESTAMP,
  "DOMINGOFIM"	 TIMESTAMP,
  "SEGUNDAFIMT"	 TIMESTAMP,
  "TERCAFIMT"	 TIMESTAMP,
  "QUARTAFIMT"	 TIMESTAMP,
  "QUINTAFIMT"	 TIMESTAMP,
  "SEXTAFIMT"	 TIMESTAMP,
  "SABADOFIMT"	 TIMESTAMP,
  "DOMINGOFIMT"	 TIMESTAMP,
  "EXAME"	 CHAR(1),
  "UNIDADENEGOCIO"	 INTEGER,
  "TIPOEMPRESA"	 CHAR(1),
  "POSTO"	 VARCHAR(2),
  "CORPO"	 VARCHAR(4),
  "QUADRO"	 VARCHAR(4),
  "NOMEMEDICO"	 VARCHAR(40),
  "IDADE"	 INTEGER,
  "IDADEMAX"	 INTEGER,
  "SEXOMARC"	 CHAR(1),
  "RESTRICAO"	 CHAR(1),
  "GRUPOPERC"	 DOUBLE PRECISION,
  "PARTICULAR2"	 CHAR(1),
  "NAOMOSTRAHONZERO"	 CHAR(1),
  "PODEVERAGENDAS"	 CHAR(1),
  "SENHADICOM"	 VARCHAR(12),
  "HORARIODUPLO"	 CHAR(1),
  "SOLPORCENTAGEM"	 DOUBLE PRECISION,
  "ORDEMCHEGADA"	 CHAR(1),
  "TODASEVOLUCOES"	 CHAR(1),
  "PODEALTLAUDO"	 CHAR(1),
  "ONCOLOGIA"	 CHAR(1),
  "ODONTOGRAMA"	 CHAR(1),
  "ODONTOLOGIA"	 CHAR(1),
  "ENDOCRINO"	 CHAR(1),
  "NUTRICAO"	 CHAR(1),
  "MOSTRAANAMNESE"	 CHAR(1),
  "OFTALMO"	 CHAR(1),
  "SEGUNDA3N"	 SMALLINT,
  "TERCA3N"	 SMALLINT,
  "QUARTA3N"	 SMALLINT,
  "QUINTA3N"	 SMALLINT,
  "SEXTA3N"	 SMALLINT,
  "SABADO3N"	 SMALLINT,
  "DOMINGO3N"	 SMALLINT,
  "SEGUNDA2N"	 SMALLINT,
  "TERCA2N"	 SMALLINT,
  "QUARTA2N"	 SMALLINT,
  "QUINTA2N"	 SMALLINT,
  "SEXTA2N"	 SMALLINT,
  "SABADO2N"	 SMALLINT,
  "DOMINGO2N"	 SMALLINT,
  "SEGUNDAHN"	 TIMESTAMP,
  "TERCAHN"	 TIMESTAMP,
  "QUARTAHN"	 TIMESTAMP,
  "QUINTAHN"	 TIMESTAMP,
  "SEXTAHN"	 TIMESTAMP,
  "SABADOHN"	 TIMESTAMP,
  "DOMINGOHN"	 TIMESTAMP,
  "PRIMEIRAN"	 SMALLINT,
  "SEGUNDAFIMN"	 TIMESTAMP,
  "TERCAFIMN"	 TIMESTAMP,
  "QUARTAFIMN"	 TIMESTAMP,
  "QUINTAFIMN"	 TIMESTAMP,
  "SEXTAFIMN"	 TIMESTAMP,
  "SABADOFIMN"	 TIMESTAMP,
  "DOMINGOFIMN"	 TIMESTAMP,
  "SEGUNDA5N"	 TIMESTAMP,
  "SEGUNDA6N"	 INTEGER,
  "SEGUNDA7N"	 INTEGER,
  "TERCA5N"	 TIMESTAMP,
  "TERCA6N"	 INTEGER,
  "TERCA7N"	 INTEGER,
  "QUARTA5N"	 TIMESTAMP,
  "QUARTA6N"	 INTEGER,
  "QUARTA7N"	 INTEGER,
  "QUINTA5N"	 TIMESTAMP,
  "QUINTA6N"	 INTEGER,
  "QUINTA7N"	 INTEGER,
  "SEXTA5N"	 TIMESTAMP,
  "SEXTA6N"	 INTEGER,
  "SEXTA7N"	 INTEGER,
  "SABADO5N"	 TIMESTAMP,
  "SABADO6N"	 INTEGER,
  "SABADO7N"	 INTEGER,
  "DOMINGO5N"	 TIMESTAMP,
  "DOMINGO6N"	 INTEGER,
  "DOMINGO7N"	 INTEGER,
  "CLASSEHSEG"	 INTEGER,
  "CLASSEHTER"	 INTEGER,
  "CLASSEHQUA"	 INTEGER,
  "CLASSEHQUI"	 INTEGER,
  "CLASSEHSEX"	 INTEGER,
  "CLASSEHSAB"	 INTEGER,
  "CLASSEHDOM"	 INTEGER,
  "CLASSEHTSEG"	 INTEGER,
  "CLASSEHTTER"	 INTEGER,
  "CLASSEHTQUA"	 INTEGER,
  "CLASSEHTQUI"	 INTEGER,
  "CLASSEHTSEX"	 INTEGER,
  "CLASSEHTSAB"	 INTEGER,
  "CLASSEHTDOM"	 INTEGER,
  "CLASSEHNSEG"	 INTEGER,
  "CLASSEHNTER"	 INTEGER,
  "CLASSEHNQUA"	 INTEGER,
  "CLASSEHNQUI"	 INTEGER,
  "CLASSEHNSEX"	 INTEGER,
  "CLASSEHNSAB"	 INTEGER,
  "CLASSEHNDOM"	 INTEGER,
  "CLASSECCSEG"	 INTEGER,
  "CLASSECCTER"	 INTEGER,
  "CLASSECCQUA"	 INTEGER,
  "CLASSECCQUI"	 INTEGER,
  "CLASSECCSEX"	 INTEGER,
  "CLASSECCSAB"	 INTEGER,
  "CLASSECCDOM"	 INTEGER,
  "CLASSECCTSEG"	 INTEGER,
  "CLASSECCTTER"	 INTEGER,
  "CLASSECCTQUA"	 INTEGER,
  "CLASSECCTQUI"	 INTEGER,
  "CLASSECCTSEX"	 INTEGER,
  "CLASSECCTSAB"	 INTEGER,
  "CLASSECCTDOM"	 INTEGER,
  "CLASSECCNSEG"	 INTEGER,
  "CLASSECCNTER"	 INTEGER,
  "CLASSECCNQUA"	 INTEGER,
  "CLASSECCNQUI"	 INTEGER,
  "CLASSECCNSEX"	 INTEGER,
  "CLASSECCNSAB"	 INTEGER,
  "CLASSECCNDOM"	 INTEGER,
  "SMS_RECEBI"	 VARCHAR(1),
  "SMS_MARCADO"	 INTEGER,
  "CBOTISSV3"	 VARCHAR(10),
  "RGORGAO"	 VARCHAR(10),
  "RGUF"	 VARCHAR(2),
  "RGEXPEDICAO"	 TIMESTAMP,
  "CARGA_HORARIO_AMB"	 VARCHAR(10),
  "CARGA_HORARIO_HOSP"	 VARCHAR(10),
  "CARGA_HORARIO_OUTROS"	 VARCHAR(10),
  "PAI"	 VARCHAR(100),
  "MAE"	 VARCHAR(100),
  "NACIONALIDADE"	 VARCHAR(3),
  "NATURALIDADE"	 VARCHAR(25),
  "ETNIA"	 VARCHAR(10),
  "NATURALIDADE_DATA"	 TIMESTAMP,
  "NATURALIDADE_PORTARIA"	 VARCHAR(50),
  "NATURALIDADE_DATA_ENTRADA"	 TIMESTAMP,
  "ESCOLARIDADE"	 VARCHAR(50),
  "COR"	 VARCHAR(1),
  "NACIONALIDADE_TIPO"	 VARCHAR(1),
  "UF_NATURALIDADE"	 VARCHAR(2),
  "SEXO"	 VARCHAR(1),
  "DATA_ADMISSAO"	 DATE,
  "ANESTESISTA"	 CHAR(1),
  "CARGO"	 SMALLINT,
  "TIPOCNES"	 INTEGER,
 PRIMARY KEY ("A_MEDICOS")
);

/* Table: MEDICOSOLICITANTE, Owner: SYSDBA */

CREATE TABLE "MEDICOSOLICITANTE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CREMEB"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50),
  "UF"	 PK_UF ,
  "ESTADO"	 VARCHAR(15),
  "TIPO"	 VARCHAR(15),
  "ESPECIALIDADE"	 VARCHAR(50),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TELEFONE"	 VARCHAR(11),
  "ENDERECO"	 VARCHAR(50),
  "CELULAR"	 VARCHAR(11),
  "BAIRRO"	 VARCHAR(11),
  "COMPLEMENTO"	 VARCHAR(11),
  "CBO"	 CHAR(6),
  "TIPOCONSELHO"	 VARCHAR(20),
  "CNPJ"	 VARCHAR(14),
  "CPF"	 VARCHAR(11),
  "UNIMED"	 VARCHAR(20),
  "EMAIL"	 PK_EMAIL ,
 PRIMARY KEY ("INDICE")
);

/* Table: MEDICOS_PERC_GRUPO, Owner: SYSDBA */

CREATE TABLE "MEDICOS_PERC_GRUPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER,
  "GRUPO"	 INTEGER,
  "PERCGRUPO"	 DOUBLE PRECISION,
  "VENCIMENTO"	 TIMESTAMP,
CONSTRAINT "PK_MEDICOS_PERC_GRUPO" PRIMARY KEY ("INDICE")
);

/* Table: MEDIDAS, Owner: SYSDBA */

CREATE TABLE "MEDIDAS" 
(
  "NOME"	 CHAR(40) NOT NULL,
  "FATOR"	 SMALLINT NOT NULL,
  "UNIDADE"	 SMALLINT NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "TISS"	 VARCHAR(10),
 PRIMARY KEY ("UNIDADE")
);

/* Table: MEMORANDO, Owner: SYSDBA */

CREATE TABLE "MEMORANDO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TEXTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80 NOT NULL,
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DESCRICAO"	 VARCHAR(50),
  "TIPO"	 VARCHAR(20),
  "DATASINC"	 TIMESTAMP,
  "IMAGEM"	 CHAR(1),
CONSTRAINT "PK_MEMORANDO" PRIMARY KEY ("INDICE")
);

/* Table: MENSAGEM, Owner: SYSDBA */

CREATE TABLE "MENSAGEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ATIVO"	 CHAR(1) NOT NULL,
  "DATA"	 TIMESTAMP,
  "TITULO"	 VARCHAR(100) NOT NULL,
  "MENSAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER1DATA"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "USER2DATA"	 TIMESTAMP,
  "TIPO_MENSAGEM"	 INTEGER,
CONSTRAINT "PK_MENSAGEM" PRIMARY KEY ("INDICE")
);

/* Table: MENSAGEM_INTERNA_LAUDO, Owner: SYSDBA */

CREATE TABLE "MENSAGEM_INTERNA_LAUDO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "USUARIO"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "MENSAGEM"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80 CHARACTER SET ISO8859_1,
  "USUARIO_LIDO"	 INTEGER,
  "DATA_LIDO"	 TIMESTAMP,
CONSTRAINT "PK_MENSAGEM_INTERNA_LAUDO" PRIMARY KEY ("INDICE")
);

/* Table: MEWS, Owner: SYSDBA */

CREATE TABLE "MEWS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "FC"	 INTEGER,
  "FR"	 INTEGER,
  "PAS_MIN"	 INTEGER,
  "PAS_MAX"	 INTEGER,
  "TEMP"	 DOUBLE PRECISION,
  "SNC"	 VARCHAR(30),
  "SCORE"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "CODIGOCPS"	 INTEGER,
  "TIPO"	 INTEGER,
  "ALA"	 VARCHAR(200),
  "ENFERMEIRO"	 INTEGER,
CONSTRAINT "PK_MEWS" PRIMARY KEY ("INDICE")
);

/* Table: MMBRASINDICEUNIMED, Owner: SYSDBA */

CREATE TABLE "MMBRASINDICEUNIMED" 
(
  "CODIGO"	 INTEGER,
  "BRASINDICE"	 VARCHAR(20)
);

/* Table: MODALIDADE, Owner: SYSDBA */

CREATE TABLE "MODALIDADE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "LIMITE"	 INTEGER NOT NULL,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: MODULO, Owner: SYSDBA */

CREATE TABLE "MODULO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30) NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FINAL"	 TIMESTAMP,
  "VALOR"	 DOUBLE PRECISION,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EMPRESA"	 VARCHAR(14)
);

/* Table: MOEDAS, Owner: SYSDBA */

CREATE TABLE "MOEDAS" 
(
  "A_NOME"	 VARCHAR(40) NOT NULL,
  "A_SIMBOLO"	 VARCHAR(10),
  "A_INICIO"	 TIMESTAMP,
  "A_FIM"	 TIMESTAMP,
  "A_VALOR"	 FLOAT,
  "A_CODMOE"	 SMALLINT NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: MOEDASTAB, Owner: SYSDBA */

CREATE TABLE "MOEDASTAB" 
(
  "A_CODMOE"	 SMALLINT NOT NULL,
  "A_NOME"	 VARCHAR(40) NOT NULL,
  "A_SIMBOLO"	 VARCHAR(10),
  "A_INICIO"	 TIMESTAMP,
  "A_FIM"	 TIMESTAMP,
  "A_VALOR"	 FLOAT,
  "MOEDAS"	 SMALLINT,
  "MOEDA"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("A_CODMOE")
);

/* Table: MONCOMPUTADOR, Owner: SYSDBA */

CREATE TABLE "MONCOMPUTADOR" 
(
  "IP"	 VARCHAR(30),
  "NOME"	 VARCHAR(30),
  "CCUSTO"	 INTEGER,
  "INDICE"	 INTEGER NOT NULL
);

/* Table: MONITORIZACAO_BH, Owner: SYSDBA */

CREATE TABLE "MONITORIZACAO_BH" 
(
  "ID_MONITORIZACAO_BH"	 INTEGER NOT NULL,
  "DATAHORA"	 TIMESTAMP,
  "USUARIO_INCLUSAO"	 INTEGER,
  "FC"	 INTEGER,
  "PAS"	 INTEGER,
  "PAD"	 INTEGER,
  "PAM"	 INTEGER,
  "PVC"	 INTEGER,
  "FR"	 INTEGER,
  "FIO2"	 INTEGER,
  "ETCO2"	 INTEGER,
  "TEMP"	 DOUBLE PRECISION,
  "HGT"	 INTEGER,
  "INSULINA"	 INTEGER,
  "GLICOSURIA"	 INTEGER,
  "CETONURIA"	 INTEGER,
  "GLASGOW"	 INTEGER,
  "PIC"	 INTEGER,
  "MEDICACOES"	 INTEGER,
  "SOLUCOES"	 INTEGER,
  "DIETA_SNE"	 INTEGER,
  "OUTROS_VIA_SNE"	 INTEGER,
  "GANHOS"	 INTEGER,
  "URINA"	 INTEGER,
  "FEZES"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "USUARIO_CONFIRMACAO"	 INTEGER,
  "TRATAMENTO"	 INTEGER,
  "MARCADO"	 CHAR(1),
  "OXI"	 VARCHAR(10),
  "FIOX"	 INTEGER,
  "SPOX"	 INTEGER,
  "HORA"	 TIMESTAMP,
  "DATAHORA_CONFIRMACAO"	 TIMESTAMP,
CONSTRAINT "PK_MONITORIZACAO_BH" PRIMARY KEY ("ID_MONITORIZACAO_BH")
);

/* Table: MONLOGCOMP, Owner: SYSDBA */

CREATE TABLE "MONLOGCOMP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "COMPUTADOR"	 VARCHAR(30),
  "SISTEMA"	 VARCHAR(30),
  "VERSAO"	 VARCHAR(15),
  "CODUSER"	 INTEGER,
  "ENTRADA"	 TIMESTAMP,
  "SAIDA"	 TIMESTAMP,
  "CONEXAO"	 INTEGER,
  "TRANSACAO"	 INTEGER,
CONSTRAINT "PK_MONLOGCOMP" PRIMARY KEY ("INDICE")
);

/* Table: MOTIVOALTA, Owner: SYSDBA */

CREATE TABLE "MOTIVOALTA" 
(
  "IDMOTIVOALTA"	 INTEGER,
  "DESCRICAO"	 VARCHAR(50),
  "CODIGO"	 VARCHAR(10),
  "CODIGOA"	 VARCHAR(10)
);

/* Table: MOTIVOATD, Owner: SYSDBA */

CREATE TABLE "MOTIVOATD" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TEXTO"	 VARCHAR(250) NOT NULL,
  "TIPO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_MOTIVOATD" PRIMARY KEY ("INDICE")
);

/* Table: MOTIVOCLAS, Owner: SYSDBA */

CREATE TABLE "MOTIVOCLAS" 
(
  "IDMOTIVOCLAS"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(100),
  "GRUPO"	 VARCHAR(100),
  "ATIVO"	 CHAR(1),
CONSTRAINT "PK_MOTIVOCLAS" PRIMARY KEY ("IDMOTIVOCLAS")
);

/* Table: MOTIVOGLOSA, Owner: SYSDBA */

CREATE TABLE "MOTIVOGLOSA" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "A_NOME"	 VARCHAR(100),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "ADMINISTRATIVA"	 CHAR(1),
  "DEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "PLANSERV"	 INTEGER,
  "GRUPO"	 CHAR(2),
  "TIPO"	 CHAR(1),
  "TISS"	 VARCHAR(10),
 PRIMARY KEY ("NUMERO")
);

/* Table: MOVSUS, Owner: SYSDBA */

CREATE TABLE "MOVSUS" 
(
  "NUMERO"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP,
  "ESPEC"	 CHAR(2),
  "TIPO"	 CHAR(2),
  "GRUPO"	 CHAR(2),
  "IDADE"	 CHAR(2),
  "CID"	 CHAR(4),
  "PRONTUARIO"	 FLOAT,
  "ATIVIDADE"	 CHAR(8) NOT NULL,
  "SEXO"	 PK_SEXO ,
  "NOMEPACIENTE"	 CHAR(50),
  "NOMESERVICO"	 CHAR(30),
  "NOMECID"	 CHAR(20),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: NOTAMED, Owner: SYSDBA */

CREATE TABLE "NOTAMED" 
(
  "A_NOTAMED"	 FLOAT NOT NULL,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "CONTEUDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EVOLUCAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "INTERCOR"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MODELO"	 CHAR(1),
  "IMPRESSO"	 CHAR(1),
  "REPOUSO"	 VARCHAR(100),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "DATAHORAVALIDADE"	 TIMESTAMP,
  "HORAINICIO"	 INTEGER,
  "TRATAMENTO"	 INTEGER,
  "DISPENSADOR"	 INTEGER,
  "IMPRESSAODISPENSA"	 CHAR(1),
  "CONTINUACAO"	 VARCHAR(10),
  "UNIDADENEGOCIO"	 INTEGER,
  "APRAZADA"	 INTEGER,
  "ISOLAMENTO"	 VARCHAR(30),
  "TIPO"	 INTEGER,
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
  "ALA"	 SMALLINT,
  "LEITO"	 SMALLINT,
  "IMPRESSAOSAIDA"	 CHAR(1),
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "PRESCRICAOPOSTERIOR"	 INTEGER,
 PRIMARY KEY ("A_NOTAMED")
);

/* Table: NOTAMED10, Owner: SYSDBA */

CREATE TABLE "NOTAMED10" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "TIPO"	 VARCHAR(99),
  "GAS"	 VARCHAR(14) NOT NULL,
  "INTERVALO"	 VARCHAR(25) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED12, Owner: SYSDBA */

CREATE TABLE "NOTAMED12" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "SOLUCAO"	 VARCHAR(250) NOT NULL,
  "APRESENTACAO"	 VARCHAR(25) NOT NULL,
  "EQUIPO"	 VARCHAR(25) NOT NULL,
  "LIVRO"	 VARCHAR(25),
  "ELETROLITO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
  "MARCADO"	 VARCHAR(5),
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED13, Owner: SYSDBA */

CREATE TABLE "NOTAMED13" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "DESCRICAO"	 VARCHAR(99),
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
  "OK1"	 CHAR(1),
  "OK2"	 CHAR(1),
  "OK3"	 CHAR(1),
  "OK4"	 CHAR(1),
  "OK5"	 CHAR(1),
  "OK6"	 CHAR(1),
  "OK7"	 CHAR(1),
  "OK8"	 CHAR(1),
  "OK9"	 CHAR(1),
  "OK10"	 CHAR(1),
  "OK11"	 CHAR(1),
  "OK12"	 CHAR(1),
  "QX1"	 INTEGER,
  "QX2"	 INTEGER,
  "QX3"	 INTEGER,
  "QX4"	 INTEGER,
  "QX5"	 INTEGER,
  "QX6"	 INTEGER,
  "QX7"	 INTEGER,
  "QX8"	 INTEGER,
  "QX9"	 INTEGER,
  "QX10"	 INTEGER,
  "QX11"	 INTEGER,
  "QX12"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "QY2"	 TIMESTAMP,
  "QY3"	 TIMESTAMP,
  "QY4"	 TIMESTAMP,
  "QY5"	 TIMESTAMP,
  "QY6"	 TIMESTAMP,
  "QY7"	 TIMESTAMP,
  "QY8"	 TIMESTAMP,
  "QY9"	 TIMESTAMP,
  "QY10"	 TIMESTAMP,
  "QY11"	 TIMESTAMP,
  "QY12"	 TIMESTAMP,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED2, Owner: SYSDBA */

CREATE TABLE "NOTAMED2" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "A_NOTAMED"	 FLOAT NOT NULL,
  "A_KITS"	 INTEGER,
  "MEDICAMENT"	 VARCHAR(400),
  "POSOLOGIA"	 VARCHAR(60),
  "QUANTIDADE"	 INTEGER,
  "A_MEDIDAS"	 SMALLINT,
  "NUMERO"	 SMALLINT,
  "CODIGO"	 SMALLINT,
  "A_CODIGO1"	 SMALLINT,
  "DILUENTE"	 VARCHAR(25),
  "VIA"	 VARCHAR(20),
  "ORDEM"	 CHAR(2),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "HORARIO1"	 TIMESTAMP,
  "HORARIO2"	 TIMESTAMP,
  "HORARIO3"	 TIMESTAMP,
  "HORARIO4"	 TIMESTAMP,
  "HORARIO5"	 TIMESTAMP,
  "HORARIO6"	 TIMESTAMP,
  "HORARIO7"	 TIMESTAMP,
  "HORARIO8"	 TIMESTAMP,
  "HORARIO9"	 TIMESTAMP,
  "HORARIO10"	 TIMESTAMP,
  "HORARIO11"	 TIMESTAMP,
  "HORARIO12"	 TIMESTAMP,
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "DOSE"	 VARCHAR(30),
  "FIM_TRATAMENTO"	 TIMESTAMP,
  "INICIO_TRATAMENTO"	 TIMESTAMP,
  "DIA_USOANTIBIOTICO"	 INTEGER,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "GRUPO"	 VARCHAR(100),
  "TIPO"	 VARCHAR(50),
  "CODIGOCCIH"	 INTEGER,
  "MARCADO"	 VARCHAR(5),
  "AUX01"	 VARCHAR(250),
  "AUX02"	 VARCHAR(250),
  "AUX03"	 VARCHAR(250),
  "APRAZAMENTO"	 CHAR(1),
  "DATA1"	 TIMESTAMP,
  "RISCOS"	 VARCHAR(500),
  "PADRAODILUICAO"	 VARCHAR(250),
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED3, Owner: SYSDBA */

CREATE TABLE "NOTAMED3" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "A_NOTAMED"	 FLOAT NOT NULL,
  "CODIGOSERV"	 PK_CODIGOSERV ,
  "A_MEDICOS"	 INTEGER,
  "A_DRENO"	 CHAR(1),
  "SOLICITA"	 INTEGER,
  "CODIGOUSU"	 INTEGER,
  "RESULTADO"	 CHAR(1),
  "A_DATA1"	 TIMESTAMP,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "CPSIMPOR"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "POSOLOGIA"	 VARCHAR(60),
  "SELECAO"	 CHAR(1),
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED4, Owner: SYSDBA */

CREATE TABLE "NOTAMED4" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "CONTROLE"	 VARCHAR(20) NOT NULL,
  "INTERVALO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED5, Owner: SYSDBA */

CREATE TABLE "NOTAMED5" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "MONITORIZACAO"	 VARCHAR(30) NOT NULL,
  "INTERVALO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED6, Owner: SYSDBA */

CREATE TABLE "NOTAMED6" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "FISIOTERAPIA"	 VARCHAR(25) NOT NULL,
  "INTERVALO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED7, Owner: SYSDBA */

CREATE TABLE "NOTAMED7" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "SOLUCOES"	 VARCHAR(25) NOT NULL,
  "APRESENTACAO"	 VARCHAR(20) NOT NULL,
  "APLICACAO"	 VARCHAR(20) NOT NULL,
  "EQUIPO"	 VARCHAR(15) NOT NULL,
  "INTERVALO"	 VARCHAR(10),
  "ELETROLITO"	 VARCHAR(10),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED8, Owner: SYSDBA */

CREATE TABLE "NOTAMED8" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "TIPO"	 VARCHAR(15) NOT NULL,
  "ASSISTIDA"	 VARCHAR(9),
  "MARCA"	 VARCHAR(15),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMED9, Owner: SYSDBA */

CREATE TABLE "NOTAMED9" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "QUANTIDADE"	 VARCHAR(25) NOT NULL,
  "TIPO"	 VARCHAR(25) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "H1"	 VARCHAR(30),
  "H2"	 VARCHAR(30),
  "H3"	 VARCHAR(30),
  "H4"	 VARCHAR(30),
  "H5"	 VARCHAR(30),
  "H6"	 VARCHAR(30),
  "H7"	 VARCHAR(30),
  "H8"	 VARCHAR(30),
  "H9"	 VARCHAR(30),
  "H10"	 VARCHAR(30),
  "H11"	 VARCHAR(30),
  "H12"	 VARCHAR(30),
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: NOTAMEDDIETA, Owner: SYSDBA */

CREATE TABLE "NOTAMEDDIETA" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "PRESCRICAO"	 FLOAT NOT NULL,
  "DIETA"	 VARCHAR(70) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
CONSTRAINT "PK_NOTAMEDDIETA" PRIMARY KEY ("CODIGO")
);

/* Table: NOTAPACIENTE, Owner: SYSDBA */

CREATE TABLE "NOTAPACIENTE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "VALORNF"	 DOUBLE PRECISION,
  "AF"	 INTEGER,
  "NF"	 VARCHAR(12),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "CPS"	 INTEGER,
  "DATAUSO"	 TIMESTAMP,
  "FORNECEDOR"	 INTEGER NOT NULL,
  "CNPJ"	 VARCHAR(18),
  "CONVENIO"	 INTEGER,
  "PROCEDIMENTO"	 VARCHAR(60),
  "OBSERVACAO"	 VARCHAR(600),
  "VENCIMENTO"	 TIMESTAMP,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IP1"	 VARCHAR(20),
  "IP2"	 VARCHAR(20),
  "VERSAO"	 VARCHAR(25),
  "VERSAO2"	 VARCHAR(25),
  "FATURAMENTO"	 VARCHAR(1),
  "DEONDEVEM"	 VARCHAR(2),
  "NUMFATURA"	 INTEGER,
  "STATUSFATURA"	 CHAR(1),
  "VALOR_FATURADO"	 DOUBLE PRECISION,
  "PREVISAO"	 TIMESTAMP,
  "GLOSA"	 DOUBLE PRECISION,
  "UNIDADENEGOCIO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: NOTASALA1, Owner: SYSDBA */

CREATE TABLE "NOTASALA1" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "CODIGOINT"	 INTEGER NOT NULL,
  "RESUMOMEDICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESUMOANEST"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "TRATAMENTO"	 INTEGER,
  "TIPOANEST"	 CHAR(1),
  "INICIOANEST"	 TIMESTAMP,
  "FINALANEST"	 TIMESTAMP,
  "CIRURGIAO"	 INTEGER NOT NULL,
  "AUXILIAR1"	 INTEGER,
  "AUXILIAR2"	 INTEGER,
  "AUXILIAR3"	 INTEGER,
  "INSTRUMENTADOR"	 INTEGER,
  "ANESTESISTA"	 INTEGER,
  "USERMEDICO"	 INTEGER,
  "USERANESTESISTA"	 INTEGER,
  "RISCOCIRURG"	 INTEGER,
  "ESTADOCIRURG"	 INTEGER,
  "KIT"	 INTEGER,
  "DESC_TRATAMENTO"	 VARCHAR(200),
  "TIPO"	 CHAR(1),
  "TECNICO_ENFERMAGEM"	 VARCHAR(70),
  "ORIGEM"	 VARCHAR(70),
  "ANTIBIOTICO"	 VARCHAR(1),
  "PRE_EXAME"	 VARCHAR(1),
  "POS_EXAME"	 VARCHAR(1),
  "CIR_LOCAL"	 VARCHAR(1),
  "CIR_PAC"	 VARCHAR(1),
  "PROC_ERRADO"	 VARCHAR(1),
  "OPME"	 VARCHAR(70),
  "PROC1"	 VARCHAR(8),
  "PROC2"	 VARCHAR(8),
  "PROC3"	 VARCHAR(8),
  "PROC4"	 VARCHAR(8),
  "PROC5"	 VARCHAR(8),
  "GRUPOSUS1"	 VARCHAR(2),
  "GRUPOSUS2"	 VARCHAR(2),
  "GRUPOSUS3"	 VARCHAR(2),
  "GRUPOSUS4"	 VARCHAR(2),
  "GRUPOSUS5"	 VARCHAR(2),
  "ANESTESIA_PROPOSTA"	 VARCHAR(100),
  "TIPO_ANESTESIA"	 VARCHAR(50),
  "ANESTESIA_GERAL"	 VARCHAR(50),
  "INTUBACAO"	 VARCHAR(50),
  "DIFICULDADE"	 VARCHAR(50),
  "TIPO_VENTILACAO"	 VARCHAR(50),
  "PUNCOES"	 VARCHAR(50),
  "SISTEMA_VENTILACAO"	 VARCHAR(50),
  "ANESTESIA_CONDUTIVA"	 VARCHAR(50),
  "TEMPO_ANESTESIA"	 VARCHAR(50),
  "MONITORIACAO_ANEST"	 VARCHAR(50),
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "TIPO_CC"	 INTEGER,
  "CID2"	 VARCHAR(10),
  "OXITOSINA"	 VARCHAR(1),
  "NGESTACAO"	 VARCHAR(10),
  "ACOMPANHANTE"	 VARCHAR(1),
  "QTD_PRENATAL"	 INTEGER,
  "EPSIOTOMIA"	 VARCHAR(1),
  "APRESENTACAO"	 VARCHAR(50),
  "CONCEPTOS"	 VARCHAR(50),
  "IDADE_GESTACIONAL"	 VARCHAR(50),
  "PESORN1"	 VARCHAR(50),
  "PESORN2"	 VARCHAR(50),
  "APGAR1"	 INTEGER,
  "APGAR2"	 INTEGER,
  "SEXORN1"	 VARCHAR(1),
  "SEXORN2"	 VARCHAR(1),
  "CONDICAO_FETAL"	 VARCHAR(50),
  "DNV"	 VARCHAR(100),
  "ALEITAMENTO1"	 VARCHAR(1),
  "ALEITAMENTO2"	 VARCHAR(1),
  "NAO_ALEITAMENTO"	 VARCHAR(100),
  "CURETAGEM_AMIU"	 VARCHAR(1),
  "ANTIBIOTICO_DATAHORA"	 TIMESTAMP,
  "CONDICAO_FETAL1"	 VARCHAR(50),
  "DNV1"	 VARCHAR(100),
  "NAO_ALEITAMENTO1"	 VARCHAR(100),
  "INDICACAO_CESARIANA"	 VARCHAR(150),
  "APGAR3"	 INTEGER,
  "ALEITAMENTO3"	 VARCHAR(1),
  "PESORN3"	 VARCHAR(50),
  "DNV3"	 VARCHAR(100),
  "CONDICAO_FETAL3"	 VARCHAR(50),
  "SEXORN3"	 VARCHAR(1),
  "NAO_ALEITAMENTO2"	 VARCHAR(100),
  "ESPECIALIDADE"	 INTEGER,
  "APGAR4"	 INTEGER,
  "APGAR5"	 INTEGER,
  "APGAR6"	 INTEGER,
  "AMIU"	 VARCHAR(1),
  "APRESENTACAO2"	 VARCHAR(50),
  "APRESENTACAO3"	 VARCHAR(50),
  "ANATOMO"	 VARCHAR(250),
  "CHK01"	 CHAR(1),
  "CHK02"	 CHAR(1),
  "CHK03"	 CHAR(1),
  "CHK04"	 CHAR(1),
  "CHK06"	 CHAR(1),
  "CHK05"	 CHAR(1),
  "CHK07"	 CHAR(1),
  "CHK08"	 CHAR(1),
  "CHK09"	 CHAR(1),
  "CHK10"	 CHAR(1),
  "CHK11"	 CHAR(1),
  "CHK12"	 CHAR(1),
  "CHK13"	 CHAR(1),
  "CHK14"	 CHAR(1),
  "CHK15"	 CHAR(1),
  "CHK16"	 CHAR(1),
  "CHK17"	 CHAR(1),
  "CHK18"	 CHAR(1),
  "CHK19"	 CHAR(1),
  "FINAL"	 TIMESTAMP,
  "MOTIVO_ANATOMO"	 VARCHAR(250),
  "PECA_CIRURGICA"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "USO_RADIOSCOPIA"	 VARCHAR(1) CHARACTER SET ISO8859_1,
  "ADESAOCHK"	 CHAR(1),
  "TAMANHO"	 CHAR(1),
  "INICIO_USO_SALA"	 TIMESTAMP,
  "FINAL_USO_SALA"	 TIMESTAMP,
  "NUMERO_SALA"	 INTEGER,
  "OBITOCC"	 CHAR(1),
  "CONSULTAPREVIA"	 CHAR(1),
  "QUEDA"	 CHAR(1),
  "LPP"	 CHAR(1),
  "FLEBITE"	 CHAR(1),
  "EXTERIORIZACAO"	 CHAR(1),
  "EXTUBACAO"	 CHAR(1),
  "BRONCOASPIRACAO"	 CHAR(1),
  "IMPRESSO"	 CHAR(1),
  "REABORDAGEM_CIR"	 CHAR(1),
  "ANESTESISTA2"	 INTEGER,
 PRIMARY KEY ("NUMERO")
);

/* Table: NOTASALA2, Owner: SYSDBA */

CREATE TABLE "NOTASALA2" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CODIGOINT"	 INTEGER NOT NULL,
  "TRATAMENTO"	 INTEGER,
  "IMAGEM1"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "IMAGEM2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
 PRIMARY KEY ("NUMERO")
);

/* Table: NOTASALAMM, Owner: SYSDBA */

CREATE TABLE "NOTASALAMM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOTASALA"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(15) NOT NULL,
  "QTDE"	 FLOAT NOT NULL,
  "OBSERVACAO"	 VARCHAR(100),
  "DATAHORA"	 TIMESTAMP,
CONSTRAINT "PK_NOTASALAMM" PRIMARY KEY ("INDICE")
);

/* Table: NOTASALA_PARTIC, Owner: SYSDBA */

CREATE TABLE "NOTASALA_PARTIC" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(50) NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FINAL"	 TIMESTAMP,
  "ANOTACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "NOTASALA"	 INTEGER NOT NULL,
  "ORDEM"	 INTEGER,
CONSTRAINT "PK_NOTASALA_PARTIC" PRIMARY KEY ("INDICE")
);

/* Table: NOTIFICACAO_EVENTOS, Owner: SYSDBA */

CREATE TABLE "NOTIFICACAO_EVENTOS" 
(
  "ID_NOTIFICACAO"	 DOUBLE PRECISION NOT NULL,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "ANONIMO"	 CHAR(1),
  "TIPO_NOTIFICACAO"	 CHAR(1),
  "TIPO_EVENTO"	 CHAR(1),
  "CPS"	 DOUBLE PRECISION,
  "DATA_EVENTO"	 TIMESTAMP,
  "SETOR"	 INTEGER,
  "OCORRENCIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TIPO"	 INTEGER,
  "STATUS"	 VARCHAR(100),
CONSTRAINT "PK_NOTIFICACAO_EVENTOS" PRIMARY KEY ("ID_NOTIFICACAO")
);

/* Table: NOTIFICACAO_RESPOSTA, Owner: SYSDBA */

CREATE TABLE "NOTIFICACAO_RESPOSTA" 
(
  "ID_NOTIFICACAO_RESPOSTA"	 INTEGER NOT NULL,
  "ID_NOTIFICACAO"	 INTEGER,
  "TIPO_NOTIFICACAO"	 INTEGER,
  "USUARIO"	 INTEGER,
  "DATA_RESPOSTA"	 TIMESTAMP,
  "CLASSIFICACAO"	 VARCHAR(50),
  "DETALHAMENTO_OCORRENCIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ORIENTACAO_CORRECAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ANALISE_CAUSAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PARECER"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "GERENCIAMENTO_RISCO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RETORNO_ACAO_CORRETIVA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CPS"	 INTEGER,
CONSTRAINT "PK_NOTIFICACAO_RESPOSTA" PRIMARY KEY ("ID_NOTIFICACAO_RESPOSTA")
);

/* Table: NOTIFICACAO_TIPO, Owner: SYSDBA */

CREATE TABLE "NOTIFICACAO_TIPO" 
(
  "ID_TIPONOTIFICACAO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50),
  "TIPO"	 VARCHAR(1),
  "DEPTO"	 INTEGER,
CONSTRAINT "PK_NOTIFICACAO_TIPO" PRIMARY KEY ("ID_TIPONOTIFICACAO")
);

/* Table: NUMERAGUIA, Owner: SYSDBA */

CREATE TABLE "NUMERAGUIA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "CONSULTA"	 INTEGER,
  "SADT"	 INTEGER,
  "INTERNACAO"	 INTEGER,
  "SOLICITA_INTER"	 INTEGER,
  "HONO_INDIVIDUAL"	 INTEGER,
  "FIM_CONSULTA"	 INTEGER,
  "FIM_SADT"	 INTEGER,
  "FIM_INTERNACAO"	 INTEGER,
  "FIM_SOLICITA_INTER"	 INTEGER,
  "FIM_HONO_INDIVIDUAL"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: NUTRICAO, Owner: SYSDBA */

CREATE TABLE "NUTRICAO" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "DIAGNOSTICO"	 VARCHAR(100),
  "DIETA"	 VARCHAR(80),
  "OBSERVACAO"	 VARCHAR(80),
  "JEJUM"	 TIMESTAMP,
  "DESJEJUM"	 VARCHAR(250),
  "ALMOCO"	 VARCHAR(250),
  "COLACAO"	 VARCHAR(250),
  "LANCHE"	 VARCHAR(250),
  "JANTAR"	 VARCHAR(250),
  "CEIA"	 VARCHAR(250),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "VIA"	 VARCHAR(20),
  "INFUSAO"	 VARCHAR(20),
  "VTOTAL"	 VARCHAR(30),
  "ETAPA"	 VARCHAR(30),
  "VAZAO"	 VARCHAR(10),
  "RESIDUO1"	 VARCHAR(2),
  "RESIDUO2"	 VARCHAR(2),
  "VAZAO2"	 VARCHAR(2),
  "ASPIRADO"	 VARCHAR(10),
  "VET"	 VARCHAR(10),
  "KCAL"	 VARCHAR(10),
  "FIBRAS"	 VARCHAR(10),
  "REPOUSODIETA"	 VARCHAR(300),
  "SUPLEMENTOORAL"	 VARCHAR(300),
  "DIETAPRESCR"	 VARCHAR(300),
  "VOLUMEETAPA"	 VARCHAR(30),
  "ML_AGUA"	 VARCHAR(30),
  "CONDUTA"	 VARCHAR(500),
  "EVOLUCAO"	 FLOAT,
  "PTN"	 VARCHAR(10),
  "LIP"	 VARCHAR(10),
  "GCHO"	 VARCHAR(10),
  "NUMETAPAS"	 VARCHAR(10),
  "OBS"	 VARCHAR(500),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATAMOD"	 TIMESTAMP,
  "PESO"	 DOUBLE PRECISION,
  "PA"	 DOUBLE PRECISION,
  "PH"	 DOUBLE PRECISION,
  "ALTURA_EST"	 DOUBLE PRECISION,
  "ALTURA_ATUAL"	 DOUBLE PRECISION,
  "KH"	 DOUBLE PRECISION,
  "IMC"	 DOUBLE PRECISION,
  "CB"	 DOUBLE PRECISION,
  "PCT"	 DOUBLE PRECISION,
  "ESTADO_NUTRICIONAL"	 CHAR(1),
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: OBSMARCACAO, Owner: SYSDBA */

CREATE TABLE "OBSMARCACAO" 
(
  "IDOBSMARCACAO"	 INTEGER NOT NULL,
  "OBSERVACAO"	 VARCHAR(30),
CONSTRAINT "PK_OBSMARCACAO" PRIMARY KEY ("IDOBSMARCACAO")
);

/* Table: OML, Owner: SYSDBA */

CREATE TABLE "OML" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(70),
 PRIMARY KEY ("CODIGO")
);

/* Table: OPERADORAS, Owner: SYSDBA */

CREATE TABLE "OPERADORAS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CNES"	 INTEGER,
  "CNPJ"	 VARCHAR(14),
  "RAZAOSOCIAL"	 VARCHAR(60),
  "FANTASIA"	 VARCHAR(60),
  "DATAREGISTRO"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: OPERADORA_CELULAR, Owner: SYSDBA */

CREATE TABLE "OPERADORA_CELULAR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30) NOT NULL,
CONSTRAINT "PK_OPERADORA_CELULAR" PRIMARY KEY ("INDICE")
);

/* Table: OPME, Owner: SYSDBA */

CREATE TABLE "OPME" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "PREVISAO"	 TIMESTAMP,
  "RELATORIO"	 VARCHAR(500),
  "MARCA"	 VARCHAR(250),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "TIPOCIRURGIA"	 INTEGER,
  "CODIGOPROC1"	 VARCHAR(10),
  "CODIGOPROC2"	 VARCHAR(10),
  "CODIGOPROC3"	 VARCHAR(10),
  "CODIGOPROC4"	 VARCHAR(10),
  "CODIGOPROC5"	 VARCHAR(10),
  "CODIGOPROC6"	 VARCHAR(6),
  "CODIGOPROC7"	 VARCHAR(10),
  "CODIGOPROC8"	 VARCHAR(10),
  "CODIGOPROC9"	 VARCHAR(10),
  "QTDPROC1"	 INTEGER,
  "QTDPROC2"	 INTEGER,
  "QTDPROC3"	 INTEGER,
  "QTDPROC4"	 INTEGER,
  "QTDPROC5"	 INTEGER,
  "QTDPROC6"	 INTEGER,
  "QTDPROC7"	 INTEGER,
  "QTDPROC8"	 INTEGER,
  "QTDPROC9"	 INTEGER,
  "PROCDESCR1"	 VARCHAR(100),
  "PROCDESCR2"	 VARCHAR(100),
  "PROCDESCR3"	 VARCHAR(100),
  "PROCDESCR4"	 VARCHAR(100),
  "PROCDESCR5"	 VARCHAR(100),
  "PROCDESCR6"	 VARCHAR(100),
  "PROCDESCR7"	 VARCHAR(100),
  "PROCDESCR8"	 VARCHAR(100),
  "PROCDESCR9"	 VARCHAR(100),
  "QTDMAT1"	 INTEGER,
  "QTDMAT2"	 INTEGER,
  "QTDMAT3"	 INTEGER,
  "QTDMAT4"	 INTEGER,
  "QTDMAT5"	 INTEGER,
  "QTDMAT6"	 INTEGER,
  "QTDMAT7"	 INTEGER,
  "QTDMAT8"	 INTEGER,
  "DESCRMAT1"	 VARCHAR(150),
  "DESCRMAT2"	 VARCHAR(150),
  "DESCRMAT3"	 VARCHAR(150),
  "DESCRMAT4"	 VARCHAR(150),
  "DESCRMAT5"	 VARCHAR(150),
  "DESCRMAT6"	 VARCHAR(150),
  "DESCRMAT7"	 VARCHAR(150),
  "DESCRMAT8"	 VARCHAR(150),
  "CID"	 VARCHAR(5),
  "NOMEPAC"	 CHAR(100),
  "CREMEB"	 INTEGER,
  "ESPECIALIDADE"	 VARCHAR(100),
  "MEDICO"	 VARCHAR(100),
  "CPS"	 FLOAT,
CONSTRAINT "PK_OPME" PRIMARY KEY ("INDICE")
);

/* Table: OPMEP, Owner: SYSDBA */

CREATE TABLE "OPMEP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "QTD"	 INTEGER,
  "DESCRICAO"	 VARCHAR(100),
  "MARCA"	 VARCHAR(50),
  "ANVISA"	 VARCHAR(50),
  "UNITARIO"	 DOUBLE PRECISION,
  "QTD1"	 INTEGER,
  "DESCRICAO1"	 VARCHAR(100),
  "MARCA1"	 VARCHAR(50),
  "ANVISA1"	 VARCHAR(50),
  "UNITARIO1"	 DOUBLE PRECISION,
  "QTD2"	 INTEGER,
  "DESCRICAO2"	 VARCHAR(100),
  "MARCA2"	 VARCHAR(50),
  "ANVISA2"	 VARCHAR(50),
  "UNITARIO2"	 DOUBLE PRECISION,
  "QTD3"	 INTEGER,
  "DESCRICAO3"	 VARCHAR(100),
  "MARCA3"	 VARCHAR(50),
  "ANVISA3"	 VARCHAR(50),
  "UNITARIO4"	 DOUBLE PRECISION,
  "QTD5"	 INTEGER,
  "DESCRICAO5"	 VARCHAR(100),
  "MARCA5"	 VARCHAR(50),
  "ANVISA5"	 VARCHAR(50),
  "UNITARIO5"	 DOUBLE PRECISION,
  "QTD6"	 INTEGER,
  "DESCRICAO6"	 VARCHAR(100),
  "MARCA6"	 VARCHAR(50),
  "ANVISA6"	 VARCHAR(50),
  "UNITARIO6"	 DOUBLE PRECISION,
  "QTD7"	 INTEGER,
  "DESCRICAO7"	 VARCHAR(100),
  "MARCA7"	 VARCHAR(50),
  "ANVISA7"	 VARCHAR(50),
  "UNITARIO7"	 DOUBLE PRECISION,
  "QTD8"	 INTEGER,
  "DESCRICAO8"	 VARCHAR(100),
  "MARCA8"	 VARCHAR(50),
  "ANVISA8"	 VARCHAR(50),
  "UNITARIO8"	 DOUBLE PRECISION,
  "QTD9"	 INTEGER,
  "DESCRICAO9"	 VARCHAR(100),
  "MARCA9"	 VARCHAR(50),
  "ANVIS9"	 VARCHAR(50),
  "UNITARIO9"	 DOUBLE PRECISION,
  "DATACIRURGIA"	 TIMESTAMP,
  "CID"	 VARCHAR(5),
  "CODAMB"	 VARCHAR(8),
  "CONTATO"	 VARCHAR(30),
  "TELEFONE"	 VARCHAR(11),
  "MARGEMCOMERCIAL"	 DOUBLE PRECISION,
  "FORNECEDOR"	 VARCHAR(100),
  "TELEFONEFORNEC"	 VARCHAR(11),
  "NOMEPAC"	 VARCHAR(100),
  "PROCEDIMENTO"	 VARCHAR(40),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "MEDICO"	 VARCHAR(80),
  "CREMEB"	 VARCHAR(20),
  "ESPECIALIDADE"	 VARCHAR(50),
  "CODIGOPAC"	 INTEGER,
  "SENHA"	 VARCHAR(20),
  "UNITARIO3"	 DOUBLE PRECISION,
  "QTD4"	 INTEGER,
  "ANVISA4"	 VARCHAR(50),
  "MARCA4"	 VARCHAR(50),
  "DESCRICAO4"	 VARCHAR(100),
  "MATRICULA"	 VARCHAR(30),
  "CONVENIO"	 VARCHAR(50),
CONSTRAINT "PK_OPMEP" PRIMARY KEY ("INDICE")
);

/* Table: ORCAMENTO, Owner: SYSDBA */

CREATE TABLE "ORCAMENTO" 
(
  "ORCAMENTO"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "CODIGOPAC"	 FLOAT,
  "PACIENTE"	 VARCHAR(50) NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "DATAVALIDADE"	 TIMESTAMP,
  "TELEFONE"	 VARCHAR(15),
  "USER1"	 SMALLINT,
  "USER2"	 SMALLINT,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IP1"	 VARCHAR(16),
  "IP2"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "VERSAO2"	 VARCHAR(20),
  "EMAIL"	 VARCHAR(300),
  "TIPO"	 CHAR(1),
  "FECHADO"	 CHAR(1),
  "DESCONTO"	 DOUBLE PRECISION,
  "VALOR"	 DOUBLE PRECISION,
  "CPS"	 INTEGER,
  "OBS"	 VARCHAR(250),
CONSTRAINT "PK_ORCAMENTO" PRIMARY KEY ("ORCAMENTO")
);

/* Table: ORCAMENTOITEM, Owner: SYSDBA */

CREATE TABLE "ORCAMENTOITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ORCAMENTO"	 INTEGER NOT NULL,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "CODIGOSERV"	 INTEGER,
  "TIPO"	 VARCHAR(1) NOT NULL,
  "DESCRICAO"	 VARCHAR(70),
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "QTDE"	 INTEGER,
  "GRUPO"	 CHAR(1),
  "VALORTOTAL"	 COMPUTED BY ( QTDE * VALOR ),
  "TOTAL_ITEM"	 DOUBLE PRECISION,
  "A_MEDICOS"	 INTEGER,
  "PERCENTUAL"	 FLOAT,
  "DESCONTO"	 FLOAT,
  "RESPONSAVEL"	 INTEGER,
  "FORMAPAGAMENTO"	 VARCHAR(250),
CONSTRAINT "PK_ORCAMENTOITEM" PRIMARY KEY ("INDICE")
);

/* Table: ORIGEM, Owner: SYSDBA */

CREATE TABLE "ORIGEM" 
(
  "TIPO"	 CHAR(1) NOT NULL,
  "CODIGO_ORIGEM"	 VARCHAR(10) NOT NULL,
  "COD_PROCEDIMENTO"	 VARCHAR(4) NOT NULL,
  "SEQUENCIA"	 INTEGER NOT NULL,
CONSTRAINT "PK_ORIGEM" PRIMARY KEY ("SEQUENCIA")
);

/* Table: ORIGEM_LAB, Owner: SYSDBA */

CREATE TABLE "ORIGEM_LAB" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30) CHARACTER SET ISO8859_1 NOT NULL,
CONSTRAINT "PK_ORIGEM_LAB" PRIMARY KEY ("INDICE")
);

/* Table: OSP, Owner: SYSDBA */

CREATE TABLE "OSP" 
(
  "IDOSP"	 INTEGER NOT NULL,
  "DATA"	 DATE,
  "OSP_SAINDO"	 VARCHAR(100),
  "OSP_ENTRA"	 VARCHAR(100),
  "ADMINISTRATIVO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ENF_SERVICO"	 VARCHAR(100),
  "TOTAL_INTERNADOS"	 INTEGER,
  "PORCONVENIO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ALTASDIA"	 INTEGER,
  "ADMISSOES"	 INTEGER,
  "TOTAL_ATD_EMERG"	 INTEGER,
  "OCORRENCIAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBITOS"	 INTEGER,
  "MILITAR_ATIVA"	 INTEGER,
  "OSES"	 INTEGER,
  "USER1"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_OSP" PRIMARY KEY ("IDOSP")
);

/* Table: PACESPEC, Owner: SYSDBA */

CREATE TABLE "PACESPEC" 
(
  "IDPACESPEC"	 INTEGER NOT NULL,
  "CODESPE"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "VALIDADE"	 TIMESTAMP,
CONSTRAINT "PK_PACESPEC" PRIMARY KEY ("IDPACESPEC")
);

/* Table: PACIENTE, Owner: SYSDBA */

CREATE TABLE "PACIENTE" 
(
  "CODIGOPAC"	 PK_CODIGOPAC  NOT NULL,
  "A_NOME"	 VARCHAR(50) NOT NULL,
  "ENDERECO"	 VARCHAR(50),
  "MATRICULA"	 VARCHAR(30),
  "IDENTIDADE"	 VARCHAR(15),
  "NASC"	 TIMESTAMP,
  "CONSULTA"	 TIMESTAMP,
  "TRABALHO"	 VARCHAR(40),
  "SEGURADO"	 VARCHAR(50) NOT NULL,
  "GAVETA"	 PK_GAVETA ,
  "GAVETA1"	 PK_GAVETA ,
  "NATURALIDADE"	 VARCHAR(25),
  "PAI"	 NOME ,
  "MAE"	 NOME ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "SEXO"	 PK_SEXO ,
  "A_CPF"	 PK_CPF ,
  "CEP"	 PK_CEP ,
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 VARCHAR(100),
  "TELEFONE"	 VARCHAR(15),
  "CELULAR"	 VARCHAR(15),
  "A_MEDICOS"	 PK_MEDICO ,
  "UF"	 PK_UF ,
  "CIVIL"	 PK_CIVIL ,
  "CADASTRADOEM"	 TIMESTAMP,
  "IMPRESSO"	 CHAR(1),
  "COR"	 PK_COR ,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOANTIGO"	 FLOAT,
  "TRABALHO1"	 VARCHAR(50),
  "EMAIL"	 EMAIL ,
  "SANGUE"	 VARCHAR(2),
  "FATORRH"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATIVO"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "ANAMNESE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PREVIDENCIA"	 VARCHAR(20),
  "SUS"	 VARCHAR(15),
  "PLANO"	 VARCHAR(20),
  "VALIDADE"	 TIMESTAMP,
  "PRODUTO"	 VARCHAR(10),
  "CARTAO"	 VARCHAR(20),
  "CONVPLANO"	 INTEGER,
  "TELEFONE3"	 VARCHAR(15),
  "IMPORTA"	 VARCHAR(30000),
  "AREA"	 INTEGER,
  "PREFERENCIA"	 VARCHAR(50),
  "OBSERVACAOMED"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SENHA"	 VARCHAR(10),
  "DATASINC"	 TIMESTAMP,
  "NUMERO"	 VARCHAR(8),
  "COMPLEMENTO"	 VARCHAR(20),
  "APELIDO"	 VARCHAR(50),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "FR1"	 CHAR(1),
  "FR2"	 CHAR(1),
  "FR3"	 CHAR(1),
  "FR4"	 CHAR(1),
  "FR5"	 CHAR(1),
  "FR6"	 CHAR(1),
  "FR7"	 CHAR(1),
  "FR8"	 CHAR(1),
  "FR9"	 CHAR(1),
  "FR10"	 CHAR(1),
  "FR11"	 CHAR(1),
  "FR12"	 CHAR(1),
  "FR13"	 CHAR(1),
  "FR14"	 CHAR(1),
  "FR15"	 CHAR(1),
  "FR16"	 CHAR(1),
  "RGORGAO"	 VARCHAR(10),
  "ESCOLARIDADE"	 VARCHAR(35),
  "RGUF"	 CHAR(2),
  "BOLSAFAMILIA"	 CHAR(1),
  "MICROAREA"	 INTEGER,
  "POSTO"	 VARCHAR(2),
  "MAT_FIN"	 CHAR(1),
  "OML"	 VARCHAR(3),
  "CORPO"	 VARCHAR(4),
  "QUADRO"	 VARCHAR(4),
  "ESPEC"	 VARCHAR(4),
  "NUMBOL"	 VARCHAR(4),
  "ANOBOL"	 VARCHAR(4),
  "AP"	 VARCHAR(4),
  "PARENTE"	 INTEGER,
  "SITUACAO"	 VARCHAR(2),
  "INIFUS"	 TIMESTAMP,
  "SIAPE"	 VARCHAR(10),
  "NIPTITULAR"	 VARCHAR(25),
  "SISPRENATAL"	 VARCHAR(25),
  "IMH"	 CHAR(1),
  "IMPORTADO"	 VARCHAR(10),
  "PRONTUARIO"	 VARCHAR(8),
  "LIBERADOTEMP"	 CHAR(1),
  "CERTIDAONASC"	 VARCHAR(40),
  "QUADRADO"	 VARCHAR(4),
  "IBR_SENHA_NET"	 VARCHAR(8),
  "IBR_BLOCK_NET"	 CHAR(1),
  "NACIONALIDADE"	 CHAR(3),
  "DATAEXPEDICAO"	 TIMESTAMP,
  "SMS_RECEBI"	 VARCHAR(1),
  "SMS_MARCADO"	 INTEGER,
  "NOMEFONETICO"	 VARCHAR(70),
  "COD_LOGRADOURO"	 VARCHAR(3),
  "ETNIA"	 VARCHAR(10),
  "UF_NASC"	 VARCHAR(4),
  "NACIONALIDADE_TIPO"	 VARCHAR(1),
  "COR2"	 CHAR(1),
 PRIMARY KEY ("CODIGOPAC")
);

/* Table: PACIENTECPR, Owner: SYSDBA */

CREATE TABLE "PACIENTECPR" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOPAC"	 FLOAT,
  "CODIGOCPS"	 FLOAT,
  "DATAVENC"	 TIMESTAMP,
  "VALOR"	 DOUBLE PRECISION,
  "DATABAIXA"	 TIMESTAMP,
  "DATAATEND"	 TIMESTAMP,
  "TIPO"	 CHAR(1),
  "PARCELA"	 VARCHAR(11),
  "FATURA"	 INTEGER,
  "OBS"	 VARCHAR(50),
  "DESCONTO"	 CHAR(1),
  "USER1"	 INTEGER,
CONSTRAINT "PK_PACIENTECPR" PRIMARY KEY ("INDICE")
);

/* Table: PACIENTEPROGGOV, Owner: SYSDBA */

CREATE TABLE "PACIENTEPROGGOV" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "CODIGOPROGGOV"	 INTEGER,
  "DATAINI"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: PACIENTESBLOQUEADOS, Owner: SYSDBA */

CREATE TABLE "PACIENTESBLOQUEADOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DATA1"	 INTEGER,
  "DATA2"	 INTEGER,
  "QTDFALTA"	 FLOAT,
 PRIMARY KEY ("INDICE")
);

/* Table: PACIENTE_ALARME, Owner: SYSDBA */

CREATE TABLE "PACIENTE_ALARME" 
(
  "ID_PACIENTE_ALARME"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "MEDIDAS_PREVENCAO"	 VARCHAR(100),
  "MICROORG_RESISTENTE"	 VARCHAR(100),
CONSTRAINT "PK_PACIENTE_ALARME" PRIMARY KEY ("ID_PACIENTE_ALARME")
);

/* Table: PACOTE1, Owner: SYSDBA */

CREATE TABLE "PACOTE1" 
(
  "PACOTE"	 PK_PACOTE ,
  "NOME"	 VARCHAR(120) NOT NULL,
  "CODIGOAMB"	 PK_CODIGOAMB ,
  "CODESP"	 CHAR(2),
  "PASSA"	 CHAR(1),
  "A_PASSA"	 CHAR(1),
  "A_CUSTOS"	 INTEGER,
  "GRUPO"	 VARCHAR(15),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "POSOLOGIA"	 VARCHAR(60),
  "VIA"	 VARCHAR(20),
  "ATIVO"	 CHAR(1),
  "PRESCRICAO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "GENERICO"	 CHAR(1),
  "ASSISTENCIAL"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ASSSISTENCIAL"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MENSAGEM"	 VARCHAR(80),
  "DEPARA"	 INTEGER,
  "PADRAO"	 CHAR(1),
  "BLOQUEIO"	 VARCHAR(1),
  "DILUICAO"	 VARCHAR(250),
  "RISCOS"	 VARCHAR(500),
  "DOSEPADRAO"	 VARCHAR(50),
  "APRESENTACAO"	 VARCHAR(20),
 PRIMARY KEY ("PACOTE")
);

/* Table: PACOTE2, Owner: SYSDBA */

CREATE TABLE "PACOTE2" 
(
  "INDICE"	 FLOAT NOT NULL,
  "PACOTE"	 PK_PACOTE ,
  "CODIGO"	 INTEGER NOT NULL,
  "QUANTIDADE"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
  "A_MEDICOS"	 INTEGER,
  "DISPENSAR"	 CHAR(1),
  "UNITARIO"	 CHAR(1),
  "A_ATIVO"	 CHAR(1),
  "NOME"	 VARCHAR(50),
  "ESCOLHA"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: PACOTE3, Owner: SYSDBA */

CREATE TABLE "PACOTE3" 
(
  "INDICE"	 FLOAT NOT NULL,
  "PACOTE"	 PK_PACOTE ,
  "QUANTIDADE"	 SMALLINT,
  "CODIGOAMB"	 CHAR(8) NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOSERV"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
  "VALOR"	 FLOAT,
 PRIMARY KEY ("INDICE")
);

/* Table: PACOTE4, Owner: SYSDBA */

CREATE TABLE "PACOTE4" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOAMB"	 CHAR(8) NOT NULL,
  "PACOTE"	 PK_PACOTE ,
  "QUANTIDADE"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: PACOTE5, Owner: SYSDBA */

CREATE TABLE "PACOTE5" 
(
  "INDICE"	 FLOAT NOT NULL,
  "PACOTE"	 PK_PACOTE ,
  "CODIGOAMB"	 INTEGER NOT NULL,
  "QUANTIDADE"	 SMALLINT,
  "A_CODAMB"	 PK_CODIGOAMB ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: PACOTE6, Owner: SYSDBA */

CREATE TABLE "PACOTE6" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PACOTE"	 PK_PACOTE ,
  "CODIGOMM"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "TIPO"	 CHAR(1) NOT NULL,
  "QUANTIDADE"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: PACOTEBARRA, Owner: SYSDBA */

CREATE TABLE "PACOTEBARRA" 
(
  "INDICE"	 FLOAT NOT NULL,
  "PACOTE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "STATUS"	 VARCHAR(15) NOT NULL,
  "USER1"	 INTEGER NOT NULL,
  "DATA1"	 TIMESTAMP NOT NULL,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
CONSTRAINT "PK_PACOTEBARRA" PRIMARY KEY ("INDICE")
);

/* Table: PACOTEBARRAITEM, Owner: SYSDBA */

CREATE TABLE "PACOTEBARRAITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PACOTEBARRA"	 FLOAT,
  "CODIGOMM"	 INTEGER NOT NULL,
  "CODIGOBARRA"	 CHAR(13),
  "USER1"	 INTEGER NOT NULL,
  "DATA1"	 TIMESTAMP NOT NULL,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
CONSTRAINT "PK_PACOTEBARRAITEM" PRIMARY KEY ("INDICE")
);

/* Table: PACOTEEXTRA, Owner: SYSDBA */

CREATE TABLE "PACOTEEXTRA" 
(
  "INDICE"	 FLOAT NOT NULL,
  "PACOTE"	 PK_PACOTE ,
  "CODIGOMM"	 INTEGER NOT NULL,
  "QUANTIDADE"	 SMALLINT,
  "TIPO"	 CHAR(1),
  "USER1"	 INTEGER NOT NULL,
  "DATA1"	 TIMESTAMP NOT NULL,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CONVENIO"	 INTEGER NOT NULL,
 PRIMARY KEY ("INDICE")
);

/* Table: PACOTETIPO, Owner: SYSDBA */

CREATE TABLE "PACOTETIPO" 
(
  "DESCRICAO"	 VARCHAR(40),
  "ORDEM"	 SMALLINT
);

/* Table: PACOTE_SUSBSTANCIA, Owner: SYSDBA */

CREATE TABLE "PACOTE_SUSBSTANCIA" 
(
  "IDPACOTE_SUSBSTANCIA"	 INTEGER NOT NULL,
  "PACOTE"	 INTEGER,
  "SUBSTANCIA"	 INTEGER,
  "CONTRAINDICACAO"	 INTEGER,
  "OBSERVACAO"	 VARCHAR(50),
CONSTRAINT "PK_PACOTE_SUSBSTANCIA" PRIMARY KEY ("IDPACOTE_SUSBSTANCIA")
);

/* Table: PACPLAN, Owner: SYSDBA */

CREATE TABLE "PACPLAN" 
(
  "A_CODAMB"	 VARCHAR(8),
  "A_NOME"	 VARCHAR(50),
  "A_VALOR"	 DOUBLE PRECISION,
  "CONVENIO"	 PK_CONVENIO ,
  "A_PACOTE"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ATIVO"	 CHAR(1),
 PRIMARY KEY ("A_PACOTE")
);

/* Table: PACTUACAO, Owner: SYSDBA */

CREATE TABLE "PACTUACAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(10) NOT NULL,
  "ANO"	 INTEGER NOT NULL,
  "QUANTIDADE"	 INTEGER,
  "CODIGOSERV"	 PK_CODIGOMM  NOT NULL,
  "COD_TABELA"	 SMALLINT NOT NULL,
  "ESPECIALIDADE"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: PAINELCHAMADA, Owner: SYSDBA */

CREATE TABLE "PAINELCHAMADA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TEXTO"	 VARCHAR(3000) NOT NULL,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "STATUS"	 CHAR(1),
  "TIPO"	 VARCHAR(50),
  "PAINELCHAMADA"	 VARCHAR(20),
  "SETOR"	 VARCHAR(30),
CONSTRAINT "PK_PAINELCHAMADA" PRIMARY KEY ("INDICE")
);

/* Table: PAINELCHAMADAID, Owner: SYSDBA */

CREATE TABLE "PAINELCHAMADAID" 
(
  "IP"	 VARCHAR(30),
  "MAQUINA"	 VARCHAR(30)
);

/* Table: PARENTESCO, Owner: SYSDBA */

CREATE TABLE "PARENTESCO" 
(
  "NOME"	 VARCHAR(30) NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
 PRIMARY KEY ("CODIGO")
);

/* Table: PASSAPLANTAO, Owner: SYSDBA */

CREATE TABLE "PASSAPLANTAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "CODMEDICO"	 INTEGER,
  "ESPEC"	 INTEGER,
  "PENDENCIA"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "CRM"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "OBSERVMED"	 VARCHAR(150),
  "OBSERVENF"	 BLOB SUB_TYPE TEXT SEGMENT SIZE 80,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
CONSTRAINT "PK_PASSAPLANTAO" PRIMARY KEY ("INDICE")
);

/* Table: PASSAPLANTAO2, Owner: SYSDBA */

CREATE TABLE "PASSAPLANTAO2" 
(
  "IDPASSAPLANTAO2"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "ENFERMEIRO"	 INTEGER,
  "CPS"	 INTEGER,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "UNIDADENEGOCIO"	 INTEGER,
  "CID"	 VARCHAR(10),
  "NC1"	 CHAR(1),
  "NC2"	 CHAR(1),
  "NC3"	 CHAR(1),
  "NC4"	 CHAR(1),
  "NC5"	 CHAR(1),
  "NC6"	 CHAR(1),
  "NC7"	 CHAR(1),
  "NC8"	 CHAR(1),
  "NC9"	 CHAR(1),
  "NCOBS"	 VARCHAR(50),
  "VENT1"	 CHAR(1),
  "VENT2"	 CHAR(1),
  "VENT3"	 CHAR(1),
  "VENT4"	 CHAR(1),
  "VENT5"	 CHAR(1),
  "VENT6"	 CHAR(1),
  "VENT7"	 CHAR(1),
  "VENTOBS"	 VARCHAR(50),
  "PAM"	 VARCHAR(30),
  "FC"	 VARCHAR(30),
  "HEM1"	 CHAR(1),
  "HEM2"	 CHAR(1),
  "HEM3"	 CHAR(1),
  "HEM4"	 CHAR(1),
  "HEMOBS1"	 VARCHAR(50),
  "HEMOBS2"	 VARCHAR(50),
  "C1"	 CHAR(1),
  "C2"	 CHAR(1),
  "C3"	 CHAR(1),
  "C4"	 CHAR(1),
  "C5"	 CHAR(1),
  "C6"	 CHAR(1),
  "C7"	 CHAR(1),
  "C8"	 CHAR(1),
  "C9"	 CHAR(1),
  "C10"	 CHAR(1),
  "C11"	 CHAR(1),
  "C12"	 CHAR(1),
  "C13"	 CHAR(1),
  "C14"	 CHAR(1),
  "CDT1"	 DATE,
  "CDT2"	 DATE,
  "CDT3"	 DATE,
  "CDT4"	 DATE,
  "CDT5"	 DATE,
  "CDT6"	 DATE,
  "CDT7"	 DATE,
  "CDT8"	 DATE,
  "CDT9"	 DATE,
  "CDT10"	 DATE,
  "CDT11"	 DATE,
  "CDT12"	 DATE,
  "CDT13"	 DATE,
  "CDT14"	 DATE,
  "PORTH_NAOP"	 CHAR(1),
  "DU12"	 VARCHAR(10),
  "DU24"	 VARCHAR(10),
  "CDT15"	 CHAR(1),
  "CDT16"	 CHAR(1),
  "CDT17"	 CHAR(1),
  "CDT18"	 CHAR(1),
  "CDT19"	 CHAR(1),
  "CDT20"	 CHAR(1),
  "CDT21"	 CHAR(1),
  "CDT22"	 CHAR(1),
  "CDT23"	 CHAR(1),
  "D1"	 CHAR(1),
  "D2"	 CHAR(1),
  "D3"	 VARCHAR(10),
  "D4"	 VARCHAR(10),
  "D5"	 VARCHAR(10),
  "D6"	 VARCHAR(10),
  "D7"	 VARCHAR(10),
  "D8"	 VARCHAR(10),
  "DTMULTFIX"	 DATE,
  "SNG1"	 CHAR(1),
  "SNG2"	 VARCHAR(10),
  "SNG3"	 VARCHAR(10),
  "COLS1"	 VARCHAR(10),
  "COLS2"	 VARCHAR(10),
  "COLS3"	 VARCHAR(10),
  "ILEO1"	 VARCHAR(10),
  "ILEO2"	 VARCHAR(10),
  "SVF1"	 VARCHAR(10),
  "SVF2"	 VARCHAR(10),
  "SVF3"	 VARCHAR(10),
  "SVF4"	 VARCHAR(10),
  "DIUESP1"	 VARCHAR(10),
  "DIUESP2"	 VARCHAR(10),
  "DEJ1"	 CHAR(1),
  "DEJ2"	 VARCHAR(50),
  "DEJ3"	 CHAR(1),
  "DEJ4"	 CHAR(1),
  "DEJ5"	 CHAR(1),
  "DEJ6"	 CHAR(1),
  "DIORAL1"	 CHAR(1),
  "DIORAL2"	 CHAR(1),
  "DIORAL3"	 CHAR(1),
  "DIORAL4"	 VARCHAR(50),
  "DIZERO1"	 CHAR(1),
  "DIZERO2"	 VARCHAR(50),
  "OUTS1"	 CHAR(1),
  "OUTS2"	 CHAR(1),
  "OUTS3"	 CHAR(1),
  "OUTS4"	 CHAR(1),
  "OUTS5"	 CHAR(1),
  "OUTS6"	 CHAR(1),
  "OUTS7"	 CHAR(1),
  "OUTS8"	 CHAR(1),
  "OUTSINFO1"	 VARCHAR(50),
  "OUTSINFO2"	 VARCHAR(50),
  "OUTSINFO3"	 VARCHAR(50),
  "OUTSINFO4"	 VARCHAR(50),
  "OUTSINFO5"	 VARCHAR(50),
  "OUTSINFO6"	 VARCHAR(50),
  "OUTSINFO7"	 VARCHAR(50),
  "OUTSINFO8"	 VARCHAR(50),
  "OUTSINFO9"	 VARCHAR(50),
  "OUTSINFO10"	 VARCHAR(50),
  "OUTSINFO11"	 VARCHAR(50),
  "OUTSINFO12"	 VARCHAR(50),
  "OUTSINFO13"	 VARCHAR(50),
  "OUTSINFO14"	 VARCHAR(50),
  "OUTSINFO15"	 VARCHAR(50),
  "OUTSINFO16"	 VARCHAR(50),
  "OUTSINFO17"	 VARCHAR(50),
  "OUTSINFO18"	 VARCHAR(50),
  "OUTSINFO19"	 VARCHAR(50),
  "OUTSINFO20"	 VARCHAR(50),
  "OUTSINFO21"	 VARCHAR(50),
  "OUTSINFO22"	 VARCHAR(50),
  "OUTSINFO23"	 VARCHAR(250),
  "SOL1"	 CHAR(1),
  "SOL2"	 CHAR(1),
  "SOL3"	 CHAR(1),
  "SOL4"	 CHAR(1),
  "SOL5"	 CHAR(1),
  "SOL6"	 CHAR(1),
  "SOL7"	 CHAR(1),
  "SOL8"	 CHAR(1),
  "SOL9"	 CHAR(1),
  "SOL10"	 CHAR(1),
  "SOL11"	 CHAR(1),
  "SOL12"	 CHAR(1),
  "SOL13"	 CHAR(1),
  "SOL14"	 CHAR(1),
  "SOL15"	 CHAR(1),
  "SOL16"	 CHAR(1),
  "SOL17"	 CHAR(1),
  "SOL18"	 CHAR(1),
  "SOLTEXTO1"	 VARCHAR(50),
  "SOLTEXTO2"	 VARCHAR(50),
  "SOLTEXTO3"	 VARCHAR(50),
  "SOLTEXTO4"	 VARCHAR(50),
  "SOLTEXTO5"	 VARCHAR(50),
  "SOLTEXTO6"	 VARCHAR(50),
  "SOLTEXTO7"	 VARCHAR(50),
  "SOLTEXTO8"	 VARCHAR(50),
  "SOLTEXTO9"	 VARCHAR(50),
  "SOLTEXTO10"	 VARCHAR(50),
  "SOLTEXTO11"	 VARCHAR(50),
  "SOLTEXTO12"	 VARCHAR(50),
  "SOLTEXTO13"	 VARCHAR(50),
  "SOLTEXTO14"	 VARCHAR(50),
  "SOLTEXTO15"	 VARCHAR(50),
  "SOLTEXTO16"	 VARCHAR(50),
  "SOLTEXTO17"	 VARCHAR(50),
  "SOLTEXTO18"	 VARCHAR(50),
  "SOLTEXTO19"	 VARCHAR(50),
  "SOLTEXTO20"	 VARCHAR(50),
  "SOLTEXTO21"	 VARCHAR(50),
  "SOLTEXTO22"	 VARCHAR(50),
  "SOLTEXTO23"	 VARCHAR(50),
  "SOLTEXTO24"	 VARCHAR(50),
  "CURAT1"	 CHAR(1),
  "CURAT2"	 CHAR(1),
  "CURAT3"	 CHAR(1),
  "CURAT4"	 CHAR(1),
  "CURAT5"	 CHAR(1),
  "CURAT6"	 CHAR(1),
  "CURAT7"	 CHAR(1),
  "CURAT8"	 CHAR(1),
  "CURAT9"	 CHAR(1),
  "CURAT10"	 CHAR(1),
  "CURAT11"	 CHAR(1),
  "CURAT_TEXTO1"	 VARCHAR(50),
  "CURAT_TEXTO2"	 VARCHAR(50),
  "CURAT_TEXTO3"	 VARCHAR(50),
  "CURAT_TEXTO4"	 VARCHAR(50),
  "CURAT_TEXTO5"	 VARCHAR(50),
  "CURAT_TEXTO6"	 VARCHAR(50),
  "CURAT_TEXTO7"	 VARCHAR(50),
  "CURAT_TEXTO8"	 VARCHAR(50),
  "CURAT_TEXTO9"	 VARCHAR(50),
  "CURAT_TEXTO10"	 VARCHAR(50),
  "RISCO1"	 CHAR(1),
  "RISCO2"	 CHAR(1),
  "RISCO3"	 CHAR(1),
  "RISCO4"	 CHAR(1),
  "RISCO5"	 CHAR(1),
  "RISCO6"	 CHAR(1),
  "RISCO7"	 CHAR(1),
  "RISCO8"	 VARCHAR(50),
  "RISCO9"	 VARCHAR(50),
  "RISCO10"	 VARCHAR(50),
  "RISCO11"	 VARCHAR(50),
  "RISCO12"	 VARCHAR(50),
  "EXAMESOUTROS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CONDUTA_DIARISTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CONDUTA_PLANTONISTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PENDENCIA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ISOLAMENTO"	 CHAR(1),
  "ISOLAMENTO_TIPO"	 VARCHAR(50),
  "C15"	 CHAR(1),
  "C16"	 CHAR(1),
  "C17"	 CHAR(1),
  "C18"	 CHAR(1),
  "C19"	 CHAR(1),
  "C20"	 CHAR(1),
  "C21"	 CHAR(1),
  "C22"	 CHAR(1),
  "C23"	 CHAR(1),
  "C24"	 CHAR(1),
  "C25"	 CHAR(1),
  "CLOCALDATA1"	 VARCHAR(50),
  "CLOCALDATA2"	 VARCHAR(50),
  "CLOCALDATA3"	 VARCHAR(50),
  "CLOCALDATA4"	 VARCHAR(50),
  "SNG4"	 CHAR(1),
  "COLSPRODUTIVA"	 CHAR(1),
  "ILEOPRODT"	 CHAR(1),
  "ILEONP"	 CHAR(1),
  "GASTROSTOMIA1"	 VARCHAR(10),
  "GASTROSTOMIA2"	 VARCHAR(10),
  "GASTROSTOMIA3"	 VARCHAR(10),
  "GASTROSTOMIA4"	 VARCHAR(10),
  "GASTROSTOMIA5"	 VARCHAR(10),
  "GASTROSTOMIA6"	 VARCHAR(10),
  "OUTROSOBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HEMOCOMP1"	 VARCHAR(50),
  "HEMOCOMP2"	 VARCHAR(50),
  "HEMOCOMP3"	 VARCHAR(50),
  "TURNO"	 VARCHAR(50),
  "OUTS9"	 CHAR(1),
  "OUTS10"	 CHAR(1),
  "SOLCONCT1"	 VARCHAR(50),
  "SOLCONCT2"	 VARCHAR(50),
  "SOLCONCT3"	 VARCHAR(50),
  "SOLCONCT4"	 VARCHAR(50),
  "SOLCONCT5"	 VARCHAR(50),
  "SOLCONCT6"	 VARCHAR(50),
  "SOLCONCT7"	 VARCHAR(50),
  "SOLCONCT8"	 VARCHAR(50),
  "SOLCONCT9"	 VARCHAR(50),
  "SOLCONCT10"	 VARCHAR(50),
  "SOLCONCT11"	 VARCHAR(50),
  "SOLCONCT12"	 VARCHAR(50)
);

/* Table: PENDENCIAS, Owner: SYSDBA */

CREATE TABLE "PENDENCIAS" 
(
  "PENDENCIA"	 INTEGER NOT NULL,
  "RESPONSAVEL"	 INTEGER,
  "SETOR"	 INTEGER,
  "INCLUSAO"	 TIMESTAMP,
  "TIPO"	 INTEGER,
  "CONCLUSAO"	 TIMESTAMP,
  "PREVISAO"	 TIMESTAMP,
  "REGISTRADO_POR"	 INTEGER,
  "CONCLUIDO_POR"	 INTEGER,
CONSTRAINT "PK_PENDENCIAS" PRIMARY KEY ("PENDENCIA")
);

/* Table: PENDENCIAS_DETALHE, Owner: SYSDBA */

CREATE TABLE "PENDENCIAS_DETALHE" 
(
  "PENDENCIAS_DETALHE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "RESPONSAVEL"	 INTEGER,
  "OBSERVACAO"	 VARCHAR(150),
  "PENDENCIA"	 INTEGER NOT NULL,
CONSTRAINT "PK_PENDENCIAS_DETALHE" PRIMARY KEY ("PENDENCIAS_DETALHE")
);

/* Table: PENDENCIAS_TIPO, Owner: SYSDBA */

CREATE TABLE "PENDENCIAS_TIPO" 
(
  "PENDENCIA_TIPO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(150),
CONSTRAINT "PK_PENDENCIAS_TIPO" PRIMARY KEY ("PENDENCIA_TIPO")
);

/* Table: PERFILA, Owner: SYSDBA */

CREATE TABLE "PERFILA" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: PERFILAL, Owner: SYSDBA */

CREATE TABLE "PERFILAL" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: PERFILALL, Owner: SYSDBA */

CREATE TABLE "PERFILALL" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: PERFILAM, Owner: SYSDBA */

CREATE TABLE "PERFILAM" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: PERFILAO, Owner: SYSDBA */

CREATE TABLE "PERFILAO" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: PERFILAP, Owner: SYSDBA */

CREATE TABLE "PERFILAP" 
(
  "ACESSO"	 PK_ACESSO ,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("ACESSO")
);

/* Table: PERFILFO, Owner: SYSDBA */

CREATE TABLE "PERFILFO" 
(
  "ACESSO"	 INTEGER NOT NULL,
  "INCLUIR"	 PK_SIMNAO ,
  "ALTERAR"	 PK_SIMNAO ,
  "EXCLUIR"	 PK_SIMNAO ,
  "IMPRIMIR"	 PK_SIMNAO ,
  "FUNCAO"	 PK_CODIGO  NOT NULL,
  "PROGRAMA"	 PK_PROGRAMA ,
  "CACHES"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_PERFILFO" PRIMARY KEY ("ACESSO")
);

/* Table: PESOPAC, Owner: SYSDBA */

CREATE TABLE "PESOPAC" 
(
  "IDPESOPAC"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "PESO"	 DOUBLE PRECISION,
  "CPS"	 INTEGER,
  "USER1"	 INTEGER,
CONSTRAINT "PK_PESOPAC" PRIMARY KEY ("IDPESOPAC")
);

/* Table: PESQOP, Owner: SYSDBA */

CREATE TABLE "PESQOP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "C3"	 CHAR(1),
  "C2"	 CHAR(1),
  "C4A"	 CHAR(1),
  "C4B"	 CHAR(1),
  "C4C"	 CHAR(1),
  "C4D"	 CHAR(1),
  "C4E"	 CHAR(1),
  "C4F"	 CHAR(1),
  "C5A"	 CHAR(1),
  "C5B"	 CHAR(1),
  "C5C"	 CHAR(1),
  "C5D"	 CHAR(1),
  "C5E"	 CHAR(1),
  "C5OBS"	 VARCHAR(100),
  "C1"	 CHAR(1),
  "C5F"	 CHAR(1),
  "C5G"	 CHAR(1),
  "C5H"	 CHAR(1),
  "C5I"	 CHAR(1),
  "C5J"	 CHAR(1),
  "C6A"	 CHAR(1),
  "C6B"	 CHAR(1),
  "C6C"	 CHAR(1),
  "C6OBS"	 VARCHAR(100),
  "C7A"	 CHAR(1),
  "C7B"	 CHAR(1),
  "C7C"	 CHAR(1),
  "C7D"	 CHAR(1),
  "C7E"	 CHAR(1),
  "C7F"	 CHAR(1),
  "C7G"	 CHAR(1),
  "C7OBS"	 VARCHAR(100),
  "C8A"	 CHAR(1),
  "C8B"	 CHAR(1),
  "C8C"	 CHAR(1),
  "C8D"	 CHAR(1),
  "C8E"	 CHAR(1),
  "C9A"	 CHAR(1),
  "C9B"	 CHAR(1),
  "C9C"	 CHAR(1),
  "C9D"	 CHAR(1),
  "C9E"	 CHAR(1),
  "C9F"	 CHAR(1),
  "C9G"	 CHAR(1),
  "C9H"	 CHAR(1),
  "C9OBS"	 VARCHAR(100),
  "C10A"	 CHAR(1),
  "C10B"	 CHAR(1),
  "C10C"	 CHAR(1),
  "C10D"	 CHAR(1),
  "C10OBS"	 VARCHAR(100),
  "C11NOME"	 VARCHAR(100),
  "C11QUARTO"	 VARCHAR(5),
  "C11LEITO"	 VARCHAR(5),
  "C11MEDICO"	 VARCHAR(50),
  "C1DATA1"	 TIMESTAMP,
  "C11DATA2"	 TIMESTAMP,
  "C11END"	 VARCHAR(100),
  "C11TEL"	 VARCHAR(11),
  "C11EMAIL"	 VARCHAR(30),
CONSTRAINT "PK_PESQOP" PRIMARY KEY ("INDICE")
);

/* Table: PLANOSSAUDE, Owner: SYSDBA */

CREATE TABLE "PLANOSSAUDE" 
(
  "CODIGOPLA"	 PK_CODIGOPLA ,
  "A_NOME"	 VARCHAR(40),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: PLANSERV_ATUALIZACAO, Owner: SYSDBA */

CREATE TABLE "PLANSERV_ATUALIZACAO" 
(
  "IDPLANSERV_ATUALIZACAO"	 FLOAT NOT NULL,
  "CODIGOMM"	 INTEGER,
  "REFERENCIA"	 TIMESTAMP,
  "FLAG"	 CHAR(1),
CONSTRAINT "PK_PLANSERV_ATUALIZACAO" PRIMARY KEY ("IDPLANSERV_ATUALIZACAO")
);

/* Table: PLANSERV_MAT, Owner: SYSDBA */

CREATE TABLE "PLANSERV_MAT" 
(
  "INDICE"	 INTEGER NOT NULL,
  "EMBALAGEM"	 INTEGER,
  "PRECO"	 DOUBLE PRECISION,
  "UNITARIO"	 DOUBLE PRECISION,
  "CODIGOTISS"	 INTEGER,
  "NOME"	 VARCHAR(40) NOT NULL,
  "FABRICANTE"	 VARCHAR(20),
  "TIPOCOD"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: PLANTOSOIL, Owner: SYSDBA */

CREATE TABLE "PLANTOSOIL" 
(
  "IDPLANTOSOIL"	 INTEGER NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "LEITO"	 INTEGER,
  "ALA"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "HORA"	 TIMESTAMP,
  "MOTIVO"	 VARCHAR(250),
  "MELHORIA"	 CHAR(1),
  "TRANSFERENCIA"	 CHAR(1),
  "GRAVIDADE"	 VARCHAR(250),
  "PLANTONISTA"	 INTEGER,
  "CONDUTA"	 VARCHAR(250),
  "TEMPO"	 VARCHAR(50),
CONSTRAINT "PK_PLANTOSOIL" PRIMARY KEY ("IDPLANTOSOIL")
);

/* Table: PLODONTO, Owner: SYSDBA */

CREATE TABLE "PLODONTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PREVENCAO"	 CHAR(1),
  "DATAREALIZADA1"	 TIMESTAMP,
  "PREVENCAOTERAPIA"	 CHAR(1),
  "DATAREALIZADA2"	 DATE,
  "CIRURGIAORAL"	 VARCHAR(100),
  "PERIODONTIA"	 VARCHAR(100),
  "DENTISTICA"	 VARCHAR(100),
  "ENDODONTIA"	 VARCHAR(100),
  "PROTESEFIXA"	 VARCHAR(100),
  "PROTESEREMOVIVEL"	 VARCHAR(100),
  "PREVENCAO2"	 CHAR(1),
  "DATAREALIZADA3"	 TIMESTAMP,
  "PREVENCAOTERAPIA2"	 CHAR(1),
  "CIRURGIAORAL2"	 VARCHAR(100),
  "PREIODONTIA2"	 VARCHAR(100),
  "DENTISTICA2"	 VARCHAR(100),
  "ENDODONTIA2"	 VARCHAR(100),
  "PROTESEFIXA2"	 VARCHAR(100),
  "PROTESEREMOVIVEL2"	 VARCHAR(100),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "CODIGOPAC"	 INTEGER NOT NULL,
  "OBS1"	 VARCHAR(300),
  "DATAREALIZADA4"	 TIMESTAMP,
  "OBS2"	 VARCHAR(100),
  "PL_CARIE"	 INTEGER,
  "PL_CANCER"	 INTEGER,
  "PL_DOENCA_PERIO"	 INTEGER,
  "PL_MA_OCLUSAO"	 INTEGER,
  "QTD_CAMPOS_CAREADOS"	 INTEGER,
  "RISCO"	 INTEGER,
  "PL_TRAUMA"	 INTEGER,
  "ALTA_CARIE"	 TIMESTAMP,
  "ALTA_CA"	 TIMESTAMP,
  "ALTA_DP"	 TIMESTAMP,
  "ALTA_MO"	 TIMESTAMP,
  "ALTA_TRAUMA"	 TIMESTAMP,
  "ALTA_GERAL"	 TIMESTAMP,
  "REVISAO"	 CHAR(1),
CONSTRAINT "PK_PLODONTO" PRIMARY KEY ("INDICE")
);

/* Table: PLODONTO_TRATAMENTO, Owner: SYSDBA */

CREATE TABLE "PLODONTO_TRATAMENTO" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODIGOSERV"	 INTEGER,
  "CODIGOAMB"	 CHAR(8),
  "A_MEDICOS"	 INTEGER,
  "QUANTIDADE"	 INTEGER,
  "TIPO"	 VARCHAR(50),
  "CODIGOPAC"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP,
  "CONCLUSAO"	 TIMESTAMP,
  "OBS"	 VARCHAR(250),
  "MEDICO2"	 INTEGER,
  "DENTE"	 VARCHAR(3),
  "PLANO"	 INTEGER
);

/* Table: PORTADOR, Owner: SYSDBA */

CREATE TABLE "PORTADOR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "ATIVO"	 VARCHAR(1) CHARACTER SET ISO8859_1 NOT NULL,
CONSTRAINT "PK_PORTADOR" PRIMARY KEY ("INDICE")
);

/* Table: PORTADOR_CONF, Owner: SYSDBA */

CREATE TABLE "PORTADOR_CONF" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "CODIGOPLA"	 INTEGER NOT NULL,
  "PERCENTUAL"	 DOUBLE PRECISION NOT NULL,
  "COD_PORTADOR"	 INTEGER,
CONSTRAINT "PK_PORTADOR_CONF" PRIMARY KEY ("INDICE")
);

/* Table: PORTE, Owner: SYSDBA */

CREATE TABLE "PORTE" 
(
  "PORTE"	 CHAR(3) NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("PORTE")
);

/* Table: POSSE, Owner: SYSDBA */

CREATE TABLE "POSSE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "INTER2NO"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
  "AMBULATORIO"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: POSTO, Owner: SYSDBA */

CREATE TABLE "POSTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "COD"	 VARCHAR(2) NOT NULL,
  "DESCR"	 VARCHAR(40) NOT NULL,
  "SOLDO"	 DOUBLE PRECISION,
  "MARGEM"	 DOUBLE PRECISION,
  "CONTRIBUICAO"	 DOUBLE PRECISION,
  "PERCENTUAL"	 DOUBLE PRECISION,
 PRIMARY KEY ("INDICE")
);

/* Table: POSTOSSAUDE, Owner: SYSDBA */

CREATE TABLE "POSTOSSAUDE" 
(
  "IDPOSTOSSAUDE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100),
CONSTRAINT "PK_POSTOSSAUDE" PRIMARY KEY ("IDPOSTOSSAUDE")
);

/* Table: POSTO_IMH, Owner: SYSDBA */

CREATE TABLE "POSTO_IMH" 
(
  "COD"	 VARCHAR(2) NOT NULL,
  "DESCR"	 VARCHAR(40) NOT NULL,
  "SOLDO"	 DOUBLE PRECISION,
  "MARGEM"	 DOUBLE PRECISION,
  "CONTRIBUICAO"	 DOUBLE PRECISION,
  "PERCENTUAL"	 DOUBLE PRECISION,
  "INICIO"	 TIMESTAMP,
  "DESCRICAO"	 VARCHAR(250),
  "VIGENCIA"	 TIMESTAMP
);

/* Table: PRECOMEDICOCONV, Owner: SYSDBA */

CREATE TABLE "PRECOMEDICOCONV" 
(
  "INDICE"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "VALOR"	 DOUBLE PRECISION NOT NULL,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "VIGENCIA"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: PRECOS, Owner: SYSDBA */

CREATE TABLE "PRECOS" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_QUANTIDA"	 FLOAT NOT NULL,
  "A_CODIGOAMB"	 CHAR(8),
  "CODIGO"	 PK_CODIGO  NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_PRECOS" PRIMARY KEY ("INDICE")
);

/* Table: PRESCRICAOAPRAZ, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOAPRAZ" 
(
  "PRESCRICAO"	 INTEGER NOT NULL,
  "ITEM"	 INTEGER NOT NULL,
  "HORARIO"	 INTEGER NOT NULL,
  "OBS"	 VARCHAR(250),
  "SUSPENSO"	 CHAR(1),
  "INDICE"	 VARCHAR(20),
  "IMPORTADO"	 VARCHAR(30),
  "DELETADO"	 CHAR(1)
);

/* Table: PRESCRICAOENF, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOENF" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "TRATAMENTO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: PRESCRICAOGRUPO, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOGRUPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PRESCRICAOTITULO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ORDEM"	 INTEGER,
  "RESUMO"	 VARCHAR(20),
  "EXIBICAO"	 INTEGER,
  "COLUNA"	 SMALLINT,
CONSTRAINT "PK_PRESCRICAOGRUPO" PRIMARY KEY ("INDICE")
);

/* Table: PRESCRICAOGRUPOCAMPO, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOGRUPOCAMPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PRESCRICAOGRUPO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "TIPO"	 VARCHAR(30),
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ORDEM"	 INTEGER,
  "MINIMO"	 VARCHAR(200),
  "MAXIMO"	 VARCHAR(200),
  "PADRAO"	 VARCHAR(200),
  "LISTAGEM"	 VARCHAR(5000),
  "VALOR"	 VARCHAR(200),
  "REQUERIDO"	 CHAR(1),
CONSTRAINT "PK_PRESCRICAOGRUPOCAMPO" PRIMARY KEY ("INDICE")
);

/* Table: PRESCRICAOIMPRESSO, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOIMPRESSO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PRESCRICAOTITULO"	 INTEGER,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "TIPO"	 VARCHAR(30) NOT NULL,
  "ARQUIVO"	 VARCHAR(500),
CONSTRAINT "PK_PRESCRICAOIMPRESSO" PRIMARY KEY ("INDICE")
);

/* Table: PRESCRICAOITEM, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOITEM" 
(
  "ORDEM"	 INTEGER,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "TIPO"	 VARCHAR(30) NOT NULL,
  "CAMPO"	 VARCHAR(30) NOT NULL,
  "KIT"	 INTEGER,
  "CHECAGEM"	 VARCHAR(1000),
CONSTRAINT "PK_PRESCRICAO" PRIMARY KEY ("DESCRICAO", "TIPO", "CAMPO")
);

/* Table: PRESCRICAOMODELO, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOMODELO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PRESCRICAO"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "TITULO"	 VARCHAR(40) NOT NULL,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "GRUPO"	 VARCHAR(70),
  "CONSELHO"	 VARCHAR(30),
 PRIMARY KEY ("INDICE")
);

/* Table: PRESCRICAOTITULO, Owner: SYSDBA */

CREATE TABLE "PRESCRICAOTITULO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_PRESCRICAOTITULO" PRIMARY KEY ("INDICE")
);

/* Table: PRESCSAE, Owner: SYSDBA */

CREATE TABLE "PRESCSAE" 
(
  "IDPRESCSAE"	 INTEGER NOT NULL,
  "CPS"	 INTEGER NOT NULL,
  "ENFERMEIRO"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "LESAO"	 INTEGER,
  "QUEDA"	 INTEGER,
  "FLEBITE"	 INTEGER,
  "BRONCO"	 INTEGER,
  "ALERGIAS"	 INTEGER,
  "OUTROS"	 VARCHAR(100),
  "OXI"	 INTEGER,
  "NUTRI"	 INTEGER,
  "ATIVIDADE"	 INTEGER,
  "DOR"	 INTEGER,
  "PELE"	 INTEGER,
  "HIDRATACAO"	 INTEGER,
  "ELIMINACAO"	 INTEGER,
  "AUTOCUIDADO"	 INTEGER,
  "PERCEPCAO"	 INTEGER,
  "SEGURANCA"	 INTEGER,
  "D1"	 DATE,
  "D2"	 DATE,
  "D3"	 DATE,
  "D4"	 DATE,
  "D5"	 DATE,
  "D6"	 DATE,
  "D7"	 DATE,
  "DIAGNOSTICO"	 VARCHAR(250),
  "TIPO"	 VARCHAR(50),
  "TURNO"	 VARCHAR(100),
CONSTRAINT "PK_PRESCSAE" PRIMARY KEY ("IDPRESCSAE")
);

/* Table: PRESCSAE_CUIDADOS, Owner: SYSDBA */

CREATE TABLE "PRESCSAE_CUIDADOS" 
(
  "IDPRESCSAE_CUIDADOS"	 INTEGER NOT NULL,
  "IDPRESCSAE"	 INTEGER NOT NULL,
  "CUIDADOS"	 VARCHAR(500),
  "APRAZ"	 VARCHAR(250),
  "ENFERMEIRO"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "APRAZ2"	 VARCHAR(250),
  "APRAZ3"	 VARCHAR(250),
  "APRAZ4"	 VARCHAR(250),
  "APRAZ5"	 VARCHAR(250),
  "TIPO"	 VARCHAR(50),
  "SD"	 VARCHAR(250),
  "SN"	 VARCHAR(250),
  "OBS"	 VARCHAR(250),
  "OK"	 CHAR(1),
  "GRUPO"	 VARCHAR(150),
CONSTRAINT "PK_PRESCSAE_CUIDADOS" PRIMARY KEY ("IDPRESCSAE_CUIDADOS")
);

/* Table: PRESCSAE_MODELO, Owner: SYSDBA */

CREATE TABLE "PRESCSAE_MODELO" 
(
  "IDPRESCSAE_MODELO"	 INTEGER NOT NULL,
  "CUIDADOS"	 VARCHAR(500),
  "TIPO"	 VARCHAR(10),
  "APRAZ"	 VARCHAR(250),
  "SD"	 VARCHAR(250),
  "SN"	 VARCHAR(250),
  "OBS"	 VARCHAR(250),
  "GRUPO"	 VARCHAR(150),
CONSTRAINT "PK_PRESCSAE_MODELO" PRIMARY KEY ("IDPRESCSAE_MODELO")
);

/* Table: PREVISAO_ALTA, Owner: SYSDBA */

CREATE TABLE "PREVISAO_ALTA" 
(
  "IDPREVISAO"	 INTEGER NOT NULL,
  "DATA"	 DATE,
  "MEDICO"	 INTEGER,
  "QTD_DIAS"	 INTEGER,
  "PREVISAO"	 DATE,
  "JUSTIFICATIVA"	 VARCHAR(250),
  "CPS"	 INTEGER,
CONSTRAINT "PK_PREVISAO_ALTA" PRIMARY KEY ("IDPREVISAO")
);

/* Table: PRINCIPIO, Owner: SYSDBA */

CREATE TABLE "PRINCIPIO" 
(
  "A_PRINCIPIO"	 PK_PRINCIPIO  NOT NULL,
  "A_NOME"	 VARCHAR(60),
  "A_GRUPOTEURA"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("A_PRINCIPIO")
);

/* Table: PROCEDIMENTO, Owner: SYSDBA */

CREATE TABLE "PROCEDIMENTO" 
(
  "ID"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(4) NOT NULL,
  "NOME"	 VARCHAR(250),
  "COD_GRUPO"	 VARCHAR(2),
  "COD_SUBGRUPO"	 VARCHAR(2),
  "COD_FORMA_ORG"	 VARCHAR(2),
  "COD_ORIGEM"	 VARCHAR(255),
  "COD_PESQ_1"	 VARCHAR(8),
  "COD_PESQ_2"	 VARCHAR(8),
  "MOD_ATENDIMENTO"	 VARCHAR(3),
  "COMPLEXIDADE"	 VARCHAR(50),
  "EXIGE_AUTORIZACAO"	 CHAR(1) NOT NULL,
  "DIAS_PERMANENCIA"	 INTEGER,
  "ADM_TRAT_CONTINUADO"	 CHAR(1) NOT NULL,
  "PTOS_ATO"	 VARCHAR(5),
  "QTDE_MAXIMA"	 INTEGER,
  "ADM_ANESTESIA"	 CHAR(1) NOT NULL,
  "VLR_SA"	 DOUBLE PRECISION,
  "VLR_SH"	 DOUBLE PRECISION,
  "VLR_SP"	 DOUBLE PRECISION,
  "VLR_SADT"	 DOUBLE PRECISION,
  "VLR_TOTH"	 DOUBLE PRECISION,
  "VLR_TOTA"	 DOUBLE PRECISION,
  "NUM_PORT_INI"	 VARCHAR(50),
  "DT_VIG_INI"	 DATE,
  "NUM_PORT_FIM"	 VARCHAR(50),
  "DT_VIG_FIM"	 DATE,
  "IDADE_MIN"	 INTEGER,
  "IDADE_MAX"	 INTEGER,
  "TP_FINANCIAMENTO"	 VARCHAR(50),
  "ESPECIAL"	 CHAR(1) NOT NULL,
  "USUARIO_INC"	 VARCHAR(20) NOT NULL,
  "DATAHORA_INC"	 TIMESTAMP NOT NULL,
  "USUARIO_ALT"	 VARCHAR(20) NOT NULL,
  "DATAHORA_ALT"	 TIMESTAMP NOT NULL,
  "SEXO"	 VARCHAR(15) CHARACTER SET WIN1252,
  "PERMANENCIA"	 CHAR(1),
  "DESCRICAO"	 VARCHAR(1000) CHARACTER SET WIN1252 COLLATE PXW_INTL850,
  "CNRAC"	 CHAR(1) CHARACTER SET WIN1252 NOT NULL,
  "CODPROC"	 VARCHAR(10) CHARACTER SET WIN1252,
  "URGENCIA"	 CHAR(1) CHARACTER SET WIN1252,
  "VALIDA_IDADE"	 CHAR(1),
  "SEQUENCIA"	 INTEGER NOT NULL,
CONSTRAINT "PK_PROCEDIMENTO" PRIMARY KEY ("ID"),
CONSTRAINT "UNQ_PROCEDIMENTO" UNIQUE ("CODIGO")
);

/* Table: PROCEDIMENTO_CBOSUS, Owner: SYSDBA */

CREATE TABLE "PROCEDIMENTO_CBOSUS" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "COD_PROCEDIMENTO"	 VARCHAR(4) NOT NULL,
  "COD_CBO"	 VARCHAR(6) NOT NULL,
  "USUARIO_INC"	 VARCHAR(20) NOT NULL,
  "PROCEDIMENTO"	 VARCHAR(10),
  "COMPETENCIA"	 VARCHAR(6),
CONSTRAINT "PK_PROCEDIMENTO_CBOSUS" PRIMARY KEY ("SEQUENCIA")
);

/* Table: PROCEDIMENTO_REGISTRO, Owner: SYSDBA */

CREATE TABLE "PROCEDIMENTO_REGISTRO" 
(
  "COD_PROCEDIMENTO"	 CHAR(4) NOT NULL,
  "CODIGO"	 CHAR(2) NOT NULL,
  "COD_HAVING"	 INTEGER,
CONSTRAINT "PK_PROCEDIMENTO_REGISTRO" PRIMARY KEY ("COD_PROCEDIMENTO", "CODIGO")
);

/* Table: PROCEDIMENTO_REGSUS, Owner: SYSDBA */

CREATE TABLE "PROCEDIMENTO_REGSUS" 
(
  "CODIGO"	 CHAR(2) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6) NOT NULL,
  "PROCEDIMENTO"	 VARCHAR(10) NOT NULL,
CONSTRAINT "PK_PROCEDIMENTO_REGSUS" PRIMARY KEY ("CODIGO", "COMPETENCIA", "PROCEDIMENTO")
);

/* Table: PROCEDIMENTO_SERVICOSUS, Owner: SYSDBA */

CREATE TABLE "PROCEDIMENTO_SERVICOSUS" 
(
  "PROCEDIMENTO"	 VARCHAR(10) NOT NULL,
  "CODSERVICO"	 VARCHAR(3) NOT NULL,
  "CODCLASS"	 VARCHAR(3) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6) NOT NULL
);

/* Table: PRODNPADRAO, Owner: SYSDBA */

CREATE TABLE "PRODNPADRAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PRESCRICAO"	 INTEGER,
  "NOMEGEN"	 VARCHAR(40),
  "NOMECOM"	 VARCHAR(40),
  "FFARM"	 VARCHAR(40),
  "DOSAGEM"	 VARCHAR(40),
  "ACAO"	 VARCHAR(40),
  "INDICACAO"	 VARCHAR(40),
  "POSOLOGIA"	 VARCHAR(40),
  "DURACAOTRAT"	 VARCHAR(40),
  "JUSTIFICATICA"	 VARCHAR(400),
  "PARECER"	 VARCHAR(100),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
CONSTRAINT "PK_PRODNPADRAO" PRIMARY KEY ("INDICE")
);

/* Table: PRODUS, Owner: SYSDBA */

CREATE TABLE "PRODUS" 
(
  "INDICE"	 FLOAT NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "CONVENIO"	 PK_CONVENIO ,
  "AMB1"	 DOUBLE PRECISION,
  "AMB2"	 DOUBLE PRECISION,
  "EME1"	 DOUBLE PRECISION,
  "EME2"	 DOUBLE PRECISION,
  "INT1"	 DOUBLE PRECISION,
  "INT2"	 DOUBLE PRECISION,
  "EXA1"	 DOUBLE PRECISION,
  "EXA2"	 DOUBLE PRECISION,
  "TOTAL"	 DOUBLE PRECISION,
  "CAMB1"	 DOUBLE PRECISION,
  "CAMB2"	 DOUBLE PRECISION,
  "CEME1"	 DOUBLE PRECISION,
  "CEME2"	 DOUBLE PRECISION,
  "CINT1"	 DOUBLE PRECISION,
  "CINT2"	 DOUBLE PRECISION,
  "CEXA1"	 DOUBLE PRECISION,
  "CEXA2"	 DOUBLE PRECISION,
  "CTOTAL"	 DOUBLE PRECISION,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: PRODUTOS, Owner: SYSDBA */

CREATE TABLE "PRODUTOS" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "A_NOME"	 VARCHAR(40),
  "CODPUBLICO"	 CHAR(9) NOT NULL,
  "TIPO"	 SMALLINT,
  "MARCA"	 CHAR(20),
  "COD_EMBALAGEM"	 SMALLINT,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FOTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HOMEPAGE"	 CHAR(100),
  "ANTERIOR"	 INTEGER,
  "ENTRADA"	 DOUBLE PRECISION,
  "SAIDA"	 DOUBLE PRECISION,
  "PESO"	 FLOAT,
  "ULTCOMPRA"	 FLOAT,
  "DATAULTCOMPRA"	 TIMESTAMP,
  "RESUPRIMENTO"	 INTEGER,
  "SALDOATUAL"	 FLOAT,
  "PRECOULTCOMPRA"	 FLOAT,
  "QUANTULTCOMPRA"	 INTEGER,
  "ESTANTE"	 SMALLINT,
  "AREA"	 SMALLINT,
  "ALA"	 CHAR(1),
  "PRATELEIRA"	 CHAR(2),
  "CODIGOMM"	 INTEGER,
  "FABRICANTE"	 VARCHAR(30),
  "CONTROLADO"	 PK_SIMNAO ,
  "GRUPO"	 INTEGER,
  "SUBGRUPO"	 INTEGER,
  "DEVOLUCAO"	 DOUBLE PRECISION,
  "SALDOANTERIOR"	 INTEGER,
  "ATIVO"	 PK_SIMNAO ,
  "PSALDOANT"	 FLOAT,
  "RESUP_UTI"	 DOUBLE PRECISION,
  "PADRAO"	 PK_SIMNAO ,
  "VADM"	 CHAR(1),
  "SALDOANTERIOR1"	 INTEGER,
  "ENTRADA1"	 DOUBLE PRECISION,
  "DEVOLUCAO1"	 DOUBLE PRECISION,
  "SAIDA1"	 DOUBLE PRECISION,
  "SALDOANTERIOR2"	 INTEGER,
  "ENTRADA2"	 DOUBLE PRECISION,
  "DEVOLUCAO2"	 DOUBLE PRECISION,
  "SAIDA2"	 DOUBLE PRECISION,
  "SUB_CODI"	 INTEGER,
  "CMU"	 DOUBLE PRECISION,
  "SALDOANTERIOR3"	 INTEGER,
  "ENTRADA3"	 DOUBLE PRECISION,
  "DEVOLUCAO3"	 DOUBLE PRECISION,
  "SAIDA3"	 DOUBLE PRECISION,
  "CALCULADO"	 CHAR(1),
  "CALCULADO1"	 CHAR(1),
  "CALCULADO2"	 CHAR(1),
  "CALCULADO3"	 CHAR(1),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "CONTAS"	 VARCHAR(8),
  "MARCAPED"	 CHAR(1),
  "QTMAX"	 INTEGER,
  "EMERGENCIA"	 CHAR(1),
  "CONVERSORUNIDADE"	 DOUBLE PRECISION,
  "TEMPOREPOSICAO"	 INTEGER,
  "QTDELIBERADA"	 DOUBLE PRECISION,
  "ABC"	 DOUBLE PRECISION,
  "SALDO"	 DOUBLE PRECISION,
  "SALDO1"	 DOUBLE PRECISION,
  "SALDO2"	 DOUBLE PRECISION,
  "SALDO3"	 DOUBLE PRECISION,
  "CONSIGNADO"	 CHAR(1),
  "FRACIONADO"	 CHAR(1)
);

/* Table: PRODUTOSTEMP, Owner: SYSDBA */

CREATE TABLE "PRODUTOSTEMP" 
(
  "CODIGOMM"	 INTEGER NOT NULL,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("CODIGOMM")
);

/* Table: PROFILATICOS, Owner: SYSDBA */

CREATE TABLE "PROFILATICOS" 
(
  "ID_PROFILATICOS"	 INTEGER NOT NULL,
  "PROFILATICO"	 VARCHAR(250),
  "CODIGOCPS"	 INTEGER,
  "EVOLUCAO"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "TERMINO"	 TIMESTAMP,
CONSTRAINT "PK_PROFILATICOS" PRIMARY KEY ("ID_PROFILATICOS")
);

/* Table: PROFISSAO, Owner: SYSDBA */

CREATE TABLE "PROFISSAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: PROGGOVERNO, Owner: SYSDBA */

CREATE TABLE "PROGGOVERNO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(30) NOT NULL,
  "PROGRAMA"	 VARCHAR(15),
 PRIMARY KEY ("CODIGO")
);

/* Table: PROGRAMAC, Owner: SYSDBA */

CREATE TABLE "PROGRAMAC" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 CHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMAS, Owner: SYSDBA */

CREATE TABLE "PROGRAMAS" 
(
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "PROGRAMA"	 PK_PROGRAMA ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASA, Owner: SYSDBA */

CREATE TABLE "PROGRAMASA" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASAUDE, Owner: SYSDBA */

CREATE TABLE "PROGRAMASAUDE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CODIGOPAC"	 FLOAT,
  "CPS"	 INTEGER,
  "TIPO"	 INTEGER,
  "DESCRICAO"	 VARCHAR(60),
CONSTRAINT "PK_PROGRAMASAUDE" PRIMARY KEY ("INDICE")
);

/* Table: PROGRAMASCONTABIL, Owner: SYSDBA */

CREATE TABLE "PROGRAMASCONTABIL" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASF, Owner: SYSDBA */

CREATE TABLE "PROGRAMASF" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT
);

/* Table: PROGRAMASFF, Owner: SYSDBA */

CREATE TABLE "PROGRAMASFF" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT
);

/* Table: PROGRAMASI, Owner: SYSDBA */

CREATE TABLE "PROGRAMASI" 
(
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "PROGRAMA"	 PK_PROGRAMA ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASL, Owner: SYSDBA */

CREATE TABLE "PROGRAMASL" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "RELATORIO"	 VARCHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASLAB, Owner: SYSDBA */

CREATE TABLE "PROGRAMASLAB" 
(
  "PROGRAMA"	 VARCHAR(50) NOT NULL,
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "RELATORIO"	 VARCHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASO, Owner: SYSDBA */

CREATE TABLE "PROGRAMASO" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASP, Owner: SYSDBA */

CREATE TABLE "PROGRAMASP" 
(
  "PROGRAMA"	 PK_PROGRAMA ,
  "RELATORIO"	 CHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROGRAMASX, Owner: SYSDBA */

CREATE TABLE "PROGRAMASX" 
(
  "RELATORIO"	 VARCHAR(1),
  "MENUHORIZONTAL"	 SMALLINT,
  "MENUVERTICAL"	 SMALLINT,
  "SUBMENU"	 SMALLINT,
  "PROGRAMA"	 PK_PROGRAMA ,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ESTATISTICA"	 FLOAT,
 PRIMARY KEY ("PROGRAMA")
);

/* Table: PROJETOCIR, Owner: SYSDBA */

CREATE TABLE "PROJETOCIR" 
(
  "IDPROJETOCIR"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "MEDICORESP"	 INTEGER,
  "TIPOCIR"	 VARCHAR(250),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "STATUS"	 VARCHAR(250),
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "USER1"	 INTEGER,
CONSTRAINT "PK_PROJETOCIR" PRIMARY KEY ("IDPROJETOCIR")
);

/* Table: PROJETOCIRFASE, Owner: SYSDBA */

CREATE TABLE "PROJETOCIRFASE" 
(
  "IDPROJETOCIRFASE"	 INTEGER NOT NULL,
  "IDAPROJETOCIR"	 INTEGER,
  "FASE"	 VARCHAR(250),
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "DATAPROXIMOCONTATO"	 TIMESTAMP,
  "PRAZO"	 INTEGER,
  "STATUSFASE"	 VARCHAR(250),
  "PREVISAO"	 TIMESTAMP,
  "USER1"	 INTEGER,
CONSTRAINT "PK_PROJETOCIRFASE" PRIMARY KEY ("IDPROJETOCIRFASE")
);

/* Table: PROJETOFASEITENS, Owner: SYSDBA */

CREATE TABLE "PROJETOFASEITENS" 
(
  "IDPROJETOFASEITENS"	 INTEGER NOT NULL,
  "CODIGOSERV"	 INTEGER,
  "CODIGOPROC"	 VARCHAR(10),
  "MEDRESP"	 INTEGER,
  "MEDPARCEIRO"	 INTEGER,
  "CODESP"	 INTEGER,
  "STATUSITEM"	 VARCHAR(250),
  "EXTERNO"	 VARCHAR(250),
  "GRUPO"	 VARCHAR(250),
  "OBRIGATORIO"	 VARCHAR(1),
  "EXECUTADO"	 VARCHAR(1),
  "IDPROJETOCIR"	 INTEGER,
  "MEDICORESP"	 VARCHAR(250),
  "MEIDCOPARCEIRO"	 VARCHAR(250),
  "PROCEDIMENTO"	 VARCHAR(250),
  "ESPECIALIDADE"	 VARCHAR(250),
CONSTRAINT "PK_PROJETOFASEITENS" PRIMARY KEY ("IDPROJETOFASEITENS")
);

/* Table: PRORROGACAO, Owner: SYSDBA */

CREATE TABLE "PRORROGACAO" 
(
  "NUMERO"	 FLOAT NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "A_MEDICOS"	 PK_MEDICOS ,
  "DATA"	 TIMESTAMP NOT NULL,
  "TIPO"	 CHAR(1),
  "DIARIAS"	 SMALLINT,
  "TIPOINT"	 CHAR(1),
  "HISTORICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESULTADOS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "PROCEDIMENTO"	 VARCHAR(300),
  "CID"	 VARCHAR(4),
  "CIDSEC"	 VARCHAR(4),
  "DIAG_INICIAL"	 VARCHAR(250),
  "CD_PROCEDIMENTO"	 VARCHAR(8),
  "GRUPOSUS"	 VARCHAR(2),
  "CODIGOPAC"	 FLOAT,
  "PROCEDIMENTO02"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CD_PROCEDIMENTO02"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "PROCEDIMENTO03"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "CD_PROCEDIMENTO03"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "PROCEDIMENTO04"	 VARCHAR(250) CHARACTER SET ISO8859_1,
  "CD_PROCEDIMENTO04"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "EVOLUCAO"	 INTEGER,
 PRIMARY KEY ("NUMERO")
);

/* Table: PROTESES, Owner: SYSDBA */

CREATE TABLE "PROTESES" 
(
  "ID_PROTESE"	 INTEGER NOT NULL,
  "INSERCAO"	 TIMESTAMP,
  "RETIRADA"	 TIMESTAMP,
  "EVOLUCAO"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "PROTESE"	 VARCHAR(50),
CONSTRAINT "PK_PROTESES" PRIMARY KEY ("ID_PROTESE")
);

/* Table: PROTOCOLO, Owner: SYSDBA */

CREATE TABLE "PROTOCOLO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "SETOR"	 INTEGER NOT NULL,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
 PRIMARY KEY ("INDICE")
);

/* Table: PROTOCOLOSAPI, Owner: SYSDBA */

CREATE TABLE "PROTOCOLOSAPI" 
(
  "IDPROTOCOLOSAPI"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(250),
  "OBS"	 VARCHAR(250),
  "ORDEM"	 VARCHAR(20),
  "GRUPO"	 VARCHAR(250),
CONSTRAINT "PK_PROTOCOLOSAPI" PRIMARY KEY ("IDPROTOCOLOSAPI")
);

/* Table: PROTODOCS, Owner: SYSDBA */

CREATE TABLE "PROTODOCS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "NOME"	 VARCHAR(40),
  "USUARIO2"	 INTEGER,
  "DATALANCAMENTO"	 TIMESTAMP,
  "NOME2"	 VARCHAR(40),
  "DESCRICAO"	 VARCHAR(250),
  "USUARIORESP"	 INTEGER,
  "USUARIORESPNOME"	 VARCHAR(40),
  "CONVENIO"	 INTEGER,
  "CHECADO"	 CHAR(1),
  "TIPO"	 VARCHAR(100),
CONSTRAINT "PK_PROTODOCS" PRIMARY KEY ("INDICE")
);

/* Table: PROTOZOARIOS, Owner: SYSDBA */

CREATE TABLE "PROTOZOARIOS" 
(
  "CODIGO"	 VARCHAR(4) NOT NULL,
  "NOME"	 VARCHAR(40) NOT NULL,
 PRIMARY KEY ("CODIGO")
);

/* Table: QUESTCHECK, Owner: SYSDBA */

CREATE TABLE "QUESTCHECK" 
(
  "IDQUESTCHECK"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "NOMEPAC"	 VARCHAR(50),
  "NASC"	 TIMESTAMP,
  "SEXO"	 VARCHAR(10),
  "LABORATORIO"	 VARCHAR(50),
  "USG_ABDTOTAL"	 VARCHAR(50),
  "USG_TIREOIDE_DOPPLER"	 VARCHAR(50),
  "USG_TRANSVAGINAL"	 VARCHAR(50),
  "ALTURA"	 FLOAT,
  "PESO"	 FLOAT,
  "USG_PROSTATA"	 VARCHAR(50),
  "ECG"	 VARCHAR(50),
  "NUTRICIONISTA"	 VARCHAR(50),
  "DOPLLER_CAROTIDA"	 VARCHAR(50),
  "ANGIO_CANSACO"	 VARCHAR(50),
  "ANGIO_VARIZES"	 VARCHAR(50),
  "ANGIO_DOPPLER_12MESES"	 VARCHAR(50),
  "DERMA_CANCER_FAMILIA"	 VARCHAR(50),
  "DERMA_ALTERACOES_PELE"	 VARCHAR(50),
  "DERMA_EXPOSICAO_SOL"	 VARCHAR(50),
  "DERMA_MAIOR_60ANOS"	 VARCHAR(50),
  "DERMA_ESTETICO"	 VARCHAR(50),
  "DERMA_AVALIACAO_CANCER"	 VARCHAR(50),
  "ECO"	 VARCHAR(50),
  "CARDIOLOGISTA"	 VARCHAR(50),
  "AUDIO_RUIDOS_TRABALHO"	 VARCHAR(50),
  "AUDIO_SURDEZ_FAMILIA"	 VARCHAR(50),
  "AUDIO_INFEC_RESP"	 VARCHAR(50),
  "AUDIO_12_MESES"	 VARCHAR(50),
  "RESPONSAVEL"	 INTEGER,
  "CELULAR"	 VARCHAR(25),
  "STATUS"	 VARCHAR(50),
CONSTRAINT "PK_QUESTCHECK" PRIMARY KEY ("IDQUESTCHECK")
);

/* Table: QUESTCHECKMARCAR, Owner: SYSDBA */

CREATE TABLE "QUESTCHECKMARCAR" 
(
  "IDQUESTCHECKMARCAR"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "ESPECIALIDADE"	 VARCHAR(100),
  "RESPONSAVEL"	 INTEGER,
  "STATUS"	 VARCHAR(150),
  "CODIGOPAC"	 INTEGER,
  "IDQUESTCHECK"	 INTEGER,
  "NOMEPAC"	 VARCHAR(50),
CONSTRAINT "PK_QUESTCHECKMARCAR" PRIMARY KEY ("IDQUESTCHECKMARCAR")
);

/* Table: QUESTIONARIO, Owner: SYSDBA */

CREATE TABLE "QUESTIONARIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ENQUETE"	 INTEGER NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
  "RESPOSTA"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "USER1"	 INTEGER NOT NULL,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATASINC"	 TIMESTAMP,
  "NOME"	 VARCHAR(50),
  "EMAIL"	 VARCHAR(60),
  "COMPLEMENTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "QUESTAO"	 INTEGER,
  "PREENCHIMENTO"	 TIMESTAMP,
  "TELEFONE"	 VARCHAR(10),
  "LEITO"	 INTEGER,
  "MEDICO"	 INTEGER,
  "INTERNACAO"	 TIMESTAMP,
CONSTRAINT "PK_QUESTIONARIO" PRIMARY KEY ("INDICE")
);

/* Table: RECEBIMENTO, Owner: SYSDBA */

CREATE TABLE "RECEBIMENTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "USER_COD"	 INTEGER,
  "USER2_COD"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: RECEBIMENTO_USER, Owner: SYSDBA */

CREATE TABLE "RECEBIMENTO_USER" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50) NOT NULL,
  "SENHA"	 VARCHAR(8),
  "LOGREC"	 VARCHAR(250),
CONSTRAINT "PK_RECEBIMENTO_USER" PRIMARY KEY ("CODIGO")
);

/* Table: RECEITA, Owner: SYSDBA */

CREATE TABLE "RECEITA" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "TITULO"	 VARCHAR(50) NOT NULL,
  "DESCRICAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "A_MEDICOS"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TIPO"	 VARCHAR(20),
  "PAPEL"	 CHAR(2),
  "CABECALHO"	 CHAR(1),
  "PARAMETRO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ESPECIALIDADE"	 VARCHAR(30),
CONSTRAINT "PK_RECEITA" PRIMARY KEY ("CODIGO")
);

/* Table: RECIBO, Owner: SYSDBA */

CREATE TABLE "RECIBO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "CODIGOPAC"	 INTEGER,
  "CHEQUENUM"	 INTEGER,
  "BANCO"	 VARCHAR(60),
  "REFERENTE"	 VARCHAR(300),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "DATASINC1"	 TIMESTAMP,
  "DATASINC2"	 TIMESTAMP,
  "FORMAP"	 VARCHAR(30),
  "A_NOME"	 VARCHAR(50),
  "CPS"	 DOUBLE PRECISION,
  "EXCLUIDO"	 CHAR(1),
  "MOTIVOEXC"	 VARCHAR(600),
  "EXCLUSAO"	 TIMESTAMP,
  "TITULAR"	 VARCHAR(50),
  "QUANTIDADE"	 INTEGER,
CONSTRAINT "PK_RECIBO" PRIMARY KEY ("INDICE")
);

/* Table: REGISTRO, Owner: SYSDBA */

CREATE TABLE "REGISTRO" 
(
  "CODIGO"	 CHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(30) CHARACTER SET WIN1252 NOT NULL,
  "STATUS"	 CHAR(1) NOT NULL,
  "COD_HAVING"	 INTEGER NOT NULL,
CONSTRAINT "PK_REGISTRO" PRIMARY KEY ("CODIGO")
);

/* Table: REGRA_UNIDADE_NEGOCIO, Owner: SYSDBA */

CREATE TABLE "REGRA_UNIDADE_NEGOCIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "COD_UNIDADE"	 INTEGER,
  "PROCEDIMENTO"	 VARCHAR(10),
  "TIPO_ATENDIMENTO"	 SMALLINT,
  "CONVENIO"	 INTEGER,
CONSTRAINT "PK_REGRA_UNIDADE_NEGOCIO" PRIMARY KEY ("INDICE")
);

/* Table: RELALTA, Owner: SYSDBA */

CREATE TABLE "RELALTA" 
(
  "N_PRONTUARI"	 PK_CODIGO ,
  "DTA_ALTA"	 TIMESTAMP,
  "MEDICO"	 INTEGER NOT NULL,
  "HIST"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIAG"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "EVOL"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MEDIC"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PLANO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CONDI"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DTA_CONSUL"	 TIMESTAMP,
  "COMDR"	 VARCHAR(40),
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_RELALTA" PRIMARY KEY ("N_PRONTUARI")
);

/* Table: RELATORIOS, Owner: SYSDBA */

CREATE TABLE "RELATORIOS" 
(
  "RELATORIO"	 CHAR(50) NOT NULL,
  "FOTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "GRUPO"	 SMALLINT,
  "SCRIPT"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "COLUNAS"	 SMALLINT,
  "ORIENTACAO"	 CHAR(1),
  "INDICE"	 INTEGER NOT NULL,
  "SGBD"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ZEBRA"	 CHAR(1),
  "ORDEM"	 CHAR(1),
  "LINHA"	 CHAR(1),
  "TIPO"	 INTEGER,
  "LEGENDA"	 INTEGER,
  "ALTURA"	 INTEGER,
  "LARGURA"	 INTEGER,
  "TOPO"	 INTEGER,
  "ESQUERDA"	 INTEGER,
  "GRAFICO"	 CHAR(1),
  "ALINHAMENTO"	 INTEGER,
  "FORMULARIO"	 VARCHAR(50),
  "FONTEDETALHE"	 VARCHAR(20),
  "FONTEDETALHETAM"	 INTEGER,
  "ATIVO"	 CHAR(1),
  "TOPFORM"	 SMALLINT,
  "LEFTFORM"	 SMALLINT,
  "CAPTIONFORM"	 VARCHAR(250),
  "COMPONENTEFORM"	 VARCHAR(250),
 PRIMARY KEY ("INDICE")
);

/* Table: RELATORIOS1, Owner: SYSDBA */

CREATE TABLE "RELATORIOS1" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "INDICE"	 INTEGER NOT NULL,
  "CAMPO"	 VARCHAR(20),
  "TITULO"	 VARCHAR(20),
  "TAMANHO"	 SMALLINT,
  "ALINHAMENTO"	 PK_ALINHAMENTO ,
  "MASCARA"	 VARCHAR(20),
  "ORDEM"	 SMALLINT,
  "TOTALIZA"	 PK_SIMNAO ,
  "DATA2"	 TIMESTAMP,
  "GRUPO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "GRAFICO"	 INTEGER,
  "TIPO"	 INTEGER,
  "TOTALGRUPO"	 CHAR(1),
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: RELGLOSA, Owner: SYSDBA */

CREATE TABLE "RELGLOSA" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER NOT NULL,
  "MESANO"	 CHAR(7) NOT NULL,
  "FATURADO"	 DOUBLE PRECISION,
  "APRESENTACAO"	 TIMESTAMP,
  "GLOSA"	 DOUBLE PRECISION,
  "DATAGLOSA"	 TIMESTAMP,
  "MOTIVO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_RELGLOSA" PRIMARY KEY ("CODIGO")
);

/* Table: REL_MED_ENDO, Owner: SYSDBA */

CREATE TABLE "REL_MED_ENDO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "OBSIDADE"	 CHAR(1),
  "INFARTOMIOCARDIO"	 CHAR(1),
  "DIABETES"	 CHAR(1),
  "ACIDENTEVASCULAR"	 CHAR(1),
  "HIPERTENSAO"	 CHAR(1),
  "PSIQUIATRICA"	 CHAR(1),
  "PESO"	 FLOAT,
  "ALTURA"	 FLOAT,
  "IMC"	 FLOAT,
  "CIRC_ABDOM"	 FLOAT,
  "PA"	 VARCHAR(15),
  "CID"	 VARCHAR(4),
  "EXAMES_LAB"	 VARCHAR(5000),
  "EXAMES_COMPL"	 VARCHAR(5000),
  "ACHA_ANORMAIL"	 VARCHAR(5000),
  "COND_TERAP"	 VARCHAR(5000),
  "CONT_PROGR"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "ENC_NUTRI"	 CHAR(1),
  "OBSERVACAO"	 VARCHAR(5000),
  "DATASINC"	 TIMESTAMP NOT NULL,
  "CODUSERINS"	 INTEGER,
  "DATAMOD"	 TIMESTAMP NOT NULL,
  "CODUSERMOD"	 INTEGER,
CONSTRAINT "PK_REL_MED_ENDO" PRIMARY KEY ("INDICE")
);

/* Table: REL_MED_NUTRI, Owner: SYSDBA */

CREATE TABLE "REL_MED_NUTRI" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "PESO"	 FLOAT,
  "ALTURA"	 FLOAT,
  "IMC"	 FLOAT,
  "CIRC_ABDOM"	 FLOAT,
  "PA"	 VARCHAR(15),
  "CID"	 VARCHAR(4),
  "EXAMES_LAB"	 VARCHAR(5000),
  "ANTEC_NUTRI"	 VARCHAR(5000),
  "COND_NUTRI"	 VARCHAR(5000),
  "CONT_PROGR"	 CHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(5000),
  "OBSERVACAO"	 VARCHAR(5000),
  "DATASINC"	 TIMESTAMP,
  "CODUSERINS"	 INTEGER,
  "DATAMOD"	 TIMESTAMP,
  "CODUSERMOD"	 INTEGER,
CONSTRAINT "PK_REL_MED_NUTRI" PRIMARY KEY ("INDICE")
);

/* Table: REL_REGULACAO, Owner: SYSDBA */

CREATE TABLE "REL_REGULACAO" 
(
  "NUMERO"	 INTEGER,
  "SETOR"	 VARCHAR(50),
  "CODIGOCPS"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "PESO"	 DOUBLE PRECISION,
  "DIALITICO"	 CHAR(1),
  "ISOLAMENTO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "MOTIVO"	 VARCHAR(250),
  "HISTORIA"	 VARCHAR(5000),
  "PROBLEMA_1"	 VARCHAR(50),
  "CID_1"	 VARCHAR(8),
  "SUSPEITA_1"	 VARCHAR(50),
  "DATA_1"	 DATE,
  "PROBLEMA_2"	 VARCHAR(50),
  "CID_2"	 VARCHAR(8),
  "SUSPEITA_2"	 VARCHAR(50),
  "DATA_2"	 DATE,
  "PROBLEMA_3"	 VARCHAR(50),
  "CID_3"	 VARCHAR(8),
  "SUSPEITA_3"	 VARCHAR(50),
  "DATA_3"	 DATE,
  "PROBLEMA_4"	 VARCHAR(50),
  "CID_4"	 VARCHAR(8),
  "SUSPEITA_4"	 VARCHAR(50),
  "DATA_4"	 DATE,
  "EVOLUCAO"	 VARCHAR(5000),
  "FC"	 VARCHAR(50),
  "FR"	 VARCHAR(50),
  "PAS"	 VARCHAR(50),
  "PAD"	 VARCHAR(50),
  "TEMP"	 VARCHAR(50),
  "SPO2"	 VARCHAR(50),
  "GLASGOW"	 VARCHAR(50),
  "SUPORTE_VENTILATORIO"	 VARCHAR(50),
  "VASOATIVAS"	 VARCHAR(30),
  "SEDATIVAS"	 VARCHAR(30),
  "ANTIBIOTICOS"	 VARCHAR(30),
  "OUTROS"	 VARCHAR(30),
  "DATA_EXAME"	 DATE,
  "HB"	 VARCHAR(50),
  "HT"	 VARCHAR(50),
  "LEUCO"	 VARCHAR(50),
  "SEG"	 VARCHAR(50),
  "LINF"	 VARCHAR(50),
  "NEUT"	 VARCHAR(50),
  "PLAQ"	 VARCHAR(50),
  "UR"	 VARCHAR(50),
  "CR"	 VARCHAR(50),
  "GLICEMIA"	 VARCHAR(50),
  "TP"	 VARCHAR(30),
  "TPPA"	 VARCHAR(30),
  "RNI"	 VARCHAR(30),
  "TRANSPORTE"	 VARCHAR(100),
  "INFECCAO"	 VARCHAR(100),
  "A_DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "EXAMES_COMPLEMENTARES"	 VARCHAR(250),
  "ECG"	 VARCHAR(250),
  "USG"	 VARCHAR(250),
  "ECO"	 VARCHAR(250),
  "TC"	 VARCHAR(250),
  "RX"	 VARCHAR(250),
  "RNM"	 VARCHAR(250),
  "OUTROS_EXAMES"	 VARCHAR(250),
  "TRANSPORTE_SOLICITADO"	 VARCHAR(250),
  "INFECCAO_EXAME"	 VARCHAR(250),
  "BASTON"	 VARCHAR(50),
  "K"	 VARCHAR(50),
  "TROPONINA"	 VARCHAR(50),
  "CKMB"	 VARCHAR(50),
  "NA"	 VARCHAR(50),
  "EXAMEFISICO"	 VARCHAR(5000)
);

/* Table: REPRESENTA1, Owner: SYSDBA */

CREATE TABLE "REPRESENTA1" 
(
  "INDICE"	 FLOAT NOT NULL,
  "JUSTIFICATIVA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "INDICE1"	 FLOAT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "TRATAMENTO"	 INTEGER,
  "INDICE2"	 FLOAT,
  "GLOSATIPO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: RESIDUO_NAVAL, Owner: SYSDBA */

CREATE TABLE "RESIDUO_NAVAL" 
(
  "NM_PCET"	 VARCHAR(250),
  "CD_STAC"	 VARCHAR(100),
  "VL_SALD"	 DOUBLE PRECISION,
  "CD_POSTO"	 VARCHAR(50),
  "CD_NIPX"	 VARCHAR(20)
);

/* Table: RESPIRADOR, Owner: SYSDBA */

CREATE TABLE "RESPIRADOR" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(30) NOT NULL,
 PRIMARY KEY ("CODIGO")
);

/* Table: RESULTEXAMES, Owner: SYSDBA */

CREATE TABLE "RESULTEXAMES" 
(
  "INDICE"	 INTEGER NOT NULL,
  "RESULTADO"	 VARCHAR(6000),
  "DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CODIGOPAC"	 FLOAT,
  "TITULO"	 VARCHAR(500),
  "CPS"	 INTEGER,
CONSTRAINT "PK_RESULTEXAMES" PRIMARY KEY ("INDICE")
);

/* Table: RETORNO, Owner: SYSDBA */

CREATE TABLE "RETORNO" 
(
  "IDRETORNO"	 INTEGER NOT NULL,
  "CODIGOPAC"	 INTEGER,
  "DATA_ATD"	 DATE,
  "DATA_RETORNO"	 DATE,
  "USUARIO"	 INTEGER,
  "CPS"	 INTEGER,
  "USG"	 CHAR(1),
  "MAMO"	 CHAR(1),
  "OUTROS"	 VARCHAR(30),
  "USG_AXILIA"	 CHAR(1),
  "MEDICO"	 INTEGER,
  "ESPECIALIDADE"	 INTEGER,
  "STATUS"	 CHAR(1),
  "DATAAGENDAMENTO"	 TIMESTAMP,
  "RESPAGENDAMENTO"	 INTEGER,
  "TIPO_RETORNO"	 VARCHAR(100),
  "ESPEC"	 VARCHAR(250),
CONSTRAINT "PK_RETORNO" PRIMARY KEY ("IDRETORNO")
);

/* Table: RISCOS, Owner: SYSDBA */

CREATE TABLE "RISCOS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "GRUPO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(40),
  "ESTADO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: ROL_FPO, Owner: SYSDBA */

CREATE TABLE "ROL_FPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(10),
  "STATUS"	 CHAR(1),
  "GRUPO"	 VARCHAR(2),
  "DATA"	 TIMESTAMP,
  "DESCRICAO"	 VARCHAR(200),
CONSTRAINT "PK_ROL_FPO" PRIMARY KEY ("INDICE")
);

/* Table: ROUPARIADIA, Owner: SYSDBA */

CREATE TABLE "ROUPARIADIA" 
(
  "IDROUPARIADIA"	 FLOAT NOT NULL,
  "USUARIO"	 INTEGER,
  "DATA"	 TIMESTAMP,
CONSTRAINT "PK_ROUPARIADIA" PRIMARY KEY ("IDROUPARIADIA")
);

/* Table: ROUPARIA_ITENS, Owner: SYSDBA */

CREATE TABLE "ROUPARIA_ITENS" 
(
  "IDROUPARIA_ITENS"	 INTEGER NOT NULL,
  "ITEM"	 VARCHAR(50),
CONSTRAINT "PK_ROUPARIA_ITENS" PRIMARY KEY ("IDROUPARIA_ITENS")
);

/* Table: ROUPARIA_PESO, Owner: SYSDBA */

CREATE TABLE "ROUPARIA_PESO" 
(
  "IDROUPARIA_PESO"	 FLOAT NOT NULL,
  "DATA"	 TIMESTAMP,
  "SETOR"	 INTEGER,
  "PESO"	 FLOAT,
  "USUARIO"	 INTEGER,
  "IDROUPADIA"	 INTEGER,
CONSTRAINT "PK_ROUPARIA_PESO" PRIMARY KEY ("IDROUPARIA_PESO")
);

/* Table: ROUPARIA_SETOR, Owner: SYSDBA */

CREATE TABLE "ROUPARIA_SETOR" 
(
  "IDROUPARIA_SETOR"	 SMALLINT NOT NULL,
  "SETOR"	 VARCHAR(50),
CONSTRAINT "PK_ROUPARIA_SETOR" PRIMARY KEY ("IDROUPARIA_SETOR")
);

/* Table: RTFCONVERT, Owner: SYSDBA */

CREATE TABLE "RTFCONVERT" 
(
  "DE"	 VARCHAR(250),
  "PARA"	 VARCHAR(250),
  "ORDEM"	 INTEGER
);

/* Table: SALA, Owner: SYSDBA */

CREATE TABLE "SALA" 
(
  "SALA"	 PK_SALA ,
  "NOME"	 VARCHAR(30),
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "HORA11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "HORA21"	 TIMESTAMP,
  "HORA22"	 TIMESTAMP,
  "HORA31"	 TIMESTAMP,
  "HORA32"	 TIMESTAMP,
  "HORA41"	 TIMESTAMP,
  "HORA42"	 TIMESTAMP,
  "HORA51"	 TIMESTAMP,
  "HORA52"	 TIMESTAMP,
  "HORA61"	 TIMESTAMP,
  "HORA62"	 TIMESTAMP,
  "HORA71"	 TIMESTAMP,
  "HORA72"	 TIMESTAMP,
  "HORAFIM11"	 TIMESTAMP,
  "HORAFIM12"	 TIMESTAMP,
  "HORAFIM21"	 TIMESTAMP,
  "HORAFIM22"	 TIMESTAMP,
  "HORAFIM31"	 TIMESTAMP,
  "HORAFIM32"	 TIMESTAMP,
  "HORAFIM41"	 TIMESTAMP,
  "HORAFIM42"	 TIMESTAMP,
  "HORAFIM51"	 TIMESTAMP,
  "HORAFIM52"	 TIMESTAMP,
  "HORAFIM61"	 TIMESTAMP,
  "HORAFIM62"	 TIMESTAMP,
  "HORAFIM71"	 TIMESTAMP,
  "HORAFIM72"	 TIMESTAMP,
  "MEDICO11"	 PK_MEDICO ,
  "MEDICO12"	 PK_MEDICO ,
  "MEDICO21"	 PK_MEDICO ,
  "MEDICO22"	 PK_MEDICO ,
  "MEDICO31"	 PK_MEDICO ,
  "MEDICO32"	 PK_MEDICO ,
  "MEDICO41"	 PK_MEDICO ,
  "MEDICO42"	 PK_MEDICO ,
  "MEDICO51"	 PK_MEDICO ,
  "MEDICO52"	 PK_MEDICO ,
  "MEDICO61"	 PK_MEDICO ,
  "MEDICO62"	 PK_MEDICO ,
  "MEDICO71"	 PK_MEDICO ,
  "MEDICO72"	 PK_MEDICO ,
  "HORA13"	 TIMESTAMP,
  "HORA23"	 TIMESTAMP,
  "HORA33"	 TIMESTAMP,
  "HORA43"	 TIMESTAMP,
  "HORA53"	 TIMESTAMP,
  "HORA63"	 TIMESTAMP,
  "HORA73"	 TIMESTAMP,
  "HORAFIM13"	 TIMESTAMP,
  "HORAFIM23"	 TIMESTAMP,
  "HORAFIM33"	 TIMESTAMP,
  "HORAFIM43"	 TIMESTAMP,
  "HORAFIM53"	 TIMESTAMP,
  "HORAFIM63"	 TIMESTAMP,
  "HORAFIM73"	 TIMESTAMP,
  "MEDICO13"	 PK_MEDICO ,
  "MEDICO23"	 PK_MEDICO ,
  "MEDICO33"	 PK_MEDICO ,
  "MEDICO43"	 PK_MEDICO ,
  "MEDICO53"	 PK_MEDICO ,
  "MEDICO63"	 PK_MEDICO ,
  "MEDICO73"	 PK_MEDICO ,
  "TIPO"	 CHAR(1),
  "ESTADO"	 CHAR(1),
  "ANDAR"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ORDEM_MAPA_WEB"	 INTEGER,
  "SETOR"	 VARCHAR(30),
 PRIMARY KEY ("SALA")
);

/* Table: SANGUE, Owner: SYSDBA */

CREATE TABLE "SANGUE" 
(
  "CODIGO"	 PK_CODIGO ,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "A_MEDICOS"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "TRANSFUSAO"	 CHAR(1),
  "HEMACIAS"	 CHAR(1),
  "PLASMA"	 CHAR(1),
  "PLAQUETA"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_SANGUE" PRIMARY KEY ("CODIGO")
);

/* Table: SAP, Owner: SYSDBA */

CREATE TABLE "SAP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PRESCRICAOTITULO"	 INTEGER NOT NULL,
  "TITULO"	 VARCHAR(100),
  "CODIGOCPS"	 INTEGER NOT NULL,
  "TRATAMENTO"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "IMPRESSO"	 INTEGER,
  "CLASSIFICACAO"	 INTEGER,
CONSTRAINT "PK_SAP" PRIMARY KEY ("INDICE")
);

/* Table: SAPATENDIMENTO, Owner: SYSDBA */

CREATE TABLE "SAPATENDIMENTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER NOT NULL,
  "TRATAMENTO"	 INTEGER,
  "PRESCRICAOTITULO"	 INTEGER NOT NULL,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
CONSTRAINT "PK_SAPATENDIMENTO" PRIMARY KEY ("INDICE")
);

/* Table: SAPIBOTOES, Owner: SYSDBA */

CREATE TABLE "SAPIBOTOES" 
(
  "TITULO"	 VARCHAR(50) NOT NULL,
  "GRUPO"	 VARCHAR(30) NOT NULL,
  "COMANDO"	 VARCHAR(30) NOT NULL,
  "ORDEM"	 INTEGER NOT NULL,
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SQLCONSULTA"	 VARCHAR(1000),
CONSTRAINT "PK_SAPIBOTOES" PRIMARY KEY ("TITULO", "GRUPO")
);

/* Table: SAPIHINT, Owner: SYSDBA */

CREATE TABLE "SAPIHINT" 
(
  "DESCRICAO"	 VARCHAR(250) NOT NULL,
  "HINT"	 VARCHAR(250),
CONSTRAINT "PK_SAPIHINT" PRIMARY KEY ("DESCRICAO")
);

/* Table: SAPITEM, Owner: SYSDBA */

CREATE TABLE "SAPITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SAP"	 INTEGER NOT NULL,
  "PRESCRICAOGRUPOCAMPO"	 INTEGER NOT NULL,
  "VALOR"	 VARCHAR(500),
  "VALORBLOB"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_SAPITEM" PRIMARY KEY ("INDICE")
);

/* Table: SAPMODELO, Owner: SYSDBA */

CREATE TABLE "SAPMODELO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TITULO"	 VARCHAR(100) NOT NULL,
  "PRESCRICAOTITULO"	 INTEGER NOT NULL,
  "USUARIO"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP,
  "ATIVO"	 CHAR(1)
);

/* Table: SAPS3, Owner: SYSDBA */

CREATE TABLE "SAPS3" 
(
  "ID_SAPS3"	 INTEGER NOT NULL,
  "CODIGOCPS"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "LEITO"	 VARCHAR(100),
  "MEDICO"	 INTEGER,
  "IDADE"	 INTEGER,
  "QUIMIOTERAPIA"	 INTEGER,
  "ICCNYHA"	 INTEGER,
  "NEOPLASIA"	 INTEGER,
  "CIRROSE"	 INTEGER,
  "AIDS"	 INTEGER,
  "METASTASE"	 INTEGER,
  "PRE_HOSPITALIZACAO"	 INTEGER,
  "PROCEDENCIA"	 INTEGER,
  "DVA"	 INTEGER,
  "TIPO_ADMISSAO"	 INTEGER,
  "URGENCIA"	 INTEGER,
  "TIPO_OPERACAO"	 INTEGER,
  "ADMISSAO_UTI"	 INTEGER,
  "NEUROLOGICAS"	 INTEGER,
  "CARDIOLOGICAS"	 INTEGER,
  "ABDOMEN"	 INTEGER,
  "INFECCAO"	 INTEGER,
  "GLASGOW"	 INTEGER,
  "FC"	 INTEGER,
  "PAS"	 INTEGER,
  "OXIGENACAO"	 INTEGER,
  "TEMPERATURA"	 INTEGER,
  "LEUCOCITOS"	 INTEGER,
  "PLAQUETAS"	 INTEGER,
  "PH"	 INTEGER,
  "CREATININA"	 INTEGER,
  "BILIRRUBINA"	 INTEGER,
  "TOTAL"	 INTEGER,
CONSTRAINT "PK_SAPS3" PRIMARY KEY ("ID_SAPS3")
);

/* Table: SENHACTRL, Owner: SYSDBA */

CREATE TABLE "SENHACTRL" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(150) NOT NULL,
  "VALOR"	 INTEGER NOT NULL,
  "PREFERENCIAL"	 DOUBLE PRECISION NOT NULL,
  "ULTCHAMADO"	 INTEGER,
  "PREF_ULT_CHAMADO"	 DOUBLE PRECISION,
CONSTRAINT "PK_SENHACTRL" PRIMARY KEY ("INDICE")
);

/* Table: SEPSE, Owner: SYSDBA */

CREATE TABLE "SEPSE" 
(
  "NUMERO"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "TEMPERATURA"	 CHAR(1),
  "FREQ_CARDIACA"	 CHAR(1),
  "LEUCOCITOSE"	 CHAR(1),
  "FREQ_REPIRATORIA"	 CHAR(1),
  "O2"	 CHAR(1),
  "ACIDOSE"	 CHAR(1),
  "SONOLENCIA"	 CHAR(1),
  "OLIGURIA"	 CHAR(1),
  "PA"	 CHAR(1),
  "BILIRRUBINAS"	 CHAR(1),
  "PLAQUETAS"	 CHAR(1),
  "COAGULOPATIA"	 CHAR(1),
  "HEMOCULTURAS"	 CHAR(1),
  "GASOMETRIA"	 CHAR(1),
  "BIOQUIMICA"	 CHAR(1),
  "OUTROS"	 CHAR(1),
  "RESPIRATORIO"	 CHAR(1),
  "PELE"	 CHAR(1),
  "FERIDA"	 CHAR(1),
  "SIS_NERVOSO"	 CHAR(1),
  "ENDOCARDITE"	 CHAR(1),
  "PROTESE"	 CHAR(1),
  "URINARIO"	 CHAR(1),
  "OSTEOARTICULAR"	 CHAR(1),
  "FOCO"	 CHAR(1),
  "INTRABDOMINAL"	 CHAR(1),
  "SANQUINEA"	 CHAR(1),
  "OUTRO_FOCO"	 CHAR(1),
  "ANTIMICROBIANO"	 VARCHAR(70),
  "DOSE"	 VARCHAR(70),
  "INFECCAO"	 CHAR(1),
  "INFECCAO_TEXTO"	 VARCHAR(70),
  "CHOQUE"	 CHAR(1),
  "CHOQUE_TEXTO"	 VARCHAR(70),
  "SEPSE"	 CHAR(1),
  "SEPSE_TEXTO"	 VARCHAR(70),
  "SEM_INFECCAO"	 CHAR(1),
  "SEM_INFECCAO_TEXTO"	 VARCHAR(70),
  "OBS"	 VARCHAR(3000),
  "REAVALIACAO"	 CHAR(1),
  "REAVALIACAO_TEXTO"	 VARCHAR(3000),
  "UNIDADE_ABERTA"	 CHAR(1),
  "TRANSFERIDO"	 CHAR(1),
  "UTI"	 CHAR(1),
  "OBTIDO"	 CHAR(1),
  "DATA1"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "ALA"	 INTEGER,
  "LEITO"	 INTEGER,
  "CODIGOPAC"	 INTEGER,
  "USER1"	 INTEGER,
  "HEMOCULTURAS_HORARIO"	 TIMESTAMP,
  "GASOMETRIA_HORARIO"	 TIMESTAMP,
  "BIOQUIMICA_HORARIO"	 TIMESTAMP,
  "OUTROS_HORARIO"	 TIMESTAMP,
  "HORARIO_ANTIMICROBIANO"	 TIMESTAMP,
  "HORARIO_REAVALIACAO"	 TIMESTAMP,
  "HORARIO_PRESCRICAO"	 TIMESTAMP,
  "HORARIO_REAVALIACAO_SEPSE"	 TIMESTAMP,
  "HORARIO_OBTIDO"	 TIMESTAMP
);

/* Table: SERVCONVENIO, Owner: SYSDBA */

CREATE TABLE "SERVCONVENIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "SERVICO"	 VARCHAR(100),
  "CODIGOAMB1"	 VARCHAR(12),
  "CODIGOAMB2"	 VARCHAR(12),
  "AUTORIZA"	 CHAR(1),
  "DHE"	 CHAR(1),
  "EMPRESA"	 INTEGER,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA2"	 TIMESTAMP,
  "TIPO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "SINTETICO"	 CHAR(1),
  "TETO"	 FLOAT,
  "CODCRED"	 VARCHAR(20),
  "AMB"	 CHAR(1),
  "EMG"	 CHAR(1),
  "INTER"	 CHAR(1),
  "COBRAR"	 CHAR(1),
  "VIA"	 SMALLINT,
  "CUSTOS"	 INTEGER,
  "EXIBIRVIAXML"	 VARCHAR(1) CHARACTER SET ISO8859_1,
 PRIMARY KEY ("INDICE")
);

/* Table: SERVCORREIO, Owner: SYSDBA */

CREATE TABLE "SERVCORREIO" 
(
  "IDSERVCORREIO"	 INTEGER NOT NULL,
  "CONFIRMADO"	 VARCHAR(1),
  "DATA"	 TIMESTAMP,
  "TIPO"	 INTEGER,
  "CODIGOBARRA"	 VARCHAR(250),
  "VALOR"	 DOUBLE PRECISION,
  "PARA"	 VARCHAR(250),
  "TIPO_MATERIAL"	 VARCHAR(1),
  "PRIORIDADE"	 VARCHAR(1),
CONSTRAINT "PK_SERVCORREIO" PRIMARY KEY ("IDSERVCORREIO")
);

/* Table: SERVCORREIO_MAT, Owner: SYSDBA */

CREATE TABLE "SERVCORREIO_MAT" 
(
  "IDSERVCORREIO_MAT"	 INTEGER NOT NULL,
  "DESCRICAO_MAT"	 VARCHAR(100),
CONSTRAINT "PK_SERVCORREIO_MAT" PRIMARY KEY ("IDSERVCORREIO_MAT")
);

/* Table: SERVCORREIO_TIPO, Owner: SYSDBA */

CREATE TABLE "SERVCORREIO_TIPO" 
(
  "IDSERVCORREIO_TIPO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(100),
CONSTRAINT "PK_SERVCORREIO_TIPO" PRIMARY KEY ("IDSERVCORREIO_TIPO")
);

/* Table: SERVICOS, Owner: SYSDBA */

CREATE TABLE "SERVICOS" 
(
  "CODIGOSERV"	 PK_CODIGOMM  NOT NULL,
  "A_CODAMB"	 PK_CODAMB  NOT NULL,
  "A_CODINSS"	 CHAR(8),
  "A_NOME"	 VARCHAR(250) NOT NULL,
  "A_RESUMO"	 VARCHAR(30) NOT NULL,
  "A_TIPO"	 VARCHAR(1) NOT NULL,
  "A_SEXO"	 PK_SEXO1 ,
  "A_MINIMO"	 SMALLINT,
  "A_MAXIMO"	 SMALLINT,
  "A_VEZES"	 SMALLINT,
  "A_AUXILIO"	 SMALLINT,
  "A_DIARIA"	 SMALLINT,
  "CODIGO"	 VARCHAR(3),
  "INCIDENCIA"	 SMALLINT,
  "A_FILME"	 FLOAT,
  "TABELA"	 SMALLINT NOT NULL,
  "CH"	 DOUBLE PRECISION,
  "CO"	 DOUBLE PRECISION,
  "TOTAL"	 COMPUTED BY (CH+CO),
  "A_PORTE"	 DOUBLE PRECISION,
  "DHE"	 CHAR(1),
  "AUTORIZACAO"	 CHAR(1),
  "PACOTE"	 CHAR(1),
  "A_CODIGO"	 SMALLINT,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "SADT"	 DOUBLE PRECISION,
  "PERMANENCIA"	 SMALLINT,
  "ATOS"	 SMALLINT,
  "ANEST"	 CHAR(1),
  "PACOTE1"	 CHAR(1),
  "ORDEM"	 SMALLINT,
  "CHPROF"	 DOUBLE PRECISION,
  "ATIVO"	 CHAR(1),
  "ESPECIALIDADE"	 CHAR(2),
  "SP"	 DOUBLE PRECISION,
  "GRUPO"	 CHAR(1),
  "CHB"	 CHAR(3),
  "APELIDO"	 VARCHAR(40),
  "EMPRESA"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "COTA"	 INTEGER,
  "UTI"	 CHAR(1),
  "CC"	 CHAR(1),
  "TEMPO"	 SMALLINT,
  "TIPOFILME"	 VARCHAR(10),
  "CUSTOEMBALAGEM"	 DOUBLE PRECISION,
  "FATOR"	 DOUBLE PRECISION,
  "CONTABIL"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "CUSTOREAL"	 FLOAT,
  "LAB"	 VARCHAR(10),
  "TESTE"	 VARCHAR(30),
  "TIPOPROC"	 CHAR(1),
  "MATCOLETA"	 INTEGER,
  "GRUPOSUS"	 CHAR(2),
  "GRAUPARTICIPACAO"	 CHAR(2),
  "CH_ANTIGO"	 DOUBLE PRECISION,
  "COR"	 VARCHAR(8),
  "APTODOBRA"	 CHAR(1),
  "CODESP"	 VARCHAR(2),
  "MSGMATERIAL"	 CHAR(1),
  "RESULTADO"	 VARCHAR(20),
  "ROTINA"	 VARCHAR(20),
  "TEMPERATURA"	 VARCHAR(30),
  "TABPADRAOTISS"	 CHAR(2),
  "SA"	 DOUBLE PRECISION,
  "CARTAOSUS"	 CHAR(1),
  "KIT"	 INTEGER,
  "ORDEMSADT"	 SMALLINT,
  "AUTAMB"	 CHAR(1),
  "AUTEMG"	 CHAR(1),
  "AUTINT"	 CHAR(1),
  "SOLICITANTE"	 CHAR(1),
  "A_TIPOCPC"	 CHAR(1),
  "TIPOINTERNACAO"	 CHAR(1),
  "MAX_MES"	 INTEGER,
 PRIMARY KEY ("CODIGOSERV")
);

/* Table: SERVICOS3, Owner: SYSDBA */

CREATE TABLE "SERVICOS3" 
(
  "CODIGO"	 VARCHAR(9) NOT NULL,
  "DESCRICAO"	 VARCHAR(300) NOT NULL,
  "PORTE"	 VARCHAR(5),
  "CUSTO"	 FLOAT,
  "AUX"	 SMALLINT,
  "ANEST"	 SMALLINT,
  "TOTAL"	 DOUBLE PRECISION,
  "PORTERS"	 DOUBLE PRECISION,
  "ANESTRS"	 DOUBLE PRECISION,
  "AUXRS"	 DOUBLE PRECISION,
  "INC"	 SMALLINT,
  "FILME"	 FLOAT,
  "PARAM"	 FLOAT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: SERVICOS4, Owner: SYSDBA */

CREATE TABLE "SERVICOS4" 
(
  "CODIGO"	 VARCHAR(9) NOT NULL,
  "DESCRICAO"	 VARCHAR(300) NOT NULL,
  "PORTE"	 VARCHAR(5),
  "CUSTO"	 FLOAT,
  "AUX"	 SMALLINT,
  "ANEST"	 SMALLINT,
  "TOTAL"	 DOUBLE PRECISION,
  "PORTERS"	 DOUBLE PRECISION,
  "ANESTRS"	 DOUBLE PRECISION,
  "AUXRS"	 DOUBLE PRECISION,
  "INC"	 SMALLINT,
  "FILME"	 FLOAT,
  "PARAM"	 FLOAT,
  "DATASINC"	 TIMESTAMP
);

/* Table: SERVICOSOCIALACOMP, Owner: SYSDBA */

CREATE TABLE "SERVICOSOCIALACOMP" 
(
  "IDSERVICOSOCIALACOMP"	 DOUBLE PRECISION,
  "CODIGOCPS"	 DOUBLE PRECISION,
  "TIPO"	 VARCHAR(50),
  "OBS"	 VARCHAR(150),
  "DTLIBERACAO"	 TIMESTAMP,
  "RESPONSAVEL"	 INTEGER,
  "STATUS"	 VARCHAR(20)
);

/* Table: SERVICOSPACOTE, Owner: SYSDBA */

CREATE TABLE "SERVICOSPACOTE" 
(
  "CODIGOSERV"	 INTEGER NOT NULL,
  "DIARIA"	 FLOAT,
  "TAXA"	 FLOAT,
  "MEDICAMENTO"	 FLOAT,
  "MATERIAL"	 FLOAT,
  "CONTRASTE"	 FLOAT,
  "OPME"	 FLOAT,
  "HONORARIO"	 FLOAT,
CONSTRAINT "PK_SERVICOSPACOTE" PRIMARY KEY ("CODIGOSERV")
);

/* Table: SERVICOSUS, Owner: SYSDBA */

CREATE TABLE "SERVICOSUS" 
(
  "COD_SERVICO"	 VARCHAR(3) NOT NULL,
  "NOME_SERVICO"	 VARCHAR(140) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6) NOT NULL
);

/* Table: SERVICOSUSCLAS, Owner: SYSDBA */

CREATE TABLE "SERVICOSUSCLAS" 
(
  "COD_SERVICO"	 VARCHAR(3) NOT NULL,
  "COD_CLASS"	 VARCHAR(3) NOT NULL,
  "NOME_CLASS"	 VARCHAR(160) NOT NULL,
  "COMPETENCIA"	 VARCHAR(6) NOT NULL
);

/* Table: SERVICOS_CONFIG, Owner: SYSDBA */

CREATE TABLE "SERVICOS_CONFIG" 
(
  "IDSERVICOS_CONFIG"	 INTEGER NOT NULL,
  "ORIENTACAO"	 VARCHAR(1000),
  "CODPROC"	 VARCHAR(10) NOT NULL,
  "DESCRICAO"	 VARCHAR(100),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESERVA"	 CHAR(1),
CONSTRAINT "PK_SERVICOS_CONFIG" PRIMARY KEY ("IDSERVICOS_CONFIG")
);

/* Table: SERVIDOREMAIL, Owner: SYSDBA */

CREATE TABLE "SERVIDOREMAIL" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SMTP"	 VARCHAR(60) NOT NULL,
  "PORTA"	 SMALLINT,
  "EMAILENVIO"	 VARCHAR(60),
  "SENHA"	 VARCHAR(20),
  "NOMEENVIO"	 VARCHAR(60),
  "AUTENTICACAO"	 CHAR(1),
  "SSL"	 CHAR(1),
  "ASSUNTO"	 VARCHAR(100),
  "EMAILDESTINO"	 VARCHAR(60) NOT NULL,
  "MENSAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA"	 TIMESTAMP,
  "ENVIADO"	 CHAR(1),
  "USUARIO"	 VARCHAR(25),
  "ANEXO"	 VARCHAR(200),
  "ANEXO1"	 VARCHAR(200),
 PRIMARY KEY ("INDICE")
);

/* Table: SETORVISITA, Owner: SYSDBA */

CREATE TABLE "SETORVISITA" 
(
  "IDSETORVISITA"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50),
CONSTRAINT "PK_SETORVISITA" PRIMARY KEY ("IDSETORVISITA")
);

/* Table: SIMPRO, Owner: SYSDBA */

CREATE TABLE "SIMPRO" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CD_SIMPRO"	 VARCHAR(10) NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "VIGENCIA"	 TIMESTAMP,
  "PC_FR_FAB"	 DOUBLE PRECISION,
  "TP_EMBAL"	 CHAR(3),
  "TP_FRACAO"	 CHAR(4),
  "CD_MERCACAO"	 SMALLINT,
  "FABRICA"	 VARCHAR(10),
  "PC_FR_VEND"	 DOUBLE PRECISION,
  "PAGINA"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "PC_FR_PMC"	 DOUBLE PRECISION,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: SIMPROANTIGO, Owner: SYSDBA */

CREATE TABLE "SIMPROANTIGO" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CD_SIMPRO"	 CHAR(7) NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "VIGENCIA"	 TIMESTAMP,
  "PC_FR_FAB"	 DOUBLE PRECISION,
  "TP_EMBAL"	 CHAR(3),
  "TP_FRACAO"	 CHAR(4),
  "CD_MERCACAO"	 SMALLINT,
  "FABRICA"	 VARCHAR(10),
  "PC_FR_VEND"	 DOUBLE PRECISION,
  "PAGINA"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: SIMPRO_LAYOUT2, Owner: SYSDBA */

CREATE TABLE "SIMPRO_LAYOUT2" 
(
  "IDSIMPRO_LAYOUT2"	 INTEGER NOT NULL,
  "CODIGO_USUARIO"	 VARCHAR(30),
  "CODIGO_FRACAO"	 VARCHAR(30),
  "DESCRICAO_PRODUTO"	 VARCHAR(200),
  "DATA_VIGENCIA"	 TIMESTAMP,
  "IDENTIFICACAO"	 VARCHAR(10),
  "PRECO_FABRICA_EMBALAGEM"	 DOUBLE PRECISION,
  "PRECO_VENDA_EMBALAGEM"	 DOUBLE PRECISION,
  "PRECO_USUARIO_EMBALAGEM"	 DOUBLE PRECISION,
  "PRECO_FABRICA_FRACAO"	 DOUBLE PRECISION,
  "PRECO_VENDA_FRACAO"	 DOUBLE PRECISION,
  "PRECO_USUARIO_FRACAO"	 DOUBLE PRECISION,
  "TIPO_EMBALAGEM"	 VARCHAR(10),
  "TIPO_FRACAO"	 VARCHAR(10),
  "QUANTIDADE_EMBALAGEM"	 DOUBLE PRECISION,
  "QUANTIDADE_FRACAO"	 DOUBLE PRECISION,
  "LUCRATIVIDADE_USUARIO"	 DOUBLE PRECISION,
  "TIPO_ALTERACAO"	 VARCHAR(10),
  "FABRICANTE"	 VARCHAR(40),
  "CODIGO_SIMPRO_TISS"	 VARCHAR(20),
  "CODIGO_MERCADO"	 VARCHAR(10),
  "PERCENTUAL_DESCONTO"	 DOUBLE PRECISION,
  "IPI"	 DOUBLE PRECISION,
  "ANVISA"	 VARCHAR(50),
  "VALIDADE_ANVISA"	 VARCHAR(20),
  "CODIGOBARRA"	 VARCHAR(20),
  "TIPO_LISTA"	 VARCHAR(10),
  "EXCLUSIVO_HOSPITALAR"	 VARCHAR(1),
  "FRACIONADO"	 VARCHAR(1),
  "CODIGO_TUSS"	 VARCHAR(20),
  "CLASSIFICACAO_PRODUTO"	 VARCHAR(20),
  "CODIMPORT"	 INTEGER,
CONSTRAINT "PK_SIMPRO_LAYOUT2" PRIMARY KEY ("IDSIMPRO_LAYOUT2")
);

/* Table: SINCRONIA, Owner: SYSDBA */

CREATE TABLE "SINCRONIA" 
(
  "DATA"	 TIMESTAMP
);

/* Table: SITUACAO, Owner: SYSDBA */

CREATE TABLE "SITUACAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
  "TIPO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: SITUACAO2, Owner: SYSDBA */

CREATE TABLE "SITUACAO2" 
(
  "CODIGO"	 CHAR(2) NOT NULL,
  "NOME"	 VARCHAR(40),
 PRIMARY KEY ("CODIGO")
);

/* Table: SMORADIA, Owner: SYSDBA */

CREATE TABLE "SMORADIA" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "TIJOLO"	 CHAR(1),
  "TREVESTIDA"	 CHAR(1),
  "TNAOREVESTIDA"	 CHAR(1),
  "MADEIRA"	 CHAR(1),
  "MATAPROVEITADO"	 CHAR(1),
  "OUTROESP"	 CHAR(1),
  "NUMCOMODOS"	 CHAR(2),
  "ENERGIAELETRICA"	 CHAR(1),
  "COLETADO"	 CHAR(1),
  "QUEIMADO"	 VARCHAR(1),
  "CEUABERTO"	 VARCHAR(1),
  "FILTRACAO"	 VARCHAR(1),
  "FERVURA"	 CHAR(1),
  "CLORACAO"	 CHAR(1),
  "SEMTRATAMENTO"	 CHAR(1),
  "REDEPUBLICA"	 CHAR(1),
  "POCONASC"	 CHAR(1),
  "OUTROAGUA"	 CHAR(1),
  "SISTESGOTO"	 CHAR(1),
  "FOSSA"	 CHAR(1),
  "CEUABERTOFEZES"	 CHAR(1),
  "CONVENIO"	 INTEGER,
  "MATRICULA"	 VARCHAR(30),
CONSTRAINT "PK_SMORADIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: SMS, Owner: SYSDBA */

CREATE TABLE "SMS" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(50) NOT NULL,
  "ENVIADO"	 CHAR(1),
  "TEXTO"	 VARCHAR(2000),
CONSTRAINT "PK_SMS" PRIMARY KEY ("INDICE")
);

/* Table: SMSAGENDADOR, Owner: SYSDBA */

CREATE TABLE "SMSAGENDADOR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
  "MENSAGEM"	 INTEGER NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FINAL"	 TIMESTAMP,
  "HORARIOMIN"	 TIMESTAMP,
  "HORARIOFIM"	 TIMESTAMP,
  "DIAENVIO"	 INTEGER,
  "TIPOAGENDA"	 VARCHAR(30) NOT NULL,
  "SQL"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SEGUNDA"	 CHAR(1),
  "TERCA"	 CHAR(1),
  "QUARTA"	 CHAR(1),
  "QUINTA"	 CHAR(1),
  "SEXTA"	 CHAR(1),
  "SABADO"	 CHAR(1),
  "DOMINGO"	 CHAR(1),
  "FERIADO"	 CHAR(1),
CONSTRAINT "PK_SMSAGENDADOR" PRIMARY KEY ("INDICE")
);

/* Table: SMSLISTA, Owner: SYSDBA */

CREATE TABLE "SMSLISTA" 
(
  "TELEFONE"	 VARCHAR(30),
  "MENSAGEM"	 VARCHAR(2000),
  "CNPJ"	 VARCHAR(30),
  "STATUS"	 VARCHAR(30),
  "INDICE"	 INTEGER,
  "DATAINC"	 TIMESTAMP,
  "ENVIADO"	 TIMESTAMP,
  "FALHA"	 TIMESTAMP,
  "AGENDADO"	 TIMESTAMP,
  "REMETENTE"	 VARCHAR(100),
  "DATA"	 TIMESTAMP,
  "DESTINATARIO"	 VARCHAR(150),
  "TIPO_DESTINATARIO"	 VARCHAR(30),
  "CODIGO_DESTINATARIO"	 INTEGER
);

/* Table: SMSRETORNO, Owner: SYSDBA */

CREATE TABLE "SMSRETORNO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "QUEM_MANDOU"	 VARCHAR(20),
  "FROM_TOA"	 VARCHAR(50),
  "FROM_SMSC"	 VARCHAR(20),
  "DATA_ENVIO"	 TIMESTAMP,
  "DATA_RETORNO"	 TIMESTAMP,
  "ASSUNTO"	 VARCHAR(30),
  "MODEM"	 VARCHAR(20),
  "IMSI"	 VARCHAR(20),
  "RELATORIO"	 VARCHAR(10),
  "ALFABETO"	 VARCHAR(10),
  "TAMANHO"	 INTEGER,
  "TEXTO_RESP"	 VARCHAR(200),
  "MENSAGEM"	 VARCHAR(2000),
  "ID_ORIGEM"	 INTEGER,
  "CNPJ_ORIGEM"	 VARCHAR(30),
CONSTRAINT "PK_SMSRETORNO" PRIMARY KEY ("INDICE")
);

/* Table: SOLARQ, Owner: SYSDBA */

CREATE TABLE "SOLARQ" 
(
  "SOLARQ"	 INTEGER NOT NULL,
  "ID"	 VARCHAR(150) NOT NULL,
  "NOMEARQ"	 VARCHAR(250),
  "TIPO"	 VARCHAR(20),
  "ARQUIVO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
CONSTRAINT "PK_SOLARQ" PRIMARY KEY ("SOLARQ")
);

/* Table: SOLICITAGUIA, Owner: SYSDBA */

CREATE TABLE "SOLICITAGUIA" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOPAC"	 PK_CODIGOPAC ,
  "A_DATA"	 TIMESTAMP,
  "A_HORA"	 TIMESTAMP,
  "MATRICULA"	 VARCHAR(30),
  "MEDRESP"	 PK_MEDICOS ,
  "A_CID"	 PK_CID ,
  "TIPOGUIA"	 CHAR(1),
  "DIARIAS"	 INTEGER,
  "TIPOINTERNACAO"	 INTEGER,
  "HISTORICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATARESPOSTA"	 TIMESTAMP,
  "HORARESPOSTA"	 TIMESTAMP,
  "CODIGOCPS"	 INTEGER,
  "PROVADIAG"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "RESULTADO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "SUBTIPO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "OPME"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CNPJ"	 VARCHAR(14),
  "TPATENDMED"	 VARCHAR(30),
  "COD_ESP"	 CHAR(2),
  "STATUS"	 INTEGER,
  "PROVASDIAG"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TRATAMENTO"	 INTEGER,
  "RESERVA"	 INTEGER,
  "REGIME"	 INTEGER,
  "LATERALIDADE"	 INTEGER,
  "ANATOMIA_PATOLOGICA"	 INTEGER,
  "BIOPSIA"	 INTEGER,
  "LABORATORIO"	 INTEGER,
  "INSTRUMENTOS_ESPECIFICOS"	 VARCHAR(50),
  "ARCOC"	 INTEGER,
  "BIA"	 INTEGER,
  "BIST_ELETRICO"	 INTEGER,
  "CEC"	 INTEGER,
  "FOTOFORO"	 INTEGER,
  "FFR"	 INTEGER,
  "AP_USG"	 INTEGER,
  "IVUS"	 INTEGER,
  "PNEUMATICO"	 INTEGER,
  "LIPOASPIRADOR"	 INTEGER,
  "TRANSESOFAGICO"	 INTEGER,
  "HEMO1"	 VARCHAR(30),
  "HEMO1_QTDE"	 INTEGER,
  "HEMO2"	 VARCHAR(30),
  "HEMO2_QTDE"	 INTEGER,
  "HEMO3"	 VARCHAR(30),
  "HEMO3_QTDE"	 INTEGER,
  "AUTORIZACAO"	 VARCHAR(30),
 PRIMARY KEY ("NUMERO")
);

/* Table: SOLICITAGUIA2, Owner: SYSDBA */

CREATE TABLE "SOLICITAGUIA2" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS2"	 FLOAT NOT NULL,
  "CODIGOAMB"	 CHAR(8),
  "CODIGOSERV"	 INTEGER,
  "QUANTIDADE"	 INTEGER,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "STATUS"	 INTEGER,
  "SENHA"	 VARCHAR(20),
  "DATA"	 TIMESTAMP,
  "PROCEDIMENTO"	 VARCHAR(150) NOT NULL,
  "MARCACAO"	 FLOAT,
  "VALIDADE"	 TIMESTAMP,
  "MOTIVO"	 VARCHAR(200),
  "PRESENHA"	 VARCHAR(20),
  "AUTORIZADOR"	 VARCHAR(20),
  "DATAENVIO"	 TIMESTAMP,
  "AVISOU"	 CHAR(1),
  "DATAMARCACAO"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "USERAVISADO"	 INTEGER,
  "USERENVIADO"	 INTEGER,
  "USERMOTIVO"	 INTEGER,
  "USERMARCADO"	 INTEGER,
  "USERAUTORIZACAO"	 INTEGER,
  "DATAENVIADO"	 TIMESTAMP,
  "DATAAVISADO"	 TIMESTAMP,
  "DATAMARC"	 TIMESTAMP,
  "DATAMOTIVO"	 TIMESTAMP,
  "DATAAUTORIZADO"	 TIMESTAMP,
  "DESATIVAR"	 CHAR(1),
  "DESATIVARMOTIVO"	 VARCHAR(200),
  "USERDESATIVAR"	 INTEGER,
  "DATADESATIVAR"	 TIMESTAMP,
  "QTDEAUTORIZADA"	 INTEGER,
  "VALOR"	 DOUBLE PRECISION,
  "TABELA"	 VARCHAR(100),
  "INDICETABELA"	 DOUBLE PRECISION,
 PRIMARY KEY ("INDICE")
);

/* Table: SOLICITAGUIAMM, Owner: SYSDBA */

CREATE TABLE "SOLICITAGUIAMM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SOLICITAGUIA"	 INTEGER NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "USER2"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "QUANTIDADE"	 INTEGER NOT NULL,
  "VALOR"	 DOUBLE PRECISION,
  "FORNEC1"	 VARCHAR(30),
  "FORNEC2"	 VARCHAR(30),
  "FORNEC3"	 VARCHAR(30),
  "NOME"	 VARCHAR(100),
CONSTRAINT "PK_SOLICITAGUIAMM" PRIMARY KEY ("INDICE")
);

/* Table: SOLICITANTE, Owner: SYSDBA */

CREATE TABLE "SOLICITANTE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CNPJ"	 VARCHAR(14) NOT NULL,
  "NOME"	 VARCHAR(70) NOT NULL,
  "CNES"	 VARCHAR(10),
  "TELEFONE"	 VARCHAR(11),
  "ENDERECO"	 VARCHAR(100),
  "CREDENCIADA"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: SOLMARCACAO, Owner: SYSDBA */

CREATE TABLE "SOLMARCACAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(50),
  "MAE"	 VARCHAR(50),
  "NASC"	 TIMESTAMP,
  "CPF"	 VARCHAR(11),
  "RG"	 VARCHAR(15),
  "CEP"	 VARCHAR(8),
  "CIDADE"	 VARCHAR(20),
  "BAIRRO"	 VARCHAR(20),
  "ENDERECO"	 VARCHAR(50),
  "TELEFONE"	 VARCHAR(11),
  "CELULAR"	 VARCHAR(11),
  "CONVENIO"	 INTEGER,
  "EMAIL"	 VARCHAR(60),
  "TIPOMARC"	 CHAR(1),
  "COD"	 VARCHAR(20),
  "DATA"	 TIMESTAMP,
  "TIPO"	 CHAR(1),
  "CRM"	 VARCHAR(10),
  "EXAME"	 VARCHAR(60),
  "HORA"	 INTEGER,
CONSTRAINT "PK_SOLMARCACAO" PRIMARY KEY ("INDICE")
);

/* Table: SUBGRUPO, Owner: SYSDBA */

CREATE TABLE "SUBGRUPO" 
(
  "ID"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(100) NOT NULL,
  "COD_GRUPO"	 VARCHAR(2) NOT NULL,
  "USUARIO_INC"	 VARCHAR(20) NOT NULL,
  "DATAHORA_INC"	 TIMESTAMP NOT NULL,
  "USUARIO_ALT"	 VARCHAR(20) NOT NULL,
  "DATAHORA_ALT"	 TIMESTAMP NOT NULL,
 UNIQUE ("ID"),
 PRIMARY KEY ("CODIGO", "COD_GRUPO")
);

/* Table: SUBGRUPOSUS, Owner: SYSDBA */

CREATE TABLE "SUBGRUPOSUS" 
(
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(2) NOT NULL,
  "DESCRICAO"	 VARCHAR(250),
  "COD_GRUPO"	 VARCHAR(2),
  "COMPETENCIA"	 VARCHAR(6),
CONSTRAINT "PK_SUBGRUPOSUS" PRIMARY KEY ("SEQUENCIA")
);

/* Table: SUBSTANCIAS_ALERGIA, Owner: SYSDBA */

CREATE TABLE "SUBSTANCIAS_ALERGIA" 
(
  "ID_SUBSTANCIAS_ALERGIA"	 INTEGER NOT NULL,
  "MEDICAMENTO"	 VARCHAR(250),
CONSTRAINT "PK_SUBSTANCIAS_ALERGIA" PRIMARY KEY ("ID_SUBSTANCIAS_ALERGIA")
);

/* Table: SUS_MAMOGRAFIA, Owner: SYSDBA */

CREATE TABLE "SUS_MAMOGRAFIA" 
(
  "C_CNES"	 VARCHAR(7) NOT NULL,
  "C_COMP"	 VARCHAR(6) NOT NULL,
  "C_EXAME"	 VARCHAR(14) NOT NULL,
  "C_ID_NOME"	 VARCHAR(70),
  "C_ID_NOME_FON"	 VARCHAR(70),
  "C_ID_NOMEMAE"	 VARCHAR(70),
  "C_ID_NOMEMAE_FON"	 VARCHAR(70),
  "C_ID_APEL"	 VARCHAR(30),
  "D_ID_DTNASC"	 DATE,
  "C_ID_IDAD"	 VARCHAR(3),
  "C_ID_IDENT"	 VARCHAR(12),
  "C_ID_EMIS"	 VARCHAR(5),
  "C_ID_UFIDE"	 VARCHAR(2),
  "C_ID_CIC"	 VARCHAR(11),
  "C_ID_ESCO"	 VARCHAR(1),
  "C_ID_ENDERECO"	 VARCHAR(35),
  "C_ID_NUMERO"	 VARCHAR(6),
  "C_ID_COMPLEM"	 VARCHAR(15),
  "C_ID_BAIRRO"	 VARCHAR(15),
  "C_ID_UF"	 VARCHAR(2),
  "C_IBGE"	 VARCHAR(7),
  "C_ID_CEP"	 VARCHAR(8),
  "C_ID_REFE"	 VARCHAR(35),
  "C_ID_FONE"	 VARCHAR(11),
  "C_ID_SUS"	 VARCHAR(15),
  "C_US_UF"	 VARCHAR(2),
  "C_US_IBGE"	 VARCHAR(7),
  "C_US_CNES"	 VARCHAR(7),
  "C_US_NOME"	 VARCHAR(40),
  "C_PRON"	 VARCHAR(12),
  "C_ANM_NOD"	 VARCHAR(1),
  "C_ANM_NOD_MD"	 VARCHAR(1),
  "C_ANM_NOD_ME"	 VARCHAR(1),
  "C_ANM_PARENTE_CANCER"	 VARCHAR(1),
  "C_ANM_EXA_PROF"	 VARCHAR(1),
  "C_ANM_MAMOGRAF"	 VARCHAR(1),
  "C_ANM_MAMO_ANO"	 VARCHAR(4),
  "C_CLI_DIAG"	 VARCHAR(1),
  "C_CLI_LES_PALPA"	 VARCHAR(1),
  "C_CLI_PAPIL_DIR"	 VARCHAR(1),
  "C_CLI_DESC_DIR"	 VARCHAR(1),
  "C_CLI_NOD_QSE_DIR"	 VARCHAR(1),
  "C_CLI_NOD_QIE_DIR"	 VARCHAR(1),
  "C_CLI_NOD_QSI_DIR"	 VARCHAR(1),
  "C_CLI_NOD_QII_DIR"	 VARCHAR(1),
  "C_CLI_NOD_UQEXT_DIR"	 VARCHAR(1),
  "C_CLI_NOD_UQSUP_DIR"	 VARCHAR(1),
  "C_CLI_NOD_UQINT_DIR"	 VARCHAR(1),
  "C_CLI_NOD_UQINF_DIR"	 VARCHAR(1),
  "C_CLI_NOD_RRA_DIR"	 VARCHAR(1),
  "C_CLI_NOD_PA_DIR"	 VARCHAR(1),
  "C_CLI_ESP_QSE_DIR"	 VARCHAR(1),
  "C_CLI_ESP_QIE_DIR"	 VARCHAR(1),
  "C_CLI_ESP_QSI_DIR"	 VARCHAR(1),
  "C_CLI_ESP_QII_DIR"	 VARCHAR(1),
  "C_CLI_ESP_UQEXT_DIR"	 VARCHAR(1),
  "C_CLI_ESP_UQSUP_DIR"	 VARCHAR(1),
  "C_CLI_ESP_UQINT_DIR"	 VARCHAR(1),
  "C_CLI_ESP_UQINF_DIR"	 VARCHAR(1),
  "C_CLI_ESP_RRA_DIR"	 VARCHAR(1),
  "C_CLI_ESP_PA_DIR"	 VARCHAR(1),
  "C_CLI_LINF_AX_DIR"	 VARCHAR(1),
  "C_CLI_LINF_SUPRA_DIR"	 VARCHAR(1),
  "C_CLI_PAPIL_ESQ"	 VARCHAR(1),
  "C_CLI_DESC_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_QSE_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_QIE_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_QSI_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_QII_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_UQEXT_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_UQSUP_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_UQINT_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_UQINF_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_RRA_ESQ"	 VARCHAR(1),
  "C_CLI_NOD_PA_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_QSE_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_QIE_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_QSI_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_QII_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_UQEXT_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_UQSUP_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_UQINT_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_UQINF_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_RRA_ESQ"	 VARCHAR(1),
  "C_CLI_ESP_PA_ESQ"	 VARCHAR(1),
  "C_CLI_LINF_AX_ESQ"	 VARCHAR(1),
  "C_CLI_LINF_SUPRA_ESQ"	 VARCHAR(1),
  "C_CONTROLE_RADIOL"	 VARCHAR(1),
  "C_RAD_NODULO_DIR"	 VARCHAR(1),
  "C_RAD_MICROCAL_DIR"	 VARCHAR(1),
  "C_RAD_ASSIM_FOC_DIR"	 VARCHAR(1),
  "C_RAD_ASSIM_DIF_DIR"	 VARCHAR(1),
  "C_RAD_AREA_DENS_DIR"	 VARCHAR(1),
  "C_RAD_DIST_ARQ_DIR"	 VARCHAR(1),
  "C_RAD_NODULO_ESQ"	 VARCHAR(1),
  "C_RAD_MICROCAL_ESQ"	 VARCHAR(1),
  "C_RAD_ASSIM_FOC_ESQ"	 VARCHAR(1),
  "C_RAD_ASSIM_DIF_ESQ"	 VARCHAR(1),
  "C_RAD_AREA_DENS_ESQ"	 VARCHAR(1),
  "C_RAD_DIST_ARQ_ESQ"	 VARCHAR(1),
  "C_LESAO_DIAG"	 VARCHAR(1),
  "C_DIAG_NODULO_DIR"	 VARCHAR(1),
  "C_DIAG_MICROCAL_DIR"	 VARCHAR(1),
  "C_DIAG_ASSIM_FOC_DIR"	 VARCHAR(1),
  "C_DIAG_ASSIM_DIF_DIR"	 VARCHAR(1),
  "C_DIAG_AREA_DENS_DIR"	 VARCHAR(1),
  "C_DIAG_DIST_ARQ_DIR"	 VARCHAR(1),
  "C_DIAG_NODULO_ESQ"	 VARCHAR(1),
  "C_DIAG_MICROCAL_ESQ"	 VARCHAR(1),
  "C_DIAG_ASSIM_FOC_ESQ"	 VARCHAR(1),
  "C_DIAG_ASSIM_DIF_ESQ"	 VARCHAR(1),
  "C_DIAG_AREA_DENS_ESQ"	 VARCHAR(1),
  "C_DIAG_DIST_ARQ_ESQ"	 VARCHAR(1),
  "C_AVALIACAO_ADJ"	 VARCHAR(1),
  "C_MAMO_RASTR"	 VARCHAR(1),
  "D_ANA_MESTRUAC"	 DATE,
  "C_ANA_MEST_NLEMB"	 VARCHAR(1),
  "C_ANA_MENOP_IDADE"	 VARCHAR(2),
  "C_ANA_MENOP_NLEMB"	 VARCHAR(1),
  "C_ANA_NUNCAMEST"	 VARCHAR(1),
  "C_ANA_USAHORMONIO"	 VARCHAR(1),
  "C_ANA_GRAVIDA"	 VARCHAR(1),
  "C_ANA_RADIO"	 VARCHAR(1),
  "C_ANA_RADIO_MDIR"	 VARCHAR(1),
  "C_ANA_ANO_DIREITA"	 VARCHAR(4),
  "C_ANA_RADIO_MESQ"	 VARCHAR(1),
  "C_ANA_ANO_ESQUERDA"	 VARCHAR(4),
  "C_ANA_ANO_TUMOR_D"	 VARCHAR(4),
  "C_ANA_ANO_TUMOR_E"	 VARCHAR(4),
  "C_ANA_ANO_SEGMEN_D"	 VARCHAR(4),
  "C_ANA_ANO_SEGMEN_E"	 VARCHAR(4),
  "C_ANA_ANO_DUTECT_D"	 VARCHAR(4),
  "C_ANA_ANO_DUTECT_E"	 VARCHAR(4),
  "C_ANA_ANO_MASTEC_D"	 VARCHAR(4),
  "C_ANA_ANO_MASTEC_E"	 VARCHAR(4),
  "C_ANA_ANO_M_PELE_D"	 VARCHAR(4),
  "C_ANA_ANO_M_PELE_E"	 VARCHAR(4),
  "C_ANA_ANO_ESVAZIA_D"	 VARCHAR(4),
  "C_ANA_ANO_ESVAZIA_E"	 VARCHAR(4),
  "C_ANA_ANO_BIOPSIA_D"	 VARCHAR(4),
  "C_ANA_ANO_BIOPSIA_E"	 VARCHAR(4),
  "C_ANA_ANO_RECON_D"	 VARCHAR(4),
  "C_ANA_ANO_RECON_E"	 VARCHAR(4),
  "C_ANA_ANO_PLAST_RED_D"	 VARCHAR(4),
  "C_ANA_ANO_PLAST_RED_E"	 VARCHAR(4),
  "C_ANA_ANO_PLAST_IMP_D"	 VARCHAR(4),
  "C_ANA_ANO_PLAST_IMP_E"	 VARCHAR(4),
  "C_ANA_NAOFEZCIRUR"	 VARCHAR(1),
  "C_RAD_NUM_FILM_D"	 VARCHAR(2),
  "C_RAD_PELE_D"	 VARCHAR(1),
  "C_RAD_COMPOSIC_D"	 VARCHAR(1),
  "C_NOD_SIM_01D"	 VARCHAR(1),
  "C_NOD_LOC_01D"	 VARCHAR(2),
  "C_NOD_TAM_01D"	 VARCHAR(1),
  "C_NOD_CONT_01D"	 VARCHAR(1),
  "C_NOD_LIM_01D"	 VARCHAR(1),
  "C_NOD_SIM_02D"	 VARCHAR(1),
  "C_NOD_LOC_02D"	 VARCHAR(2),
  "C_NOD_TAM_02D"	 VARCHAR(1),
  "C_NOD_CONT_02D"	 VARCHAR(1),
  "C_NOD_LIM_02D"	 VARCHAR(1),
  "C_NOD_SIM_03D"	 VARCHAR(1),
  "C_NOD_LOC_03D"	 VARCHAR(2),
  "C_NOD_TAM_03D"	 VARCHAR(1),
  "C_NOD_CONT_03D"	 VARCHAR(1),
  "C_NOD_LIM_03D"	 VARCHAR(1),
  "C_MICRO_SIM_01D"	 VARCHAR(1),
  "C_MICRO_LOC_01D"	 VARCHAR(2),
  "C_MICRO_FORM_01D"	 VARCHAR(1),
  "C_MICRO_DISTR_01D"	 VARCHAR(1),
  "C_MICRO_SIM_02D"	 VARCHAR(1),
  "C_MICRO_LOC_02D"	 VARCHAR(2),
  "C_MICRO_FORM_02D"	 VARCHAR(1),
  "C_MICRO_DISTR_02D"	 VARCHAR(1),
  "C_MICRO_SIM_03D"	 VARCHAR(1),
  "C_MICRO_LOC_03D"	 VARCHAR(2),
  "C_MICRO_FORM_03D"	 VARCHAR(1),
  "C_MICRO_DISTR_03D"	 VARCHAR(1),
  "C_ASSI_FOC_SIM01D"	 VARCHAR(1),
  "C_ASSI_FOC_LOC01D"	 VARCHAR(2),
  "C_ASSI_FOC_SIM02D"	 VARCHAR(1),
  "C_ASSI_FOC_LOC02D"	 VARCHAR(2),
  "C_ASSI_DIF_SIM01D"	 VARCHAR(1),
  "C_ASSI_DIFU_LOC01D"	 VARCHAR(2),
  "C_ASSI_DIF_SIM02D"	 VARCHAR(1),
  "C_ASSI_DIFU_LOC02D"	 VARCHAR(2),
  "C_DIS_FOC_SIM01D"	 VARCHAR(1),
  "C_DIS_FOC_LOC01D"	 VARCHAR(2),
  "C_DIS_FOC_SIM02D"	 VARCHAR(1),
  "C_DIS_FOC_LOC02D"	 VARCHAR(2),
  "C_AR_DENS_SIM01D"	 VARCHAR(1),
  "C_AR_DENS_LOC01D"	 VARCHAR(2),
  "C_AR_DENS_SIM02D"	 VARCHAR(1),
  "C_AR_DENS_LOC02D"	 VARCHAR(2),
  "C_LINF_AUX_D"	 VARCHAR(1),
  "C_LINF_AUX_AUM_D"	 VARCHAR(1),
  "C_LINF_AUX_DENSO_D"	 VARCHAR(1),
  "C_LINF_AUX_CONF_D"	 VARCHAR(1),
  "C_DILAT_DUC_D"	 VARCHAR(1),
  "C_NOD_DEN_D"	 VARCHAR(1),
  "C_NOD_CAL_D"	 VARCHAR(1),
  "C_NOD_DEN_HET_D"	 VARCHAR(1),
  "C_CALC_VASC_D"	 VARCHAR(1),
  "C_CALC_ASP_BEN_D"	 VARCHAR(1),
  "C_LINF_INTRAM_D"	 VARCHAR(1),
  "C_DIS_ARQ_CIR_D"	 VARCHAR(1),
  "C_IMP_INTEG_D"	 VARCHAR(1),
  "C_IMP_SIN_RUP_D"	 VARCHAR(1),
  "C_RAD_NUM_FILM_E"	 VARCHAR(1),
  "C_RAD_PELE_E"	 VARCHAR(1),
  "C_RAD_COMPOSIC_E"	 VARCHAR(1),
  "C_NOD_SIM_01E"	 VARCHAR(1),
  "C_NOD_LOC_01E"	 VARCHAR(2),
  "C_NOD_TAM_01E"	 VARCHAR(1),
  "C_NOD_CONT_01E"	 VARCHAR(1),
  "C_NOD_LIM_01E"	 VARCHAR(1),
  "C_NOD_SIM_02E"	 VARCHAR(1),
  "C_NOD_LOC_02E"	 VARCHAR(2),
  "C_NOD_TAM_02E"	 VARCHAR(1),
  "C_NOD_CONT_02E"	 VARCHAR(1),
  "C_NOD_LIM_02E"	 VARCHAR(1),
  "C_NOD_SIM_03E"	 VARCHAR(1),
  "C_NOD_LOC_03E"	 VARCHAR(2),
  "C_NOD_TAM_03E"	 VARCHAR(1),
  "C_NOD_CONT_03E"	 VARCHAR(1),
  "C_NOD_LIM_03E"	 VARCHAR(1),
  "C_MICRO_SIM_01E"	 VARCHAR(1),
  "C_MICRO_LOC_01E"	 VARCHAR(2),
  "C_MICRO_FORM_01E"	 VARCHAR(1),
  "C_MICRO_DISTR_01E"	 VARCHAR(1),
  "C_MICRO_SIM_02E"	 VARCHAR(1),
  "C_MICRO_LOC_02E"	 VARCHAR(2),
  "C_MICRO_FORM_02E"	 VARCHAR(1),
  "C_MICRO_DISTR_02E"	 VARCHAR(1),
  "C_MICRO_SIM_03E"	 VARCHAR(1),
  "C_MICRO_LOC_03E"	 VARCHAR(2),
  "C_MICRO_FORM_03E"	 VARCHAR(1),
  "C_MICRO_DISTR_03E"	 VARCHAR(1),
  "C_ASSI_FOC_SIM01E"	 VARCHAR(1),
  "C_ASSI_FOC_LOC01E"	 VARCHAR(2),
  "C_ASSI_FOC_SIM02E"	 VARCHAR(1),
  "C_ASSI_FOC_LOC02E"	 VARCHAR(2),
  "C_ASSI_DIF_SIM01E"	 VARCHAR(1),
  "C_ASSI_DIFU_LOC01E"	 VARCHAR(2),
  "C_ASSI_DIF_SIM02E"	 VARCHAR(1),
  "C_ASSI_DIFU_LOC02E"	 VARCHAR(2),
  "C_DIS_FOC_SIM01E"	 VARCHAR(1),
  "C_DIS_FOC_LOC01E"	 VARCHAR(2),
  "C_DIS_FOC_SIM02E"	 VARCHAR(1),
  "C_DIS_FOC_LOC02E"	 VARCHAR(2),
  "C_AR_DENS_SIM01E"	 VARCHAR(1),
  "C_AR_DENS_LOC01E"	 VARCHAR(2),
  "C_AR_DENS_SIM02E"	 VARCHAR(1),
  "C_AR_DENS_LOC02E"	 VARCHAR(2),
  "C_LINF_AUX_E"	 VARCHAR(1),
  "C_LINF_AUX_AUM_E"	 VARCHAR(1),
  "C_LINF_AUX_DENSO_E"	 VARCHAR(1),
  "C_LINF_AUX_CONF_E"	 VARCHAR(1),
  "C_DILAT_DUC_E"	 VARCHAR(1),
  "C_NOD_DEN_E"	 VARCHAR(1),
  "C_NOD_CAL_E"	 VARCHAR(1),
  "C_NOD_DEN_HET_E"	 VARCHAR(1),
  "C_CALC_VASC_E"	 VARCHAR(1),
  "C_CALC_ASP_BEM_E"	 VARCHAR(1),
  "C_LINF_INTRAM_E"	 VARCHAR(1),
  "C_DIS_ARQ_CIR_E"	 VARCHAR(1),
  "C_IMP_INTEG_E"	 VARCHAR(1),
  "C_IMP_SIN_RUP_E"	 VARCHAR(1),
  "C_CON_DIA_CAT_D"	 VARCHAR(1),
  "C_CON_DIA_CAT_E"	 VARCHAR(1),
  "C_CON_RECOM_D"	 VARCHAR(1),
  "C_CON_RECOM_E"	 VARCHAR(1),
  "C_OBS_GERAIS"	 VARCHAR(150),
  "D_RECEBE"	 DATE,
  "D_EXAME"	 DATE,
  "D_LIBERA"	 DATE,
  "C_PAT_CNS"	 VARCHAR(15),
  "C_PAT_CIC"	 VARCHAR(11),
  "C_FXET"	 VARCHAR(2),
  "C_ID_FIEXT"	 VARCHAR(1),
  "C_FCOM"	 VARCHAR(1),
  "C_ID_COMP"	 VARCHAR(6),
  "C_FLG_POSI"	 VARCHAR(1),
  "C_FLG_INC_BPA"	 VARCHAR(1),
  "N_SEQUECIAL"	 VARCHAR(4),
  "H_EVENTO"	 VARCHAR(6),
  "C_ID_SEXO"	 VARCHAR(1),
  "C_FLG_SEGUI"	 VARCHAR(1),
  "C_ID_RACACOR"	 VARCHAR(2),
  "C_CID10"	 VARCHAR(4),
  "C_VERSAO_DIG"	 CHAR(5),
  "C_VERSAO_FAT"	 CHAR(5),
  "C_MAMA_DIR_NAO_RAD"	 VARCHAR(1),
  "C_MAMA_ESQ_NAO_RAD"	 VARCHAR(1),
  "C_ETNIA"	 INTEGER,
  "C_NACIONALIDADE"	 VARCHAR(3),
 PRIMARY KEY ("C_CNES", "C_COMP", "C_EXAME")
);

/* Table: TABELA, Owner: SYSDBA */

CREATE TABLE "TABELA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGOAMB1"	 VARCHAR(10),
  "CODIGOAMB2"	 VARCHAR(10),
  "TABHON"	 SMALLINT,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "CONVENIO"	 INTEGER NOT NULL,
  "MOEDAINT"	 SMALLINT,
  "MOEDAAMB"	 SMALLINT,
  "MOEDAEME"	 SMALLINT,
  "CBHPM"	 CHAR(1),
  "CO"	 INTEGER,
  "FILME"	 DOUBLE PRECISION,
  "MOEDA_COD"	 SMALLINT,
  "TIPOATEND"	 CHAR(1),
  "UCO"	 DOUBLE PRECISION,
  "PERCENTUAL"	 DOUBLE PRECISION,
CONSTRAINT "PK_TABELA_INDICE" PRIMARY KEY ("INDICE")
);

/* Table: TABELAHON, Owner: SYSDBA */

CREATE TABLE "TABELAHON" 
(
  "NUMERO"	 SMALLINT NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
  "LOGO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FILME"	 DOUBLE PRECISION,
  "PORTE0"	 DOUBLE PRECISION,
  "PORTE1"	 DOUBLE PRECISION,
  "PORTE2"	 DOUBLE PRECISION,
  "PORTE3"	 DOUBLE PRECISION,
  "PORTE4"	 DOUBLE PRECISION,
  "PORTE5"	 DOUBLE PRECISION,
  "PORTE6"	 DOUBLE PRECISION,
  "PORTE7"	 DOUBLE PRECISION,
  "MOEDA"	 SMALLINT,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TIPO"	 CHAR(1),
  "STATUS"	 CHAR(1),
  "PORTE8"	 DOUBLE PRECISION,
  "PADRAO"	 CHAR(1),
  "DATA2"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "PADRAOTISS"	 VARCHAR(2),
  "PERMIT_INS_PROC"	 CHAR(1),
  "DESATIVATAB"	 CHAR(1),
 PRIMARY KEY ("NUMERO")
);

/* Table: TABELASUS, Owner: SYSDBA */

CREATE TABLE "TABELASUS" 
(
  "IP_COD"	 VARCHAR(8),
  "IP_CMPT"	 VARCHAR(6),
  "IP_CMPI"	 VARCHAR(6),
  "IP_CMPTF"	 VARCHAR(6),
  "IP_DSCR"	 VARCHAR(74),
  "IP_SX"	 VARCHAR(1),
  "IP_GP"	 VARCHAR(8),
  "IP_INREAL"	 VARCHAR(1),
  "IP_INATOM"	 VARCHAR(1),
  "VP_SH"	 DOUBLE PRECISION,
  "VP_PERM"	 SMALLINT,
  "VP_SP"	 DOUBLE PRECISION,
  "VP_SADT"	 DOUBLE PRECISION,
  "QT_ATO"	 SMALLINT,
  "QT_ANEST"	 SMALLINT,
  "IDADE_MIN"	 SMALLINT,
  "IDADE_MAX"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: TABHONREL, Owner: SYSDBA */

CREATE TABLE "TABHONREL" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "PROCEDIMENTO"	 VARCHAR(300),
  "CBHPM04"	 VARCHAR(8),
  "CBHPM03"	 VARCHAR(9),
  "AMB99"	 VARCHAR(8),
  "AMB96"	 VARCHAR(8),
  "AMB92"	 VARCHAR(8),
  "AMB90"	 VARCHAR(8),
  "SUS"	 VARCHAR(8),
  "NOME"	 VARCHAR(200),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "MENSAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUS10"	 VARCHAR(10),
CONSTRAINT "PK_TABHONREL" PRIMARY KEY ("CODIGO")
);

/* Table: TB_CHECK, Owner: SYSDBA */

CREATE TABLE "TB_CHECK" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CH_PROC"	 VARCHAR(10),
  "CH_COD"	 INTEGER,
  "CH_CMPT_INI"	 VARCHAR(6),
  "CH_CMPT_FIM"	 VARCHAR(6),
  "CH_DOCUM"	 VARCHAR(30),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CHECK_HOSP, Owner: SYSDBA */

CREATE TABLE "TB_CHECK_HOSP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CH_H_CNES"	 VARCHAR(14),
  "CH_H_COD"	 INTEGER,
  "CH_H_CMPT_INI"	 VARCHAR(6),
  "CH_H_CMPT_FIM"	 VARCHAR(6),
  "CH_H_DOCUM"	 VARCHAR(30),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CHECK_LIST, Owner: SYSDBA */

CREATE TABLE "TB_CHECK_LIST" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CL_COD"	 INTEGER,
  "CL_DESCR"	 VARCHAR(200),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CHECK_LIST_HOSP, Owner: SYSDBA */

CREATE TABLE "TB_CHECK_LIST_HOSP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CL_H_COD"	 INTEGER,
  "CL_H_DESCR"	 VARCHAR(200),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CHECK_LIST_MOT_COBR, Owner: SYSDBA */

CREATE TABLE "TB_CHECK_LIST_MOT_COBR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CL_MC_COD"	 INTEGER,
  "CL_MC_DESCR"	 VARCHAR(200),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CHECK_MOT_COBR, Owner: SYSDBA */

CREATE TABLE "TB_CHECK_MOT_COBR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CH_MC_MOTIVO"	 VARCHAR(2),
  "CH_MC_COD"	 INTEGER,
  "CH_MC_CMPT_INI"	 VARCHAR(6),
  "CH_MC_CMPT_FIM"	 VARCHAR(6),
  "CH_MC_DOCUM"	 VARCHAR(30),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CID_PROC, Owner: SYSDBA */

CREATE TABLE "TB_CID_PROC" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CP_PROC"	 VARCHAR(10),
  "CP_CID"	 VARCHAR(4),
  "CP_CMPT_INI"	 VARCHAR(6),
  "CP_CMPT_FIM"	 VARCHAR(6),
  "CP_ST_PRINCIPAL"	 CHAR(1),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_CLINICA, Owner: SYSDBA */

CREATE TABLE "TB_CLINICA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CL_COD"	 VARCHAR(2),
  "CL_DESCR"	 VARCHAR(40),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_EQUIPE, Owner: SYSDBA */

CREATE TABLE "TB_EQUIPE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "EQ_IND_EQUIPE"	 SMALLINT,
  "EQ_CMPT_INI"	 VARCHAR(6),
  "EQ_CMPT_FIM"	 VARCHAR(6),
  "EQ_PERCENTUAL"	 NUMERIC(12,2),
  "EQ_IND_RATEIO"	 CHAR(1),
  "EQ_PERC_ESPECIAL"	 NUMERIC(12,2),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_ETNIA, Owner: SYSDBA */

CREATE TABLE "TB_ETNIA" 
(
  "ETNIA_CODIGO"	 CHAR(4) CHARACTER SET WIN1252 NOT NULL,
  "ETNIA_DESCRICAO"	 VARCHAR(100) CHARACTER SET WIN1252 NOT NULL,
CONSTRAINT "PK_TB_ETNIA" PRIMARY KEY ("ETNIA_CODIGO")
);

/* Table: TB_EXCEC_COMP, Owner: SYSDBA */

CREATE TABLE "TB_EXCEC_COMP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "EC_PROC_RESTRICAO"	 VARCHAR(10),
  "EC_PROC_PRIM"	 VARCHAR(10),
  "EC_REG_PRIM"	 VARCHAR(2),
  "EC_PROC_SEC"	 VARCHAR(10),
  "EC_REG_SEC"	 VARCHAR(2),
  "EC_TP_COMPAT"	 CHAR(1),
  "EC_CMPT_INI"	 VARCHAR(6),
  "EC_CMPT_FIM"	 VARCHAR(6),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_FINANCIAMENTO, Owner: SYSDBA */

CREATE TABLE "TB_FINANCIAMENTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "FINANC_COD"	 VARCHAR(2),
  "FINANC_DESCR"	 VARCHAR(100),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_FO, Owner: SYSDBA */

CREATE TABLE "TB_FO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "FO_COD_GR"	 SMALLINT,
  "FO_COD_SUB"	 SMALLINT,
  "FO_COD_FO"	 SMALLINT,
  "FO_DESCR"	 VARCHAR(100),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_GRUPO, Owner: SYSDBA */

CREATE TABLE "TB_GRUPO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "GRUPO_COD_GR"	 SMALLINT,
  "GRUPO_DESCR"	 VARCHAR(100),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_HABILITACAO, Owner: SYSDBA */

CREATE TABLE "TB_HABILITACAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "HAB_CODIGO"	 VARCHAR(4),
  "HAB_DESCRICAO"	 VARCHAR(150),
  "HAB_CMPT_INI"	 VARCHAR(6),
  "HAB_CMPT_FIM"	 VARCHAR(6),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_LOGRADOURO, Owner: SYSDBA */

CREATE TABLE "TB_LOGRADOURO" 
(
  "LOGR_CODIGO"	 CHAR(3) NOT NULL,
  "LOGR_DESCRICAO"	 VARCHAR(40) NOT NULL,
CONSTRAINT "PK_TB_LOGRADOURO" PRIMARY KEY ("LOGR_CODIGO")
);

/* Table: TB_MENSAGEM, Owner: SYSDBA */

CREATE TABLE "TB_MENSAGEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "MSG_COD"	 INTEGER,
  "MSG_CMPT_INI"	 VARCHAR(6),
  "MSG_CMPT_FIM"	 VARCHAR(6),
  "MSG_DESCR"	 VARCHAR(70),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_MODALIDADE, Owner: SYSDBA */

CREATE TABLE "TB_MODALIDADE" 
(
  "INDICE"	 INTEGER NOT NULL,
  "MOD_COD"	 VARCHAR(2),
  "MOD_DESCR"	 VARCHAR(100),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_MOT_COBR, Owner: SYSDBA */

CREATE TABLE "TB_MOT_COBR" 
(
  "INDICE"	 INTEGER NOT NULL,
  "MOT_COBR_COD"	 VARCHAR(2),
  "MOT_COBR_DESCR"	 VARCHAR(100),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_NACIONALIDADE, Owner: SYSDBA */

CREATE TABLE "TB_NACIONALIDADE" 
(
  "NAC_CODIGO"	 CHAR(3) NOT NULL,
  "NAC_DESCRICAO"	 VARCHAR(40) NOT NULL,
CONSTRAINT "PK_TB_NACIONALIDADE" PRIMARY KEY ("NAC_CODIGO")
);

/* Table: TB_PROC, Owner: SYSDBA */

CREATE TABLE "TB_PROC" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PROC_COD"	 VARCHAR(10),
  "PROC_DESCR"	 VARCHAR(250),
  "PROC_COMPLEX"	 CHAR(1),
  "PROC_SEXO"	 CHAR(1),
  "PROC_QTD_MAX"	 INTEGER,
  "PROC_QTD_DIAS"	 INTEGER,
  "PROC_QTD_PONTOS"	 INTEGER,
  "PROC_IDADE_MIN"	 SMALLINT,
  "PROC_IDADE_MAX"	 SMALLINT,
  "PROC_VL_SA"	 NUMERIC(12,2),
  "PROC_VL_SH"	 NUMERIC(12,2),
  "PROC_VL_SP"	 NUMERIC(12,2),
  "PROC_CMPT_INI"	 VARCHAR(6),
  "PROC_CMPT_FIM"	 VARCHAR(6),
  "PROC_CO_FINANC"	 VARCHAR(2),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_PROC_CBO, Owner: SYSDBA */

CREATE TABLE "TB_PROC_CBO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PCBO_PROC"	 VARCHAR(10),
  "PCBO_CBO"	 VARCHAR(6),
  "PCBO_CMPT_INI"	 VARCHAR(6),
  "PCBO_CMPT_FIM"	 VARCHAR(6),
 PRIMARY KEY ("INDICE")
);

/* Table: TB_PROC_COMP, Owner: SYSDBA */

CREATE TABLE "TB_PROC_COMP" 
(
  "INDICE"	 INTEGER NOT NULL,
  "PC_PROC_PRINC"	 VARCHAR(10),
  "PC_REG_PRINC"	 VARCHAR(2),
  "PC_PROC_SEC"	 VARCHAR(10),
  "PC_REG_SEC"	 VARCHAR(2),
  "PC_TP_COMPAT"	 CHAR(1),
  "PC_QT_PERMITIDA"	 INTEGER,
  "PC_CMPT_INI"	 VARCHAR(6),
  "PC_CMPT_FIM"	 VARCHAR(6),
 PRIMARY KEY ("INDICE")
);

/* Table: TECNICOS, Owner: SYSDBA */

CREATE TABLE "TECNICOS" 
(
  "A_TECNICO"	 PK_TECNICO ,
  "A_NOME"	 VARCHAR(40) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("A_NOME")
);

/* Table: TEMP, Owner: SYSDBA */

CREATE TABLE "TEMP" 
(
  "CBHPM04"	 VARCHAR(9),
  "CBHPM03"	 VARCHAR(9),
  "PROCEDIMENTO"	 VARCHAR(100),
  "DATASINC"	 TIMESTAMP
);

/* Table: TIPO, Owner: SYSDBA */

CREATE TABLE "TIPO" 
(
  "TIPO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(20),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "RELATORIO"	 CHAR(1),
  "ATIVO"	 CHAR(1)
);

/* Table: TIPOATEND, Owner: SYSDBA */

CREATE TABLE "TIPOATEND" 
(
  "CODIGO"	 VARCHAR(5) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
 PRIMARY KEY ("CODIGO")
);

/* Table: TIPOFATURA, Owner: SYSDBA */

CREATE TABLE "TIPOFATURA" 
(
  "TIPOFATURA"	 CHAR(1) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "GRUPO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_TIPOFATURA" PRIMARY KEY ("TIPOFATURA")
);

/* Table: TIPOGUIACPS, Owner: SYSDBA */

CREATE TABLE "TIPOGUIACPS" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50),
CONSTRAINT "PK_TIPOGUIACPS" PRIMARY KEY ("CODIGO")
);

/* Table: TIPOLEITO, Owner: SYSDBA */

CREATE TABLE "TIPOLEITO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(150),
CONSTRAINT "PK_TIPOLEITO" PRIMARY KEY ("CODIGO")
);

/* Table: TIPOMATMED, Owner: SYSDBA */

CREATE TABLE "TIPOMATMED" 
(
  "A_CODAMB"	 CHAR(8) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "GRUPO"	 VARCHAR(50),
CONSTRAINT "PK_TIPOMATMED" PRIMARY KEY ("A_CODAMB")
);

/* Table: TIPOPRESCRICAO, Owner: SYSDBA */

CREATE TABLE "TIPOPRESCRICAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCFICAO"	 VARCHAR(50) NOT NULL,
CONSTRAINT "PK_TIPOPRESCRICAO" PRIMARY KEY ("INDICE")
);

/* Table: TIPOPROC, Owner: SYSDBA */

CREATE TABLE "TIPOPROC" 
(
  "A_TIPO"	 CHAR(1) NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "GRUPO"	 VARCHAR(50),
  "CONTABIL"	 VARCHAR(20),
CONSTRAINT "PK_TIPOPROC" PRIMARY KEY ("A_TIPO")
);

/* Table: TIPOPROGRAMASAUDE, Owner: SYSDBA */

CREATE TABLE "TIPOPROGRAMASAUDE" 
(
  "TIPOPROGRAMASAUDE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(200) NOT NULL,
CONSTRAINT "PK_TIPOPROGRAMASAUDE" PRIMARY KEY ("TIPOPROGRAMASAUDE")
);

/* Table: TIPORISCO, Owner: SYSDBA */

CREATE TABLE "TIPORISCO" 
(
  "RISCO"	 VARCHAR(3),
  "TIPORISCO"	 VARCHAR(30)
);

/* Table: TIPOVISITANTE, Owner: SYSDBA */

CREATE TABLE "TIPOVISITANTE" 
(
  "IDTIPOVISITANTE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50),
CONSTRAINT "PK_TIPOVISITANTE" PRIMARY KEY ("IDTIPOVISITANTE")
);

/* Table: TISS11, Owner: SYSDBA */

CREATE TABLE "TISS11" 
(
  "CODIGO"	 CHAR(3),
  "DESCRICAO"	 VARCHAR(30),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS11_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS110, Owner: SYSDBA */

CREATE TABLE "TISS110" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS110_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS111, Owner: SYSDBA */

CREATE TABLE "TISS111" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS111_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS112, Owner: SYSDBA */

CREATE TABLE "TISS112" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS112_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS113, Owner: SYSDBA */

CREATE TABLE "TISS113" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS113_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS114, Owner: SYSDBA */

CREATE TABLE "TISS114" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(80),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
  "CODIGOSUS"	 INTEGER,
CONSTRAINT "PK_TISS114_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS115, Owner: SYSDBA */

CREATE TABLE "TISS115" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS115_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS116, Owner: SYSDBA */

CREATE TABLE "TISS116" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS116_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS117, Owner: SYSDBA */

CREATE TABLE "TISS117" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS117_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS118, Owner: SYSDBA */

CREATE TABLE "TISS118" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS118_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS119, Owner: SYSDBA */

CREATE TABLE "TISS119" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(40),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS119_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS12, Owner: SYSDBA */

CREATE TABLE "TISS12" 
(
  "CODIGO"	 VARCHAR(7),
  "DESCRICAO"	 VARCHAR(60),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS12_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS120, Owner: SYSDBA */

CREATE TABLE "TISS120" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS120_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS121, Owner: SYSDBA */

CREATE TABLE "TISS121" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS121_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS122, Owner: SYSDBA */

CREATE TABLE "TISS122" 
(
  "CODIGO"	 CHAR(4),
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS122_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS123, Owner: SYSDBA */

CREATE TABLE "TISS123" 
(
  "CODIGO"	 CHAR(3),
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS123_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS124, Owner: SYSDBA */

CREATE TABLE "TISS124" 
(
  "CODIGO"	 CHAR(3),
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS124_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS125, Owner: SYSDBA */

CREATE TABLE "TISS125" 
(
  "CODIGO"	 CHAR(5),
  "DESCRICAO"	 VARCHAR(80),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS125_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS126, Owner: SYSDBA */

CREATE TABLE "TISS126" 
(
  "GRUPO"	 VARCHAR(50),
  "DESCRICAO"	 VARCHAR(300),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(25),
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS126_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS13, Owner: SYSDBA */

CREATE TABLE "TISS13" 
(
  "CODIGO"	 CHAR(1),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS13_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS14, Owner: SYSDBA */

CREATE TABLE "TISS14" 
(
  "CODIGO"	 CHAR(1),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS14_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS15, Owner: SYSDBA */

CREATE TABLE "TISS15" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(70),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS15_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS16, Owner: SYSDBA */

CREATE TABLE "TISS16" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS16_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS17, Owner: SYSDBA */

CREATE TABLE "TISS17" 
(
  "CODIGO"	 CHAR(2),
  "DESCRICAO"	 VARCHAR(20),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS17_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS18, Owner: SYSDBA */

CREATE TABLE "TISS18" 
(
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 CHAR(2),
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS18_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISS19, Owner: SYSDBA */

CREATE TABLE "TISS19" 
(
  "DESCRICAO"	 VARCHAR(50),
  "SEQUENCIA"	 INTEGER NOT NULL,
  "CODIGO"	 CHAR(2),
  "VERSAO"	 VARCHAR(20),
CONSTRAINT "PK_TISS19_SEQUENCIA" PRIMARY KEY ("SEQUENCIA")
);

/* Table: TISSDOMINIO, Owner: SYSDBA */

CREATE TABLE "TISSDOMINIO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(20) NOT NULL,
  "DESCRICAO"	 VARCHAR(500) NOT NULL,
  "GRUPO"	 VARCHAR(100),
  "VERSAO"	 VARCHAR(20) NOT NULL,
  "TIPO"	 VARCHAR(20) NOT NULL,
  "INICIOVIGENCIA"	 TIMESTAMP,
  "FIMVIGENCIA"	 TIMESTAMP,
  "FIMIMPLANTACAO"	 TIMESTAMP,
  "CAMPOAUX01"	 VARCHAR(5000),
  "CAMPOAUX02"	 VARCHAR(5000),
  "DESCRICAO_DETALHADA"	 VARCHAR(5000),
  "TERMINOLOGIA"	 VARCHAR(20),
  "FORMA_ENVIO"	 VARCHAR(100),
  "FABRICANTE"	 VARCHAR(5000),
  "CLASSE_RISCO"	 VARCHAR(20),
  "REF_FABRICANTE"	 VARCHAR(250),
  "ANVISA"	 VARCHAR(100),
  "APRESENTACAO"	 VARCHAR(5000),
  "LABORATORIO"	 VARCHAR(100),
CONSTRAINT "PK_TISSDOMINIO" PRIMARY KEY ("INDICE", "VERSAO", "TIPO")
);

/* Table: TISSDOMINIOLEGENDA, Owner: SYSDBA */

CREATE TABLE "TISSDOMINIOLEGENDA" 
(
  "INDICE"	 VARCHAR(20) NOT NULL,
  "DESCRICAO"	 VARCHAR(200) NOT NULL,
  "INICIO"	 TIMESTAMP,
  "VIGENCIA"	 TIMESTAMP,
  "IMPLANTACAO"	 TIMESTAMP,
  "STATUS"	 VARCHAR(100),
  "INA"	 VARCHAR(10),
  "DATAINA"	 TIMESTAMP,
CONSTRAINT "PK_TISSDOMINIOLEGENDA" PRIMARY KEY ("INDICE")
);

/* Table: TISSDOMINIOSAPI, Owner: SYSDBA */

CREATE TABLE "TISSDOMINIOSAPI" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CODIGO"	 VARCHAR(20) NOT NULL,
  "DESCRICAO"	 VARCHAR(500) NOT NULL,
  "GRUPO"	 VARCHAR(100),
  "VERSAO"	 VARCHAR(20) NOT NULL,
  "TIPO"	 VARCHAR(20) NOT NULL,
  "INICIOVIGENCIA"	 TIMESTAMP,
  "FIMVIGENCIA"	 TIMESTAMP,
  "FIMIMPLANTACAO"	 TIMESTAMP,
  "CAMPOAUX01"	 VARCHAR(5000),
  "CAMPOAUX02"	 VARCHAR(5000),
  "DESCRICAO_DETALHADA"	 VARCHAR(5000),
  "TERMINOLOGIA"	 VARCHAR(20),
  "FORMA_ENVIO"	 VARCHAR(100),
  "FABRICANTE"	 VARCHAR(5000),
  "CLASSE_RISCO"	 VARCHAR(20),
  "REF_FABRICANTE"	 VARCHAR(250),
  "ANVISA"	 VARCHAR(100),
  "APRESENTACAO"	 VARCHAR(5000),
  "LABORATORIO"	 VARCHAR(100),
  "DESCRICAOORIGINAL"	 VARCHAR(1300),
CONSTRAINT "PK_TISSDOMINIOSAPI" PRIMARY KEY ("INDICE", "VERSAO", "TIPO")
);

/* Table: TISSSIMPRO, Owner: SYSDBA */

CREATE TABLE "TISSSIMPRO" 
(
  "SIMPRO"	 INTEGER,
  "ANVISA"	 VARCHAR(20),
  "DESCRICAO"	 VARCHAR(150),
  "FABRICANTE"	 VARCHAR(150)
);

/* Table: TISS_ANVISA_MATMED, Owner: SYSDBA */

CREATE TABLE "TISS_ANVISA_MATMED" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TABELA"	 VARCHAR(50) NOT NULL,
  "ANVISA"	 VARCHAR(30),
  "REF_MAT_FAB"	 VARCHAR(30),
  "AUT_FUNCIONAMENTO"	 VARCHAR(30),
  "USER1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "PROCEDIMENTO"	 VARCHAR(10) CHARACTER SET ISO8859_1,
  "NUM_SERIE"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "LOTE_PROD"	 VARCHAR(30) CHARACTER SET ISO8859_1,
  "CNPJ_FORN"	 VARCHAR(14) CHARACTER SET ISO8859_1,
  "CNPJ_FABR"	 VARCHAR(14) CHARACTER SET ISO8859_1,
  "NUM_NOTA_FISCAL"	 VARCHAR(10) CHARACTER SET ISO8859_1,
CONSTRAINT "PK_TISS_ANVISA_MATMED" PRIMARY KEY ("INDICE", "TABELA")
);

/* Table: TRANSFEVOLUCAO, Owner: SYSDBA */

CREATE TABLE "TRANSFEVOLUCAO" 
(
  "IDTRANSFEVOLUCAO"	 INTEGER NOT NULL,
  "SOLICITAGUIA"	 INTEGER NOT NULL,
  "EVOLUCAO"	 VARCHAR(250),
  "DATA"	 TIMESTAMP,
  "MEDRESP"	 INTEGER,
CONSTRAINT "PK_TRANSFEVOLUCAO" PRIMARY KEY ("IDTRANSFEVOLUCAO")
);

/* Table: TRATAMENTO, Owner: SYSDBA */

CREATE TABLE "TRATAMENTO" 
(
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "NOME"	 VARCHAR(100),
  "A_CODAMB"	 CHAR(8),
  "CODIGOANTIGO"	 INTEGER,
  "TIPO"	 CHAR(1),
  "DIAS"	 SMALLINT,
  "QUANTIDADE"	 INTEGER,
  "TOTAL"	 DOUBLE PRECISION,
  "QUANTIDADE1"	 INTEGER,
  "TOTAL1"	 DOUBLE PRECISION,
  "PQUANTIDADE"	 INTEGER,
  "PTOTAL"	 DOUBLE PRECISION,
  "PARCELA"	 SMALLINT,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CHECADO"	 CHAR(1),
  "ATIVO"	 CHAR(1),
  "GERARDIARIA"	 CHAR(1),
  "PRESCRICAO"	 CHAR(1),
  "PACOTE"	 CHAR(1),
  "A_CODAMB1"	 VARCHAR(8),
  "UNIDADENEGOCIO"	 INTEGER,
  "CCUSTO"	 INTEGER,
 PRIMARY KEY ("TRATAMENTO")
);

/* Table: TRATAMENTO2, Owner: SYSDBA */

CREATE TABLE "TRATAMENTO2" 
(
  "CODIGO"	 PK_CODIGO ,
  "TRATAMENTO"	 PK_CODIGO ,
  "CODIGOAMB"	 VARCHAR(8) NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
CONSTRAINT "PK_TRATAMENTO2" PRIMARY KEY ("CODIGO")
);

/* Table: TRATAMENTO3, Owner: SYSDBA */

CREATE TABLE "TRATAMENTO3" 
(
  "INDICE"	 FLOAT NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO ,
  "QUANTIDADE"	 SMALLINT,
  "CODIGOAMB"	 CHAR(8) NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOSERV"	 INTEGER NOT NULL,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: TRATAMENTO4, Owner: SYSDBA */

CREATE TABLE "TRATAMENTO4" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO ,
  "KIT"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: TRAVAFATURAMENTO, Owner: SYSDBA */

CREATE TABLE "TRAVAFATURAMENTO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "INICIO"	 TIMESTAMP NOT NULL,
  "FINAL"	 TIMESTAMP NOT NULL,
  "ATD"	 CHAR(1),
  "FAT"	 CHAR(1),
  "GLOSA"	 CHAR(1),
  "INCLUIR"	 CHAR(1),
  "ALTERAR"	 CHAR(1),
  "DELETAR"	 CHAR(1),
CONSTRAINT "PK_TRAVAFATURAMENTO" PRIMARY KEY ("INDICE")
);

/* Table: TRIAGEM, Owner: SYSDBA */

CREATE TABLE "TRIAGEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(40) NOT NULL,
  "ORDEMCHAMADA"	 INTEGER,
  "OBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "COR"	 VARCHAR(10),
CONSTRAINT "PK_TRIAGEM" PRIMARY KEY ("INDICE")
);

/* Table: TUSS, Owner: SYSDBA */

CREATE TABLE "TUSS" 
(
  "CODIGOAMB"	 VARCHAR(8),
  "DESCRICAO"	 VARCHAR(500),
  "AMB90"	 VARCHAR(9),
  "AMB92"	 VARCHAR(9),
  "AMB96"	 VARCHAR(9),
  "AMB99"	 VARCHAR(9),
  "CBHPM3"	 VARCHAR(9),
  "CBHPM4"	 VARCHAR(9),
  "CBHPM5"	 VARCHAR(9),
  "CONVENIO"	 INTEGER,
  "CODUSER"	 INTEGER
);

/* Table: TUSSANVISA, Owner: SYSDBA */

CREATE TABLE "TUSSANVISA" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TUSS"	 VARCHAR(30),
  "ANVISA"	 VARCHAR(30),
  "TIPO"	 VARCHAR(10),
CONSTRAINT "PK_TUSSANVISA" PRIMARY KEY ("INDICE")
);

/* Table: UNIDADE, Owner: SYSDBA */

CREATE TABLE "UNIDADE" 
(
  "CODIGO"	 INTEGER,
  "NOME"	 VARCHAR(50),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP
);

/* Table: UNIDADENEGOCIO, Owner: SYSDBA */

CREATE TABLE "UNIDADENEGOCIO" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "NOME"	 VARCHAR(40) NOT NULL,
  "DATASINC"	 TIMESTAMP,
  "CCUSTO"	 INTEGER,
  "CCUSTOFIN"	 INTEGER,
  "CCUSTOCONTABIL"	 INTEGER,
  "AMBULATORIO"	 CHAR(1),
  "EMERGENCIA"	 CHAR(1),
  "UTI"	 CHAR(1),
  "CLINICO"	 CHAR(1),
  "CIRURGICO"	 CHAR(1),
  "MATMED"	 CHAR(1),
  "DIARIAS"	 CHAR(1),
  "ATIVO"	 CHAR(1),
CONSTRAINT "PK_UNIDADENEGOCIO" PRIMARY KEY ("CODIGO")
);

/* Table: USUARIOCONFIG, Owner: SYSDBA */

CREATE TABLE "USUARIOCONFIG" 
(
  "INDICE"	 INTEGER NOT NULL,
  "SISTEMA"	 VARCHAR(20),
  "PARAMETRO"	 VARCHAR(40),
  "VALOR"	 VARCHAR(100),
  "DESCRICAO"	 VARCHAR(150),
  "DATASINC"	 TIMESTAMP,
  "GRUPO"	 VARCHAR(20),
  "USUARIO"	 INTEGER,
 PRIMARY KEY ("INDICE")
);

/* Table: USUARIOS, Owner: SYSDBA */

CREATE TABLE "USUARIOS" 
(
  "CODIGO"	 PK_CODIGO ,
  "A_NOME"	 VARCHAR(100),
  "ENDERECO"	 VARCHAR(50),
  "A_CPF"	 PK_CPF ,
  "CEP"	 VARCHAR(8),
  "CIDADE"	 PK_CIDADE ,
  "BAIRRO"	 PK_BAIRRO ,
  "NASCIMENTO"	 TIMESTAMP,
  "SENHA"	 VARCHAR(8),
  "EMAIL"	 PK_EMAIL ,
  "TELEFONE1"	 VARCHAR(15),
  "TELEFONE2"	 VARCHAR(15),
  "CELULAR"	 VARCHAR(15),
  "UF"	 PK_UF ,
  "CODIGOANTIGO"	 CHAR(3),
  "IP"	 VARCHAR(15),
  "IPLOCAL"	 VARCHAR(15),
  "DATAENTRADA"	 TIMESTAMP,
  "HORAENTRADA"	 TIMESTAMP,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "ASSISTENTE"	 VARCHAR(70),
  "IA"	 CHAR(1),
  "IA1"	 INTEGER,
  "IA2"	 INTEGER,
  "DEPTO"	 SMALLINT,
  "MEDICO"	 INTEGER,
  "FOTO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "MATRICULA"	 INTEGER,
  "EXPIRA"	 TIMESTAMP,
  "HORAINICIO"	 TIMESTAMP,
  "HORAFIM"	 TIMESTAMP,
  "SEXO"	 CHAR(1),
  "MAQUINAS"	 INTEGER,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ALMOXARIFADO"	 INTEGER,
  "APELIDO"	 VARCHAR(30),
  "MONITOR"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATIVO"	 CHAR(1),
  "HTML"	 VARCHAR(50),
  "SKYPE"	 VARCHAR(30),
  "VOZ"	 CHAR(1),
  "BARRAPROG"	 CHAR(1),
  "DIRETOAOSITE"	 CHAR(1),
  "CNPJ"	 PK_CNPJ ,
  "NUMEROCLIENTE"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "INFORME1"	 CHAR(1),
  "INFORME2"	 CHAR(1),
  "FAXGERENCIA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "DIGITAL1"	 VARCHAR(700),
  "DIGITAL2"	 VARCHAR(700),
  "SUPERACESSO"	 CHAR(1),
  "SUPERACESSO1"	 CHAR(1),
  "FINANCEIROR"	 CHAR(1),
  "FINANCEIROP"	 CHAR(1),
  "SMTP"	 VARCHAR(50),
  "SMTPUSERID"	 VARCHAR(50),
  "SMTPSENHA"	 VARCHAR(20),
  "SKIN"	 VARCHAR(100),
  "FUNCAO"	 VARCHAR(150),
  "PORTAEMAIL"	 INTEGER,
  "EMAILAUTENTIC"	 CHAR(1),
  "EMAILSSL"	 CHAR(1),
  "SUPERACESSO2"	 CHAR(1),
  "DATAADMISSAO"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "USERDATA1"	 TIMESTAMP,
  "USERDATA2"	 TIMESTAMP,
  "IP1"	 VARCHAR(20),
  "VERSAO"	 VARCHAR(20),
  "IP2"	 VARCHAR(20),
  "VERSAO2"	 VARCHAR(20),
  "DSTIPOACESSO"	 CHAR(1),
  "LABORATORIO"	 CHAR(1),
  "USUARIOAD"	 VARCHAR(100),
  "USUARIOBD"	 VARCHAR(20),
  "SMS_RECEBI"	 VARCHAR(1),
  "SMS_MARCADO"	 VARCHAR(1),
  "TROCARSENHA"	 CHAR(1),
 PRIMARY KEY ("CODIGO")
);

/* Table: UTI_TISS28, Owner: SYSDBA */

CREATE TABLE "UTI_TISS28" 
(
  "ID_UTI_TISS28"	 INTEGER NOT NULL,
  "MONITORIZACAO_BASICA"	 INTEGER,
  "LABORATORIO"	 INTEGER,
  "MEDICACAO_UNICA"	 INTEGER,
  "MEDICACAO_INTRAVENOSA"	 INTEGER,
  "CUIDADOS_ROTINA"	 INTEGER,
  "CUIDADOS_FREQUENTES"	 INTEGER,
  "DRENO"	 INTEGER,
  "PIC"	 INTEGER,
  "VENTILACAO_MECANICA"	 INTEGER,
  "SUPORTE_VENTILATORIO"	 INTEGER,
  "CUIDADOS_VIAS_AEREAS"	 INTEGER,
  "FISIO_ASPIRACAO"	 INTEGER,
  "DVA"	 INTEGER,
  "DVA_MULTIPLAS"	 INTEGER,
  "VOLEMICA"	 INTEGER,
  "PAM"	 INTEGER,
  "SWAN_GANS"	 INTEGER,
  "CVC"	 INTEGER,
  "PCR"	 INTEGER,
  "DIALISE"	 INTEGER,
  "DIURESE"	 INTEGER,
  "DIURETICO"	 INTEGER,
  "ALCALOSE"	 INTEGER,
  "NUTRICAO"	 INTEGER,
  "ENTERAL"	 INTEGER,
  "INTERVENCAO_SIMPLES"	 INTEGER,
  "INTERVENCAO_MULTIPLA"	 INTEGER,
  "CIRURGIA"	 INTEGER,
  "CODIGOCPS"	 INTEGER,
  "DATA"	 TIMESTAMP,
  "USUARIO"	 INTEGER,
  "TOTAL"	 INTEGER,
  "DATA_ALTA"	 TIMESTAMP,
  "TIPO"	 INTEGER,
  "CLASSE"	 INTEGER,
  "CLASSIFICACAO"	 CHAR(1),
CONSTRAINT "PK_UTI_TISS28" PRIMARY KEY ("ID_UTI_TISS28")
);

/* Table: VENTILACAO, Owner: SYSDBA */

CREATE TABLE "VENTILACAO" 
(
  "INDICE"	 INTEGER NOT NULL,
  "TIPOVENT"	 VARCHAR(10),
  "OBS"	 VARCHAR(30),
  "PEP"	 VARCHAR(30),
  "FIO2"	 VARCHAR(30),
  "RELACAO"	 VARCHAR(30),
  "RAMSEY"	 VARCHAR(30),
  "CODIGOCPS"	 FLOAT,
  "MODO"	 VARCHAR(30),
  "DATA"	 TIMESTAMP,
  "MECANICA"	 VARCHAR(30),
  "EVOLUCAO"	 INTEGER,
  "INICIO"	 TIMESTAMP,
  "TERMINO"	 TIMESTAMP,
  "DESMAME"	 TIMESTAMP,
  "VNI"	 CHAR(10),
CONSTRAINT "PK_VENTILACAO" PRIMARY KEY ("INDICE")
);

/* Table: VINCULORX, Owner: SYSDBA */

CREATE TABLE "VINCULORX" 
(
  "NUMERO"	 INTEGER NOT NULL,
  "CODIGOSERV"	 PK_CODIGOSERV ,
  "LAUDO"	 VARCHAR(60),
  "A_CODAMB1"	 CHAR(8),
  "A_CODAMB2"	 CHAR(8),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "A_MEDICOS"	 INTEGER,
 PRIMARY KEY ("NUMERO")
);

/* Table: WCL_TAREFAMOVEL, Owner: SYSDBA */

CREATE TABLE "WCL_TAREFAMOVEL" 
(
  "INDICE"	 INTEGER NOT NULL,
  "DESCRICAO"	 VARCHAR(50) NOT NULL,
  "IMAGEM"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATIVO"	 CHAR(1),
  "BD"	 VARCHAR(100),
  "SQLMASTER"	 VARCHAR(250),
  "SQLDETAIL"	 VARCHAR(250),
CONSTRAINT "PK_WCL_TAREFAMOVEL" PRIMARY KEY ("INDICE")
);

/* Table: WEBSERVICE, Owner: SYSDBA */

CREATE TABLE "WEBSERVICE" 
(
  "CODIGO"	 INTEGER NOT NULL,
  "TIPO"	 VARCHAR(50),
  "XMLENVIO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "XMLRETORNO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "STATUS"	 CHAR(1),
  "USUARIO"	 INTEGER,
  "DATAENVIO"	 TIMESTAMP,
  "DATARETORNO"	 TIMESTAMP,
  "WEBSERVICE"	 VARCHAR(250),
CONSTRAINT "PK_WEBSERVICE" PRIMARY KEY ("CODIGO")
);

/* Table: XALTAITEM, Owner: SYSDBA */

CREATE TABLE "XALTAITEM" 
(
  "INDICE"	 INTEGER NOT NULL,
  "ALTA"	 INTEGER NOT NULL,
  "CODIGOAMB"	 VARCHAR(30) NOT NULL,
  "CODIGOSERV"	 INTEGER,
  "DESCRICAO"	 VARCHAR(500) NOT NULL,
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(1000),
  "CLASSE"	 VARCHAR(40),
  "INDICE_PEDIDO"	 INTEGER,
  "RESP_CHECAGEM"	 VARCHAR(30),
  "CPS"	 DOUBLE PRECISION,
  "USUARIODELETOU"	 INTEGER
);

/* Table: XCCIH, Owner: SYSDBA */

CREATE TABLE "XCCIH" 
(
  "INDICE"	 INTEGER NOT NULL,
  "CLINICA"	 VARCHAR(30),
  "CPS"	 INTEGER,
  "ANTIMICROBIANO"	 VARCHAR(30),
  "CID1"	 VARCHAR(4),
  "CID2"	 VARCHAR(4),
  "CID3"	 VARCHAR(4),
  "DOSEDIARIA"	 VARCHAR(10),
  "VIA"	 VARCHAR(10),
  "TEMPO"	 VARCHAR(15),
  "USOTERAPEUTICO"	 CHAR(1),
  "INICIO"	 CHAR(1),
  "PRORROGACAO"	 CHAR(1),
  "FERIDACIRURGICA"	 CHAR(1),
  "NENHUMA"	 CHAR(1),
  "URINA"	 CHAR(1),
  "SANGUE"	 CHAR(1),
  "LIQUOR"	 CHAR(1),
  "SECRETRAQUEAL"	 CHAR(1),
  "LAVADOBRONCOALVEOLAR"	 CHAR(1),
  "OUTROS"	 CHAR(1),
  "PATOGENOIDENTIFICADO"	 VARCHAR(1),
  "ANTIOBIOGRAMA"	 VARCHAR(30),
  "USOPROFILATICO"	 CHAR(1),
  "PROCEDIMENTO"	 VARCHAR(250),
  "MEDICORESP"	 VARCHAR(50),
  "DATA"	 TIMESTAMP,
  "CRM"	 VARCHAR(8),
  "MEDICOCCIH"	 VARCHAR(40),
  "FARMACEUTICO"	 VARCHAR(40),
  "CRMCCIH"	 VARCHAR(8),
  "CRF"	 VARCHAR(8),
  "PRESCRICAO"	 INTEGER,
  "PATOGENO1"	 VARCHAR(40),
  "PATOGENO2"	 VARCHAR(40),
  "ANTISENSIB"	 VARCHAR(60),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATAINICIO"	 TIMESTAMP,
  "DATAFINAL"	 TIMESTAMP,
  "ANTIMICROBIANO1"	 VARCHAR(30),
  "DOSEDIARIA1"	 VARCHAR(10),
  "VIA1"	 VARCHAR(10),
  "TEMPO1"	 VARCHAR(15),
  "DIAGNOSTICO"	 VARCHAR(300),
  "PONTACATETER"	 CHAR(1),
  "PACIENTE"	 INTEGER,
  "LEITO"	 VARCHAR(30),
  "CODIGOMED"	 INTEGER,
  "NOMEPAC"	 VARCHAR(100),
  "IMPRESSO"	 CHAR(1),
  "INDICE_NOTAMED2"	 FLOAT,
  "PARECER_FARMACEUTICO"	 VARCHAR(3000),
  "PARECER_SCIH"	 VARCHAR(3000),
  "DATA_FARMA"	 TIMESTAMP,
  "DATA_SCIH"	 TIMESTAMP,
  "ENDOCARDITE"	 CHAR(1),
  "FLEBITE"	 VARCHAR(1),
  "GASTOINTESTINAL"	 VARCHAR(1),
  "OSTEOMIELITE"	 VARCHAR(1),
  "PELEPARTESMOLES"	 VARCHAR(1),
  "PERIONITE"	 VARCHAR(1),
  "PERICARDITE"	 VARCHAR(1),
  "RESPIRATORIA"	 VARCHAR(1),
  "URINARIA"	 VARCHAR(1),
  "VIASBILIARES"	 VARCHAR(1),
  "SNC"	 VARCHAR(1),
  "SEPSECATETER"	 VARCHAR(1),
  "SEPSEINDEFINIDO"	 VARCHAR(1),
  "SITIOCIRURGICO"	 VARCHAR(1),
  "OUTROSITIO"	 VARCHAR(1),
  "PRIMEIRAREQUISICAO"	 CHAR(1),
  "MUDANCAANTIMICROBIANO"	 VARCHAR(1),
  "INFECCOMUNITARIA"	 VARCHAR(1),
  "INFECHOSPITALAR"	 VARCHAR(1),
  "ANTIBIOGRAMA"	 VARCHAR(1),
  "FUNCAORENALALT"	 VARCHAR(1),
  "FUNCAOHEPALT"	 VARCHAR(1),
  "USERDEL"	 INTEGER
);

/* Table: XEVOLUCAOENF, Owner: SYSDBA */

CREATE TABLE "XEVOLUCAOENF" 
(
  "EVOLUCAO"	 FLOAT NOT NULL,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "DATAHORA"	 TIMESTAMP NOT NULL,
  "CONTEUDO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "IMPRESSO"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "TIPO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "CLASSE"	 INTEGER,
  "PLANO_CONDUTA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PROBLEMAS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "HISTORIA_ADMISSAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DATA_ADMISSAO"	 DATE,
  "TURNO"	 VARCHAR(20),
  "PROCEDIMENTOS"	 VARCHAR(250),
  "ISOLAMENTO"	 CHAR(1),
  "SUSP_DIAGNOSTICA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TIPOEVOL"	 CHAR(1),
  "TEMPERATURA"	 DOUBLE PRECISION,
  "PULSO"	 INTEGER,
  "FR"	 INTEGER,
  "PAS"	 VARCHAR(10),
  "PAD"	 VARCHAR(10),
  "PESO"	 DOUBLE PRECISION,
  "USERDEL"	 INTEGER,
 PRIMARY KEY ("EVOLUCAO")
);

/* Table: XINTER4, Owner: SYSDBA */

CREATE TABLE "XINTER4" 
(
  "INTER4NO"	 FLOAT NOT NULL,
  "CODIGOINT"	 FLOAT,
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATAFIM"	 TIMESTAMP,
  "HORAFIM"	 TIMESTAMP,
  "FOIPARA"	 PK_LEITOS ,
  "LEITO"	 PK_LEITOS  NOT NULL,
  "CODIGO"	 PK_CODIGO ,
  "A_ALA"	 SMALLINT NOT NULL,
  "A_CODIGO1"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "A_CODIGO"	 INTEGER,
  "A_MEDICOS"	 SMALLINT,
  "DATASINC"	 TIMESTAMP,
  "USERDEL"	 INTEGER
);

/* Table: XL_CONVENIO, Owner: SYSDBA */

CREATE TABLE "XL_CONVENIO" 
(
  "XLCONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_NOME"	 VARCHAR(40),
  "ENDERECO"	 ENDERECO ,
  "BAIRRO"	 VARCHAR(20),
  "CIDADE"	 VARCHAR(20),
  "CONTATO"	 VARCHAR(40),
  "ENTREGA"	 TIMESTAMP,
  "MENSAGEM"	 VARCHAR(50),
  "MENSAGEM1"	 VARCHAR(50),
  "LIMITE"	 TIMESTAMP,
  "REVISAO"	 SMALLINT,
  "ADCAMB"	 VARCHAR(1),
  "ADCINT"	 VARCHAR(1),
  "ETIQUETA"	 VARCHAR(1),
  "CODEMERG"	 VARCHAR(12),
  "A_VALOR"	 DOUBLE PRECISION,
  "CODMAT"	 VARCHAR(10),
  "CODESP"	 VARCHAR(10),
  "CEP"	 VARCHAR(8),
  "EMAIL"	 PK_EMAIL ,
  "HTML"	 PK_HTML ,
  "HONORARIO"	 PK_SIMNAO ,
  "H"	 PK_SIMNAO ,
  "V"	 PK_SIMNAO ,
  "R"	 PK_SIMNAO ,
  "C"	 PK_SIMNAO ,
  "S"	 PK_SIMNAO ,
  "N"	 PK_SIMNAO ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "TELEFONE1"	 VARCHAR(15),
  "UF"	 PK_UF ,
  "INTERNAMENTO"	 VARCHAR(1),
  "AMBULATORIO"	 VARCHAR(1),
  "EMERGENCIA"	 VARCHAR(1),
  "LIBERADO"	 PK_SITUACAO ,
  "CODCRED"	 CHAR(15),
  "MENSAGEM2"	 VARCHAR(50),
  "TABHON"	 SMALLINT,
  "TABTAXA"	 SMALLINT,
  "MOETABHON"	 SMALLINT,
  "MOETABTAXA"	 SMALLINT,
  "CODMED"	 VARCHAR(10),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "JANEIRO"	 DOUBLE PRECISION,
  "FEVEREIRO"	 DOUBLE PRECISION,
  "MARCO"	 DOUBLE PRECISION,
  "ABRIL"	 DOUBLE PRECISION,
  "MAIO"	 DOUBLE PRECISION,
  "JUNHO"	 DOUBLE PRECISION,
  "JULHO"	 DOUBLE PRECISION,
  "AGOSTO"	 DOUBLE PRECISION,
  "SETEMBRO"	 DOUBLE PRECISION,
  "OUTUBRO"	 DOUBLE PRECISION,
  "NOVEMBRO"	 DOUBLE PRECISION,
  "DEZEMBRO"	 DOUBLE PRECISION,
  "CONSULTA"	 DOUBLE PRECISION,
  "TRAVAEM"	 TIMESTAMP,
  "FORMULA"	 SMALLINT,
  "CNPJ"	 PK_CNPJ ,
  "CODIGOANTIGO"	 FLOAT,
  "CONSULTA1"	 DOUBLE PRECISION,
  "HTML1"	 VARCHAR(80),
  "FILME"	 DOUBLE PRECISION,
  "FORMULA1"	 SMALLINT,
  "PC_ENDERECO"	 CHAR(1),
  "PC_MATRICULA"	 CHAR(1),
  "PC_IDENTIDADE"	 CHAR(1),
  "PC_NASC"	 CHAR(1),
  "PC_TRABALHO"	 CHAR(1),
  "PC_NATURALIDADE"	 CHAR(1),
  "PC_PAI"	 CHAR(1),
  "PC_MAE"	 CHAR(1),
  "PC_SEXO"	 CHAR(1),
  "PC_A_CPF"	 CHAR(1),
  "PC_CEP"	 CHAR(1),
  "PC_BAIRRO"	 CHAR(1),
  "PC_CIDADE"	 CHAR(1),
  "PC_TELEFONE"	 CHAR(1),
  "PC_CELULAR"	 CHAR(1),
  "PC_CIVIL"	 CHAR(1),
  "PC_COR"	 CHAR(1),
  "PC_TRABALHO1"	 CHAR(1),
  "KCA_DATAFAT"	 CHAR(1),
  "KCA_HORA"	 CHAR(1),
  "KCMATRICULA"	 CHAR(1),
  "KCA_VALIDADE"	 CHAR(1),
  "KCA_GUIA"	 CHAR(1),
  "KCA_ULTPAGTO"	 CHAR(1),
  "KCA_CID"	 CHAR(1),
  "KCDATASAIDA"	 CHAR(1),
  "KCHORASAIDA"	 CHAR(1),
  "KCSOLTIPO"	 CHAR(1),
  "KCSOLCREMEB"	 CHAR(1),
  "KCSOLDATA"	 CHAR(1),
  "KCSOLCNPJ"	 CHAR(1),
  "KCPRINCIPAL"	 CHAR(1),
  "KCESPECIALIDADE"	 CHAR(1),
  "ESPECIALIDADE"	 CHAR(1),
  "MOETABEXAME"	 SMALLINT,
  "PARTICULAR"	 CHAR(1),
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "PACOTE"	 CHAR(1),
  "TRAVAEM1"	 TIMESTAMP,
  "TRAVAEM2"	 TIMESTAMP,
  "TABRX"	 INTEGER,
  "MOETABRX"	 INTEGER,
  "DIAENTREGA"	 INTEGER,
  "DIAENTREGA1"	 INTEGER,
  "TABCBHPM"	 INTEGER,
  "DATACONTRATOINI"	 TIMESTAMP,
  "DATACONTRATOFIM"	 TIMESTAMP,
  "DATAPROXIMANEGOC"	 TIMESTAMP,
  "RESPAMB"	 INTEGER,
  "RESPEMG"	 INTEGER,
  "RESPINT"	 INTEGER,
  "CONTRASTE1"	 DOUBLE PRECISION,
  "CONTRASTE2"	 DOUBLE PRECISION,
  "MATMEDOBS"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "NOTAFISCAL"	 CHAR(1),
  "IRRF"	 CHAR(1),
  "ENDERECO1"	 VARCHAR(50),
  "BAIRRO1"	 VARCHAR(20),
  "CIDADE1"	 VARCHAR(20),
  "CEP1"	 CHAR(8),
  "TELEFONE2"	 VARCHAR(15),
  "UF1"	 PK_UF ,
  "EMAIL2"	 PK_EMAIL ,
  "HTML2"	 PK_HTML ,
  "LIMITEENVIOFATURA"	 VARCHAR(40),
  "LIMITERECEBFATURA"	 VARCHAR(40),
  "TRAVAIMP"	 CHAR(1),
  "IE"	 VARCHAR(20),
  "TRAVAESP"	 CHAR(1),
  "ABRAMGE"	 VARCHAR(5),
  "EMPRESA"	 SMALLINT,
  "SIMPRO"	 DOUBLE PRECISION,
  "CODCONTR"	 VARCHAR(10),
  "CODORTPROT"	 VARCHAR(10),
  "DIASGLOSA"	 VARCHAR(40),
  "PREVPAGTOGLOSA"	 VARCHAR(40),
  "SIMPROX"	 CHAR(1),
  "NORMAL1"	 TIMESTAMP,
  "NORMAL2"	 TIMESTAMP,
  "SABADO1"	 TIMESTAMP,
  "SABADO2"	 TIMESTAMP,
  "MARGEMH"	 DOUBLE PRECISION,
  "FROMCONVENIO"	 INTEGER,
  "UCO"	 DOUBLE PRECISION,
  "FORMCONVENIO"	 INTEGER,
  "DATACONTRATOULT"	 TIMESTAMP,
  "OBSNEGOCIACAO"	 VARCHAR(200),
  "TAMANHOMAT"	 INTEGER,
  "IMPOSTONAFONTE"	 DOUBLE PRECISION,
  "CONSULTAUNICA"	 CHAR(1),
  "EXPORTAR"	 CHAR(1),
  "FAX"	 VARCHAR(15),
  "H_IRRF"	 DOUBLE PRECISION,
  "H_PIS"	 DOUBLE PRECISION,
  "H_COFINS"	 DOUBLE PRECISION,
  "H_CLS"	 DOUBLE PRECISION,
  "H_ISS"	 DOUBLE PRECISION,
  "MOETABFISIO"	 INTEGER,
  "FILMETOM"	 DOUBLE PRECISION,
  "MEDICINET"	 CHAR(1),
  "KC_PLANO"	 CHAR(1),
  "KCPORIGEM"	 CHAR(1),
  "ENVIAFAX"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "MOSTRAPLANO"	 CHAR(1),
  "MOSTRAULTPAGTO"	 CHAR(1),
  "MOSTRAPRODUTO"	 CHAR(1),
  "MOSTRAVALIDADE"	 CHAR(1),
  "MOSTRAGUIA"	 CHAR(1),
  "MOSTRAMEDSOL"	 CHAR(1),
  "KCA_PRODUTO"	 CHAR(1),
  "CODESPECIALIDADE"	 CHAR(1),
  "CONTABIL"	 VARCHAR(8),
  "CODCONSULTA"	 VARCHAR(8),
  "MMAVISO"	 NUMERIC(15,2),
  "LOGOMARCA"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "FONTEREMUNERA"	 CHAR(1),
  "ANS"	 VARCHAR(6),
  "REMESSA"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "PADRAOCONSULTA"	 VARCHAR(8),
  "MOEDATABTOM"	 SMALLINT,
  "BRASINDICE"	 FLOAT,
  "KCANS"	 CHAR(1),
  "RAZAOSOCIAL"	 VARCHAR(40),
  "IM"	 VARCHAR(14),
  "IMPCODIGOUNIMED"	 CHAR(1),
  "TABMED"	 CHAR(2),
  "TABMAT"	 CHAR(2),
  "DIARIAENF"	 VARCHAR(8),
  "DIARIAENF2"	 VARCHAR(8),
  "DIARIAAPT"	 VARCHAR(8),
  "DIARIAUTI"	 VARCHAR(8),
  "ASSISTENF"	 VARCHAR(8),
  "ASSISTENF2"	 VARCHAR(8),
  "ASSISTAPT"	 VARCHAR(8),
  "ASSISTUTI"	 VARCHAR(8),
  "TAXAINT"	 VARCHAR(8),
  "HORAAUTO"	 TIMESTAMP,
  "GENERICO"	 CHAR(1),
  "INTERNAMENTOENF"	 CHAR(1),
  "INTERNAMENTOAP"	 CHAR(1),
  "INTERNAMENTOUTI"	 CHAR(1),
  "KCTPDOENCA"	 CHAR(1),
  "KCINDACIDENTE"	 CHAR(1),
  "KCTEMPDOENCA"	 CHAR(1),
  "KCUNTEMPDOENCA"	 CHAR(1),
  "KCTPATENDTISS"	 CHAR(1),
  "MEDICOPADRAO"	 INTEGER,
  "PAGTGENERICO"	 CHAR(1),
  "TAMANHOAUT"	 INTEGER,
  "MASCARAAUTORIZ"	 VARCHAR(30),
  "IMPCODTISS"	 VARCHAR(1),
  "IMPOSTOMEDICO"	 CHAR(1),
  "CODSINT"	 VARCHAR(8),
  "PACOTEEMG"	 CHAR(1),
  "PACOTEINT"	 CHAR(1),
  "HTMLAUT"	 VARCHAR(80),
  "TIPOENVIO"	 INTEGER,
  "MOEDACORX"	 INTEGER,
  "MOEDACOTO"	 INTEGER,
  "DIASPARCIAL"	 INTEGER,
  "LIMITECH"	 INTEGER,
  "CBONOVO"	 CHAR(1),
  "CODIGOREVISAO"	 VARCHAR(10),
  "PACOTEAMB"	 CHAR(1),
  "SITEENVIO"	 VARCHAR(100),
  "PASTAXML"	 VARCHAR(100),
  "ZIPARXML"	 CHAR(1),
  "ORTPROT"	 DOUBLE PRECISION,
  "TEMPORT"	 SMALLINT,
  "ORTPROT1"	 SMALLINT,
  "TAXAEMEG"	 VARCHAR(8),
  "HORAAUTOEMEG"	 INTEGER,
  "CODCONVENIO"	 INTEGER,
 PRIMARY KEY ("XLCONVENIO")
);

/* Table: XMATMEDP, Owner: SYSDBA */

CREATE TABLE "XMATMEDP" 
(
  "DATA"	 TIMESTAMP NOT NULL,
  "BRASINDICE"	 CHAR(4),
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "PRECO"	 FLOAT NOT NULL,
  "CODIGO"	 SMALLINT,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CODIMPORT"	 INTEGER,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "PRECOPFB"	 FLOAT,
  "PRECOPMC"	 DOUBLE PRECISION,
  "DATA_AUDITORIA"	 TIMESTAMP,
 PRIMARY KEY ("INDICE")
);

/* Table: XMLDEMONSTRATIVO, Owner: SYSDBA */

CREATE TABLE "XMLDEMONSTRATIVO" 
(
  "XMLID"	 INTEGER,
  "REGISTROANS"	 VARCHAR(20),
  "HASH"	 VARCHAR(200),
  "NUMEROGUIAPRESTADOR"	 VARCHAR(100),
  "NOMEBENEFICIARIO"	 VARCHAR(200),
  "NUMEROCARTEIRA"	 VARCHAR(100),
  "DATAINICIOFAT"	 VARCHAR(100),
  "SITUACAOGUIA"	 VARCHAR(100),
  "VALORINFORMADOGUIA"	 DOUBLE PRECISION,
  "VALORPROCESSADOGUIA"	 DOUBLE PRECISION,
  "VALORLIBERADOGUIA"	 DOUBLE PRECISION,
  "VALORGLOSAGUIA"	 DOUBLE PRECISION,
  "DATAREALIZACAO"	 VARCHAR(100),
  "CODIGOTABELA"	 VARCHAR(100),
  "CODIGOPROCEDIMENTO"	 VARCHAR(100),
  "DESCRICAOPROCEDIMENTO"	 VARCHAR(200),
  "GRAUPARTICIPACAO"	 VARCHAR(100),
  "VALORINFORMADO"	 DOUBLE PRECISION,
  "QTDEXECUTADA"	 DOUBLE PRECISION,
  "VALORPROCESSADO"	 DOUBLE PRECISION,
  "VALORLIBERADO"	 DOUBLE PRECISION,
  "VALORGLOSA"	 DOUBLE PRECISION,
  "TIPOGLOSA"	 DOUBLE PRECISION,
  "CODIGOCPS"	 INTEGER,
  "TRATAMENTO"	 INTEGER,
  "TABELA"	 VARCHAR(20),
  "INDICETB"	 VARCHAR(30),
  "INDICE"	 INTEGER NOT NULL,
  "CONVENIO"	 INTEGER,
  "NUMEROGUIAOPERADORA"	 VARCHAR(30) CHARACTER SET ISO8859_1
);

/* Table: XMLPAG, Owner: SYSDBA */

CREATE TABLE "XMLPAG" 
(
  "ID"	 INTEGER NOT NULL,
  "NUMEROGUIAPRESTADOR"	 VARCHAR(100),
  "NUMEROCARTEIRA"	 VARCHAR(100),
  "NOMEBENEFICIARIO"	 VARCHAR(100),
  "NOMEPLANO"	 VARCHAR(100),
  "DATAREALIZACAO"	 TIMESTAMP,
  "VALORPROCESSADOGUIA"	 DOUBLE PRECISION,
  "VALORLIBERADOGUIA"	 DOUBLE PRECISION,
  "VALORGLOSAGUIA"	 DOUBLE PRECISION,
  "VALIDADECARTEIRA"	 TIMESTAMP,
  "NUMEROCNS"	 VARCHAR(100),
  "IDENTIFICADORBENEFICIARIO"	 VARCHAR(100),
  "NUMEROGUIAOPERADORA"	 VARCHAR(100)
);

/* Table: XMLPAGITEM, Owner: SYSDBA */

CREATE TABLE "XMLPAGITEM" 
(
  "ID"	 INTEGER,
  "CONTA"	 INTEGER,
  "CODIGO"	 VARCHAR(100),
  "TIPOTABELA"	 VARCHAR(100),
  "DESCRICAO"	 VARCHAR(100),
  "QUANTIDADEEXECUTADA"	 INTEGER,
  "VALORPROCESSADO"	 DOUBLE PRECISION,
  "VALORLIBERADO"	 DOUBLE PRECISION,
  "CODIGOGLOSA"	 DOUBLE PRECISION,
  "DESCRICAOGLOSA"	 VARCHAR(200),
  "VALORGLOSA"	 DOUBLE PRECISION,
  "INDICE"	 INTEGER,
  "GLOSACPS"	 DOUBLE PRECISION,
  "CODIGOCPS"	 INTEGER
);

/* Table: XNOTAMED2, Owner: SYSDBA */

CREATE TABLE "XNOTAMED2" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "A_NOTAMED"	 FLOAT NOT NULL,
  "A_KITS"	 INTEGER NOT NULL,
  "MEDICAMENT"	 VARCHAR(400),
  "POSOLOGIA"	 VARCHAR(60),
  "QUANTIDADE"	 INTEGER,
  "A_MEDIDAS"	 SMALLINT,
  "NUMERO"	 SMALLINT,
  "CODIGO"	 SMALLINT,
  "A_CODIGO1"	 SMALLINT,
  "DILUENTE"	 VARCHAR(25),
  "VIA"	 VARCHAR(20),
  "ORDEM"	 CHAR(2),
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "OK1"	 CHAR(1),
  "QX1"	 INTEGER,
  "QY1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "OK2"	 CHAR(1),
  "QX2"	 INTEGER,
  "QY2"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "OK3"	 CHAR(1),
  "QX3"	 INTEGER,
  "QY3"	 TIMESTAMP,
  "HORA4"	 TIMESTAMP,
  "OK4"	 CHAR(1),
  "QX4"	 INTEGER,
  "QY4"	 TIMESTAMP,
  "HORA5"	 TIMESTAMP,
  "OK5"	 CHAR(1),
  "QX5"	 INTEGER,
  "QY5"	 TIMESTAMP,
  "HORA6"	 TIMESTAMP,
  "OK6"	 CHAR(1),
  "QX6"	 INTEGER,
  "QY6"	 TIMESTAMP,
  "HORA7"	 TIMESTAMP,
  "OK7"	 CHAR(1),
  "QX7"	 INTEGER,
  "QY7"	 TIMESTAMP,
  "HORA8"	 TIMESTAMP,
  "OK8"	 CHAR(1),
  "QX8"	 INTEGER,
  "QY8"	 TIMESTAMP,
  "HORA9"	 TIMESTAMP,
  "OK9"	 CHAR(1),
  "QX9"	 INTEGER,
  "QY9"	 TIMESTAMP,
  "HORA10"	 TIMESTAMP,
  "OK10"	 CHAR(1),
  "QX10"	 INTEGER,
  "QY10"	 TIMESTAMP,
  "HORA11"	 TIMESTAMP,
  "OK11"	 CHAR(1),
  "QX11"	 INTEGER,
  "QY11"	 TIMESTAMP,
  "HORA12"	 TIMESTAMP,
  "OK12"	 CHAR(1),
  "QX12"	 INTEGER,
  "QY12"	 TIMESTAMP,
  "HORARIO1"	 TIMESTAMP,
  "HORARIO2"	 TIMESTAMP,
  "HORARIO3"	 TIMESTAMP,
  "HORARIO4"	 TIMESTAMP,
  "HORARIO5"	 TIMESTAMP,
  "HORARIO6"	 TIMESTAMP,
  "HORARIO7"	 TIMESTAMP,
  "HORARIO8"	 TIMESTAMP,
  "HORARIO9"	 TIMESTAMP,
  "HORARIO10"	 TIMESTAMP,
  "HORARIO11"	 TIMESTAMP,
  "HORARIO12"	 TIMESTAMP,
  "SUSPENSO"	 CHAR(1),
  "SUSPENSO_JUSTIF"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SUSPENSO_DATA"	 TIMESTAMP,
  "SUSPENSO_USER"	 INTEGER,
  "OK13"	 CHAR(1),
  "OK14"	 CHAR(1),
  "OK15"	 CHAR(1),
  "OK16"	 CHAR(1),
  "OK17"	 CHAR(1),
  "OK18"	 CHAR(1),
  "OK19"	 CHAR(1),
  "OK20"	 CHAR(1),
  "OK21"	 CHAR(1),
  "OK22"	 CHAR(1),
  "OK23"	 CHAR(1),
  "OK24"	 CHAR(1),
  "QX13"	 INTEGER,
  "QX14"	 INTEGER,
  "QX15"	 INTEGER,
  "QX16"	 INTEGER,
  "QX17"	 INTEGER,
  "QX18"	 INTEGER,
  "QX19"	 INTEGER,
  "QX20"	 INTEGER,
  "QX21"	 INTEGER,
  "QX22"	 INTEGER,
  "QX23"	 INTEGER,
  "QX24"	 INTEGER,
  "QY13"	 TIMESTAMP,
  "QY14"	 TIMESTAMP,
  "QY15"	 TIMESTAMP,
  "QY16"	 TIMESTAMP,
  "QY17"	 TIMESTAMP,
  "QY18"	 TIMESTAMP,
  "QY19"	 TIMESTAMP,
  "QY20"	 TIMESTAMP,
  "QY21"	 TIMESTAMP,
  "QY22"	 TIMESTAMP,
  "QY23"	 TIMESTAMP,
  "QY24"	 TIMESTAMP,
  "USERDEL"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: XXX_INTER2, Owner: SYSDBA */

CREATE TABLE "XXX_INTER2" 
(
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_VIA"	 CHAR(1),
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "A_DATAFIM"	 TIMESTAMP,
  "A_HORAFIM"	 TIMESTAMP,
  "A_ENVIO"	 TIMESTAMP,
  "DOCUMENTOS"	 SMALLINT,
  "A_DATADIA"	 TIMESTAMP,
  "FATURA"	 CHAR(1),
  "CODIGO"	 PK_CODIGO ,
  "A_VALOR"	 DOUBLE PRECISION,
  "A_GLOSA"	 DOUBLE PRECISION,
  "A_VALOR1"	 DOUBLE PRECISION NOT NULL,
  "MARCADO"	 CHAR(1),
  "PARCELA"	 SMALLINT,
  "TIPOGUIA"	 CHAR(1),
  "MOTIVOALTA"	 CHAR(1),
  "FATURANO"	 INTEGER,
  "MEDICA"	 CHAR(1),
  "ENFERMAGEM"	 CHAR(1),
  "ADM"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "MEDICOSOL"	 INTEGER,
  "TIPO"	 CHAR(1),
  "CODSERV1"	 CHAR(8),
  "CODSERV2"	 CHAR(8),
  "CODSERV3"	 CHAR(8),
  "OBSERVACAO2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIARIA"	 INTEGER,
  "DESCONTO"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP,
  "FATURAGLOSA"	 INTEGER,
  "A_GUIA"	 VARCHAR(30),
  "DATARECEBIMENTO"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DIARIAAUTO"	 VARCHAR(8),
  "DIARIAHORA"	 TIMESTAMP,
  "TRAVADIA"	 TIMESTAMP,
  "ASSISTAUTO"	 VARCHAR(8),
  "TIPOACOMODACAO"	 CHAR(1),
  "TIPOENFERMARIA"	 CHAR(1),
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "ALTAMEDICO"	 TIMESTAMP,
  "ALTAANESTESISTA"	 TIMESTAMP,
  "ALTAAUDITOR"	 TIMESTAMP,
  "ALTAFARMACIA"	 TIMESTAMP,
  "ALTAENFERMAGEM"	 TIMESTAMP,
  "TIPOALTATISS"	 CHAR(2),
  "TRATAMENTO2"	 INTEGER,
  "INTER2NO"	 INTEGER NOT NULL,
 PRIMARY KEY ("INTER2NO")
);

/* Table: XX_INTER2, Owner: SYSDBA */

CREATE TABLE "XX_INTER2" 
(
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_VIA"	 CHAR(1),
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "A_DATAFIM"	 TIMESTAMP,
  "A_HORAFIM"	 TIMESTAMP,
  "A_ENVIO"	 TIMESTAMP,
  "DOCUMENTOS"	 SMALLINT,
  "A_DATADIA"	 TIMESTAMP,
  "FATURA"	 CHAR(1),
  "CODIGO"	 PK_CODIGO ,
  "A_VALOR"	 DOUBLE PRECISION,
  "A_GLOSA"	 DOUBLE PRECISION,
  "A_VALOR1"	 DOUBLE PRECISION NOT NULL,
  "MARCADO"	 CHAR(1),
  "PARCELA"	 SMALLINT,
  "TIPOGUIA"	 CHAR(1),
  "MOTIVOALTA"	 CHAR(1),
  "FATURANO"	 INTEGER,
  "MEDICA"	 CHAR(1),
  "ENFERMAGEM"	 CHAR(1),
  "ADM"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "MEDICOSOL"	 INTEGER,
  "TIPO"	 CHAR(1),
  "CODSERV1"	 CHAR(8),
  "CODSERV2"	 CHAR(8),
  "CODSERV3"	 CHAR(8),
  "OBSERVACAO2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIARIA"	 INTEGER,
  "DESCONTO"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP
);

/* Table: X_ALTAITEM, Owner: SYSDBA */

CREATE TABLE "X_ALTAITEM" 
(
  "INDICE"	 INTEGER,
  "ALTA"	 INTEGER,
  "CODIGOAMB"	 VARCHAR(30),
  "CODIGOSERV"	 INTEGER,
  "DESCRICAO"	 VARCHAR(500),
  "INICIO"	 TIMESTAMP,
  "FIM"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(1000),
  "CLASSE"	 VARCHAR(40),
  "RESP_CHECAGEM"	 VARCHAR(30),
  "CPS"	 DOUBLE PRECISION,
  "QUANTIDADE"	 INTEGER,
  "MEDICO"	 INTEGER,
  "EVOLUCAO"	 FLOAT,
  "INDICE_PEDIDO"	 INTEGER,
  "USUARIO_DEL"	 INTEGER,
  "VERSAO_DEL"	 VARCHAR(100),
  "DATAHORA_DEL"	 TIMESTAMP,
  "CIRURGIA"	 INTEGER
);

/* Table: X_CPS1, Owner: SYSDBA */

CREATE TABLE "X_CPS1" 
(
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOPLA"	 PK_CODIGOPLA  NOT NULL,
  "A_DATA"	 TIMESTAMP,
  "A_DATAFAT"	 TIMESTAMP,
  "A_HORA"	 TIMESTAMP,
  "MATRICULA"	 VARCHAR(30),
  "A_VALIDADE"	 TIMESTAMP,
  "A_GUIA"	 VARCHAR(30),
  "A_SITUACAO"	 CHAR(1),
  "A_TIPO"	 CHAR(1),
  "A_ULTPAGTO"	 TIMESTAMP,
  "AUTORIZA"	 VARCHAR(20),
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "A_CID"	 PK_CID ,
  "CODIGOPAC"	 PK_CODIGOPAC ,
  "CODIGOCPS"	 PK_CODIGOCPS ,
  "VALORTOTAL"	 DOUBLE PRECISION,
  "DESCONTO"	 DOUBLE PRECISION,
  "GLOSA"	 DOUBLE PRECISION,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "TOTALMATMED"	 DOUBLE PRECISION,
  "SOLTIPO"	 CHAR(2),
  "SOLCREMEB"	 CHAR(8),
  "SOLESP"	 CHAR(4),
  "SOLDATA"	 TIMESTAMP,
  "SOLCNPJ"	 CHAR(14),
  "MEDRESP"	 PK_MEDICOS ,
  "PRENATAL"	 CHAR(1),
  "PRINCIPAL"	 CHAR(8),
  "TIPOATEND"	 CHAR(1),
  "ESPECIALIDADE"	 CHAR(2),
  "VALIDGUIA"	 TIMESTAMP,
  "DATAAUTORIZA"	 TIMESTAMP,
  "LOCALGUIA"	 VARCHAR(30),
  "DIAGNOSTICO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "TIPOATEND1"	 CHAR(1),
  "LIQUIDO"	 COMPUTED BY ( VALORTOTAL + TOTALMATMED - DESCONTO ),
  "RESPONSAVEL"	 VARCHAR(50),
  "ENDERECO"	 VARCHAR(50),
  "IDENTIDADE"	 VARCHAR(15),
  "A_CPF"	 PK_CPF ,
  "CEP"	 VARCHAR(8),
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 PK_CIDADE ,
  "TELEFONE"	 VARCHAR(15),
  "CELULAR"	 VARCHAR(15),
  "CODIGOANTIGO"	 FLOAT,
  "MOTIVO"	 CHAR(1),
  "DIASSOL"	 SMALLINT,
  "DATAENTREGA"	 TIMESTAMP,
  "PRODUTO"	 VARCHAR(10),
  "SOLESP1"	 CHAR(2),
  "FATURA"	 FLOAT,
  "MARCACAO"	 FLOAT,
  "ORIGEM"	 CHAR(1),
  "UF"	 CHAR(2),
  "PRORROGA"	 SMALLINT,
  "DIARIA"	 SMALLINT,
  "A_ALA"	 INTEGER,
  "A_LEITO"	 INTEGER,
  "AIHESPECIALIDADE"	 CHAR(2),
  "AIHMOTIVOCOB"	 CHAR(2),
  "AIHCPFMA"	 VARCHAR(11),
  "MOTIVOEXCLUSAO"	 VARCHAR(200),
  "X_DATA"	 TIMESTAMP,
  "CONFERIDO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "USERDEL"	 INTEGER
);

/* Table: X_CPS2, Owner: SYSDBA */

CREATE TABLE "X_CPS2" 
(
  "CODIGOSERV"	 PK_CONVENIO ,
  "A_MEDICOS"	 PK_MEDICOS ,
  "QUANTIDADE"	 INTEGER,
  "A_CODMOE"	 PK_CODMOE ,
  "A_QUANTIDA"	 FLOAT,
  "VALOR"	 FLOAT,
  "A_SITUACAO"	 VARCHAR(1),
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "DATASAIDA"	 TIMESTAMP,
  "HORASAIDA"	 TIMESTAMP,
  "CREMEBSOL"	 CHAR(6),
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS2"	 FLOAT NOT NULL,
  "CODIGOAMB"	 CHAR(8),
  "DHE"	 CHAR(1),
  "GLOSA"	 DOUBLE PRECISION,
  "FALHA"	 INTEGER,
  "REPRESENTA"	 DOUBLE PRECISION,
  "SENHA"	 VARCHAR(20),
  "LIQUIDO"	 DOUBLE PRECISION,
  "X_DATA"	 TIMESTAMP,
  "ESPECIALIDADE"	 CHAR(2),
  "VIA"	 CHAR(1),
  "VALORPROF"	 FLOAT,
  "A_FILME"	 FLOAT,
  "SUSTIPO"	 CHAR(2),
  "SUSTIPOATO"	 CHAR(2),
  "SUSCNPJ"	 VARCHAR(14),
  "SUSNOTA"	 VARCHAR(12),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "CODIGOAMB1"	 CHAR(8),
  "STATUS"	 SMALLINT,
  "STATUS1"	 SMALLINT,
  "DICOM"	 INTEGER,
  "DATASINC"	 TIMESTAMP,
  "COBRAR"	 CHAR(1),
  "UNIDADENEGOCIO"	 INTEGER,
  "GRUPOSUS"	 CHAR(2),
  "IP"	 VARCHAR(16),
  "IP1"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "GLOSACERTA"	 CHAR(2),
  "GRAUPARTICIPACAO"	 CHAR(2),
  "TECNICA"	 CHAR(1),
  "GRUPOSUS1"	 CHAR(2),
  "JUSTIFICATIVA"	 VARCHAR(500),
  "MNM"	 VARCHAR(10),
  "GLOSATIPO"	 SMALLINT,
  "GLOSATIPO2"	 SMALLINT,
  "GLOSADEFINITIVA"	 CHAR(1),
  "PRESENHA"	 VARCHAR(20),
  "CIRURGIA"	 INTEGER,
  "USERDEL"	 INTEGER
);

/* Table: X_CPS3, Owner: SYSDBA */

CREATE TABLE "X_CPS3" 
(
  "INDICE"	 FLOAT NOT NULL,
  "CODIGOCPS"	 FLOAT NOT NULL,
  "CODIGOMM"	 INTEGER NOT NULL,
  "DATA"	 TIMESTAMP NOT NULL,
  "HORA"	 TIMESTAMP NOT NULL,
  "QUANTIDADE"	 INTEGER NOT NULL,
  "UNITARIO"	 FLOAT NOT NULL,
  "TOTAL"	 DOUBLE PRECISION NOT NULL,
  "GLOSA"	 DOUBLE PRECISION,
  "REPRESENTA"	 DOUBLE PRECISION,
  "LIQUIDO"	 DOUBLE PRECISION,
  "X_DATA"	 TIMESTAMP,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "USERDEL"	 INTEGER
);

/* Table: X_CPS6, Owner: SYSDBA */

CREATE TABLE "X_CPS6" 
(
  "SEQUENCIA"	 FLOAT NOT NULL,
  "CODIGOCPS6"	 PK_CODIGOCPS ,
  "CODIGOSERV"	 PK_CODIGOSERV ,
  "CODIGOAMB"	 PK_CODIGOAMB ,
  "A_SITUACAO"	 CHAR(1),
  "PROCEDIMENTO"	 VARCHAR(100),
  "DICOM"	 INTEGER,
  "SELECAO"	 CHAR(1),
  "TIPO"	 CHAR(1),
  "QTDE"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "DATASINC"	 TIMESTAMP,
  "CPSIMPOR"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "PRESCRICAO"	 FLOAT,
  "TIPOPROC"	 INTEGER,
  "CONFIRMADO"	 CHAR(1),
  "COLETADO"	 CHAR(1),
  "NUMEROLAUDO"	 FLOAT,
  "STATUS"	 INTEGER,
  "POSOLOGIA"	 VARCHAR(30),
  "OBSERVACAO"	 VARCHAR(500),
  "SOLICITANTE"	 INTEGER,
  "EXECUTADOPOR"	 INTEGER,
  "ID"	 INTEGER,
  "TRATAMENTO"	 INTEGER,
  "DATAHORA"	 TIMESTAMP,
  "CLASSE"	 VARCHAR(30),
  "INDICE_PEDIDO"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "CID_SOLICITACAO"	 VARCHAR(10),
  "WORKLIST"	 TIMESTAMP,
  "USUARIODELETOU"	 INTEGER,
  "USERDEL"	 INTEGER,
 PRIMARY KEY ("SEQUENCIA")
);

/* Table: X_INTER2, Owner: SYSDBA */

CREATE TABLE "X_INTER2" 
(
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "CONVENIO"	 PK_CONVENIO  NOT NULL,
  "A_VIA"	 CHAR(1),
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "A_DATAFIM"	 TIMESTAMP,
  "A_HORAFIM"	 TIMESTAMP,
  "A_ENVIO"	 TIMESTAMP,
  "DOCUMENTOS"	 SMALLINT,
  "A_DATADIA"	 TIMESTAMP,
  "FATURA"	 CHAR(1),
  "CODIGO"	 PK_CODIGO ,
  "A_VALOR"	 DOUBLE PRECISION,
  "A_GLOSA"	 DOUBLE PRECISION,
  "A_VALOR1"	 DOUBLE PRECISION NOT NULL,
  "MARCADO"	 CHAR(1),
  "PARCELA"	 SMALLINT,
  "TIPOGUIA"	 CHAR(1),
  "MOTIVOALTA"	 CHAR(1),
  "FATURANO"	 INTEGER,
  "MEDICA"	 CHAR(1),
  "ENFERMAGEM"	 CHAR(1),
  "ADM"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "MEDICOSOL"	 INTEGER,
  "TIPO"	 CHAR(1),
  "CODSERV1"	 CHAR(8),
  "CODSERV2"	 CHAR(8),
  "CODSERV3"	 CHAR(8),
  "OBSERVACAO2"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "DIARIA"	 INTEGER,
  "DESCONTO"	 DOUBLE PRECISION,
  "DATASINC"	 TIMESTAMP,
  "FATURAGLOSA"	 INTEGER,
  "A_GUIA"	 VARCHAR(15),
  "DATARECEBIMENTO"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DIARIAAUTO"	 VARCHAR(8),
  "DIARIAHORA"	 TIMESTAMP,
  "TRAVADIA"	 TIMESTAMP,
  "ASSISTAUTO"	 VARCHAR(8),
  "TIPOACOMODACAO"	 CHAR(1),
  "TIPOENFERMARIA"	 CHAR(1),
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "ALTAMEDICO"	 TIMESTAMP,
  "ALTAANESTESISTA"	 TIMESTAMP,
  "ALTAAUDITOR"	 TIMESTAMP,
  "ALTAFARMACIA"	 TIMESTAMP,
  "ALTAENFERMAGEM"	 TIMESTAMP,
  "TIPOALTATISS"	 CHAR(2),
  "TRATAMENTO2"	 INTEGER,
  "INTER2NO"	 INTEGER NOT NULL,
 PRIMARY KEY ("CODIGOINT")
);

/* Table: X_INTER3, Owner: SYSDBA */

CREATE TABLE "X_INTER3" 
(
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "CODIGOSERV"	 PK_CONVENIO  NOT NULL,
  "A_MEDICOS"	 PK_MEDICOS ,
  "QUANTIDADE"	 SMALLINT,
  "A_CODMOE"	 PK_MOEDAS ,
  "A_QUANTIDADE"	 FLOAT,
  "CODIGO"	 PK_CODIGO ,
  "VALOR"	 DOUBLE PRECISION NOT NULL,
  "CODIGOAMB"	 CHAR(8),
  "GLOSA"	 DOUBLE PRECISION,
  "DHE"	 CHAR(1),
  "FALHA"	 INTEGER,
  "SENHA"	 VARCHAR(12),
  "PORTE"	 VARCHAR(4),
  "CODESP"	 CHAR(2),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "REPRESENTA"	 DOUBLE PRECISION,
  "INTER3NO"	 FLOAT,
  "DATASINC"	 TIMESTAMP,
  "A_FILME"	 FLOAT,
  "CODIGOAMB1"	 CHAR(8),
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "DATAINICIO"	 TIMESTAMP,
  "DATAFIM"	 TIMESTAMP,
  "TIPOCOB"	 SMALLINT,
  "CO"	 DOUBLE PRECISION,
  "COBRAR"	 CHAR(1),
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "UNIDADENEGOCIO"	 INTEGER,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "RSGLOSA"	 CHAR(1),
  "TECNICA"	 CHAR(1),
  "GRAUPARTICIPACAO"	 CHAR(2),
  "HORAFINAL"	 TIMESTAMP,
  "PACOTE"	 INTEGER,
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "CUSTO"	 FLOAT,
  "A_SITUACAO"	 VARCHAR(1),
  "JUSTIFICATIVA"	 VARCHAR(15000)
);

/* Table: X_INTER32, Owner: SYSDBA */

CREATE TABLE "X_INTER32" 
(
  "INTER3NO"	 FLOAT NOT NULL,
  "CODIGOINT"	 PK_CODIGOINT  NOT NULL,
  "TRATAMENTO"	 PK_TRATAMENTO  NOT NULL,
  "A_DATA"	 TIMESTAMP NOT NULL,
  "A_HORA"	 TIMESTAMP NOT NULL,
  "CODIGOMM"	 PK_CODIGOMM  NOT NULL,
  "QUANTIDADE"	 SMALLINT,
  "VALOR"	 DOUBLE PRECISION,
  "CODIGO"	 PK_CODIGO ,
  "TOTAL"	 COMPUTED BY (QUANTIDADE * VALOR),
  "GLOSA"	 DOUBLE PRECISION,
  "LIQUIDO"	 COMPUTED BY ( TOTAL - GLOSA ),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "REPRESENTA"	 DOUBLE PRECISION,
  "GLOSARECEBIDA"	 DOUBLE PRECISION,
  "GLOSADATA"	 TIMESTAMP,
  "GLOSATIPO"	 SMALLINT,
  "A_MEDICOS"	 INTEGER,
  "CUSTO"	 FLOAT,
  "GLOSARESPONSAVEL"	 INTEGER,
  "GLOSADEFINITIVA"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "UNIDADENEGOCIO"	 INTEGER,
  "COBRAR"	 CHAR(1),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 CHAR(20),
  "RSGLOSA"	 VARCHAR(1),
  "BRASINDICE"	 VARCHAR(4),
  "SAIDA"	 FLOAT,
  "PACOTE"	 INTEGER,
  "DATAGLOSA"	 TIMESTAMP,
  "USERGLOSA"	 INTEGER,
  "REAPRESENTATISS"	 VARCHAR(10),
  "JUSTIFICATIVA"	 VARCHAR(15000)
);

/* Table: X_MARCACAO, Owner: SYSDBA */

CREATE TABLE "X_MARCACAO" 
(
  "NUMERO"	 FLOAT NOT NULL,
  "PACIENTE"	 CHAR(50),
  "DATA"	 TIMESTAMP,
  "OBSERVACAO"	 VARCHAR(500),
  "SALA"	 CHAR(2),
  "CIRURGIA"	 CHAR(30),
  "ANESTESIA"	 CHAR(30),
  "TELEFONE"	 VARCHAR(15),
  "HORA"	 TIMESTAMP,
  "CONVENIO"	 INTEGER,
  "A_MEDICOS"	 PK_MEDICO ,
  "TIPO"	 CHAR(1),
  "CODIGOPAC"	 PK_CODIGOPAC1 ,
  "CADASTRADOEM"	 TIMESTAMP,
  "HORA1"	 TIMESTAMP,
  "HORA2"	 TIMESTAMP,
  "ESTADO"	 CHAR(1),
  "CONTATO"	 CHAR(1),
  "DATAHORA"	 TIMESTAMP,
  "FEITO"	 CHAR(1),
  "CODIGOPROC"	 INTEGER,
  "CODIGOAMB"	 CHAR(8),
  "CONTADOR"	 SMALLINT,
  "CODIGO"	 PK_CODIGO ,
  "EXTRA"	 CHAR(1),
  "TELEFONEAUX"	 VARCHAR(15),
  "CODIGOCPS"	 FLOAT,
  "STATUS"	 INTEGER,
  "DATA2"	 TIMESTAMP,
  "CONTRASTE"	 CHAR(1),
  "SOLCREMEB"	 VARCHAR(8),
  "MEDRESP"	 INTEGER,
  "DICOM"	 INTEGER,
  "USER2"	 INTEGER,
  "SOLICITACAO"	 INTEGER,
  "AUTORIZADO"	 CHAR(1),
  "DATASINC"	 TIMESTAMP,
  "HORA3"	 TIMESTAMP,
  "XML"	 CHAR(1),
  "PLANO"	 VARCHAR(4),
  "CONFIRMADO"	 CHAR(1),
  "DATAUSER1"	 TIMESTAMP,
  "DATAUSER2"	 TIMESTAMP,
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "DILATANDO"	 CHAR(1),
  "MATRICULA"	 VARCHAR(40),
  "HORAFATURA"	 TIMESTAMP,
  "GRUPOSUS"	 CHAR(2),
  "USERB1"	 INTEGER,
  "USERB2"	 INTEGER,
  "USERGERACAO"	 INTEGER,
  "IMPRESSOETIQUETA"	 CHAR(1),
  "TRIAGEM"	 INTEGER,
  "ORDEMTRIAGEM"	 SMALLINT,
  "DESTAQUE"	 CHAR(1),
  "CLASSIFICACAO"	 INTEGER,
  "SMS_MARCADO"	 INTEGER,
  "OPERADORA_CELULAR"	 INTEGER,
  "SMSENVIA"	 CHAR(1),
  "A_MEDICOS2"	 INTEGER,
  "CHECKUP"	 CHAR(1),
  "USERDEL"	 INTEGER,
 PRIMARY KEY ("NUMERO")
);

/* Table: X_MATMEDCONV, Owner: SYSDBA */

CREATE TABLE "X_MATMEDCONV" 
(
  "CODIGOMM"	 PK_CODIGOMM  NOT NULL,
  "CONVENIO"	 PK_CONVENIO ,
  "VALOR"	 FLOAT,
  "CODIGOCONV"	 CHAR(8),
  "INDICE"	 FLOAT NOT NULL,
  "DATA2"	 TIMESTAMP,
  "BLOQUEADO"	 CHAR(1),
  "QTDE"	 SMALLINT,
  "INTERVALO"	 SMALLINT,
  "DATASINC"	 TIMESTAMP,
  "CODTISS"	 VARCHAR(10),
  "OBS"	 VARCHAR(30),
  "A_CODAMB"	 CHAR(8),
  "NOVONOME"	 VARCHAR(40),
  "USERDEL"	 INTEGER
);

/* Table: X_PACBACKUP, Owner: SYSDBA */

CREATE TABLE "X_PACBACKUP" 
(
  "CODIGOPAC"	 PK_CODIGOPAC  NOT NULL,
  "A_NOME"	 VARCHAR(50) NOT NULL,
  "ENDERECO"	 VARCHAR(50),
  "MATRICULA"	 VARCHAR(30),
  "IDENTIDADE"	 VARCHAR(15),
  "NASC"	 TIMESTAMP,
  "CONSULTA"	 TIMESTAMP,
  "TRABALHO"	 VARCHAR(40),
  "SEGURADO"	 VARCHAR(50) NOT NULL,
  "GAVETA"	 PK_GAVETA ,
  "GAVETA1"	 PK_GAVETA ,
  "NATURALIDADE"	 VARCHAR(25),
  "PAI"	 NOME ,
  "MAE"	 NOME ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "SEXO"	 PK_SEXO ,
  "A_CPF"	 PK_CPF ,
  "CEP"	 PK_CEP ,
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 PK_CIDADE ,
  "TELEFONE"	 VARCHAR(15),
  "CELULAR"	 VARCHAR(15),
  "A_MEDICOS"	 PK_MEDICO ,
  "UF"	 PK_UF ,
  "CIVIL"	 PK_CIVIL ,
  "CADASTRADOEM"	 TIMESTAMP,
  "IMPRESSO"	 CHAR(1),
  "COR"	 PK_COR ,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOANTIGO"	 FLOAT,
  "TRABALHO1"	 VARCHAR(50),
  "EMAIL"	 EMAIL ,
  "SANGUE"	 VARCHAR(2),
  "FATORRH"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATIVO"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "ANAMNESE"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "PREVIDENCIA"	 VARCHAR(20),
  "SUS"	 VARCHAR(15),
  "PLANO"	 VARCHAR(20),
  "VALIDADE"	 TIMESTAMP,
  "PRODUTO"	 VARCHAR(10),
  "CARTAO"	 VARCHAR(20),
  "CONVPLANO"	 INTEGER,
  "TELEFONE3"	 VARCHAR(15),
  "IMPORTA"	 VARCHAR(30000),
  "AREA"	 INTEGER,
  "PREFERENCIA"	 VARCHAR(50),
  "OBSERVACAOMED"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "SENHA"	 VARCHAR(10),
  "DATASINC"	 TIMESTAMP,
  "NUMERO"	 VARCHAR(8),
  "COMPLEMENTO"	 VARCHAR(20),
  "APELIDO"	 VARCHAR(50),
  "IP"	 VARCHAR(16),
  "VERSAO"	 VARCHAR(20),
  "IP1"	 VARCHAR(16),
  "VERSAO1"	 VARCHAR(20),
  "FR1"	 CHAR(1),
  "FR2"	 CHAR(1),
  "FR3"	 CHAR(1),
  "FR4"	 CHAR(1),
  "FR5"	 CHAR(1),
  "FR6"	 CHAR(1),
  "FR7"	 CHAR(1),
  "FR8"	 CHAR(1),
  "FR9"	 CHAR(1),
  "FR10"	 CHAR(1),
  "FR11"	 CHAR(1),
  "FR12"	 CHAR(1),
  "FR13"	 CHAR(1),
  "FR14"	 CHAR(1),
  "FR15"	 CHAR(1),
  "FR16"	 CHAR(1),
  "RGORGAO"	 VARCHAR(10),
  "ESCOLARIDADE"	 VARCHAR(35),
  "RGUF"	 CHAR(2),
  "BOLSAFAMILIA"	 CHAR(1),
  "MICROAREA"	 INTEGER,
  "POSTO"	 VARCHAR(2),
  "MAT_FIN"	 CHAR(1),
  "OML"	 VARCHAR(3),
  "CORPO"	 VARCHAR(4),
  "QUADRO"	 VARCHAR(4),
  "ESPEC"	 VARCHAR(4),
  "NUMBOL"	 VARCHAR(4),
  "ANOBOL"	 VARCHAR(4),
  "AP"	 VARCHAR(4),
  "PARENTE"	 INTEGER,
  "SITUACAO"	 VARCHAR(2),
  "INIFUS"	 TIMESTAMP,
  "SIAPE"	 VARCHAR(10),
  "NIPTITULAR"	 VARCHAR(25),
  "SISPRENATAL"	 VARCHAR(25),
  "IMH"	 CHAR(1),
  "IMPORTADO"	 VARCHAR(10),
  "PRONTUARIO"	 VARCHAR(8),
  "LIBERADOTEMP"	 CHAR(1),
  "CERTIDAONASC"	 VARCHAR(40),
  "CODIGOPACOFICIAL"	 FLOAT,
 PRIMARY KEY ("CODIGOPAC")
);

/* Table: X_PACIENTE, Owner: SYSDBA */

CREATE TABLE "X_PACIENTE" 
(
  "CODIGOPAC"	 PK_CODIGOPAC  NOT NULL,
  "A_NOME"	 VARCHAR(50) NOT NULL,
  "ENDERECO"	 VARCHAR(50),
  "MATRICULA"	 VARCHAR(30),
  "IDENTIDADE"	 VARCHAR(15),
  "NASC"	 TIMESTAMP,
  "CONSULTA"	 TIMESTAMP,
  "TRABALHO"	 VARCHAR(40),
  "SEGURADO"	 VARCHAR(50) NOT NULL,
  "GAVETA"	 PK_GAVETA ,
  "GAVETA1"	 PK_GAVETA ,
  "NATURALIDADE"	 VARCHAR(25),
  "PAI"	 NOME ,
  "MAE"	 NOME ,
  "CODIGO"	 PK_CODIGO ,
  "A_CODIGO1"	 PK_CODIGO ,
  "SEXO"	 PK_SEXO ,
  "A_CPF"	 PK_CPF ,
  "CEP"	 PK_CEP ,
  "BAIRRO"	 PK_BAIRRO ,
  "CIDADE"	 PK_CIDADE ,
  "TELEFONE"	 VARCHAR(15),
  "CELULAR"	 VARCHAR(15),
  "A_MEDICOS"	 PK_MEDICO ,
  "UF"	 PK_UF ,
  "CIVIL"	 PK_CIVIL ,
  "CADASTRADOEM"	 TIMESTAMP,
  "IMPRESSO"	 CHAR(1),
  "COR"	 PK_COR ,
  "CONVENIO"	 PK_CONVENIO ,
  "CODIGOANTIGO"	 FLOAT,
  "TRABALHO1"	 VARCHAR(20),
  "EMAIL"	 EMAIL ,
  "SANGUE"	 VARCHAR(2),
  "FATORRH"	 CHAR(1),
  "OBSERVACAO"	 BLOB SUB_TYPE 0 SEGMENT SIZE 80,
  "ATIVO"	 CHAR(1),
  "USER1"	 INTEGER,
  "USER2"	 INTEGER,
  "DATA1"	 TIMESTAMP,
  "DATA2"	 TIMESTAMP,
  "PREVIDENCIA"	 VARCHAR(20),
  "DATASINC"	 TIMESTAMP,
  "VALIDADE"	 TIMESTAMP,
  "SUS"	 VARCHAR(15),
  "PLANO"	 VARCHAR(20),
  "PRODUTO"	 VARCHAR(10),
  "CARTAO"	 VARCHAR(20),
  "CONVPLANO"	 INTEGER,
  "IMPORTA"	 VARCHAR(30000),
  "TELEFONE3"	 VARCHAR(15),
 PRIMARY KEY ("CODIGOPAC")
);

/*  Index definitions for all user tables */

CREATE INDEX "IDX_ACESSOESTOQUE_USUARIO" ON "ACESSOESTOQUE"("USUARIO");
CREATE INDEX "ACESSOS2" ON "ACESSOS"("OPERADOR", "PROGRAMA");
CREATE INDEX "ACESSOSA_OPERADOR" ON "ACESSOSA"("OPERADOR");
CREATE INDEX "ACESSOSA_PROGRAMA" ON "ACESSOSA"("PROGRAMA");
CREATE INDEX "IDX_ACESSOSM_OPERADOR" ON "ACESSOSM"("OPERADOR");
CREATE INDEX "IDX_ACESSOSM_PROGRAMA" ON "ACESSOSM"("PROGRAMA");
CREATE INDEX "IDX_ADMISSAOMEDICA_CODIGOCPS" ON "ADMISSAOMEDICA"("CODIGOCPS");
CREATE INDEX "IDX_ADMPED_1" ON "ADMPED"("CODIGOCPS");
CREATE INDEX "IDX_ADMPED_2" ON "ADMPED"("CODIGOPAC");
CREATE INDEX "IDX_AJUDAEMP" ON "AJUDA"("EMPRESA");
CREATE INDEX "ALAS_NOME" ON "ALAS"("A_NOME");
CREATE INDEX "ALIMENTO_DESCRICAO" ON "ALIMENTO"("DESCRICAO");
CREATE INDEX "IDX_ALTA_A_MEDICO" ON "ALTA"("A_MEDICO");
CREATE INDEX "IDX_ALTA_CODIGOCPS" ON "ALTA"("CODIGOCPS");
CREATE INDEX "IDX_ALTAENFUTI_1" ON "ALTAENFUTI"("CODIGOCPS");
CREATE INDEX "IDX_ANESTESIA_1" ON "ANESTESIA"("CODIGOPAC");
CREATE INDEX "IDX_APAC_CPC_CPS" ON "APAC_CPC"("CPS_ORIGEM_COPIA");
CREATE INDEX "AREA_NOME2" ON "AREA"("NOME");
CREATE INDEX "IDX_ATESTADO_1" ON "ATESTADO"("NIP");
CREATE INDEX "IDX_ATESTADO_2" ON "ATESTADO"("PACIENTE");
CREATE INDEX "IDX_AUTPACIENTE" ON "AUTORIZACAO"("CODIGOPAC");
CREATE INDEX "BANCADAEXAME_CODIGOAMB" ON "BANCADAEXAME"("CODIGOAMB");
CREATE INDEX "BANCADAEXAME_CODIGOSERV" ON "BANCADAEXAME"("CODIGOSERV");
CREATE INDEX "COD_BANCADA" ON "BANCADAEXAME"("COD_BANCADA");
CREATE INDEX "IDX_ALA" ON "BOLETIM"("ALA");
CREATE INDEX "IDX_BOLETIM_1" ON "BOLETIM"("CODIGOCPS");
CREATE INDEX "IDX_BOLETIM_2" ON "BOLETIM"("DATA2");
CREATE INDEX "IDX_MEDICOS" ON "BOLETIM"("A_MEDICOS");
CREATE INDEX "IDX_BOTAOEXAME_TIPO" ON "BOTAOEXAME"("TIPO");
CREATE INDEX "BRASINDICE1_MED_DESC" ON "BRASINDICE1"("MED_DESC");
CREATE INDEX "BRASINDICE3_1" ON "BRASINDICE3"("PRE_MEDI", "PRE_LABO", "PRE_APRE");
CREATE INDEX "IDX_BRASINDICETEXTO_MED_CODI" ON "BRASINDICETEXTO"("MED_CODI");
CREATE INDEX "CADMUN_NOME" ON "CADMUN"("MUNNOMEX");
CREATE INDEX "CADMUN_UF" ON "CADMUN"("UFCOD");
CREATE INDEX "IDX_CADUF_UFCOD" ON "CADUF"("UFCOD");
CREATE INDEX "CALENDARIOFATURA_CONV" ON "CALENDARIOFATURA"("CONVENIO");
CREATE INDEX "CALENDARIOFATURA_DATA" ON "CALENDARIOFATURA"("DATA");
CREATE INDEX "IDX_CARGACOMPILAB_1" ON "CARGACOMPILAB"("NIP");
CREATE INDEX "IDX_CARGACOMPILAB_2" ON "CARGACOMPILAB"("DATA");
CREATE INDEX "IDX_CARGOCBO_1" ON "CARGOCBO"("ID");
CREATE INDEX "CARTA_DE" ON "CARTA"("DE");
CREATE INDEX "CARTA_PARA" ON "CARTA"("PARA");
CREATE INDEX "IDX_CBOSUS" ON "CBOSUS"("CODIGO");
CREATE INDEX "IDX_CHECKCVC_1" ON "CHECKCVC"("NOTASALA");
CREATE INDEX "IDX_CHECKCVC_2" ON "CHECKCVC"("IDCHECKCVC");
CREATE UNIQUE INDEX "IDX_CHECKLIST_CIRURGICO_1" ON "CHECKLIST_CIRURGICO_2"("INDICE");
CREATE INDEX "IDX_CHECKLIST_CIRURGICO_2_1" ON "CHECKLIST_CIRURGICO_2"("CODIGOCPS");
CREATE INDEX "CID10_DESC" ON "CID"("CID10");
CREATE INDEX "CIDPROC_CID10" ON "CIDPROC"("CID10");
CREATE INDEX "CIDPROF_A_MEDICOS" ON "CIDPROF"("A_MEDICOS");
CREATE INDEX "CIDPROF_CID10" ON "CIDPROF"("CID10");
CREATE INDEX "IDX_COMPLEMENTOASSIST_1" ON "COMPLEMENTOASSIST"("ESPECIALIDADE");
CREATE INDEX "IDX_COMPLEMENTOASSIST_2" ON "COMPLEMENTOASSIST"("CPS");
CREATE INDEX "IDX_CONSULTAANESTESIA_1" ON "CONSULTAANESTESIA"("CPS");
CREATE INDEX "IDX_CONSULTA_ENFERMAGEM_CPS" ON "CONSULTA_ENFERMAGEM"("CODIGOCPS");
CREATE INDEX "IDX_CONVCODCRED_CONVENIO" ON "CONVCODCRED"("CONVENIO");
CREATE INDEX "CONVENIO_NOME" ON "CONVENIO"("A_NOME");
CREATE INDEX "IDX_CONVENIOSPAC_CODIGOPAC" ON "CONVENIOSPAC"("CODIGOPAC");
CREATE INDEX "CONVPLANO_CONVENIO" ON "CONVPLANO"("CONVENIO");
CREATE INDEX "CONVSERVICOS_CODIGOSERV" ON "CONVSERVICOS"("CODIGOSERV");
CREATE INDEX "CONVSERVICOS_CONVENIO" ON "CONVSERVICOS"("CONVENIO");
CREATE INDEX "CONVSERVSUS_BPA_I" ON "CONVSERVSUS"("BPA_I");
CREATE INDEX "CONVSERVSUS_CONVENIO" ON "CONVSERVSUS"("CONVENIO");
CREATE INDEX "CONVSERVSUS_PROCEDIMENTO" ON "CONVSERVSUS"("PROCEDIMENTO");
CREATE INDEX "CPS1_CODIGOPAC" ON "CPS1"("CODIGOPAC");
CREATE INDEX "CPS1_CODIGOPLA" ON "CPS1"("CODIGOPLA");
CREATE INDEX "CPS1_CONVENIO" ON "CPS1"("CONVENIO");
CREATE INDEX "CPS1_DATA" ON "CPS1"("A_DATA");
CREATE INDEX "CPS1_DATAFAT" ON "CPS1"("A_DATAFAT");
CREATE INDEX "CPS1_DATAREPRESENTA" ON "CPS1"("DATAREPRESENTA");
CREATE INDEX "CPS1_DATASAIDA" ON "CPS1"("DATASAIDA");
CREATE INDEX "CPS1_ESPECIALIDADE" ON "CPS1"("ESPECIALIDADE");
CREATE INDEX "CPS1_FATURA" ON "CPS1"("FATURA");
CREATE INDEX "CPS1_GUIA" ON "CPS1"("A_GUIA");
CREATE INDEX "CPS1_MARCACAO" ON "CPS1"("MARCACAO");
CREATE INDEX "CPS1_MEDRESP" ON "CPS1"("MEDRESP");
CREATE INDEX "IDX_CPS1FATURAGLOSA" ON "CPS1"("FATURAGLOSA");
CREATE INDEX "IDX_CPS1OCUPLEITO" ON "CPS1"("CODIGOPLA", "DATASAIDA");
CREATE INDEX "IDX_CPS1_AUTORIZA" ON "CPS1"("AUTORIZA");
CREATE INDEX "IDX_CPS1_A_SITUACAO" ON "CPS1"("A_SITUACAO");
CREATE INDEX "CPS2SENHA" ON "CPS2"("SENHA");
CREATE INDEX "CPS2_CODIGOAMB" ON "CPS2"("CODIGOAMB");
CREATE INDEX "CPS2_CODIGOCPS" ON "CPS2"("CODIGOCPS2");
CREATE INDEX "CPS2_CODIGOSERV" ON "CPS2"("CODIGOSERV");
CREATE INDEX "CPS2_MEDICOS" ON "CPS2"("A_MEDICOS");
CREATE INDEX "IDXCPS2DHE" ON "CPS2"("DHE");
CREATE INDEX "IDX_CPS2_XMLID" ON "CPS2"("XMLID");
CREATE INDEX "CPS3_A_MEDICOS" ON "CPS3"("A_MEDICOS");
CREATE INDEX "CPS3_CODIGOCPS" ON "CPS3"("CODIGOCPS");
CREATE INDEX "CPS3_CODIGOMM" ON "CPS3"("CODIGOMM");
CREATE INDEX "CPS3_DATA" ON "CPS3"("DATA");
CREATE INDEX "IDX_CPS3_XMLID" ON "CPS3"("XMLID");
CREATE INDEX "CPS5_CID10" ON "CPS5"("CID10");
CREATE INDEX "CPS5_CODIGOCPS" ON "CPS5"("CODIGOCPS");
CREATE INDEX "CPS6_CODIGOCPS" ON "CPS6"("CODIGOCPS6");
CREATE INDEX "CPS6_CODIGOSERV" ON "CPS6"("CODIGOSERV");
CREATE INDEX "CPS6_PRESCRICAO" ON "CPS6"("PRESCRICAO");
CREATE INDEX "IDX_CPS6_COLETADO" ON "CPS6"("COLETADO");
CREATE INDEX "IDX_CPS6_CONFIRMADO" ON "CPS6"("CONFIRMADO");
CREATE INDEX "IDX_CPS6_DATA2" ON "CPS6"("DATA2");
CREATE INDEX "IDX_CPS6_DATASINC" ON "CPS6"("DATASINC");
CREATE INDEX "IDX_CPS6_ID" ON "CPS6"("ID");
CREATE INDEX "IDX_CPS6_NUMEROLAUDO" ON "CPS6"("NUMEROLAUDO");
CREATE INDEX "CPS7_CODIGOCPS" ON "CPS7"("CODIGOCPS7");
CREATE INDEX "CPS8INDICE" ON "CPS8"("CODIGOCPS8");
CREATE INDEX "CPSAIH_CIDIGOCPS" ON "CPSAIH"("CODIGOCPS");
CREATE INDEX "CPSAMEV_CODIGOPAC" ON "CPSAMEV"("CODIGOPAC");
CREATE INDEX "CPSAUTSOL_CODIGOAMB" ON "CPSAUTSOL"("CODIGOAMB");
CREATE INDEX "CPSAUTSOL_CODIGOCPS" ON "CPSAUTSOL"("CODIGOCPS");
CREATE INDEX "CPSAUTSOL_CODIGOMM" ON "CPSAUTSOL"("CODIGOMM");
CREATE INDEX "CPSAUTSOL_CODIGOSERV" ON "CPSAUTSOL"("CODIGOSERV");
CREATE INDEX "CPSCONTROLE_CODIGOCPS" ON "CPSCONTROLE"("CODIGOCPS");
CREATE INDEX "CPSCONTROLEPAC_CODIGOCPS" ON "CPSCONTROLEPAC"("CODIGOCPS");
CREATE INDEX "CPSFISIO_CODIGOCPS" ON "CPSFISIO"("CODIGOCPS");
CREATE INDEX "CPSFISIO_DATA" ON "CPSFISIO"("DATA");
CREATE INDEX "CPSFISIO_MODALIDADE" ON "CPSFISIO"("MODALIDADE");
CREATE INDEX "IDX_CPSIMPRESSO_CODIGOCPS" ON "CPSIMPRESSO"("CODIGOCPS");
CREATE INDEX "IDX_CPSIMPRESSO_USER1" ON "CPSIMPRESSO"("USER1");
CREATE INDEX "CPSLAUDO1PAC" ON "CPSLAUDO1"("CODIGOPAC");
CREATE INDEX "CPSLAUDO1USER1" ON "CPSLAUDO1"("USER1");
CREATE INDEX "CPSLAUDO1_CID" ON "CPSLAUDO1"("A_CID");
CREATE INDEX "CPSLAUDO1_CONVENIO" ON "CPSLAUDO1"("CONVENIO");
CREATE INDEX "CPSLAUDO1_DATA" ON "CPSLAUDO1"("A_DATAFAT");
CREATE INDEX "CPSLAUDO1_MEDRESP" ON "CPSLAUDO1"("MEDRESP");
CREATE INDEX "CPSLAUDO1_NUMEROORIGEM" ON "CPSLAUDO1"("NUMEROORIGEM");
CREATE INDEX "CPSLAUDO2CODIGOCPS" ON "CPSLAUDO2"("CODIGOCPS2");
CREATE INDEX "CPSLAUDO2_A_MEDICOS" ON "CPSLAUDO2"("A_MEDICOS");
CREATE INDEX "CPSLAUDO2_CODIGOSERV" ON "CPSLAUDO2"("CODIGOSERV");
CREATE INDEX "IDX_CPSLAUDO2_CPS2_INDICE" ON "CPSLAUDO2"("CPS2INDICE");
CREATE INDEX "IDX_CPSLAUDO2_TAB_ORIEGEM" ON "CPSLAUDO2"("TABELA_ORIGEM", "IND_TAB_ORIGEM");
CREATE INDEX "CPSLAUDO3CODIGOCPS" ON "CPSLAUDO3"("CODIGOCPS");
CREATE INDEX "CPSLAUDOANTIB_ANTIBIOTICO" ON "CPSLAUDOANTIB"("CODANTIBIOTICO");
CREATE INDEX "CPSLAUDOANTIB_CODIGOCPS" ON "CPSLAUDOANTIB"("CODIGOCPS");
CREATE INDEX "CPSLAUDOANTIB_CODIGOSERV" ON "CPSLAUDOANTIB"("CODIGOSERV");
CREATE INDEX "CPSLAUDOBACT_CODBACT" ON "CPSLAUDOBACT"("CODBACT");
CREATE INDEX "CPSLAUDOBACT_CODIGOCPS" ON "CPSLAUDOBACT"("CODIGOCPS");
CREATE INDEX "CPSLAUDOBACT_CODIGOSERV" ON "CPSLAUDOBACT"("CODIGOSERV");
CREATE INDEX "CPSLAUDOCAL_DESCRICAO" ON "CPSLAUDOCAL"("DESCRICAO");
CREATE INDEX "CPSLAUDOFILMECODIGOCPS" ON "CPSLAUDOFILME"("CODIGOCPS");
CREATE INDEX "IDX_CPSLAUDOOBS" ON "CPSLAUDOOBS"("CODLAUDO", "LAUDOPADRAO");
CREATE INDEX "CPSLAUDOVAR_CODIGOCPS" ON "CPSLAUDOVAR"("CODIGOCPS");
CREATE INDEX "IDX_CPSLAUDOVAR_CPS" ON "CPSLAUDOVAR"("CPS");
CREATE INDEX "IDX_CPSLAUDOVAR_CPSDESCRICAO" ON "CPSLAUDOVAR"("CPS", "DESCRICAO");
CREATE INDEX "IDX_CPSLAUDOVAR_DESCRICAO" ON "CPSLAUDOVAR"("DESCRICAO");
CREATE INDEX "CPSLAUDOVAR1_DESCRICAO" ON "CPSLAUDOVAR1"("DESCRICAO");
CREATE INDEX "CPSLAUDOVAR1_INDICE" ON "CPSLAUDOVAR1"("INDICE");
CREATE INDEX "IDX_CPSMANCHESTER_CODIGOCPS" ON "CPSMANCHESTER"("CODIGOCPS");
CREATE INDEX "IDX_CPSNUT_1" ON "CPSNUT"("DATASINC");
CREATE INDEX "CPSOBS_CODIGOCPS" ON "CPSOBS"("CODIGOCPS");
CREATE INDEX "IDX_CPSOFTALMO" ON "CPSOFTALMO"("CODIGOCPS");
CREATE INDEX "CPSPRONTUARIO_CODIGOCPS" ON "CPSPRONTUARIO"("CODIGOCPS");
CREATE INDEX "IDX_CPSPROTOCOLO_CODIGOCPS" ON "CPSPROTOCOLO"("CODIGOCPS");
CREATE INDEX "IDX_CPSRATEIO_CPS_TRAT" ON "CPSRATEIO"("CPS", "TRATAMENTO");
CREATE INDEX "CUSTOPACOTE_CUSTO" ON "CUSTOPACOTE"("CONVENIO");
CREATE INDEX "CUSTOPACOTE_TRATAMENTO" ON "CUSTOPACOTE"("TRATAMENTO");
CREATE INDEX "DEFCONVPLA1_CONVENIO" ON "DEFCONVPLA1"("CONVENIO");
CREATE INDEX "DEFPROFA_MEDICOS" ON "DEFPROF"("A_MEDICOS");
CREATE INDEX "DEFPROF_GRUPO" ON "DEFPROF"("GRUPO");
CREATE INDEX "DEFPROF1_A_MEDICOS" ON "DEFPROF1"("A_MEDICOS");
CREATE INDEX "DEFPROF1_ESPECIALIDADE" ON "DEFPROF1"("ESPECIALIDADE");
CREATE INDEX "DEFPROF3_A_MEDICOS" ON "DEFPROF3"("A_MEDICOS");
CREATE INDEX "DEFPROF4_A_MEDICOS" ON "DEFPROF4"("A_MEDICOS");
CREATE INDEX "DEFPROF4_CONVENIO" ON "DEFPROF4"("CONVENIO");
CREATE INDEX "DEFPROFMM_A_MEDICOS" ON "DEFPROFMM"("A_MEDICOS");
CREATE INDEX "IDX_DEFPROFSOL_1" ON "DEFPROFSOL"("A_MEDICOS");
CREATE INDEX "DENTES_CODIGOPAC" ON "DENTES"("CODIGOPAC");
CREATE INDEX "DENTES_DENTE" ON "DENTES"("DENTE");
CREATE INDEX "EMPRESACONFIG_GRUPO" ON "EMPRESACONFIG"("GRUPO");
CREATE INDEX "EMPRESACONFIG_PARAMETRO" ON "EMPRESACONFIG"("PARAMETRO");
CREATE INDEX "EMPRESACONFIG_SISTEMA" ON "EMPRESACONFIG"("SISTEMA");
CREATE INDEX "IDX_ESCALAALDRETE_CODIGOCPS" ON "ESCALAALDRETE"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAASA_CODIGOCPS" ON "ESCALAASA"("CODIGOCPS");
CREATE INDEX "IDX_ESCALABALTHAZAR_CODIGOCPS" ON "ESCALABALTHAZAR"("CODIGOCPS");
CREATE INDEX "IDX_ESCALABORG_CODIGOCPS" ON "ESCALABORG"("CODIGOCPS");
CREATE INDEX "IDX_ESCALABRADEN_CODIGOCPS" ON "ESCALABRADEN"("CODIGOCPS");
CREATE INDEX "IDX_ESCALADOR_CODIGOCPS" ON "ESCALADOR"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAFACE_CODIGOCPS" ON "ESCALAFACE"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAFLEBITE_CODIGOCPS" ON "ESCALAFLEBITE"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAFRAMINGHAM_CODIGOCPS" ON "ESCALAFRAMINGHAM"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAMEDICA_CODIGOCPS" ON "ESCALAMEDICA"("CODIGOCPS");
CREATE INDEX "IDXESCALAMEWS" ON "ESCALAMEWS"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAMRC_CODIGOCPS" ON "ESCALAMRC"("CODIGOCPS");
CREATE INDEX "IDX_ESCALAPERME_CODIGOCPS" ON "ESCALAPERME"("CODIGOCPS");
CREATE INDEX "IDX_ESCALASAPS3_CODIGOCPS" ON "ESCALASAPS3"("CODIGOCPS");
CREATE INDEX "IDX_ESCALASOFA_CODIGOCPS" ON "ESCALASOFA"("CODIGOCPS");
CREATE INDEX "ESPECCONVENIO_CONVENIO" ON "ESPECCONVENIO"("CONVENIO");
CREATE INDEX "ESPECCONVENIO_ESPECIALIDADE" ON "ESPECCONVENIO"("CONVENIO");
CREATE INDEX "ESPECIALIDADE_CODESP" ON "ESPECIALIDADE"("CODESP");
CREATE INDEX "IDX_ESPECIALIDADE_ATIVO" ON "ESPECIALIDADE"("ATIVO");
CREATE INDEX "IDX_ESPECIALIDADE_NOME" ON "ESPECIALIDADE"("NOME");
CREATE INDEX "EVOLUCAOENF_CODIGOCPS" ON "EVOLUCAOENF"("CODIGOCPS");
CREATE INDEX "EVOLUCAOENF_USER1" ON "EVOLUCAOENF"("USER1");
CREATE INDEX "IDX_EVOLUCAOENF_TIPO" ON "EVOLUCAOENF"("TIPO");
CREATE INDEX "IDX_EXAMEFISICO_1" ON "EXAMEFISICO"("CODIGOCPS");
CREATE INDEX "EXAMES1_CODIGOCPS" ON "EXAMES1"("CODIGOCPS");
CREATE INDEX "Exames1_CodigoCPS" ON "EXAMES1"("CODIGOCPS");
CREATE INDEX "IDX_EXAMES1DATAHORA" ON "EXAMES1"("DATAHORA");
CREATE INDEX "EXAMES2A_NOTAMED" ON "EXAMES2"("A_NOTAMED");
CREATE INDEX "EXAMES2_CODIGOSERV" ON "EXAMES2"("CODIGOSERV");
CREATE INDEX "EXAMPACIENTE_CODIGOPAC" ON "EXAMPACIENTE"("CODIGOPAC");
CREATE INDEX "FECHAMENTO_CONVENIO" ON "FECHAMENTO"("CONVENIO");
CREATE INDEX "FECHAMENTO_DATAPAGMEDICO" ON "FECHAMENTO"("DATAPAGMEDICO");
CREATE INDEX "FECHAMENTO_NOTAFISCAL" ON "FECHAMENTO"("NOTAFISCAL");
CREATE INDEX "FECHAMENTO2_SEQ" ON "FECHAMENTO2"("SEQUENCIA");
CREATE INDEX "FECHAMENTO3_SEQ" ON "FECHAMENTO3"("SEQUENCIA");
CREATE INDEX "FISIOTERAPIA_CODIGOCPS" ON "FISIOTERAPIA"("CODIGOCPS");
CREATE INDEX "IDX_FUGULIN_CODIGOCPS" ON "FUGULIN"("CODIGOCPS");
CREATE INDEX "IDX_HABILITA_PROCEDIMENTO" ON "HABILITA_PROCEDIMENTO"("PROCEDIMENTO", "CODIGO");
CREATE INDEX "IMAGENS1" ON "IMAGENS"("TIPO");
CREATE INDEX "IMAGENS2" ON "IMAGENS"("NOME");
CREATE INDEX "PACIMPORT" ON "IMPORTPRONT"("PAC", "MED", "DATA");
CREATE INDEX "PACIMPORT1" ON "IMPORTPRONT"("PAC");
CREATE INDEX "PACIMPORT2" ON "IMPORTPRONT"("MED");
CREATE INDEX "PACIMPORT3" ON "IMPORTPRONT"("DATA");
CREATE INDEX "PACIMPORT12" ON "IMPORTPRONT2"("PAC", "MED", "DATA");
CREATE INDEX "PACIMPORT21" ON "IMPORTPRONT2"("PAC");
CREATE INDEX "PACIMPORT22" ON "IMPORTPRONT2"("MED");
CREATE INDEX "PACIMPORT23" ON "IMPORTPRONT2"("DATA");
CREATE INDEX "IDX_IMP_FUSMA_1" ON "IMP_FUSMA"("NIP_VINC");
CREATE INDEX "IDX_IMP_FUSMA_2" ON "IMP_FUSMA"("NIP_TIT");
CREATE INDEX "IDX_INTER2_A_DATA" ON "INTER2"("A_DATA");
CREATE INDEX "IDX_INTER2_FATURA" ON "INTER2"("FATURA");
CREATE INDEX "IDX_INTER2_FATURAGLOSA" ON "INTER2"("FATURAGLOSA");
CREATE INDEX "INTER2_CODIGOINT" ON "INTER2"("CODIGOINT");
CREATE INDEX "INTER2_CODIGOINT1" ON "INTER2"("CODIGOINT", "TRATAMENTO");
CREATE INDEX "INTER2_DATADIA" ON "INTER2"("A_DATADIA");
CREATE INDEX "INTER2_DATAENVIO" ON "INTER2"("A_ENVIO");
CREATE INDEX "INTER2_FATURANO" ON "INTER2"("FATURANO");
CREATE INDEX "INTER2_PARCELA" ON "INTER2"("PARCELA");
CREATE INDEX "INTER2_TRATAMENTO" ON "INTER2"("TRATAMENTO");
CREATE INDEX "INTER3_A_MEDICOS" ON "INTER3"("A_MEDICOS");
CREATE INDEX "INTER3_CODIGOINT" ON "INTER3"("CODIGOINT");
CREATE INDEX "INTER3_CODIGOINTTRAT" ON "INTER3"("CODIGOINT", "TRATAMENTO");
CREATE INDEX "INTER3_CODIGOSERV" ON "INTER3"("CODIGOSERV");
CREATE INDEX "INTER3_DATA" ON "INTER3"("A_DATA");
CREATE INDEX "INTER32_A_DATA" ON "INTER32"("A_DATA");
CREATE INDEX "INTER32_A_MEDICOS" ON "INTER32"("A_MEDICOS");
CREATE INDEX "INTER32_CODIGOINT" ON "INTER32"("CODIGOINT");
CREATE INDEX "INTER32_CODIGOINTTRAT" ON "INTER32"("CODIGOINT", "TRATAMENTO");
CREATE INDEX "INTER32_CODIGOMM" ON "INTER32"("CODIGOMM");
CREATE INDEX "IDX_INTER4_MAPA" ON "INTER4"("CODIGOINT", "DATAFIM");
CREATE INDEX "INTER4A_ALA" ON "INTER4"("A_ALA");
CREATE INDEX "INTER4LEITO" ON "INTER4"("LEITO");
CREATE INDEX "INTER4_A_MEDICOS" ON "INTER4"("A_MEDICOS");
CREATE INDEX "INTER4_CODIGOINT" ON "INTER4"("CODIGOINT");
CREATE INDEX "INTER4_DATA" ON "INTER4"("DATA");
CREATE INDEX "INTER4_DATAFIM" ON "INTER4"("DATAFIM");
CREATE INDEX "INTER4_FOIPARA" ON "INTER4"("FOIPARA");
CREATE INDEX "INTERVISITA_CODINT" ON "INTERVISITA"("CODIGOCPS");
CREATE INDEX "IDX_LAB_PARDINI_DESCEXA" ON "LAB_PARDINI"("DESCEXA");
CREATE INDEX "IDX_LAB_PARDINI_MNEXA" ON "LAB_PARDINI"("MNEXA");
CREATE INDEX "LAUDOANTIBIOTICOS_DESCR" ON "LAUDOANTIBIOTICOS"("DESCRICAO");
CREATE INDEX "LAUDOBACTERIA_BACT" ON "LAUDOBACTERIA"("BACTERIA");
CREATE INDEX "IDX_LAUDOPADRX_COD_PARDINI" ON "LAUDOPADRX"("COD_PARDINI");
CREATE INDEX "IDX_LAUDOVAR_LAUDO_DESCRICAO" ON "LAUDOVAR"("LAUDO", "DESCRICAO");
CREATE INDEX "LAUDOVAR_DESCRICAO" ON "LAUDOVAR"("DESCRICAO");
CREATE INDEX "LAUDOVAR_LAUDO" ON "LAUDOVAR"("LAUDO");
CREATE INDEX "LAUDOVAR_TIPOCONSULTA" ON "LAUDOVAR"("TIPOCONSULTA");
CREATE INDEX "LAUDOVAR_TITULO" ON "LAUDOVAR"("TITULO");
CREATE INDEX "IDX_LEITOS_A_GRUPO" ON "LEITOS"("A_GRUPO");
CREATE INDEX "LEITOS_CODIGOINT" ON "LEITOS"("CODIGOINT");
CREATE INDEX "LEITOS_NOME" ON "LEITOS"("A_NOME");
CREATE INDEX "LINKS" ON "LINKS"("LINKS");
CREATE INDEX "IDX_LOGSAPI_CAMPO" ON "LOGSAPI"("CAMPO");
CREATE INDEX "IDX_LOGSAPI_DATAHORA" ON "LOGSAPI"("DATAHORA");
CREATE INDEX "IDX_LOGSAPI_TABELA" ON "LOGSAPI"("TABELA");
CREATE INDEX "IDX_LOGSAPIITEM_LOGSAPI" ON "LOGSAPIITEM"("LOGSAPI");
CREATE INDEX "IDX_LOC_BAI" ON "LOG_BAIRRO"("UFE_SG", "LOC_NU_SEQUENCIAL", "BAI_NO");
CREATE UNIQUE INDEX "PK_LOG_BAI" ON "LOG_BAIRRO"("BAI_NU_SEQUENCIAL");
CREATE INDEX "XDA67DD52_7B56_4832_A6DE_3870F7" ON "LOG_BAIRRO"("LOC_NU_SEQUENCIAL");
CREATE INDEX "IDX_CEP_CPC" ON "LOG_CPC"("CEP");
CREATE INDEX "IDX_LOC_CPC" ON "LOG_CPC"("UFE_SG", "LOC_NU_SEQUENCIAL", "CPC_NO");
CREATE UNIQUE INDEX "PK_LOG_CPC" ON "LOG_CPC"("CPC_NU_SEQUENCIAL");
CREATE INDEX "XC97B4584_EC27_4071_AB6E_23125B" ON "LOG_CPC"("LOC_NU_SEQUENCIAL");
CREATE UNIQUE INDEX "PRIMARYKEY" ON "LOG_FAIXA_BAIRRO"("BAI_NU_SEQUENCIAL", "FCB_NU_ORDEM");
CREATE INDEX "X35F64434_28F3_49DD_8909_B778F6" ON "LOG_FAIXA_BAIRRO"("BAI_NU_SEQUENCIAL");
CREATE INDEX "XFBB31BD1_C02E_49D3_ACBA_A4A200" ON "LOG_FAIXA_CPC"("CPC_NU_SEQUENCIAL");
CREATE UNIQUE INDEX "X876DF4E4_AEB3_49C5_838E_7F1549" ON "LOG_FAIXA_LOCALIDADE"("LOC_NU_SEQUENCIAL");
CREATE UNIQUE INDEX "PK_LOG_UF" ON "LOG_FAIXA_UF"("UFE_SG");
CREATE INDEX "XD7DBEA34_C7DD_4075_8B6E_8BC409" ON "LOG_FAIXA_UOP"("UOP_NU_SEQUENCIAL");
CREATE INDEX "IDX_CEP_GRU" ON "LOG_GRANDE_USUARIO"("CEP");
CREATE INDEX "IDX_LOC_GRU" ON "LOG_GRANDE_USUARIO"("UFE_SG", "LOC_NU_SEQUENCIAL", "GRU_NO");
CREATE INDEX "LOG_GRANDE_USUARIOBAI_NU_SEQUEN" ON "LOG_GRANDE_USUARIO"("BAI_NU_SEQUENCIAL");
CREATE INDEX "LOG_GRANDE_USUARIOLOG_NU_SEQUEN" ON "LOG_GRANDE_USUARIO"("LOG_NU_SEQUENCIAL");
CREATE INDEX "XA6323485_F382_41CF_B987_35B96B" ON "LOG_GRANDE_USUARIO"("LOC_NU_SEQUENCIAL");
CREATE INDEX "IDX_CEP_LOC" ON "LOG_LOCALIDADE"("CEP");
CREATE UNIQUE INDEX "PK_LOG_LOC" ON "LOG_LOCALIDADE"("LOC_NU_SEQUENCIAL");
CREATE INDEX "XA8A3A01C_E310_48C4_BEDB_3FA83A" ON "LOG_LOCALIDADE"("UFE_SG");
CREATE INDEX "IDX_CEP_LOG" ON "LOG_LOGRADOURO"("CEP");
CREATE INDEX "IDX_LOG_LOC1" ON "LOG_LOGRADOURO"("LOC_NU_SEQUENCIAL", "LOG_NO_SEM_ACENTO");
CREATE INDEX "IDX_LOG_UF1" ON "LOG_LOGRADOURO"("UFE_SG", "LOG_NO_SEM_ACENTO");
CREATE UNIQUE INDEX "PK_LOG_LOG" ON "LOG_LOGRADOURO"("LOG_NU_SEQUENCIAL");
CREATE INDEX "XC97C96A9_D9C9_427C_952F_3D67B2" ON "LOG_LOGRADOURO"("LOC_NU_SEQUENCIAL");
CREATE INDEX "IDX_CEP_UOP" ON "LOG_UNID_OPER"("CEP");
CREATE INDEX "IDX_LOC_UOP" ON "LOG_UNID_OPER"("UFE_SG", "LOC_NU_SEQUENCIAL", "UOP_NO");
CREATE INDEX "LOG_UNID_OPERBAI_NU_SEQUENCIAL" ON "LOG_UNID_OPER"("BAI_NU_SEQUENCIAL");
CREATE INDEX "LOG_UNID_OPERLOG_NU_SEQUENCIAL" ON "LOG_UNID_OPER"("LOG_NU_SEQUENCIAL");
CREATE UNIQUE INDEX "PK_LOG_UOP" ON "LOG_UNID_OPER"("UOP_NU_SEQUENCIAL");
CREATE INDEX "X33229D80_48AE_4925_9D09_A29B1E" ON "LOG_UNID_OPER"("LOC_NU_SEQUENCIAL");
CREATE INDEX "IDX_MAQUINETA_CONVENIO" ON "MAQUINETA"("CONVENIO");
CREATE INDEX "IDX_MARCACAO_A_MEDICOS2" ON "MARCACAO"("A_MEDICOS2");
CREATE INDEX "IDX_MARCACAO_HORA" ON "MARCACAO"("HORA");
CREATE INDEX "IDX_MARCACAO_OPERADORA" ON "MARCACAO"("OPERADORA_CELULAR");
CREATE INDEX "IDX_MARCACAO_SMS_MARCADO" ON "MARCACAO"("SMS_MARCADO");
CREATE INDEX "IDX_MARCACAO_TRIAGEM" ON "MARCACAO"("TRIAGEM");
CREATE INDEX "MARCACAO_CODIGOPAC" ON "MARCACAO"("CODIGOPAC");
CREATE INDEX "MARCACAO_CODIGOPROC" ON "MARCACAO"("CODIGOPROC");
CREATE INDEX "MARCACAO_CONVENIO" ON "MARCACAO"("CONVENIO");
CREATE INDEX "MARCACAO_DATA" ON "MARCACAO"("DATA");
CREATE INDEX "MARCACAO_DICOM" ON "MARCACAO"("DICOM");
CREATE INDEX "MARCACAO_MEDICO" ON "MARCACAO"("A_MEDICOS");
CREATE INDEX "MARCACAO_MEDICO_DATA" ON "MARCACAO"("A_MEDICOS", "DATA");
CREATE INDEX "IDX_MARCACAO_REG_LIMPOS_A_MEDIC" ON "MARCACAO_REG_LIMPOS"("A_MEDICOS");
CREATE INDEX "MARCACIROPME_CODIGOMM" ON "MARCACIROPME"("CODIGOMM");
CREATE INDEX "MARCACIROPME_FORNECEDOR" ON "MARCACIROPME"("FORNECEDOR");
CREATE INDEX "MARCACIROPME_MARCACAO" ON "MARCACIROPME"("MARCACAO");
CREATE INDEX "MARCACIRURGIA_A_MEDICOS" ON "MARCACIRURGIA"("A_MEDICOS");
CREATE INDEX "MARCACIRURGIA_CODIGOPAC" ON "MARCACIRURGIA"("CODIGOPAC");
CREATE INDEX "MARCACIRURGIA_CONVENIO" ON "MARCACIRURGIA"("CONVENIO");
CREATE INDEX "MARCACIRURGIA_DATA" ON "MARCACIRURGIA"("DATA");
CREATE INDEX "IDX_MARCASESSOES_CPS" ON "MARCASESSOES"("CODIGOCPS");
CREATE INDEX "MARCASESSOES_CODIGOPAC" ON "MARCASESSOES"("CODIGOPAC");
CREATE INDEX "MARCASESSOES_DATA" ON "MARCASESSOES"("DATA");
CREATE INDEX "IDX_MMBRASINDICE" ON "MATMED"("BRASINDICE");
CREATE INDEX "MATMED_A_CODAMB" ON "MATMED"("A_CODAMB");
CREATE INDEX "MATMED_A_MEDICOS" ON "MATMED"("A_MEDICOS");
CREATE INDEX "MATMED_A_NOME" ON "MATMED"("A_NOME");
CREATE INDEX "MATMED_CODAMB" ON "MATMED"("A_CODAMB");
CREATE INDEX "MATMED_TISSBRAS" ON "MATMED"("TISSBRAS");
CREATE INDEX "MATMEDCONV_CODIGOMM" ON "MATMEDCONV"("CODIGOMM");
CREATE INDEX "MATMEDCONV_CONV" ON "MATMEDCONV"("CONVENIO");
CREATE INDEX "MATMEDP1" ON "MATMEDCONV"("CONVENIO");
CREATE INDEX "MATMEDCONVREST_CODIGOMM" ON "MATMEDCONVREST"("CODIGOMM");
CREATE INDEX "MATMEDCONVREST_CONVENIO" ON "MATMEDCONVREST"("CONVENIO");
CREATE INDEX "IDX_MATMEDP_CODIMPORT" ON "MATMEDP"("CODIMPORT");
CREATE INDEX "MATMEDP_CODIGOMM" ON "MATMEDP"("CODIGOMM");
CREATE INDEX "IDX_MATMEDPG_CODIMPORT" ON "MATMEDPG"("CODIMPORT");
CREATE INDEX "MATMEDPG_CODIGOMM" ON "MATMEDPG"("CODIGOMM");
CREATE INDEX "MATMEDPLANSERV_CODTISS" ON "MATMEDPLANSERV"("CODTISS");
CREATE INDEX "MATMEDPLANSERV_INDICE" ON "MATMEDPLANSERV"("INDICE");
CREATE INDEX "MATMEDPLANSERV_NOME" ON "MATMEDPLANSERV"("NOME");
CREATE INDEX "IDX_MATMEDUNIMED2_1" ON "MATMEDUNIMED2"("MMU_CODIGO_UNIMED");
CREATE INDEX "MEDICOCOBRANCA_A_MEDICOS" ON "MEDICOCOBRANCA"("A_MEDICOS");
CREATE INDEX "MEDICOCOBRANCA_CONVENIO" ON "MEDICOCOBRANCA"("CONVENIO");
CREATE INDEX "MEDICOREST_A_MEDICOS" ON "MEDICOREST"("A_MEDICOS");
CREATE INDEX "MEDICOREST_CONVENIO" ON "MEDICOREST"("CONVENIO");
CREATE INDEX "IDX_MEDICOS_1" ON "MEDICOS"("A_CREMEB");
CREATE INDEX "IDX_MEDICOS_SMS_MARCADO" ON "MEDICOS"("SMS_MARCADO");
CREATE INDEX "MEDICOS2" ON "MEDICOS"("A_NOME");
CREATE INDEX "MEDICOS3" ON "MEDICOS"("A_GRUPOM");
CREATE INDEX "MEDICOS4" ON "MEDICOS"("ESPECIAL");
CREATE INDEX "MEDSOL_CREMEB" ON "MEDICOSOLICITANTE"("CREMEB");
CREATE INDEX "IDX_MEMORANDO_TIPO" ON "MEMORANDO"("TIPO");
CREATE INDEX "IDX_MOEDASTAB_MOEDAS" ON "MOEDASTAB"("MOEDAS");
CREATE INDEX "IDX_MOTIVOGLOSA_A_NOME" ON "MOTIVOGLOSA"("A_NOME");
CREATE INDEX "NOTAMED_CODIGOCPS" ON "NOTAMED"("CODIGOCPS");
CREATE INDEX "NOTAMED_DATA" ON "NOTAMED"("DATAHORA");
CREATE INDEX "NOTAMED_MEDICOS" ON "NOTAMED"("A_MEDICOS");
CREATE INDEX "NOTAMED10_PRESCRICAO" ON "NOTAMED10"("PRESCRICAO");
CREATE INDEX "NOTAMED12_PRESCRICAO" ON "NOTAMED12"("PRESCRICAO");
CREATE INDEX "NOTAMED13_PRESCRICAO" ON "NOTAMED13"("PRESCRICAO");
CREATE INDEX "NOTAMED2_A_NOTAMED" ON "NOTAMED2"("A_NOTAMED");
CREATE INDEX "NOTAMED2_KITS" ON "NOTAMED2"("A_KITS");
CREATE INDEX "NOTAMED2_MEDICAMENT" ON "NOTAMED2"("MEDICAMENT");
CREATE INDEX "NOTAMED2_POSOLOGIA" ON "NOTAMED2"("POSOLOGIA");
CREATE INDEX "NOTAMED3_CODIGOSERV" ON "NOTAMED3"("CODIGOSERV");
CREATE INDEX "NOTAMED3_NOTAMED" ON "NOTAMED3"("A_NOTAMED");
CREATE INDEX "NOTAMED4_NOTAMED" ON "NOTAMED4"("PRESCRICAO");
CREATE INDEX "NOTAMED5_PRESCRICAO" ON "NOTAMED5"("PRESCRICAO");
CREATE INDEX "NOTAMED6_PRESCRICAO" ON "NOTAMED6"("PRESCRICAO");
CREATE INDEX "NOTAMED7_PRESCRICAO" ON "NOTAMED7"("PRESCRICAO");
CREATE INDEX "NOTAMED8_PRESCRICAO" ON "NOTAMED8"("PRESCRICAO");
CREATE INDEX "NOTAMED9_PRESCRICAO" ON "NOTAMED9"("PRESCRICAO");
CREATE INDEX "NOTAMEDDIETA_PRESCRICAO" ON "NOTAMEDDIETA"("PRESCRICAO");
CREATE INDEX "NOTAPACIENTE_CPS" ON "NOTAPACIENTE"("CPS");
CREATE INDEX "NOTAPACIENTE_DATA" ON "NOTAPACIENTE"("DATA");
CREATE INDEX "NOTASALA1_ANESTESISTA" ON "NOTASALA1"("ANESTESISTA");
CREATE INDEX "NOTASALA1_AUXILIAR" ON "NOTASALA1"("AUXILIAR1");
CREATE INDEX "NOTASALA1_CIRURGIAO" ON "NOTASALA1"("CIRURGIAO");
CREATE INDEX "NOTASALA1_CODIGOINT" ON "NOTASALA1"("CODIGOINT");
CREATE INDEX "NOTASALA1_TRATAMENTO" ON "NOTASALA1"("TRATAMENTO");
CREATE INDEX "NOTASALA2_CODIGOINT" ON "NOTASALA2"("CODIGOINT");
CREATE INDEX "NOTASALA2_TRATAMENTO" ON "NOTASALA2"("TRATAMENTO");
CREATE INDEX "IDX_NOTASALAMM" ON "NOTASALAMM"("NOTASALA");
CREATE INDEX "IDX_NOTASALA_PARTIC" ON "NOTASALA_PARTIC"("NOTASALA");
CREATE INDEX "IDX_NUMERAGUIA_CONVENIO" ON "NUMERAGUIA"("CONVENIO");
CREATE INDEX "ORCAMENTO_CODIGOPAC" ON "ORCAMENTO"("CODIGOPAC");
CREATE INDEX "ORCAMENTO_CONVENIO" ON "ORCAMENTO"("CONVENIO");
CREATE INDEX "ORCAMENTOITEM_CODIGOSERV" ON "ORCAMENTOITEM"("CODIGOSERV");
CREATE INDEX "ORCAMENTOITEM_ORCAMENTO" ON "ORCAMENTOITEM"("ORCAMENTO");
CREATE INDEX "IDX_ORIGEM_" ON "ORIGEM"("TIPO", "CODIGO_ORIGEM", "COD_PROCEDIMENTO");
CREATE INDEX "IDX_OSP_1" ON "OSP"("DATA");
CREATE INDEX "IDX_DATA1" ON "PACIENTE"("DATA1");
CREATE INDEX "IDX_PACIENTE_CPF" ON "PACIENTE"("A_CPF");
CREATE INDEX "IDX_PACIENTE_LOGRADOURO" ON "PACIENTE"("COD_LOGRADOURO");
CREATE INDEX "IDX_PACIENTE_NASCIMENTO" ON "PACIENTE"("NASC");
CREATE INDEX "IDX_PACIENTE_NOMEFONETICO" ON "PACIENTE"("NOMEFONETICO");
CREATE INDEX "IDX_PACIENTE_SMS_MARCADO" ON "PACIENTE"("SMS_MARCADO");
CREATE INDEX "PACIENTE_MATRICULA" ON "PACIENTE"("MATRICULA");
CREATE INDEX "PAC_CELULAR" ON "PACIENTE"("CELULAR");
CREATE INDEX "PAC_CIDADEBAIRRO" ON "PACIENTE"("CIDADE", "BAIRRO");
CREATE INDEX "PAC_CONVENIO" ON "PACIENTE"("CONVENIO");
CREATE INDEX "PAC_IDENTIDADE" ON "PACIENTE"("IDENTIDADE");
CREATE INDEX "PAC_NOME" ON "PACIENTE"("A_NOME");
CREATE INDEX "PACOTE1_NOME" ON "PACOTE1"("NOME");
CREATE INDEX "PACOTE2_CODIGO" ON "PACOTE2"("CODIGO");
CREATE INDEX "PACOTE2_PACOTE" ON "PACOTE2"("PACOTE");
CREATE INDEX "PACOTE3_CODIGOAMB" ON "PACOTE3"("CODIGOAMB");
CREATE INDEX "PACOTE3_PACOTE" ON "PACOTE3"("PACOTE");
CREATE INDEX "PACOTE4_CODIGOAMB" ON "PACOTE4"("CODIGOAMB");
CREATE INDEX "PACOTE4_PACOTE" ON "PACOTE4"("PACOTE");
CREATE INDEX "PACOTE5_CODIGOAMB" ON "PACOTE5"("CODIGOAMB");
CREATE INDEX "PACOTE5_PACOTE" ON "PACOTE5"("PACOTE");
CREATE INDEX "PACOTE6_CODIGOMM" ON "PACOTE6"("A_MEDICOS");
CREATE INDEX "PACOTE6_PACOTE" ON "PACOTE6"("PACOTE");
CREATE INDEX "PACOTEEX_CODIGO" ON "PACOTEEXTRA"("CODIGOMM");
CREATE INDEX "PACOTEEX_CONVENIO" ON "PACOTEEXTRA"("CONVENIO");
CREATE INDEX "PACOTEEX_PACOTE" ON "PACOTEEXTRA"("PACOTE");
CREATE INDEX "IDX_PACOTE_SUSBSTANCIA_1" ON "PACOTE_SUSBSTANCIA"("SUBSTANCIA");
CREATE INDEX "IDX_PACOTE_SUSBSTANCIA_2" ON "PACOTE_SUSBSTANCIA"("CONTRAINDICACAO");
CREATE INDEX "IDX_PACOTE_SUSBSTANCIA_3" ON "PACOTE_SUSBSTANCIA"("PACOTE");
CREATE INDEX "IDX_PACTUACAO_CODIGOSERV" ON "PACTUACAO"("CODIGOSERV");
CREATE INDEX "IDX_PAINELCHAMADA" ON "PAINELCHAMADA"("PAINELCHAMADA");
CREATE INDEX "IDX_PAINELCHAMADA_STATUS" ON "PAINELCHAMADA"("STATUS");
CREATE INDEX "IDX_PASSAPLANTAO_CODIGOCPS" ON "PASSAPLANTAO"("CODIGOCPS");
CREATE INDEX "IDX_PASSAPLANTAO_CODMEDICO" ON "PASSAPLANTAO"("CODMEDICO");
CREATE INDEX "IDX_PASSAPLANTAO_ESPEC" ON "PASSAPLANTAO"("ESPEC");
CREATE INDEX "IDX_PASSAPLANTAO2_1" ON "PASSAPLANTAO2"("IDPASSAPLANTAO2");
CREATE INDEX "IDX_PASSAPLANTAO2_2" ON "PASSAPLANTAO2"("CPS");
CREATE INDEX "IDX_PESOPAC_1" ON "PESOPAC"("CODIGOPAC");
CREATE INDEX "IDX_PLODONTO_1" ON "PLODONTO"("CODIGOPAC");
CREATE INDEX "IDX_PLODONTO_TRATAMENTO_1" ON "PLODONTO_TRATAMENTO"("CODIGOPAC");
CREATE INDEX "IDX_PLODONTO_TRATAMENTO_2" ON "PLODONTO_TRATAMENTO"("CODIGOCPS");
CREATE INDEX "POSSE_INTER" ON "POSSE"("INTER2NO");
CREATE INDEX "POSSE_USUARIO" ON "POSSE"("USUARIO");
CREATE INDEX "IDX_POSTO_IMH_1" ON "POSTO_IMH"("COD");
CREATE INDEX "IDX_POSTO_IMH_2" ON "POSTO_IMH"("DESCR");
CREATE INDEX "PMC_CONVENIO" ON "PRECOMEDICOCONV"("CONVENIO");
CREATE INDEX "PMC_MEDICOS" ON "PRECOMEDICOCONV"("A_MEDICOS");
CREATE INDEX "PRECOMEDICOCONV_CODIGOAMB" ON "PRECOMEDICOCONV"("CODIGOAMB");
CREATE INDEX "PRECOS_A_CODIGOAMB" ON "PRECOS"("A_CODIGOAMB");
CREATE INDEX "PRECOS_CONVENIO" ON "PRECOS"("CONVENIO");
CREATE INDEX "PRESCRICAOENF_CODIGOCPS" ON "PRESCRICAOENF"("CODIGOCPS");
CREATE INDEX "PRESCRICAOENF_DATA" ON "PRESCRICAOENF"("DATAHORA");
CREATE INDEX "PRESCRICAOENF_MEDICOS" ON "PRESCRICAOENF"("A_MEDICOS");
CREATE INDEX "IDX_PRESCSAE_1" ON "PRESCSAE"("CPS");
CREATE INDEX "IDX_PRESCSAE_CUIDADOS_2" ON "PRESCSAE_CUIDADOS"("IDPRESCSAE");
CREATE INDEX "IDX_PRESCSAE_MODELO_1" ON "PRESCSAE_MODELO"("TIPO");
CREATE INDEX "IDX_PREVISAO_ALTA_1" ON "PREVISAO_ALTA"("PREVISAO");
CREATE INDEX "IDX_PREVISAO_ALTA_2" ON "PREVISAO_ALTA"("CPS");
CREATE INDEX "IDX_PROCEDIMENTO_CODPROC" ON "PROCEDIMENTO"("CODPROC");
CREATE INDEX "ID_MAX" ON "PROCEDIMENTO"("IDADE_MAX");
CREATE INDEX "ID__MIN" ON "PROCEDIMENTO"("IDADE_MIN");
CREATE INDEX "IDX_PROCEDIMENTO_CBOSUS" ON "PROCEDIMENTO_CBOSUS"("COD_PROCEDIMENTO", "COD_CBO");
CREATE INDEX "IDX_PROCEDIMENTO_CBOSUS_PROC" ON "PROCEDIMENTO_CBOSUS"("COD_PROCEDIMENTO");
CREATE INDEX "IDX_PROC_CBOSUS_PROC" ON "PROCEDIMENTO_CBOSUS"("PROCEDIMENTO");
CREATE INDEX "IDX_PROCEDIMENTO_SERVICOSUS" ON "PROCEDIMENTO_SERVICOSUS"("PROCEDIMENTO", "CODSERVICO", "CODCLASS", "COMPETENCIA");
CREATE INDEX "IDX_PROJETOCIR_1" ON "PROJETOCIR"("STATUS");
CREATE INDEX "IDX_PROJETOCIRFASE_1" ON "PROJETOCIRFASE"("IDAPROJETOCIR");
CREATE INDEX "IDX_PROJETOFASEITENS_1" ON "PROJETOFASEITENS"("IDPROJETOCIR");
CREATE INDEX "IDX_RECEITA_A_MEDICOS" ON "RECEITA"("A_MEDICOS");
CREATE INDEX "RECIBO_CPS" ON "RECIBO"("CPS");
CREATE INDEX "RECIBO_PAC" ON "RECIBO"("CODIGOPAC");
CREATE INDEX "IDX_RELATORIOS_ATIVO" ON "RELATORIOS"("ATIVO");
CREATE INDEX "IDX_RELATORIOS_RELATORIO" ON "RELATORIOS"("RELATORIO");
CREATE INDEX "IDX_REL_MED_ENDO_CPS" ON "REL_MED_ENDO"("CODIGOCPS");
CREATE INDEX "IDX_REL_MED_NUTRI_CPS" ON "REL_MED_NUTRI"("CODIGOCPS");
CREATE INDEX "IDX_REPRESENTA1_INDICE1" ON "REPRESENTA1"("INDICE1");
CREATE INDEX "IDX_SEPSE_1" ON "SEPSE"("NUMERO");
CREATE INDEX "IDX_SEPSE_2" ON "SEPSE"("CODIGOCPS");
CREATE INDEX "SC_CODIGOAMB1" ON "SERVCONVENIO"("CODIGOAMB1");
CREATE INDEX "SC_CODIGOAMB2" ON "SERVCONVENIO"("CODIGOAMB2");
CREATE INDEX "SC_CONVENIO" ON "SERVCONVENIO"("CONVENIO");
CREATE INDEX "IDXSERVICOSTIPO" ON "SERVICOS"("A_TIPO");
CREATE INDEX "SERVICOS_A_TIPO" ON "SERVICOS"("A_TIPO");
CREATE INDEX "SERVICOS_CODAMB" ON "SERVICOS"("A_CODAMB");
CREATE INDEX "SERVICOS_CONTABIL" ON "SERVICOS"("CONTABIL");
CREATE INDEX "SERVICOS_NOME" ON "SERVICOS"("A_NOME");
CREATE INDEX "SERV_TABELAAMB" ON "SERVICOS"("TABELA", "A_CODAMB");
CREATE INDEX "IDX_SERVICOSOCIALACOMP_1" ON "SERVICOSOCIALACOMP"("CODIGOCPS");
CREATE INDEX "IDX_SERVICOSUS" ON "SERVICOSUS"("COD_SERVICO", "COMPETENCIA");
CREATE INDEX "IDX_SERVICOSUSCLAS" ON "SERVICOSUSCLAS"("COD_SERVICO", "COD_CLASS", "COMPETENCIA");
CREATE INDEX "IDX_SIMPRO" ON "SIMPRO"("CD_SIMPRO");
CREATE INDEX "IDX_SIMPRONOME" ON "SIMPRO"("DESCRICAO");
CREATE INDEX "IDX_SMS_TIPO" ON "SMS"("TIPO");
CREATE INDEX "IDX_SMSLISTA_CNPJ" ON "SMSLISTA"("CNPJ");
CREATE INDEX "IDX_SMSLISTA_TELEFONE" ON "SMSLISTA"("TELEFONE");
CREATE INDEX "IDX_SMSRETORNO_CNPJ" ON "SMSRETORNO"("CNPJ_ORIGEM");
CREATE INDEX "SOLICITAGUIA_CODIGOPAC" ON "SOLICITAGUIA"("CODIGOPAC");
CREATE INDEX "SOLICITAGUIA_CONVENIO" ON "SOLICITAGUIA"("CONVENIO");
CREATE INDEX "SOLICITAGUIA_DATA" ON "SOLICITAGUIA"("A_DATA");
CREATE INDEX "SOLICITAGUIA2_CODIGOCPS" ON "SOLICITAGUIA2"("CODIGOCPS2");
CREATE INDEX "SOLICITAGUIA2_CODIGOSERV" ON "SOLICITAGUIA2"("CODIGOSERV");
CREATE INDEX "SOLICITAGUIA2_MARCACAO" ON "SOLICITAGUIA2"("MARCACAO");
CREATE INDEX "IDX_SOLICITAGUIAMM" ON "SOLICITAGUIAMM"("SOLICITAGUIA");
CREATE INDEX "IDX_SOLICITANTE_CNPJ" ON "SOLICITANTE"("CNPJ");
CREATE INDEX "TABELAHON_NOME" ON "TABELAHON"("DESCRICAO");
CREATE INDEX "IDX_TABHONREL_1" ON "TABHONREL"("CBHPM04");
CREATE INDEX "IDX_TB_CID_PROC_1" ON "TB_CID_PROC"("CP_PROC");
CREATE INDEX "IDX_TB_CID_PROC_2" ON "TB_CID_PROC"("CP_CID");
CREATE INDEX "IDX_TIPO_1" ON "TIPO"("TIPO");
CREATE INDEX "IDX_TISS11_CODIGO" ON "TISS11"("CODIGO");
CREATE INDEX "IDX_TISS114_CODIGO" ON "TISS114"("CODIGO");
CREATE INDEX "IDX_TISS15_CODIGO" ON "TISS15"("CODIGO");
CREATE INDEX "IDX_TISSDOMINIO_CODIGO" ON "TISSDOMINIO"("CODIGO");
CREATE INDEX "IDX_TISSDOMINIO_TIPO" ON "TISSDOMINIO"("TIPO");
CREATE INDEX "IDX_TISSSIMPRO_SIMPRO" ON "TISSSIMPRO"("SIMPRO");
CREATE INDEX "TRATAMENTO_CHECADO" ON "TRATAMENTO"("CHECADO");
CREATE INDEX "TRATAMENTO_NOME" ON "TRATAMENTO"("NOME");
CREATE INDEX "TRATAMENTO2_TRAMENTO" ON "TRATAMENTO2"("TRATAMENTO");
CREATE INDEX "TRATAMENTO3_TRATAMENTO" ON "TRATAMENTO3"("TRATAMENTO");
CREATE INDEX "TRATAMENTO4_TRATAMENTO" ON "TRATAMENTO3"("TRATAMENTO");
CREATE INDEX "TRATAMENTO4_KIT" ON "TRATAMENTO4"("INDICE");
CREATE INDEX "IDX_TRAVAFATURAMENTO" ON "TRAVAFATURAMENTO"("INICIO", "FINAL");
CREATE INDEX "IDX_TUSS_AMB90" ON "TUSS"("AMB90");
CREATE INDEX "IDX_TUSS_AMB92" ON "TUSS"("AMB92");
CREATE INDEX "IDX_TUSS_AMB96" ON "TUSS"("AMB96");
CREATE INDEX "IDX_TUSS_AMB99" ON "TUSS"("AMB99");
CREATE INDEX "IDX_TUSS_CBHPM3" ON "TUSS"("CBHPM3");
CREATE INDEX "IDX_TUSS_CBHPM4" ON "TUSS"("CBHPM4");
CREATE INDEX "IDX_TUSS_CBHPM5" ON "TUSS"("CBHPM5");
CREATE INDEX "IDX_TUSS_CODIGOAMB" ON "TUSS"("CODIGOAMB");
CREATE INDEX "IDX_UNIDADE_CODIGO" ON "UNIDADE"("CODIGO");
CREATE INDEX "IDX_UNIDADENEGOCIO_NOME" ON "UNIDADENEGOCIO"("NOME");
CREATE INDEX "USUARIOCONFIG_PARAMETRO" ON "USUARIOCONFIG"("PARAMETRO");
CREATE INDEX "USUARIOCONFIG_SISTEMA" ON "USUARIOCONFIG"("SISTEMA");
CREATE INDEX "USUARIOCONFIG_USUARIO" ON "USUARIOCONFIG"("USUARIO");
CREATE INDEX "IDX_USUARIOS_MEDICO" ON "USUARIOS"("MEDICO");
CREATE INDEX "IDX_USUARIOS_SMS_MARCADO" ON "USUARIOS"("SMS_MARCADO");
CREATE INDEX "USUARIO2" ON "USUARIOS"("A_NOME");
CREATE INDEX "USUARIOS_DEPTO" ON "USUARIOS"("DEPTO");
CREATE INDEX "IDX_VINCULORX_A_CODAMB" ON "VINCULORX"("A_CODAMB1", "A_CODAMB2");
CREATE INDEX "IDX_XMLDEMONSTRATIVO_CPS" ON "XMLDEMONSTRATIVO"("CODIGOCPS");
CREATE INDEX "IDX_XMLDEMONSTRATIVO_TB" ON "XMLDEMONSTRATIVO"("TABELA", "INDICETB");
CREATE INDEX "IDX_XMLDEMONSTRATIVO_XMLID" ON "XMLDEMONSTRATIVO"("XMLID");
CREATE INDEX "X_CPS2_CODIGOCPS" ON "X_CPS2"("CODIGOCPS2");
CREATE INDEX "X_CPS3_CODIGOCPS" ON "X_CPS3"("CODIGOCPS");
CREATE INDEX "X_INTER3_CODIGOINT" ON "X_INTER3"("CODIGOINT");
CREATE INDEX "X_INTER32_CODIGOCPS" ON "X_INTER32"("CODIGOINT");
CREATE INDEX "XMATMEDCONV_CODIGOMM" ON "X_MATMEDCONV"("CODIGOMM");
CREATE INDEX "XMATMEDCONV_CONV" ON "X_MATMEDCONV"("CONVENIO");
ALTER TABLE "MEDICOS" ADD CONSTRAINT "MED_GRU" FOREIGN KEY ("A_GRUPOM") REFERENCES "GRUPOMED" ("A_GRUPOM");

CREATE GENERATOR "ACESSO";
CREATE GENERATOR "ALIMENTOINFO";
CREATE GENERATOR "ATENDIMENTO";
CREATE GENERATOR "ERROSUSER";
CREATE GENERATOR "ESPECIALSUS";
CREATE GENERATOR "FETARIA";
CREATE GENERATOR "GEAP";
CREATE GENERATOR "GEAPGUIA";
CREATE GENERATOR "GEAPMATRICULA";
CREATE GENERATOR "GEND_DSSTATIC";
CREATE GENERATOR "GEN_ABASOLU";
CREATE GENERATOR "GEN_ACENTRAL";
CREATE GENERATOR "GEN_ACESSO";
CREATE GENERATOR "GEN_ACESSOA";
CREATE GENERATOR "GEN_ACESSOESTOQUE";
CREATE GENERATOR "GEN_ACESSOF";
CREATE GENERATOR "GEN_ACESSOI";
CREATE GENERATOR "GEN_ACESSOL";
CREATE GENERATOR "GEN_ACESSOM";
CREATE GENERATOR "GEN_ACESSOP";
CREATE GENERATOR "GEN_ACESSOSC";
CREATE GENERATOR "GEN_ACESSOSCONTABIL";
CREATE GENERATOR "GEN_ACESSOSO";
CREATE GENERATOR "GEN_ACESSOX";
CREATE GENERATOR "GEN_ACOMP";
CREATE GENERATOR "GEN_ADIANTAMENTO";
CREATE GENERATOR "GEN_ADMISSAOMEDICA";
CREATE GENERATOR "GEN_ADMPED";
CREATE GENERATOR "GEN_ADMPED_PROB";
CREATE GENERATOR "GEN_AGENDAPROF";
CREATE GENERATOR "GEN_AJUDA";
CREATE GENERATOR "GEN_AJUSTACPS";
CREATE GENERATOR "GEN_AJUSTACPSITEM";
CREATE GENERATOR "GEN_ALAS";
CREATE GENERATOR "GEN_ALERGIAS";
CREATE GENERATOR "GEN_ALIMENTO";
CREATE GENERATOR "GEN_ALIMENTOINFO";
CREATE GENERATOR "GEN_ALTA";
CREATE GENERATOR "GEN_ALTAENFUTI";
CREATE GENERATOR "GEN_ALTAITEM";
CREATE GENERATOR "GEN_ANESTESIA";
CREATE GENERATOR "GEN_ANTIBIOTICO";
CREATE GENERATOR "GEN_APACHE";
CREATE GENERATOR "GEN_APACHEORIGEM";
CREATE GENERATOR "GEN_APARELHOFISICO";
CREATE GENERATOR "GEN_APARELHO_AUDIOMETRIA";
CREATE GENERATOR "GEN_APELIDOCODAMB";
CREATE GENERATOR "GEN_AREA";
CREATE GENERATOR "GEN_AREAMED";
CREATE GENERATOR "GEN_ATENDIMENTO";
CREATE GENERATOR "GEN_ATESTADO";
CREATE GENERATOR "GEN_ATUALIZACAO_BRAS";
CREATE GENERATOR "GEN_ATUALIZAIMPCONV";
CREATE GENERATOR "GEN_AUDITAVALIDADEFUSMA";
CREATE GENERATOR "GEN_AUDITORIAREGRA";
CREATE GENERATOR "GEN_AUTORIZACAO";
CREATE GENERATOR "GEN_AVALIACAOESPECIALISTA";
CREATE GENERATOR "GEN_AVALIA_ANEST";
CREATE GENERATOR "GEN_BALANCOHIDR";
CREATE GENERATOR "GEN_BANCADA";
CREATE GENERATOR "GEN_BANCADAEXAME";
CREATE GENERATOR "GEN_BOLETIM";
CREATE GENERATOR "GEN_BOTAOEXAME";
CREATE GENERATOR "GEN_BPAATENDIMENTO";
CREATE GENERATOR "GEN_BPADISCO";
CREATE GENERATOR "GEN_BPAESPECIALSUS";
CREATE GENERATOR "GEN_BPAFETARIA";
CREATE GENERATOR "GEN_BPAGRUPO";
CREATE GENERATOR "GEN_BRASINDICE";
CREATE GENERATOR "GEN_BRASINDICE3";
CREATE GENERATOR "GEN_CALENDARIOFATURA";
CREATE GENERATOR "GEN_CARGACOMPILAB";
CREATE GENERATOR "GEN_CARGACOMPILABERRO";
CREATE GENERATOR "GEN_CARTA";
CREATE GENERATOR "GEN_CATALOGO";
CREATE GENERATOR "GEN_CBOSUS";
CREATE GENERATOR "GEN_CCIH";
CREATE GENERATOR "GEN_CEPSUS";
CREATE GENERATOR "GEN_CHECKCVC";
CREATE GENERATOR "GEN_CHECKLIST_CIRURGICO_2";
CREATE GENERATOR "GEN_CHECKLIST_CIRURGICO_SAMUR";
CREATE GENERATOR "GEN_CHECKUP";
CREATE GENERATOR "GEN_CHECKUP_ESPEC";
CREATE GENERATOR "GEN_CIDPROF";
CREATE GENERATOR "GEN_CIDPROT1";
CREATE GENERATOR "GEN_CIDPROT2";
CREATE GENERATOR "GEN_CIDPROTAMARRA";
CREATE GENERATOR "GEN_CIRURGIA_COMPLEMENTO";
CREATE GENERATOR "GEN_CODIGOPAC";
CREATE GENERATOR "GEN_COMPATSANGUE";
CREATE GENERATOR "GEN_COMPLEMENTOASSIST";
CREATE GENERATOR "GEN_CONFIG";
CREATE GENERATOR "GEN_CONSULTAENF";
CREATE GENERATOR "GEN_CONSULTAENF2";
CREATE GENERATOR "GEN_CONSULTANEST";
CREATE GENERATOR "GEN_CONSULTA_ENFERMAGEM";
CREATE GENERATOR "GEN_CONSUL_ANES";
CREATE GENERATOR "GEN_CONTATOS";
CREATE GENERATOR "GEN_CONTATOSEMP";
CREATE GENERATOR "GEN_CONVCODCRED";
CREATE GENERATOR "GEN_CONVENIO";
CREATE GENERATOR "GEN_CONVENIOINFLACAO";
CREATE GENERATOR "GEN_CONVENIOSPAC";
CREATE GENERATOR "GEN_CONVMATMEDESP";
CREATE GENERATOR "GEN_CONVMATMEDFAIXA";
CREATE GENERATOR "GEN_CONVPLANO";
CREATE GENERATOR "GEN_CONVPORTE";
CREATE GENERATOR "GEN_CONVSERVICOS";
CREATE GENERATOR "GEN_CONVSERVSUS";
CREATE GENERATOR "GEN_CONVVISITA";
CREATE GENERATOR "GEN_COPIA_EVOLUCAOPRESC";
CREATE GENERATOR "GEN_CPC_BUSCANIP";
CREATE GENERATOR "GEN_CPS1";
CREATE GENERATOR "GEN_CPS2";
CREATE GENERATOR "GEN_CPS2CC";
CREATE GENERATOR "GEN_CPS3";
CREATE GENERATOR "GEN_CPS5";
CREATE GENERATOR "GEN_CPS6";
CREATE GENERATOR "GEN_CPS6ID";
CREATE GENERATOR "GEN_CPS7";
CREATE GENERATOR "GEN_CPS8";
CREATE GENERATOR "GEN_CPSAIH";
CREATE GENERATOR "GEN_CPSAMEV";
CREATE GENERATOR "GEN_CPSAUDITORIA";
CREATE GENERATOR "GEN_CPSAUDITORIAITEM";
CREATE GENERATOR "GEN_CPSAUDTRAVA";
CREATE GENERATOR "GEN_CPSAUTSOL";
CREATE GENERATOR "GEN_CPSCONTROLE";
CREATE GENERATOR "GEN_CPSCONTROLEPAC";
CREATE GENERATOR "GEN_CPSFISIO";
CREATE GENERATOR "GEN_CPSIMPRESSO";
CREATE GENERATOR "GEN_CPSLAUDO1";
CREATE GENERATOR "GEN_CPSLAUDO2";
CREATE GENERATOR "GEN_CPSLAUDO3";
CREATE GENERATOR "GEN_CPSLAUDOANTIB";
CREATE GENERATOR "GEN_CPSLAUDOBACT";
CREATE GENERATOR "GEN_CPSLAUDOCAL";
CREATE GENERATOR "GEN_CPSLAUDOFILME";
CREATE GENERATOR "GEN_CPSLAUDOOBS";
CREATE GENERATOR "GEN_CPSLAUDOVAR";
CREATE GENERATOR "GEN_CPSLAUDOVAR1";
CREATE GENERATOR "GEN_CPSMANCHESTER";
CREATE GENERATOR "GEN_CPSMANIPULADO";
CREATE GENERATOR "GEN_CPSOFTALMO";
CREATE GENERATOR "GEN_CPSONCO";
CREATE GENERATOR "GEN_CPSONCOITENS";
CREATE GENERATOR "GEN_CPSPRONTUARIO";
CREATE GENERATOR "GEN_CPSPROTOCOLO";
CREATE GENERATOR "GEN_CPSTRIAGEM";
CREATE GENERATOR "GEN_CTRL_DISPOSITIVOS";
CREATE GENERATOR "GEN_CTRL_HEMODIALISE";
CREATE GENERATOR "GEN_CULTURAS";
CREATE GENERATOR "GEN_CUSTOPACOTE";
CREATE GENERATOR "GEN_DECISION";
CREATE GENERATOR "GEN_DECISIONCAMPO";
CREATE GENERATOR "GEN_DECISIONCENARIO";
CREATE GENERATOR "GEN_DECISIONFILTRO";
CREATE GENERATOR "GEN_DECISIONGRAF";
CREATE GENERATOR "GEN_DECISIONGRUPO";
CREATE GENERATOR "GEN_DECISIONHAVING";
CREATE GENERATOR "GEN_DECISIONITEM";
CREATE GENERATOR "GEN_DECISIONJOIN";
CREATE GENERATOR "GEN_DECISIONMETA";
CREATE GENERATOR "GEN_DECISIONMETAITEM";
CREATE GENERATOR "GEN_DECISIONPAINEL";
CREATE GENERATOR "GEN_DECISIONSCRIPT";
CREATE GENERATOR "GEN_DECISIONUSUARIOPAINEL";
CREATE GENERATOR "GEN_DECISIONVALOR";
CREATE GENERATOR "GEN_DEFCONVPLA";
CREATE GENERATOR "GEN_DEFPROF";
CREATE GENERATOR "GEN_DEFPROF1";
CREATE GENERATOR "GEN_DEFPROF3";
CREATE GENERATOR "GEN_DEFPROF4";
CREATE GENERATOR "GEN_DEFPROFDESCONTO";
CREATE GENERATOR "GEN_DEFPROFMED";
CREATE GENERATOR "GEN_DEFPROFMM";
CREATE GENERATOR "GEN_DEFPROFRATEIO";
CREATE GENERATOR "GEN_DEFPROFSOL";
CREATE GENERATOR "GEN_DEMONSTRATIVO";
CREATE GENERATOR "GEN_DENTES";
CREATE GENERATOR "GEN_DEPTO";
CREATE GENERATOR "GEN_DEPTOX";
CREATE GENERATOR "GEN_DIA";
CREATE GENERATOR "GEN_DICOM";
CREATE GENERATOR "GEN_DIETA";
CREATE GENERATOR "GEN_DIETAITEM";
CREATE GENERATOR "GEN_DISPOSITIVOS";
CREATE GENERATOR "GEN_DISTRIBUICAO_LEITOS";
CREATE GENERATOR "GEN_DROGASCONTINUAS";
CREATE GENERATOR "GEN_DSIMAGEM";
CREATE GENERATOR "GEN_DSIMAGEMITEM";
CREATE GENERATOR "GEN_DSSTATIC";
CREATE GENERATOR "GEN_DVA";
CREATE GENERATOR "GEN_EMPRESACONFIG";
CREATE GENERATOR "GEN_EMPRESAMO";
CREATE GENERATOR "GEN_ENQUETE";
CREATE GENERATOR "GEN_ENVIO";
CREATE GENERATOR "GEN_ENVIOSMS";
CREATE GENERATOR "GEN_EQUIPMED";
CREATE GENERATOR "GEN_EQUIPMEDITEM";
CREATE GENERATOR "GEN_ERFILALL";
CREATE GENERATOR "GEN_ESCALAMEDICA";
CREATE GENERATOR "GEN_ESPECCONVENIO";
CREATE GENERATOR "GEN_ESPECIAL";
CREATE GENERATOR "GEN_ESPECIALSUS";
CREATE GENERATOR "GEN_EVOLUCAO";
CREATE GENERATOR "GEN_EXAMEFISICO";
CREATE GENERATOR "GEN_EXAMEFISICOUTI";
CREATE GENERATOR "GEN_EXAMES1";
CREATE GENERATOR "GEN_EXAMES2";
CREATE GENERATOR "GEN_EXAMPACIENTE";
CREATE GENERATOR "GEN_EXCLUIDOSBRAS";
CREATE GENERATOR "GEN_FECHA";
CREATE GENERATOR "GEN_FECHAMENTO2";
CREATE GENERATOR "GEN_FECHAMENTO3";
CREATE GENERATOR "GEN_FETARIA";
CREATE GENERATOR "GEN_FILMEMETRO";
CREATE GENERATOR "GEN_FINGER";
CREATE GENERATOR "GEN_FISIOTERAPIA";
CREATE GENERATOR "GEN_FORMATO_BPA";
CREATE GENERATOR "GEN_FORMATO_BPA_QTDE_FOLHA";
CREATE GENERATOR "GEN_FORMA_ORG";
CREATE GENERATOR "GEN_FORNECPROD";
CREATE GENERATOR "GEN_FPO_SUS";
CREATE GENERATOR "GEN_FUNCAO";
CREATE GENERATOR "GEN_GLOSADETALHE";
CREATE GENERATOR "GEN_GLOSAJUSTIFICATIVA";
CREATE GENERATOR "GEN_GRAFICO";
CREATE GENERATOR "GEN_GRUPO";
CREATE GENERATOR "GEN_GRUPOGERAL";
CREATE GENERATOR "GEN_GRUPOMED";
CREATE GENERATOR "GEN_GRUPOSUS";
CREATE GENERATOR "GEN_GRUPOTEURA";
CREATE GENERATOR "GEN_GUICHE";
CREATE GENERATOR "GEN_HIS_ENFERMAGEM";
CREATE GENERATOR "GEN_HONTIPO";
CREATE GENERATOR "GEN_HONZERADO";
CREATE GENERATOR "GEN_IBR_REL_PAG_ID";
CREATE GENERATOR "GEN_IDFUGULIN";
CREATE GENERATOR "GEN_ID_SAPS3";
CREATE GENERATOR "GEN_IMAGENS";
CREATE GENERATOR "GEN_IMPORT_MATMED";
CREATE GENERATOR "GEN_IMPRESSOS";
CREATE GENERATOR "GEN_INFONUT";
CREATE GENERATOR "GEN_INTENSIDADE";
CREATE GENERATOR "GEN_INTER2";
CREATE GENERATOR "GEN_INTER3";
CREATE GENERATOR "GEN_INTER32";
CREATE GENERATOR "GEN_INTER4";
CREATE GENERATOR "GEN_INTERNAMENTO";
CREATE GENERATOR "GEN_INTERVISITA";
CREATE GENERATOR "GEN_JUSTIFICAPADRAO";
CREATE GENERATOR "GEN_LAB_PARDINI";
CREATE GENERATOR "GEN_LAUDOBACTERIA";
CREATE GENERATOR "GEN_LAUDOFUNGO";
CREATE GENERATOR "GEN_LAUDOOPCAOANTIB";
CREATE GENERATOR "GEN_LAUDOPADRX";
CREATE GENERATOR "GEN_LAUDOVAR";
CREATE GENERATOR "GEN_LEITOS";
CREATE GENERATOR "GEN_LIMPOS";
CREATE GENERATOR "GEN_LOCALENTRADA";
CREATE GENERATOR "GEN_LOG";
CREATE GENERATOR "GEN_LOGSAPI";
CREATE GENERATOR "GEN_LOGUSUARIO";
CREATE GENERATOR "GEN_LOG_CONVENIOS";
CREATE GENERATOR "GEN_LOG_SISTEMA";
CREATE GENERATOR "GEN_MARCACAO";
CREATE GENERATOR "GEN_MARCACAOLIMITE";
CREATE GENERATOR "GEN_MARCACIROPME";
CREATE GENERATOR "GEN_MARCACIRURGIA";
CREATE GENERATOR "GEN_MARCACLASSE";
CREATE GENERATOR "GEN_MARCASESSOES";
CREATE GENERATOR "GEN_MARINHA";
CREATE GENERATOR "GEN_MARKTING";
CREATE GENERATOR "GEN_MATCOLETA";
CREATE GENERATOR "GEN_MATMED";
CREATE GENERATOR "GEN_MATMEDCONVREST";
CREATE GENERATOR "GEN_MATMEDP";
CREATE GENERATOR "GEN_MATMEDPADRAO";
CREATE GENERATOR "GEN_MATMEDPLANSERV";
CREATE GENERATOR "GEN_MATMEDSEMSALDOPRESCR";
CREATE GENERATOR "GEN_MATMEDUNIMED";
CREATE GENERATOR "GEN_MATMEDUNIMED_ID";
CREATE GENERATOR "GEN_MEDICA_USO_CONT";
CREATE GENERATOR "GEN_MEDICOCOBRANCA";
CREATE GENERATOR "GEN_MEDICOREST";
CREATE GENERATOR "GEN_MEDICOS";
CREATE GENERATOR "GEN_MEDICOSOL";
CREATE GENERATOR "GEN_MEDICOS_PERC_GRUPO";
CREATE GENERATOR "GEN_MEDICO_HOSP";
CREATE GENERATOR "GEN_MEDIDAS";
CREATE GENERATOR "GEN_MEMORANDO";
CREATE GENERATOR "GEN_MENSAGEM";
CREATE GENERATOR "GEN_MENSAGEM_INTERNA_LAUDO";
CREATE GENERATOR "GEN_MEWS";
CREATE GENERATOR "GEN_MODALIDADE";
CREATE GENERATOR "GEN_MOEDAS";
CREATE GENERATOR "GEN_MOEDASTAB";
CREATE GENERATOR "GEN_MONCOMPUTADOR";
CREATE GENERATOR "GEN_MONITORIZACAO_BH";
CREATE GENERATOR "GEN_MONLOGCOMP";
CREATE GENERATOR "GEN_MOTIVOATD";
CREATE GENERATOR "GEN_MOTIVOCLAS";
CREATE GENERATOR "GEN_MOTIVOGLOSA";
CREATE GENERATOR "GEN_MOVSUS";
CREATE GENERATOR "GEN_NOTAMED";
CREATE GENERATOR "GEN_NOTAMED10";
CREATE GENERATOR "GEN_NOTAMED11";
CREATE GENERATOR "GEN_NOTAMED12";
CREATE GENERATOR "GEN_NOTAMED13";
CREATE GENERATOR "GEN_NOTAMED2";
CREATE GENERATOR "GEN_NOTAMED3";
CREATE GENERATOR "GEN_NOTAMED4";
CREATE GENERATOR "GEN_NOTAMED5";
CREATE GENERATOR "GEN_NOTAMED6";
CREATE GENERATOR "GEN_NOTAMED7";
CREATE GENERATOR "GEN_NOTAMED8";
CREATE GENERATOR "GEN_NOTAMED9";
CREATE GENERATOR "GEN_NOTAMEDDIETA";
CREATE GENERATOR "GEN_NOTAPACIENTE";
CREATE GENERATOR "GEN_NOTASALA1";
CREATE GENERATOR "GEN_NOTASALA2";
CREATE GENERATOR "GEN_NOTASALAMM";
CREATE GENERATOR "GEN_NOTASALA_PARTIC";
CREATE GENERATOR "GEN_NOTIFICACAO_EVENTO";
CREATE GENERATOR "GEN_NOTIFICACAO_RESPOSTA";
CREATE GENERATOR "GEN_NUMERAGUIA";
CREATE GENERATOR "GEN_NUMIMPORTACAO";
CREATE GENERATOR "GEN_NUTRICAO";
CREATE GENERATOR "GEN_OPERADORAS";
CREATE GENERATOR "GEN_OPERADORA_CELULAR";
CREATE GENERATOR "GEN_OPMEP";
CREATE GENERATOR "GEN_ORCAMENTO";
CREATE GENERATOR "GEN_ORCAMENTOITEM";
CREATE GENERATOR "GEN_ORIGEM";
CREATE GENERATOR "GEN_OSP";
CREATE GENERATOR "GEN_PACBACKUP";
CREATE GENERATOR "GEN_PACESPEC";
CREATE GENERATOR "GEN_PACIENTECPR";
CREATE GENERATOR "GEN_PACIENTEPROGGOV";
CREATE GENERATOR "GEN_PACIENTESBLOQUEADOS";
CREATE GENERATOR "GEN_PACOTE1";
CREATE GENERATOR "GEN_PACOTE2";
CREATE GENERATOR "GEN_PACOTE3";
CREATE GENERATOR "GEN_PACOTE4";
CREATE GENERATOR "GEN_PACOTE5";
CREATE GENERATOR "GEN_PACOTE6";
CREATE GENERATOR "GEN_PACOTEBARRA";
CREATE GENERATOR "GEN_PACOTEBARRAITEM";
CREATE GENERATOR "GEN_PACOTE_SUBSTANCIA";
CREATE GENERATOR "GEN_PACPLAN";
CREATE GENERATOR "GEN_PACTUACAO";
CREATE GENERATOR "GEN_PAC_ALARME";
CREATE GENERATOR "GEN_PAINELCHAMADA";
CREATE GENERATOR "GEN_PARTICULAR_GUIA";
CREATE GENERATOR "GEN_PASSAPLANTAO";
CREATE GENERATOR "GEN_PASSAPLANTAO2";
CREATE GENERATOR "GEN_PCTEXTRA";
CREATE GENERATOR "GEN_PENDENCIAS";
CREATE GENERATOR "GEN_PENDENCIAS_DETALHE";
CREATE GENERATOR "GEN_PENDENCIAS_TIPO";
CREATE GENERATOR "GEN_PENFNAVALMODELO";
CREATE GENERATOR "GEN_PERFILA";
CREATE GENERATOR "GEN_PERFILAL";
CREATE GENERATOR "GEN_PERFILALL";
CREATE GENERATOR "GEN_PERFILAM";
CREATE GENERATOR "GEN_PERFILAO";
CREATE GENERATOR "GEN_PERFILAP";
CREATE GENERATOR "GEN_PERFILFO";
CREATE GENERATOR "GEN_PESOPAC";
CREATE GENERATOR "GEN_PLANO";
CREATE GENERATOR "GEN_PLANSERV_ATUALIZACAO";
CREATE GENERATOR "GEN_PLANSERV_MAT";
CREATE GENERATOR "GEN_PLANTOSOL";
CREATE GENERATOR "GEN_PLODONTO";
CREATE GENERATOR "GEN_PLODONTO_TRATMENTO";
CREATE GENERATOR "GEN_PORTADOR";
CREATE GENERATOR "GEN_PORTADOR_CONF";
CREATE GENERATOR "GEN_POSSE";
CREATE GENERATOR "GEN_POSTO";
CREATE GENERATOR "GEN_PRECOMATMED";
CREATE GENERATOR "GEN_PRECOMATMEDG";
CREATE GENERATOR "GEN_PRECOMEDICOCONV";
CREATE GENERATOR "GEN_PRECOS";
CREATE GENERATOR "GEN_PRESCRICAOENF";
CREATE GENERATOR "GEN_PRESCRICAOGRUPO";
CREATE GENERATOR "GEN_PRESCRICAOGRUPOCAMPO";
CREATE GENERATOR "GEN_PRESCRICAOIMPRESSO";
CREATE GENERATOR "GEN_PRESCRICAOMODELO";
CREATE GENERATOR "GEN_PRESCSAE";
CREATE GENERATOR "GEN_PRESCSAE_CUIDADOS";
CREATE GENERATOR "GEN_PREVISAO_ALTA";
CREATE GENERATOR "GEN_PRINCIPIO";
CREATE GENERATOR "GEN_PROCEDIMENTO";
CREATE GENERATOR "GEN_PROCEDIMENTOCBOSUS";
CREATE GENERATOR "GEN_PRODNPADRAO";
CREATE GENERATOR "GEN_PRODUS";
CREATE GENERATOR "GEN_PROF";
CREATE GENERATOR "GEN_PROFILATICOS";
CREATE GENERATOR "GEN_PROFISSAO";
CREATE GENERATOR "GEN_PROGGOVERNO";
CREATE GENERATOR "GEN_PROGRAMASAUDE";
CREATE GENERATOR "GEN_PROJETOCIR";
CREATE GENERATOR "GEN_PROJETOCIRFASE";
CREATE GENERATOR "GEN_PROJETOCIRFASEITENS";
CREATE GENERATOR "GEN_PRORROGACAO";
CREATE GENERATOR "GEN_PROTESES";
CREATE GENERATOR "GEN_PROTOCOLO";
CREATE GENERATOR "GEN_PROTODOCS";
CREATE GENERATOR "GEN_QUESTAO";
CREATE GENERATOR "GEN_QUESTCHECK";
CREATE GENERATOR "GEN_QUESTCHECKMARCAR";
CREATE GENERATOR "GEN_QUESTIONARIO";
CREATE GENERATOR "GEN_RECEBIMENTO";
CREATE GENERATOR "GEN_RECEITA";
CREATE GENERATOR "GEN_RECIBO";
CREATE GENERATOR "GEN_REGRA_UD";
CREATE GENERATOR "GEN_RELALTA";
CREATE GENERATOR "GEN_RELATORIO";
CREATE GENERATOR "GEN_RELATORIO1";
CREATE GENERATOR "GEN_RELGLOSA";
CREATE GENERATOR "GEN_REL_MED_ENDO";
CREATE GENERATOR "GEN_REL_MED_NUTRI";
CREATE GENERATOR "GEN_REL_REGULACAO";
CREATE GENERATOR "GEN_REPRESENTA1";
CREATE GENERATOR "GEN_RESPIRADOR";
CREATE GENERATOR "GEN_RESULTEXAMES";
CREATE GENERATOR "GEN_RETORNO";
CREATE GENERATOR "GEN_RISCOS";
CREATE GENERATOR "GEN_ROLFPO";
CREATE GENERATOR "GEN_ROUPARIADIA";
CREATE GENERATOR "GEN_ROUPARIA_PESO";
CREATE GENERATOR "GEN_SALAS";
CREATE GENERATOR "GEN_SANGUE";
CREATE GENERATOR "GEN_SAP";
CREATE GENERATOR "GEN_SAPATENDIMENTO";
CREATE GENERATOR "GEN_SAPITEM";
CREATE GENERATOR "GEN_SBIS";
CREATE GENERATOR "GEN_SENHADIGITAL";
CREATE GENERATOR "GEN_SEPSE";
CREATE GENERATOR "GEN_SERVCONVENIO";
CREATE GENERATOR "GEN_SERVCORREIO";
CREATE GENERATOR "GEN_SERVCORREIO_MAT";
CREATE GENERATOR "GEN_SERVICO";
CREATE GENERATOR "GEN_SERVICOSOCIALACOMP";
CREATE GENERATOR "GEN_SERVICOS_CONFIG";
CREATE GENERATOR "GEN_SERVIDOREMAIL";
CREATE GENERATOR "GEN_SG_INS";
CREATE GENERATOR "GEN_SIMPRO";
CREATE GENERATOR "GEN_SIMPRO_LAYOUT2";
CREATE GENERATOR "GEN_SITUACAO";
CREATE GENERATOR "GEN_SMORADIA";
CREATE GENERATOR "GEN_SMS";
CREATE GENERATOR "GEN_SMSAGENDADOR";
CREATE GENERATOR "GEN_SMSLISTA";
CREATE GENERATOR "GEN_SOLICITA";
CREATE GENERATOR "GEN_SOLICITAAUTOMATICO";
CREATE GENERATOR "GEN_SOLICITAGUIA";
CREATE GENERATOR "GEN_SOLICITAGUIAMM";
CREATE GENERATOR "GEN_SOLICITANTE";
CREATE GENERATOR "GEN_SOLMARCACAO";
CREATE GENERATOR "GEN_SUBGRUPOSUS";
CREATE GENERATOR "GEN_SUBSTANCIAS_ALERGIA";
CREATE GENERATOR "GEN_SUBSTANCIA_ALERGIA";
CREATE GENERATOR "GEN_SULAMERICA1_GUIA";
CREATE GENERATOR "GEN_SULAMERICA_GUIA";
CREATE GENERATOR "GEN_TABELA";
CREATE GENERATOR "GEN_TABELAHON";
CREATE GENERATOR "GEN_TABHONREL";
CREATE GENERATOR "GEN_TB_CHECK";
CREATE GENERATOR "GEN_TB_CHECK_HOSP";
CREATE GENERATOR "GEN_TB_CHECK_LIST";
CREATE GENERATOR "GEN_TB_CHECK_LIST_HOSP";
CREATE GENERATOR "GEN_TB_CHECK_LIST_MOT_COBR";
CREATE GENERATOR "GEN_TB_CHECK_MOT_COBR";
CREATE GENERATOR "GEN_TB_CID_PROC";
CREATE GENERATOR "GEN_TB_CLINICA";
CREATE GENERATOR "GEN_TB_EQUIPE";
CREATE GENERATOR "GEN_TB_EXCEC_COMP";
CREATE GENERATOR "GEN_TB_FINANCIAMENTO";
CREATE GENERATOR "GEN_TB_FO";
CREATE GENERATOR "GEN_TB_GRUPO";
CREATE GENERATOR "GEN_TB_HABILITACAO";
CREATE GENERATOR "GEN_TB_MENSAGEM";
CREATE GENERATOR "GEN_TB_MODALIDADE";
CREATE GENERATOR "GEN_TB_MOT_COBR";
CREATE GENERATOR "GEN_TB_PROC";
CREATE GENERATOR "GEN_TB_PROC_CBO";
CREATE GENERATOR "GEN_TB_PROC_COMP";
CREATE GENERATOR "GEN_TECNICO";
CREATE GENERATOR "GEN_TESTE";
CREATE GENERATOR "GEN_TIPODIGBANCADA";
CREATE GENERATOR "GEN_TISS11";
CREATE GENERATOR "GEN_TISS110";
CREATE GENERATOR "GEN_TISS111";
CREATE GENERATOR "GEN_TISS112";
CREATE GENERATOR "GEN_TISS113";
CREATE GENERATOR "GEN_TISS114";
CREATE GENERATOR "GEN_TISS115";
CREATE GENERATOR "GEN_TISS116";
CREATE GENERATOR "GEN_TISS117";
CREATE GENERATOR "GEN_TISS118";
CREATE GENERATOR "GEN_TISS119";
CREATE GENERATOR "GEN_TISS12";
CREATE GENERATOR "GEN_TISS120";
CREATE GENERATOR "GEN_TISS121";
CREATE GENERATOR "GEN_TISS122";
CREATE GENERATOR "GEN_TISS123";
CREATE GENERATOR "GEN_TISS124";
CREATE GENERATOR "GEN_TISS125";
CREATE GENERATOR "GEN_TISS126";
CREATE GENERATOR "GEN_TISS13";
CREATE GENERATOR "GEN_TISS14";
CREATE GENERATOR "GEN_TISS15";
CREATE GENERATOR "GEN_TISS16";
CREATE GENERATOR "GEN_TISS17";
CREATE GENERATOR "GEN_TISS18";
CREATE GENERATOR "GEN_TISS19";
CREATE GENERATOR "GEN_TISSDOMINIO";
CREATE GENERATOR "GEN_TRANSFEVOLUCAO";
CREATE GENERATOR "GEN_TRATAMENTO";
CREATE GENERATOR "GEN_TRATAMENTO2";
CREATE GENERATOR "GEN_TRATAMENTO3";
CREATE GENERATOR "GEN_TRATAMENTO4";
CREATE GENERATOR "GEN_TRAVAFATURAMENTO";
CREATE GENERATOR "GEN_TRIAGEM";
CREATE GENERATOR "GEN_TUSSANVISA";
CREATE GENERATOR "GEN_USERRECEBIMENTO";
CREATE GENERATOR "GEN_USUARIO";
CREATE GENERATOR "GEN_USUARIOCONFIG";
CREATE GENERATOR "GEN_UTI_TISS28";
CREATE GENERATOR "GEN_VENTILACAO";
CREATE GENERATOR "GEN_VINCLPRX";
CREATE GENERATOR "GEN_WEBSERVICE";
CREATE GENERATOR "GEN_XCCIH";
CREATE GENERATOR "GEN_XLCONVENIO";
CREATE GENERATOR "GEN_XMARCACAO";
CREATE GENERATOR "GEN_XMATMEDP";
CREATE GENERATOR "GEN_XNOTAMED2";
CREATE GENERATOR "GEN_XXX_INTER2";
CREATE GENERATOR "GEN_X_ALTAITEM";
CREATE GENERATOR "GRUPO";
CREATE GENERATOR "HONMATMEDMEDICO";
CREATE GENERATOR "ID_CONSULTA_ENFERMAGEM";
CREATE GENERATOR "INC_TESTE";
CREATE GENERATOR "LEITOAMBULATORIO";
CREATE GENERATOR "LEITOEMERGENCIA";
CREATE GENERATOR "NOVO_CHAMADO";
CREATE GENERATOR "OPME";
CREATE GENERATOR "SUS";
CREATE GENERATOR "TIPOPROGRAMASAUDE";
CREATE GENERATOR "XMLPAG";
CREATE GENERATOR "X_INTER2";
CREATE GENERATOR "X_INTER3";
CREATE GENERATOR "X_INTER32";

/* View: MARCACAOMESTIPO, Owner: SYSDBA */

CREATE VIEW "MARCACAOMESTIPO" (
  "NUMERO", 
  "MES", 
  "ANO", 
  "TIPO"
) AS
   select numero,extract(month from data),extract(year from data),tipo from marcacao where tipo is not null
;

/* View: CPSCONVENIO, Owner: SYSDBA */

CREATE VIEW "CPSCONVENIO" (
  "CODIGOCPS", 
  "MES", 
  "ANO", 
  "CONVENIO", 
  "A_DATAFAT"
) AS
   select cps1.codigocps,extract(month from cps1.a_datafat), extract(year from cps1.a_datafat), convenio.convenio,cps1.a_datafat from cps1 inner join convenio on convenio.convenio = cps1.convenio
;

/* View: ENVIOQTDE, Owner: SYSDBA */

CREATE VIEW "ENVIOQTDE" (
  "CONVENIO", 
  "CODIGOPLA", 
  "FATURA", 
  "A_DATAFAT", 
  "DATAINICIO", 
  "A_DATA", 
  "A_SITUACAO"
) AS
   select CASE WHEN cps1.codigopla <> 3 THEN cps1.convenio ELSE inter2.convenio END, cps1.codigopla, CASE WHEN cps1.codigopla <> 3 THEN cps1.fatura ELSE inter2.faturano END, CASE WHEN cps1.codigopla <> 3 THEN cps1.a_datafat ELSE inter2.a_datafim END, CASE WHEN cps1.codigopla <> 3 THEN cps1.a_datafat ELSE inter2.a_data END, CASE WHEN cps1.codigopla <> 3 THEN cps1.a_data ELSE inter2.a_envio END, cps1.a_situacao  from cps1 left join inter2 on inter2.codigoint = cps1.codigocps
;

/* View: ENDERECO, Owner: SYSDBA */

CREATE VIEW "ENDERECO" (
  "CEP", 
  "ENDERECO", 
  "BAIRRO", 
  "CIDADE", 
  "UF"
) AS
   SELECT Log_logradouro.CEP, Log_logradouro.LOG_NOME, Log_bairro.BAI_NO, Log_localidade.LOC_NO, Log_logradouro.UFE_SG FROM LOG_LOCALIDADE Log_localidade INNER JOIN LOG_LOGRADOURO Log_logradouro ON (Log_logradouro.LOC_NU_SEQUENCIAL = Log_localidade.LOC_NU_SEQUENCIAL) INNER JOIN LOG_BAIRRO Log_bairro ON (Log_logradouro.BAI_NU_SEQUENCIAL_INI = Log_bairro.BAI_NU_SEQUENCIAL)
;

/* View: ENDERECOCPC, Owner: SYSDBA */

CREATE VIEW "ENDERECOCPC" (
  "CEP", 
  "ENDERECO", 
  "BAIRRO", 
  "CIDADE", 
  "UF"
) AS
   select Log_cpc.CEP, Log_cpc.cpc_endereco, Log_cpc.cpc_no, Log_localidade.LOC_NO, Log_cpc.UFE_SG  from log_cpc INNER JOIN LOG_LOCALIDADE ON (Log_cpc.LOC_NU_SEQUENCIAL = Log_localidade.LOC_NU_SEQUENCIAL)
;

/* View: ENDERECOESPECIAL, Owner: SYSDBA */

CREATE VIEW "ENDERECOESPECIAL" (
  "CEP", 
  "ENDERECO", 
  "BAIRRO", 
  "CIDADE", 
  "UF"
) AS
   select Log_grande_usuario.CEP, Log_logradouro.LOG_NOME, Log_bairro.BAI_NO, Log_localidade.LOC_NO, Log_grande_usuario.UFE_SG  from log_grande_usuario INNER JOIN LOG_LOGRADOURO ON (Log_grande_usuario.LOG_NU_SEQUENCIAL = Log_logradouro.LOG_NU_SEQUENCIAL) INNER JOIN LOG_LOCALIDADE ON (Log_grande_usuario.LOC_NU_SEQUENCIAL = Log_localidade.LOC_NU_SEQUENCIAL) INNER JOIN LOG_BAIRRO ON (Log_grande_usuario.BAI_NU_SEQUENCIAL = Log_bairro.BAI_NU_SEQUENCIAL)
;

/* View: ENDERECOLOC, Owner: SYSDBA */

CREATE VIEW "ENDERECOLOC" (
  "CEP", 
  "ENDERECO", 
  "BAIRRO", 
  "CIDADE", 
  "UF"
) AS
   select Log_localidade.CEP,'', '', Log_localidade.LOC_NO, Log_localidade.UFE_SG  from log_localidade
;

/* View: ENDERECOUOP, Owner: SYSDBA */

CREATE VIEW "ENDERECOUOP" (
  "CEP", 
  "ENDERECO", 
  "BAIRRO", 
  "CIDADE", 
  "UF"
) AS
   select Log_unid_oper.CEP,Log_unid_oper.uop_endereco, Log_bairro.BAI_NO, Log_localidade.LOC_NO, Log_unid_oper.UFE_SG  from log_unid_oper INNER JOIN LOG_LOCALIDADE ON (Log_unid_oper.LOC_NU_SEQUENCIAL = Log_localidade.LOC_NU_SEQUENCIAL) INNER JOIN LOG_BAIRRO ON (Log_unid_oper.BAI_NU_SEQUENCIAL = Log_bairro.BAI_NU_SEQUENCIAL)
;

/* View: MEDICOMARCACAO, Owner: SYSDBA */

CREATE VIEW "MEDICOMARCACAO" (
  "A_MEDICOS", 
  "A_NOME"
) AS
   select distinct medicos.a_medicos, medicos.a_nome from marcacao  inner join medicos on (medicos.a_medicos = marcacao.a_medicos)  where marcacao.data > cast('now' as date) and marcacao.paciente is null
;

/* View: ESPECMARCACAO, Owner: SYSDBA */

CREATE VIEW "ESPECMARCACAO" (
  "CODESP", 
  "NOME"
) AS
   select distinct especialidade.codesp, especialidade.nome from marcacao  inner join medicos on (medicos.a_medicos = marcacao.a_medicos)  inner join defprof1 on (defprof1.a_medicos = medicos.a_medicos)  inner join especialidade on (defprof1.especialidade = especialidade.codesp)  where marcacao.data > cast('now' as date) and marcacao.paciente is null
;

/* View: AGORA, Owner: SYSDBA */

CREATE VIEW "AGORA" (
  "DATAATUAL"
) AS
   Select Cast('now' as timestamp) from rdb$database
;

/* View: ATENDCPSANUAL, Owner: SYSDBA */

CREATE VIEW "ATENDCPSANUAL" (
  "CONVENIO", 
  "ANO", 
  "A_DATAFAT", 
  "JANEIRO", 
  "FEVEREIRO", 
  "MARCO", 
  "ABRIL", 
  "MAIO", 
  "JUNHO", 
  "JULHO", 
  "AGOSTO", 
  "SETEMBRO", 
  "OUTUBRO", 
  "NOVEMBRO", 
  "DEZEMBRO"
) AS
   SELECT CPS1.CONVENIO, extract( year from a_datafat) AS ANO, extract( month from a_datafat) AS A_DATAFAT, CASE   WHEN extract( month from a_datafat) = 1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO, CASE   WHEN extract( month from a_datafat) = 2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO, CASE   WHEN extract( month from a_datafat) = 3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO, CASE   WHEN extract( month from a_datafat) = 4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL, CASE   WHEN extract( month from a_datafat) = 5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO, CASE   WHEN extract( month from a_datafat) = 6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO, CASE   WHEN extract( month from a_datafat) = 7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO, CASE   WHEN extract( month from a_datafat) = 8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO, CASE   WHEN extract( month from a_datafat) = 9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO, CASE   WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO, CASE   WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO, CASE   WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO FROM CPS1 Cps1 GROUP BY CPS1.CONVENIO, extract( year from a_datafat), extract( month from a_datafat)
;

/* View: MUNICIPIO, Owner: SYSDBA */

CREATE VIEW "MUNICIPIO" (
  "UFCOD", 
  "UFSIGLA", 
  "MUNNOMEX"
) AS
     SELECT Caduf.UFCOD, Caduf.UFSIGLA, Cadmun.MUNNOMEX FROM CADUF Caduf INNER JOIN CADMUN Cadmun ON (Caduf.UFCOD = Cadmun.UFCOD)
;

/* View: ULTALACPS, Owner: SYSDBA */

CREATE VIEW "ULTALACPS" (
  "CODIGOCPS", 
  "ALA"
) AS
    select codigoint,max(a_ala) ala from inter4 group by codigoint
;

/* View: CONSULTAPACIENTE, Owner: SYSDBA */

CREATE VIEW "CONSULTAPACIENTE" (
  "CODIGOPAC", 
  "A_NOME", 
  "IDENTIDADE", 
  "NASC"
) AS
    SELECT CODIGOPAC, A_NOME, IDENTIDADE, NASC FROM Paciente
;

/* View: VW_FATURA4, Owner: SYSDBA */

CREATE VIEW "VW_FATURA4" (
  "CONVENIO", 
  "CODIGOPLA", 
  "A_DATAFAT", 
  "A_HORA", 
  "MATRICULA", 
  "A_GUIA", 
  "CODIGOPAC", 
  "CODIGOCPS", 
  "A_CID", 
  "ESPECIALIDADE", 
  "CODIGOPAC1", 
  "A_NOME", 
  "A_SITUACAO", 
  "FATURA", 
  "LIQUIDO"
) AS
    SELECT CPS1.CONVENIO, CPS1.CODIGOPLA, CPS1.A_DATAFAT, CPS1.A_HORA, CPS1.MATRICULA, CPS1.A_GUIA, CPS1.CODIGOPAC, CPS1.CODIGOCPS, CPS1.A_CID, Cps1.Especialidade, Paciente.CODIGOPAC, Paciente.A_NOME, CPS1.A_SITUACAO, CPS1.FATURA, CPS1.LIQUIDO From CPS1 Cps1 INNER JOIN PACIENTE Paciente ON (Cps1.CODIGOPAC = Paciente.CODIGOPAC)
;

/* View: INFOALIMENTO, Owner: SYSDBA */

CREATE VIEW "INFOALIMENTO" (
  "CODIGO", 
  "ALIMENTO", 
  "GRUPO", 
  "VALOR", 
  "INFONUT", 
  "UNIDADE", 
  "ORDUSDA", 
  "ORDPADRAO"
) AS
    select alimento.codigo,alimento.descricao,grupoalimento.descricao grupo,alimentoinfo.valor,infonut.descricao info,infonut.unidade,infonut.ordusda,infonut.ordpadrao from alimentoinfo inner join alimento on alimento.codigo = alimentoinfo.alimento inner join infonut on infonut.codigo = alimentoinfo.infonut inner join grupoalimento on grupoalimento.codigo = alimento.grupoalimento
;

/* View: FATURAMENTOPROFISSIONAL, Owner: SYSDBA */

CREATE VIEW "FATURAMENTOPROFISSIONAL" (
  "CONVENIO", 
  "MEDRESP", 
  "CODIGOPLA", 
  "A_DATAFAT", 
  "A_DATA", 
  "A_HORA", 
  "MATRICULA", 
  "A_GUIA", 
  "CODIGOPAC", 
  "CODIGOCPS", 
  "A_CID", 
  "ESPECIALIDADE", 
  "CODIGOPAC1", 
  "A_NOME", 
  "A_SITUACAO", 
  "FATURA"
) AS
    SELECT CPS1.CONVENIO, CPS1.MEDRESP, CPS1.CODIGOPLA, CPS1.A_DATAFAT, CPS1.A_DATA, CPS1.A_HORA, CPS1.MATRICULA, CPS1.A_GUIA, CPS1.CODIGOPAC, CPS1.CODIGOCPS, CPS1.A_CID, Cps1.Especialidade, Paciente.CODIGOPAC, Paciente.A_NOME, CPS1.A_SITUACAO, CPS1.FATURA From CPS1 Cps1 INNER JOIN PACIENTE Paciente ON (Cps1.CODIGOPAC = Paciente.CODIGOPAC)
;

/* View: MUNICIPIO2, Owner: SYSDBA */

CREATE VIEW "MUNICIPIO2" (
  "UFCOD", 
  "UFSIGLA", 
  "MUNNOMEX", 
  "DDD"
) AS
      SELECT Caduf.UFCOD, Caduf.UFSIGLA, Cadmun.MUNNOMEX, Cadmun.DDD    FROM CADUF Caduf    INNER JOIN CADMUN Cadmun ON (Caduf.UFCOD = Cadmun.UFCOD)
;

/* View: CPSINT2, Owner: SYSDBA */

CREATE VIEW "CPSINT2" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA"
) AS
     select cps1.codigocps, inter2.tratamento, inter2.parcela, cps1.codigopla, cps1.codigopac, inter2.a_data, inter2.a_hora, cps1.matricula, inter2.convenio, cps1.medresp, inter2.a_envio, cps1.a_situacao, inter2.a_datafim, inter2.a_horafim, cps1.solcremeb, cps1.principal, cps1.especialidade, cps1.empresa, cast(inter2.faturano as float), cps1.datarepresenta, cps1.datarecebimento, cps1.codigo, inter2.faturaglosa   from cps1   inner join inter2 on ( inter2.codigoint = cps1.codigocps )
;

/* View: VW_FATURA2, Owner: SYSDBA */

CREATE VIEW "VW_FATURA2" (
  "CODIGOSERV", 
  "A_CODMOE", 
  "QUANTIDADE", 
  "A_QUANTIDA", 
  "VALOR", 
  "INDICE", 
  "CODIGOCPS2", 
  "CODIGOAMB", 
  "CODIGOSERV1", 
  "A_NOME", 
  "A_TIPO", 
  "PACOTE", 
  "A_MEDICOS", 
  "COBRAR"
) AS
       SELECT Cps2.CODIGOSERV, Cps2.A_CODMOE, Cps2.QUANTIDADE, Cps2.A_QUANTIDA, Cps2.VALOR, Cps2.INDICE, Cps2.CODIGOCPS2, Cps2.CODIGOAMB, Servicos.CODIGOSERV, Servicos.A_NOME, Servicos.A_TIPO, Servicos.PACOTE, CPS2.A_MEDICOS, CPS2.COBRAR FROM CPS2 Cps2 LEFT OUTER JOIN SERVICOS Servicos ON ( Cps2.CODIGOSERV = Servicos.CODIGOSERV)
;

/* View: CPSAMB1, Owner: SYSDBA */

CREATE VIEW "CPSAMB1" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA", 
  "CONFERIDO"
) AS
       select cps1.codigocps, 0,1, cps1.codigopla, cps1.codigopac, cps1.a_datafat, cps1.a_hora, cps1.matricula, cps1.convenio, cps1.medresp, cps1.a_data, cps1.a_situacao, cps1.datasaida, cps1.horasaida, cps1.solcremeb, cps1.principal, cps1.especialidade, cps1.empresa, cps1.fatura, cps1.datarepresenta, cps1.datarecebimento, cps1.codigo, cps1.faturaglosa, cps1.conferido from cps1 where codigopla <> 3
;

/* View: CONVMARCACAO, Owner: SYSDBA */

CREATE VIEW "CONVMARCACAO" (
  "CONVENIO", 
  "A_NOME"
) AS
  select convenio, a_nome from convenio
;

/* View: SUSGERAL, Owner: SYSDBA */

CREATE VIEW "SUSGERAL" (
  "GRUPO", 
  "SUBGRUPO", 
  "FAIXA", 
  "CODFAIXA", 
  "CODIGOAMB", 
  "QUANTIDADE", 
  "A_DATAFAT"
) AS
  select (select grupo_descr from tb_grupo where grupo_cod_gr = cps2.gruposus) grupo, (select descricao from subgrupo where cod_grupo = cast(cps2.gruposus as integer) and codigo = cast(substr(cps2.codigoamb,1,2) as integer)) subgrupo, (select fo_descr from tb_fo where fo_cod_gr = cast(cps2.gruposus as integer) and fo_cod_sub = cast(substr(cps2.codigoamb,1,2) as integer) and fo_cod_fo =cast(substr(cps2.codigoamb,3,4) as integer)) faixa, cps2.gruposus || substr(cps2.codigoamb,1,4) codfaixa, cps2.codigoamb, cps2.quantidade, cps1.a_datafat from cps1 inner join cps2 on (cps2.codigocps2 = cps1.codigocps)
;

/* View: CPS1VALIDO, Owner: SYSDBA */

CREATE VIEW "CPS1VALIDO" (
  "CONVENIO", 
  "CODIGOPLA", 
  "A_DATA", 
  "A_DATAFAT", 
  "A_HORA", 
  "MATRICULA", 
  "A_VALIDADE", 
  "A_GUIA", 
  "A_SITUACAO", 
  "A_TIPO", 
  "A_ULTPAGTO", 
  "AUTORIZA", 
  "CODIGO", 
  "A_CODIGO1", 
  "A_CID", 
  "CODIGOPAC", 
  "CODIGOCPS", 
  "VALORTOTAL", 
  "DESCONTO", 
  "GLOSA", 
  "DATASAIDA", 
  "HORASAIDA", 
  "TOTALMATMED", 
  "SOLTIPO", 
  "SOLCREMEB", 
  "SOLESP", 
  "SOLDATA", 
  "SOLCNPJ", 
  "MEDRESP", 
  "PRENATAL", 
  "PRINCIPAL", 
  "TIPOATEND", 
  "ESPECIALIDADE", 
  "VALIDGUIA", 
  "DATAAUTORIZA", 
  "LOCALGUIA", 
  "DIAGNOSTICO", 
  "TIPOATEND1", 
  "LIQUIDO", 
  "RESPONSAVEL", 
  "ENDERECO", 
  "IDENTIDADE", 
  "A_CPF", 
  "CEP", 
  "BAIRRO", 
  "CIDADE", 
  "CODIGOANTIGO", 
  "MOTIVO", 
  "DIASSOL", 
  "DATAENTREGA", 
  "PRODUTO", 
  "SOLESP1", 
  "FATURA", 
  "MARCACAO", 
  "ORIGEM", 
  "UF", 
  "PRORROGA", 
  "DIARIA", 
  "A_ALA", 
  "A_LEITO", 
  "AIH0", 
  "AIH1", 
  "AIHPRONTUARIO", 
  "AIHCODMUN", 
  "AIHTIPODOC", 
  "AIHCARTID", 
  "AIHMES", 
  "AIHANO"
) AS
     select CONVENIO,CODIGOPLA, A_DATA,A_DATAFAT,A_HORA,MATRICULA,A_VALIDADE,A_GUIA, A_SITUACAO, A_TIPO, A_ULTPAGTO, AUTORIZA, CODIGO,A_CODIGO1,A_CID,CODIGOPAC,CODIGOCPS,VALORTOTAL,DESCONTO, GLOSA, DATASAIDA,HORASAIDA, TOTALMATMED,SOLTIPO,SOLCREMEB,SOLESP,SOLDATA, SOLCNPJ,MEDRESP,PRENATAL,PRINCIPAL,TIPOATEND,ESPECIALIDADE,VALIDGUIA,DATAAUTORIZA, LOCALGUIA,DIAGNOSTICO,TIPOATEND1,LIQUIDO,RESPONSAVEL,ENDERECO,IDENTIDADE,A_CPF, CEP,BAIRRO,CIDADE,CODIGOANTIGO,MOTIVO,DIASSOL, DATAENTREGA,PRODUTO,SOLESP1,FATURA,MARCACAO,ORIGEM,UF,PRORROGA, DIARIA,A_ALA,A_LEITO,AIH0,AIH1,AIHPRONTUARIO,AIHCODMUN,AIHTIPODOC, AIHCARTID,AIHMES,AIHANO from cps1 where cps1.a_situacao in (0,4)
;

/* View: VW_FATURA, Owner: SYSDBA */

CREATE VIEW "VW_FATURA" (
  "CONVENIO", 
  "CODIGOPLA", 
  "A_DATAFAT", 
  "A_DATA", 
  "A_HORA", 
  "MATRICULA", 
  "A_GUIA", 
  "CODIGOPAC", 
  "CODIGOCPS", 
  "A_CID", 
  "ESPECIALIDADE", 
  "CODIGOPAC1", 
  "A_NOME", 
  "A_SITUACAO", 
  "FATURA", 
  "CONFERIDO", 
  "MEDRESP", 
  "CPF", 
  "GRAVIDADE", 
  "TIPOATEND1"
) AS
         SELECT CPS1.CONVENIO, CPS1.CODIGOPLA, CPS1.A_DATAFAT, CPS1.A_DATA, CPS1.A_HORA, CPS1.MATRICULA, CPS1.A_GUIA, CPS1.CODIGOPAC, CPS1.CODIGOCPS, CPS1.A_CID, Cps1.Especialidade, Paciente.CODIGOPAC, Paciente.A_NOME, CPS1.A_SITUACAO, CPS1.FATURA, CPS1.CONFERIDO, CPS1.MEDRESP, PACIENTE.A_CPF, CPS1.GRAVIDADE, CPS1.TIPOATEND1 From CPS1 Cps1 INNER JOIN PACIENTE Paciente ON (Cps1.CODIGOPAC = Paciente.CODIGOPAC)
;

/* View: SERVMARCACAO, Owner: SYSDBA */

CREATE VIEW "SERVMARCACAO" (
  "CODSERV", 
  "NOME"
) AS
   select distinct indice, descricao from marcaclasse  where ativo = 'S'
;

/* View: CPS1GERAL, Owner: SYSDBA */

CREATE VIEW "CPS1GERAL" (
  "CONVENIO", 
  "CODIGOPLA", 
  "A_DATA", 
  "A_DATAFAT", 
  "A_HORA", 
  "MATRICULA", 
  "A_VALIDADE", 
  "A_GUIA", 
  "A_SITUACAO", 
  "A_TIPO", 
  "A_ULTPAGTO", 
  "AUTORIZA", 
  "CODIGO", 
  "A_CODIGO1", 
  "A_CID", 
  "CODIGOPAC", 
  "CODIGOCPS", 
  "VALORTOTAL", 
  "DESCONTO", 
  "GLOSA", 
  "DATASAIDA", 
  "HORASAIDA", 
  "TOTALMATMED", 
  "SOLTIPO", 
  "SOLCREMEB", 
  "SOLESP", 
  "SOLDATA", 
  "SOLCNPJ", 
  "MEDRESP", 
  "PRENATAL", 
  "PRINCIPAL", 
  "TIPOATEND", 
  "ESPECIALIDADE", 
  "VALIDGUIA", 
  "DATAAUTORIZA", 
  "LOCALGUIA", 
  "DIAGNOSTICO", 
  "TIPOATEND1", 
  "LIQUIDO", 
  "RESPONSAVEL", 
  "ENDERECO", 
  "IDENTIDADE", 
  "A_CPF", 
  "CEP", 
  "BAIRRO", 
  "CIDADE", 
  "CODIGOANTIGO", 
  "MOTIVO", 
  "DIASSOL", 
  "DATAENTREGA", 
  "PRODUTO", 
  "SOLESP1", 
  "FATURA", 
  "MARCACAO", 
  "ORIGEM", 
  "UF", 
  "PRORROGA", 
  "DIARIA", 
  "A_ALA", 
  "A_LEITO", 
  "AIH0", 
  "AIH1", 
  "AIHPRONTUARIO", 
  "AIHCODMUN", 
  "AIHTIPODOC", 
  "AIHCARTID", 
  "AIHMES", 
  "AIHANO", 
  "AIHESPECIALIDADE", 
  "AIHMOTIVOCOB", 
  "AIHCPFMA", 
  "IMPRESSO", 
  "MOTIVOEXCLUSAO", 
  "EMPRESA", 
  "TRATAMENTO", 
  "EXAME", 
  "OBSERVACAO", 
  "ATENDIMENTO", 
  "RESULTADO", 
  "ANTECEDENTE", 
  "DATAREPRESENTA", 
  "ANOTACAO", 
  "USER3", 
  "CONFERIDO", 
  "UFSOL", 
  "RECIBO", 
  "DATA2", 
  "UFCREMEBSOL", 
  "USER4", 
  "DATA4"
) AS
       SELECT   CONVENIO,  CODIGOPLA,  A_DATA,  A_DATAFAT,  A_HORA,  MATRICULA,  A_VALIDADE,  A_GUIA,   A_SITUACAO,  A_TIPO,  A_ULTPAGTO,  AUTORIZA,  CODIGO,  A_CODIGO1,  A_CID,  CODIGOPAC,   CODIGOCPS,  VALORTOTAL,  DESCONTO,  GLOSA,  DATASAIDA,  HORASAIDA,  TOTALMATMED,  SOLTIPO,   SOLCREMEB,  SOLESP,  SOLDATA,  SOLCNPJ, MEDRESP,  PRENATAL,  PRINCIPAL,  TIPOATEND,   ESPECIALIDADE,  VALIDGUIA,  DATAAUTORIZA,  LOCALGUIA,  DIAGNOSTICO,  TIPOATEND1,  LIQUIDO,  RESPONSAVEL,   ENDERECO,  IDENTIDADE,  A_CPF,  CEP,  BAIRRO,  CIDADE,  CODIGOANTIGO,  MOTIVO,  DIASSOL,  DATAENTREGA,  PRODUTO,  SOLESP1,  FATURA,  MARCACAO,   ORIGEM,  UF,  PRORROGA,  DIARIA,  A_ALA,  A_LEITO,  AIH0,  AIH1,   AIHPRONTUARIO,  AIHCODMUN,  AIHTIPODOC,  AIHCARTID,  AIHMES,  AIHANO,  AIHESPECIALIDADE,  AIHMOTIVOCOB,   AIHCPFMA,  IMPRESSO,  MOTIVOEXCLUSAO,  EMPRESA,  TRATAMENTO,  EXAME,  OBSERVACAO,  ATENDIMENTO,   RESULTADO,  ANTECEDENTE,  DATAREPRESENTA,  ANOTACAO,  USER3,  CONFERIDO,  UFSOL,  RECIBO,   DATA2,  UFCREMEBSOL,  USER4,  DATA4   FROM CPS1
;

/* View: CPSINT, Owner: SYSDBA */

CREATE VIEW "CPSINT" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "DATAENTRADA", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "DATATERMINO", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "SOLESP1", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA", 
  "A_CID", 
  "TIPOGUIA", 
  "CONFERIDO", 
  "TIPOFATURA", 
  "MAQUINETA"
) AS
       select cps1.codigocps, inter2.tratamento, inter2.parcela, cps1.codigopla, cps1.codigopac, inter2.a_data, cps1.a_datafat, inter2.a_hora, cps1.matricula, inter2.convenio, cps1.medresp, inter2.a_envio, cps1.a_situacao, inter2.a_datafim, cps1.datasaida, inter2.a_horafim, cps1.solcremeb, cps1.solesp1, cps1.principal, cps1.especialidade, cps1.empresa, cast(inter2.faturano as float), inter2.datarepresenta, inter2.datarecebimento, cps1.codigo, inter2.faturaglosa, cps1.a_cid, inter2.tipoguia, cps1.conferido, inter2.fatura, cps1.MAQUINETA from cps1 inner join inter2 on inter2.codigoint = cps1.codigocps where cps1.codigopla = 3
;

/* View: CPSAMB, Owner: SYSDBA */

CREATE VIEW "CPSAMB" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "DATAENTRADA", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "DATATERMINO", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "SOLESP1", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA", 
  "A_CID", 
  "TIPOGUIA", 
  "CONFERIDO", 
  "TIPOFATURA", 
  "A_GUIA", 
  "MAQUINETA", 
  "NUMEROGUIAOPERADORA", 
  "VERSAOGUIA"
) AS
               select cps1.codigocps, 0,1, cps1.codigopla, cps1.codigopac, cps1.a_datafat, cps1.a_datafat, cps1.a_hora, cps1.matricula, cps1.convenio, cps1.medresp, cps1.a_data, cps1.a_situacao, cps1.datasaida, cps1.datasaida, cps1.horasaida, cps1.solcremeb, cps1.solesp1, cps1.principal, cps1.especialidade, cps1.empresa, cps1.fatura, cps1.datarepresenta, cps1.datarecebimento, cps1.codigo, cps1.faturaglosa, cps1.a_cid, '0', cps1.conferido, '0', cps1.a_guia, cps1.maquineta, CPS1.NUMEROGUIAOPERADORA, cps1.versaoguia from cps1 where codigopla <> 3
;

/* View: CPSINT25, Owner: SYSDBA */

CREATE VIEW "CPSINT25" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "DATAENTRADA", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "DATATERMINO", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "SOLESP1", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA", 
  "A_CID", 
  "TIPOGUIA", 
  "CONFERIDO", 
  "TIPOFATURA", 
  "A_GUIA", 
  "MAQUINETA", 
  "NUMEROGUIAOPERADORA", 
  "VERSAOGUIA"
) AS
            select cps1.codigocps, inter2.tratamento, inter2.parcela, cps1.codigopla, cps1.codigopac, inter2.a_data, cps1.a_datafat, inter2.a_hora, cps1.matricula, inter2.convenio, cps1.medresp, inter2.a_envio, cps1.a_situacao, inter2.a_datafim, cps1.datasaida, inter2.a_horafim, cps1.solcremeb, cps1.solesp1, cps1.principal, cps1.especialidade, cps1.empresa, cast(inter2.faturano as float), inter2.datarepresenta, inter2.datarecebimento, cps1.codigo, inter2.faturaglosa, cps1.a_cid, inter2.tipoguia, cps1.conferido, inter2.fatura, inter2.a_guia, cps1.maquineta, inter2.NUMEROGUIAOPERADORA, cps1.versaoguia from inter2 left join cps1 on inter2.codigoint = cps1.codigocps
;

/* View: CPSINT_DEC, Owner: SYSDBA */

CREATE VIEW "CPSINT_DEC" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "DATAENTRADA", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "DATATERMINO", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "SOLESP1", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA", 
  "A_CID", 
  "TIPOGUIA", 
  "CONFERIDO", 
  "TIPOFATURA", 
  "MAQUINETA", 
  "FEC_DATAINICIAL", 
  "FEC_DATAFINAL", 
  "FEC_PAGMEDICO", 
  "FEC_DATA_PAGMEDICO", 
  "FEC_VENCIMENTO", 
  "FEC_DATA2", 
  "FEC_DATA", 
  "PROTOCOLOXML", 
  "SOLTIPO", 
  "VERSAOGUIA", 
  "MOTIVO", 
  "A_GUIA"
) AS
            select cps1.codigocps, inter2.tratamento, inter2.parcela, cps1.codigopla, cps1.codigopac, inter2.a_data, cps1.a_datafat, inter2.a_hora, cps1.matricula, inter2.convenio, cps1.medresp, inter2.a_envio, cps1.a_situacao, inter2.a_datafim, cps1.datasaida, inter2.a_horafim, cps1.solcremeb, cps1.solesp1, cps1.principal, cps1.especialidade, cps1.empresa, cast(inter2.faturano as float), inter2.datarepresenta, inter2.datarecebimento, cps1.codigo, inter2.faturaglosa, cps1.a_cid, inter2.tipoguia, cps1.conferido, inter2.fatura, cps1.MAQUINETA, fechamento.datainicial, fechamento.datafinal, fechamento.pagmedico, fechamento.datapagmedico, fechamento.vencimento, fechamento.data2, fechamento.data, fechamento.protocoloxml, CPS1.SOLTIPO, cps1.VERSAOGUIA,cps1.motivo,inter2.a_guia from cps1        inner join inter2 on inter2.codigoint = cps1.codigocps        left join fechamento on ( fechamento.sequencia = inter2.fatura)        where cps1.codigopla = 3
;

/* View: CPSAMB_DEC, Owner: SYSDBA */

CREATE VIEW "CPSAMB_DEC" (
  "CODIGOCPS", 
  "TRATAMENTO", 
  "PARCELA", 
  "CODIGOPLA", 
  "CODIGOPAC", 
  "A_DATAFAT", 
  "DATAENTRADA", 
  "A_HORA", 
  "MATRICULA", 
  "CONVENIO", 
  "MEDRESP", 
  "A_DATA", 
  "A_SITUACAO", 
  "DATASAIDA", 
  "DATATERMINO", 
  "HORASAIDA", 
  "SOLCREMEB", 
  "SOLESP1", 
  "PRINCIPAL", 
  "ESPECIALIDADE", 
  "EMPRESA", 
  "FATURA", 
  "DATAREPRESENTA", 
  "DATARECEBIMENTO", 
  "CODIGO", 
  "FATURAGLOSA", 
  "A_CID", 
  "TIPOGUIA", 
  "CONFERIDO", 
  "TIPOFATURA", 
  "A_GUIA", 
  "MAQUINETA", 
  "FEC_DATAINICIAL", 
  "FEC_DATAFINAL", 
  "FEC_PAGMEDICO", 
  "FEC_DATA_PAGMEDICO", 
  "FEC_VENCIMENTO", 
  "FEC_DATA2", 
  "FEC_DATA", 
  "PROTOCOLOXML", 
  "SOLTIPO", 
  "VERSAOGUIA", 
  "MOTIVO"
) AS
                  select cps1.codigocps, 0,1, cps1.codigopla, cps1.codigopac, cps1.a_datafat, cps1.a_datafat, cps1.a_hora, cps1.matricula, cps1.convenio, cps1.medresp, cps1.a_data, cps1.a_situacao, cps1.datasaida, cps1.datasaida, cps1.horasaida, cps1.solcremeb, cps1.solesp1, cps1.principal, cps1.especialidade, cps1.empresa, cps1.fatura, cps1.datarepresenta, cps1.datarecebimento, cps1.codigo, cps1.faturaglosa, cps1.a_cid, '0', cps1.conferido, '0', cps1.a_guia, cps1.maquineta, fechamento.datainicial, fechamento.datafinal, fechamento.pagmedico, fechamento.datapagmedico, fechamento.vencimento, fechamento.data2, fechamento.data, fechamento.protocoloxml, cps1.soltipo, cps1.versaoguia, cps1.motivo from cps1              LEFT JOIN FECHAMENTO ON (FECHAMENTO.SEQUENCIA = CPS1.FATURA)              where codigopla <> 3
;

/*  Exceptions */

CREATE EXCEPTION "BLOQ_GRUPOSUS" 'Grupo SUS no autorizado';
CREATE EXCEPTION "EXC_ACAOBLOQUEADA" 'Ao no permitida';
CREATE EXCEPTION "EXC_ANATOMO_NULL" 'Ateno! Necessrio informar o motivo da solicitao.';
CREATE EXCEPTION "EXC_AVISO" 'Favor entrar em contato com a T.T.';
CREATE EXCEPTION "EXC_AVISO_LIMITEQTDE" 'Limite de agendamento - Quantidade execedida para o periodo';
CREATE EXCEPTION "EXC_AVISO_LIMITEVALOR" 'Limite de agendamento - valor execedido para o periodo';
CREATE EXCEPTION "EXC_CHECAR_RESERVA" 'Ateno! O procedimento acima necessita RESERVA';
CREATE EXCEPTION "EXC_CONTROLE_ACESSO" 'Controle de acesso negado para o tipo de documento, verifique o tipo de conselho profissional';
CREATE EXCEPTION "EXC_CUSTODIA" 'Ateno Paciente Sob Custdia  no pode receber visitantes.';
CREATE EXCEPTION "EXC_DATA_DIF_ATEND" 'Data de Lanamento diferente da Atendimento, Favor entrar em contato com a TI';
CREATE EXCEPTION "EXC_DINAMICA" '';
CREATE EXCEPTION "EXC_GLOSA" 'Fatura de glosa j fechada impossivel alteracao';
CREATE EXCEPTION "EXC_MOTIVOOBR" 'Favor Informar Motivo da Alta';
CREATE EXCEPTION "EXC_PACIENTE_ALTA" 'Ficha CPS com data de alta administrativa, verificar com recepo';
CREATE EXCEPTION "EXC_RESERVAR" 'Ateno: Este procedimento necessita RESERVA de horrio.';
CREATE EXCEPTION "EXC_SAIDADUPLA" 'Item j lanado na conta, Impossivel registrar novamente';
CREATE EXCEPTION "EXC_TEMPERATURA" 'Temperatura fora do valor aceitvel.';
CREATE EXCEPTION "EXC_TIPO_FICHA" 'Tipo de ficha no compatvel com o conselho profissional';
CREATE EXCEPTION "EXC_TRAVA" 'Acao nao permitida';
CREATE EXCEPTION "EXC_TRAVAALTA" 'Nao pode da alta maior que data atual';
CREATE EXCEPTION "EXC_TRAVAFATURAMENTO" 'Atendimento travado no periodo';
CREATE EXCEPTION "EXC_TRAVAMUDAPACIENTEASSIST" 'Impossivel alterar o CODIGOCPS deste registro.';
CREATE EXCEPTION "LEITOOCUPADO" 'Leito Ocupado';
CREATE EXCEPTION "NEW_FICHA_ATD" 'Ao bloqueada. Necessario fazer nova ficha';
CREATE EXCEPTION "QTDERRADA" 'Valor invlido para quantidade de procedimento';
CREATE EXCEPTION "TRAVAINTER2" 'Conta de Internamento j possui esse tratamento';
CREATE EXCEPTION "TRIAGEMBLOQUEADA" 'Classificao bloqueada. Favor escolher outra cor de sinalizao.';
CREATE EXCEPTION "TRIAGEM_OBRIGATORIO" 'Obrigatrio preencher sinais vitais Pulso,  FR e Peso';
CREATE EXCEPTION "TRIAGEM_OBRIGATORIO_P" 'Obrigatrio preencher Peso e Temperatura para Pediatria';
CREATE EXCEPTION "VALOR_REF" 'Valor Lanado esta maior ou menor do que a referencia.';
COMMIT WORK;
SET AUTODDL OFF;
SET TERM ^ ;

/* Stored procedures */

CREATE PROCEDURE "AGENDAFISIO" 
(
  "DATA" TIMESTAMP,
  "MODALIDADE" INTEGER
)
RETURNS
(
  "ENTRADA" TIMESTAMP,
  "SAIDA" INTEGER,
  "CODIGOCPS" INTEGER,
  "INTENSIDADE" VARCHAR(20),
  "STATUS" CHAR(1),
  "CRITICA" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AGENDATENDIDO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "SITUACAO" VARCHAR(40)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AIHPROC" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "NUM_AIH" CHAR(13),
  "IDENT" CHAR(2),
  "APRES" CHAR(6),
  "PRONTUARIO" VARCHAR(15),
  "DT_INT" TIMESTAMP,
  "DT_SAI" TIMESTAMP,
  "LINHA" SMALLINT,
  "ATO_PROF" CHAR(10),
  "PROF_NOME" VARCHAR(40),
  "QTD_ATO" SMALLINT,
  "CPF" CHAR(11),
  "CNS" VARCHAR(15),
  "CBO" CHAR(7),
  "IND_EQUIPE" SMALLINT,
  "CNPJ" CHAR(14),
  "CNES" CHAR(7),
  "CMPT_UTI_ACOMP" CHAR(6),
  "TIPO_DOC_CRED" CHAR(1),
  "DOC_CRED" CHAR(15)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AIHPROC_CPC" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "NUM_AIH" CHAR(13),
  "IDENT" CHAR(2),
  "APRES" CHAR(6),
  "PRONTUARIO" VARCHAR(15),
  "DT_INT" TIMESTAMP,
  "DT_SAI" TIMESTAMP,
  "LINHA" SMALLINT,
  "ATO_PROF" CHAR(10),
  "PROF_NOME" VARCHAR(40),
  "QTD_ATO" SMALLINT,
  "CPF" CHAR(11),
  "CNS" VARCHAR(15),
  "CBO" CHAR(7),
  "IND_EQUIPE" SMALLINT,
  "CNPJ" CHAR(14),
  "CNES" CHAR(7),
  "CMPT_UTI_ACOMP" CHAR(6),
  "TIPO_DOC_CRED" CHAR(1),
  "DOC_CRED" CHAR(15)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AJUSTACONTA" 
(
  "AJUSTE" INTEGER,
  "USER1" INTEGER
)
RETURNS
(
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AJUSTACPSITENS" 
(
  "AJUSTE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AJUSTECCIHPAC" 
RETURNS
(
  "OK" VARCHAR(10),
  "CPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PACIENTE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ANALISEENVIO" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER
)
RETURNS
(
  "CONVENIOANT" INTEGER,
  "NOMECONVENIO" VARCHAR(50),
  "AMBENVANTERIOR" INTEGER,
  "AMBENVPERIODO" INTEGER,
  "AMBPENANTERIOR" INTEGER,
  "AMBPENPERIODO" INTEGER,
  "EMGENVANTERIOR" INTEGER,
  "EMGENVPERIODO" INTEGER,
  "EMGPENANTERIOR" INTEGER,
  "EMGPENPERIODO" INTEGER,
  "INTENVANTERIOR" INTEGER,
  "INTENVPERIODO" INTEGER,
  "INTPENANTERIOR" INTEGER,
  "INTPENPERIODO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ANALISEFATURAINTER" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "FATURA" FLOAT,
  "CONVENIO" INTEGER,
  "TAXA" FLOAT,
  "HONO" FLOAT,
  "DIARIA" FLOAT,
  "ORTP" FLOAT,
  "MESP" FLOAT,
  "OPME" FLOAT,
  "MAT" FLOAT,
  "MED" FLOAT,
  "APAR" FLOAT,
  "CONSUL" FLOAT,
  "PROCESP" FLOAT,
  "EXAMLAB" FLOAT,
  "GASOT" FLOAT,
  "MAMO" FLOAT,
  "NEB" FLOAT,
  "OMOT" FLOAT,
  "EXAMESP" FLOAT,
  "TOMO" FLOAT,
  "RAIOX" FLOAT,
  "FISIO" FLOAT,
  "ULTRAS" FLOAT,
  "AVAL" FLOAT,
  "PACOTES" FLOAT,
  "OUTROS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ANALISEPACOTE" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMENTO" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "CUSTO" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT,
  "TAXA" FLOAT,
  "CODAMBMM" VARCHAR(8),
  "MEDICVAL" FLOAT,
  "MATERVAL" FLOAT,
  "CONTRVAL" FLOAT,
  "OPEMVAL" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APAC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(100),
  "APELIDO" VARCHAR(100),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(50),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(100),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(100),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(100),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(100),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(100),
  "PROF_SOL" VARCHAR(150),
  "PROF_CPF" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CONVENIO" VARCHAR(50),
  "CPS" INTEGER,
  "PROCEDIMENTO" VARCHAR(300),
  "PROC_CODIGO" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APAC_PCCHOX" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(100),
  "APELIDO" VARCHAR(100),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(50),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(100),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(100),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(100),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(100),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(100),
  "PROF_SOL" VARCHAR(150),
  "PROF_CPF" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CONVENIO" VARCHAR(50),
  "CPS" INTEGER,
  "PROCEDIMENTO" VARCHAR(300),
  "PROC_CODIGO" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APAC_PROC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "CODIGOPROC" VARCHAR(20),
  "PROCEDIMENTO" VARCHAR(300)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APRAZAMENTO" 
(
  "INDICE" FLOAT,
  "TIPO" VARCHAR(30),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "OK13" CHAR(1),
  "OK14" CHAR(1),
  "OK15" CHAR(1),
  "OK16" CHAR(1),
  "OK17" CHAR(1),
  "OK18" CHAR(1),
  "OK19" CHAR(1),
  "OK20" CHAR(1),
  "OK21" CHAR(1),
  "OK22" CHAR(1),
  "OK23" CHAR(1),
  "OK24" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QX13" INTEGER,
  "QX14" INTEGER,
  "QX15" INTEGER,
  "QX16" INTEGER,
  "QX17" INTEGER,
  "QX18" INTEGER,
  "QX19" INTEGER,
  "QX20" INTEGER,
  "QX21" INTEGER,
  "QX22" INTEGER,
  "QX23" INTEGER,
  "QX24" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "QY13" TIMESTAMP,
  "QY14" TIMESTAMP,
  "QY15" TIMESTAMP,
  "QY16" TIMESTAMP,
  "QY17" TIMESTAMP,
  "QY18" TIMESTAMP,
  "QY19" TIMESTAMP,
  "QY20" TIMESTAMP,
  "QY21" TIMESTAMP,
  "QY22" TIMESTAMP,
  "QY23" TIMESTAMP,
  "QY24" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APRAZAMENTO_LISTA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB,
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APRAZAMENTO_LISTA_CPC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB,
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APRAZAMENTO_LISTA_SAIDA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "HORARIO" INTEGER,
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5),
  "PACIENTE" VARCHAR(100),
  "ALANOME" VARCHAR(100),
  "LEITONOME" VARCHAR(100),
  "UNNOME" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "APRAZAMENTO_LISTA_SAIDA_CPC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "HORARIO" INTEGER,
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5),
  "PACIENTE" VARCHAR(100),
  "ALANOME" VARCHAR(100),
  "LEITONOME" VARCHAR(100),
  "UNNOME" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_CBHPM_TABHONREL" 
RETURNS
(
  "CODIGOAMB" VARCHAR(9),
  "PROCEDIMENTO" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_CPS2FILME" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "NADA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_CPS2SERVICO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "ATUALIZA" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_INTER3FILME" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "NADA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_MUDAMEDICOCPS2SEMHONORARIO" 
(
  "INICIO" INTEGER,
  "FIM" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_SERVCONVENIODUPLO" 
RETURNS
(
  "CONVENIO" INTEGER,
  "CODIGOAMB1" VARCHAR(8),
  "CODIGOAMB2" VARCHAR(8),
  "SERVICO" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_SUS_TABHONREL" 
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_UPDATECPS1MEDRESP" 
RETURNS
(
  "CODIGO" INTEGER,
  "MEDICO" INTEGER,
  "ESPECIALIDADE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_UPDATECPS1TOTAL" 
RETURNS
(
  "CODIGO" FLOAT,
  "TOTAL" DOUBLE PRECISION,
  "TOTALMATMED" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ARS_UPDATECPS2DATAHORA" 
RETURNS
(
  "CODIGOCPS" INTEGER,
  "DATA" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDCID" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1)
)
RETURNS
(
  "CID10" VARCHAR(5),
  "NOME" VARCHAR(60),
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDCONVENIOUTROS" 
(
  "CONSULTA" VARCHAR(6000),
  "UNIDADENEG1" INTEGER,
  "UNIDADENEG2" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "CONVENIO" VARCHAR(40)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDCONVNOVOSPAC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1)
)
RETURNS
(
  "ATENDIDO" INTEGER,
  "NOVO" INTEGER,
  "CONVENIO" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDCONVPLANDIV2" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "PLANSERV" INTEGER,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" INTEGER,
  "NOMECONVENIO" VARCHAR(40),
  "PRINCIPAL" VARCHAR(8),
  "QTDE" INTEGER,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDCONVPLANDIVERSO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "PLANSERV" INTEGER,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1)
)
RETURNS
(
  "QTDE" INTEGER,
  "CONVENIO" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDCONVUNICO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVENIO" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "MES" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1),
  "FORMA" CHAR(1)
)
RETURNS
(
  "ESPECIALIDADE" INTEGER,
  "NOME" VARCHAR(60),
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDSERVICO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "PLANSERV" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "SERVICO" VARCHAR(70)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDSEXO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO7" CHAR(1),
  "CONV" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "SEXO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATENDTURNO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1),
  "FAIXA1" CHAR(8),
  "FAIXA2I" CHAR(5),
  "FAIXA2F" CHAR(8),
  "FAIXA3I" CHAR(5),
  "FAIXA3F" CHAR(8),
  "FAIXA4" CHAR(5),
  "ESPECIALIDADE" CHAR(2)
)
RETURNS
(
  "QTDE" INTEGER,
  "TURNO" VARCHAR(13),
  "XSEGUNDA" INTEGER,
  "XTERCA" INTEGER,
  "XQUARTA" INTEGER,
  "XQUINTA" INTEGER,
  "XSEXTA" INTEGER,
  "XSABADO" INTEGER,
  "XDOMINGO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZABANCADA" 
(
  "CODLAUDO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "VAR01" VARCHAR(600),
  "VAR02" VARCHAR(600),
  "VAR03" VARCHAR(600),
  "VAR04" VARCHAR(600),
  "VAR05" VARCHAR(600),
  "VAR06" VARCHAR(600),
  "VAR07" VARCHAR(600),
  "VAR08" VARCHAR(600),
  "VAR09" VARCHAR(600),
  "VAR10" VARCHAR(600),
  "VAR11" VARCHAR(600),
  "VAR12" VARCHAR(600),
  "VAR13" VARCHAR(600),
  "VAR14" VARCHAR(600),
  "VAR15" VARCHAR(600),
  "VAR16" VARCHAR(600),
  "VAR17" VARCHAR(600),
  "VAR18" VARCHAR(600),
  "VAR19" VARCHAR(600),
  "VAR20" VARCHAR(600),
  "VAR21" VARCHAR(600),
  "VAR22" VARCHAR(600),
  "VAR23" VARCHAR(600),
  "VAR24" VARCHAR(600),
  "VAR25" VARCHAR(600),
  "VAR26" VARCHAR(600),
  "VAR27" VARCHAR(600),
  "VAR28" VARCHAR(600),
  "VAR29" VARCHAR(600),
  "VAR30" VARCHAR(600),
  "VAR31" VARCHAR(600),
  "VAR32" VARCHAR(600),
  "VAR33" VARCHAR(600),
  "VAR34" VARCHAR(600),
  "TVAR01" VARCHAR(30),
  "TVAR02" VARCHAR(30),
  "TVAR03" VARCHAR(30),
  "TVAR04" VARCHAR(30),
  "TVAR05" VARCHAR(30),
  "TVAR06" VARCHAR(30),
  "TVAR07" VARCHAR(30),
  "TVAR08" VARCHAR(30),
  "TVAR09" VARCHAR(30),
  "TVAR10" VARCHAR(30),
  "TVAR11" VARCHAR(30),
  "TVAR12" VARCHAR(30),
  "TVAR13" VARCHAR(30),
  "TVAR14" VARCHAR(30),
  "TVAR15" VARCHAR(30),
  "TVAR16" VARCHAR(30),
  "TVAR17" VARCHAR(30),
  "TVAR18" VARCHAR(30),
  "TVAR19" VARCHAR(30),
  "TVAR20" VARCHAR(30),
  "TVAR21" VARCHAR(30),
  "TVAR22" VARCHAR(30),
  "TVAR23" VARCHAR(30),
  "TVAR24" VARCHAR(30),
  "TVAR25" VARCHAR(30),
  "TVAR26" VARCHAR(30),
  "TVAR27" VARCHAR(30),
  "TVAR28" VARCHAR(30),
  "TVAR29" VARCHAR(30),
  "TVAR30" VARCHAR(30),
  "TVAR31" VARCHAR(30),
  "TVAR32" VARCHAR(30),
  "TVAR33" VARCHAR(30),
  "TVAR34" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZAIMPCONVENIO" 
(
  "NUMCONVENIO" INTEGER,
  "USUARIO" INTEGER,
  "DATAINI" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "MOTIVO" VARCHAR(150)
)
RETURNS
(
  "NUMEROFATURA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZAPROCCBOSUS" 
RETURNS
(
  "COD_PROCEDIMENTO" VARCHAR(4),
  "PROCEDIMENTO" VARCHAR(10),
  "CBO" VARCHAR(6)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZAPROCREGISTRO" 
RETURNS
(
  "COD_PROCEDIMENTO" VARCHAR(4),
  "PROCEDIMENTO" VARCHAR(10),
  "REGISTRO" CHAR(2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZARECEB" 
(
  "TRATAMENTO" INTEGER,
  "CODIGOCPS" FLOAT,
  "DATARECEBIMENTO" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZARECEBITEM" 
(
  "CODIGOPLA" INTEGER,
  "DHE" CHAR(1),
  "DATA" TIMESTAMP,
  "INDICE" INTEGER,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ATUALIZA_LEITOS" 
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AVISOPAC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "AVISOPAC_CPC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "BALANCO_HIDRICO" 
(
  "CODIGOCPS" FLOAT,
  "FLAG" VARCHAR(1)
)
RETURNS
(
  "DATAHORA" TIMESTAMP,
  "TIPO" VARCHAR(100),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "BPA" 
(
  "CONSULTA" VARCHAR(6000),
  "TIPOCONSULTAESP" INTEGER,
  "PROCBPATIPO" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "FOLHA" VARCHAR(10),
  "GRUPO" CHAR(2),
  "CODIGOAMB" VARCHAR(10),
  "CBO" VARCHAR(6),
  "TIPO" CHAR(2),
  "IDADE" INTEGER,
  "QTDE" INTEGER,
  "VALOR" FLOAT,
  "ESPECIALIDADE" CHAR(2),
  "CODIGOSERV" INTEGER,
  "A_MEDICOS" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "CNS_MEDICO" VARCHAR(15),
  "MATRICULA" VARCHAR(30),
  "SEXO" VARCHAR(1),
  "CID10" VARCHAR(4),
  "NOMEPACIENTE" VARCHAR(50),
  "NASCIMENTO" TIMESTAMP,
  "TIPOBPA" CHAR(1),
  "RACACOR" CHAR(2),
  "UF" VARCHAR(4),
  "CIDADE" VARCHAR(100),
  "CODIGOPLA" SMALLINT,
  "NACIONALIDADE" CHAR(3),
  "CARTAO" VARCHAR(20),
  "CEP" VARCHAR(8),
  "CODLOG" VARCHAR(3),
  "ENDERECO" VARCHAR(50),
  "ENDERECO_COMP" VARCHAR(20),
  "ENDERECO_NUM" VARCHAR(8),
  "BAIRRO" VARCHAR(20),
  "TELEFONE" VARCHAR(11),
  "EMAIL" VARCHAR(60),
  "ETNIA" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "BUSCACONFIGURACAO" 
(
  "SISTEMA" VARCHAR(50),
  "PARAMETRO" VARCHAR(100)
)
RETURNS
(
  "VALOR" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "BUSCAENDERECOPORCEP" 
(
  "CEP" VARCHAR(8)
)
RETURNS
(
  "ENDERECO" VARCHAR(200),
  "BAIRRO" VARCHAR(72),
  "CIDADE" VARCHAR(60),
  "UF" CHAR(2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "BUSCAENDERECOPORCEP1" 
(
  "CEP" VARCHAR(8)
)
RETURNS
(
  "ENDERECO" VARCHAR(200),
  "BAIRRO" VARCHAR(72),
  "CIDADE" VARCHAR(60),
  "UF" CHAR(2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CALCCUSTOFILME" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CUSTO" DOUBLE PRECISION
)
RETURNS
(
  "FILMECUSTO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CALCRECEBIMENTO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "VALORTOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CALC_PERC_GENERICO" 
(
  "CPS" FLOAT
)
RETURNS
(
  "GENERTOTAL" FLOAT,
  "MARCATOTAL" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CARGA_COMPILAB_NIP_PCC" 
(
  "NIP" VARCHAR(100),
  "REFERENCIA" VARCHAR(30),
  "PROCEDIMENTO" VARCHAR(30),
  "TIPOATEDIMENTO" VARCHAR(50),
  "DATAEXAME" DATE
)
RETURNS
(
  "MATRICULA" VARCHAR(50),
  "CODIGOPAC" VARCHAR(50),
  "TIPODEP" VARCHAR(1),
  "AMH" VARCHAR(1),
  "IMH" VARCHAR(1),
  "VALOR" DOUBLE PRECISION,
  "IDCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CENSOHOSPITALAR" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "QTDE" INTEGER,
  "TIPO" VARCHAR(11)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CHECADISCOBPA" 
(
  "CONSULTA" VARCHAR(6000),
  "TIPOCONSULTAESP" INTEGER,
  "CHECAR" CHAR(1),
  "COMPETENCIA" VARCHAR(6)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CODIGOAMB" VARCHAR(10),
  "CBO" VARCHAR(6),
  "TIPO" CHAR(2),
  "GRUPO" CHAR(2),
  "IDADE" INTEGER,
  "QTDE" INTEGER,
  "STATUS" VARCHAR(100),
  "SO_ERRO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CHECAPRONTUARIO" 
(
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "RESULTADO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CHECASISTEMA" 
(
  "TEXTO" VARCHAR(50)
)
RETURNS
(
  "STATUS" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CHECK_SERVCONVENIODUPLO" 
(
  "INDICE" INTEGER,
  "CONVENIO" INTEGER,
  "CODIGOAMB1" VARCHAR(12),
  "CODIGOAMB2" VARCHAR(12)
)
RETURNS
(
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CIDXPROC" 
(
  "CAMPO" VARCHAR(40),
  "TIPO" VARCHAR(50)
)
RETURNS
(
  "TEXTO" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CIH01A" 
(
  "INICIO" DATE,
  "FINAL" DATE
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "CO_MODALIDADE" INTEGER,
  "NOME_PAC" VARCHAR(50),
  "DS_LOGR" VARCHAR(50),
  "DS_UF" VARCHAR(2),
  "CEP" VARCHAR(8),
  "DT_NASC" TIMESTAMP,
  "SEXO" CHAR(1),
  "CONVNOME" VARCHAR(40),
  "DIAG_PRIN" VARCHAR(4),
  "DT_ATENDIMENTO" DATE,
  "DT_ALTA" TIMESTAMP,
  "REG_ANS" VARCHAR(6),
  "TP_FREMU" CHAR(1),
  "CNPJ_OPER" VARCHAR(18),
  "CO_BENEF" VARCHAR(30),
  "NU_OBITO" VARCHAR(12),
  "NU_PRONT" INTEGER,
  "TABHON" INTEGER,
  "FROMCONVENIO" INTEGER,
  "GRUPOSUS" VARCHAR(2),
  "TP_ALTA" CHAR(1),
  "PRINCIPAL" VARCHAR(8),
  "PAC_NUMERO" VARCHAR(8),
  "DS_CIDADE" VARCHAR(20),
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CIRURGICOANALISE" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER
)
RETURNS
(
  "TRATAMENTO" INTEGER,
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CODIGOAMBVALIDA" 
(
  "CODIGOCPS" FLOAT,
  "CODIGOAMB" VARCHAR(8)
)
RETURNS
(
  "MENSAGEM" VARCHAR(100),
  "LIBERADO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CODIGOSERVPROC" 
(
  "PROCEDIMENTO" VARCHAR(9),
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODIGOSERV" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COMPARAR_TISSV3_TABORIGEM" 
(
  "TABELA" INTEGER
)
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(500),
  "TIPO" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COMPARA_ORIGEM_TISSV3" 
(
  "TABELA" INTEGER
)
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(250),
  "TIPO" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COMPARA_TABELAS" 
(
  "TAB1" INTEGER,
  "TAB2" INTEGER
)
RETURNS
(
  "A_CODAMB1" VARCHAR(10),
  "A_NOME1" VARCHAR(100),
  "TOTAL1" DOUBLE PRECISION,
  "A_CODAMB2" VARCHAR(10),
  "A_NOME2" VARCHAR(100),
  "TOTAL2" DOUBLE PRECISION,
  "OBSERVACAO" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONDUTADIARISTA" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONDUTAPLANTONISTA" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONSERTARMEDICOSUS" 
(
  "MEDRESP" INTEGER,
  "GRUPOSUS" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONSULTAREVISAO" 
(
  "W_CODIGOPAC" INTEGER,
  "W_CONVENIO" INTEGER,
  "W_DATA" TIMESTAMP,
  "W_MEDRESP" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CODIGOPAC" FLOAT,
  "CODIGOCPS" FLOAT,
  "MEDRESP" INTEGER,
  "A_CID" VARCHAR(4),
  "A_MEDICOS" INTEGER,
  "A_NOME" VARCHAR(40),
  "PRINCIPAL" VARCHAR(8),
  "NOMECONVENIO" VARCHAR(40),
  "DESCRICAO" VARCHAR(20),
  "NOMEESPECIALIDADE" VARCHAR(60)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONSULTAREVISAORESUMO" 
(
  "W_CODIGOPAC" INTEGER,
  "W_CONVENIO" INTEGER,
  "W_DATA" TIMESTAMP,
  "W_MEDRESP" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONSULTAREVISAO_OLDERROHOP" 
(
  "W_CODIGOPAC" INTEGER,
  "W_CONVENIO" INTEGER,
  "W_DATA" TIMESTAMP,
  "W_MEDRESP" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CODIGOPAC" FLOAT,
  "CODIGOCPS" FLOAT,
  "MEDRESP" INTEGER,
  "A_CID" VARCHAR(4),
  "A_MEDICOS" INTEGER,
  "A_NOME" VARCHAR(40),
  "PRINCIPAL" VARCHAR(8),
  "NOMECONVENIO" VARCHAR(40),
  "DESCRICAO" VARCHAR(20),
  "NOMEESPECIALIDADE" VARCHAR(60)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONSULTA_MNM" 
(
  "CODIGOCPS" FLOAT,
  "TIPOPROC" CHAR(1),
  "CODIGOAMB" VARCHAR(8),
  "TRATAMENTO" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "A_CODAMB" VARCHAR(8),
  "NOMEPROCEDIMENTO" VARCHAR(100),
  "LAUDOPADRAO" VARCHAR(60),
  "MNM" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONS_HAB_PROC" 
(
  "CODIGOAMB" VARCHAR(10),
  "CODIGO" CHAR(2)
)
RETURNS
(
  "RESULTADO" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONTROLE_FATURAMENTO" 
(
  "DATAINICIAL" TIMESTAMP,
  "DATAFINAL" TIMESTAMP,
  "CONVENIO" INTEGER
)
RETURNS
(
  "ATENDIDOAMB" INTEGER,
  "ENVIADOAMB" INTEGER,
  "ENVIADOAMBANT" INTEGER,
  "NAOENVIADASAMB" INTEGER,
  "ATENDIDOEME" INTEGER,
  "ENVIADOEME" INTEGER,
  "ENVIADOEMEANT" INTEGER,
  "NAOENVIADASEME" INTEGER,
  "ATENDIDOINT" INTEGER,
  "ENVIADOINT" INTEGER,
  "ENVIADOINTANT" INTEGER,
  "NAOENVIADASINT" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CONVENIOANALISE" 
(
  "CONSULTA" VARCHAR(6000),
  "CONSULTAHON" VARCHAR(6000)
)
RETURNS
(
  "CONVENIO" INTEGER,
  "ATENDIMENTO" INTEGER,
  "PROCEDIMENTO" DOUBLE PRECISION,
  "TAXA" DOUBLE PRECISION,
  "GLOSADO" DOUBLE PRECISION,
  "HONORARIO" DOUBLE PRECISION,
  "MATMED" DOUBLE PRECISION,
  "MATMEDCUSTO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "FILMECUSTO" DOUBLE PRECISION,
  "FILMEMETRO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIANOTAMED" 
(
  "NOTAMED" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIANOTAMEDCONTINUACAO" 
(
  "NOTAMED" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIANOTAMED_PCC" 
(
  "NOTAMED" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIAPROTOCOLO" 
(
  "PROTOCOLO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIARTABELA" 
(
  "TABELAORIGEM" INTEGER,
  "TABELADESTINO" INTEGER,
  "CODINICIAL" VARCHAR(10),
  "CODFINAL" VARCHAR(10)
)
RETURNS
(
  "OK" CHAR(2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIA_EVOLUCAO_UTI" 
(
  "EVOLUCAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIA_EVOLUCAO_UTI_CPC" 
(
  "EVOLUCAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIA_REGULACAO" 
(
  "REGULACAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "COPIA_REGULACAO_CPC" 
(
  "REGULACAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPCLISTACONTATOS" 
(
  "NUMCELULAR" VARCHAR(30),
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "FAX" VARCHAR(15),
  "EMAIL" VARCHAR(80),
  "TIPO" VARCHAR(120)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_AJUSTA_SAIDA_DUPLO" 
RETURNS
(
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "SAIDA" INTEGER,
  "CODIGOMM" INTEGER,
  "QTDE" INTEGER,
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_CELULAR_9" 
RETURNS
(
  "INDICE" INTEGER,
  "CELULAR" VARCHAR(15),
  "NOVO" VARCHAR(15)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_COBRARNAO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "INDICE" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_CREDENCIADO" 
RETURNS
(
  "CPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_SALDO_MATMED_PRESC" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "OK" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_SERVICO_DUPLO_DEL" 
(
  "TABELA" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "DESCRICAO" VARCHAR(400)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_SERVICO_ORDEM" 
RETURNS
(
  "TIPO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPC_VM_CAPAC_INSTAGI_SESAB" 
RETURNS
(
  "ALA" INTEGER,
  "LEITONOME" VARCHAR(100),
  "CODIGOINT" FLOAT,
  "CNES" VARCHAR(50),
  "DESCRICAOSETOR" VARCHAR(150),
  "SERVICO" VARCHAR(100),
  "DESCRICAOLEITO" VARCHAR(30),
  "CNS" VARCHAR(250),
  "DESCRICAOTIPOLEITO" VARCHAR(150),
  "DESCRICAOSUBTIPOLEITO" VARCHAR(150),
  "DESCRICAOCLASSIFICACAO" VARCHAR(100),
  "DESCRICAOSITUACAOLEITO" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS" 
(
  "CONSULTA" VARCHAR(10000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER,
  "NOTAFISCAL" VARCHAR(1),
  "NUMEROGUIAOPERADORA" VARCHAR(30),
  "DATARECEBP1" TIMESTAMP,
  "DATARECEBP2" TIMESTAMP,
  "DATARECEBP3" TIMESTAMP,
  "DATARECEBP4" TIMESTAMP,
  "VALORRECEBP1" DOUBLE PRECISION,
  "VALORRECEBP2" DOUBLE PRECISION,
  "VALORRECEBP3" DOUBLE PRECISION,
  "VALORRECEBP4" DOUBLE PRECISION,
  "RECEBPARCIAL" CHAR(1),
  "DATARECEBITEM" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS1TOTAL" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS24HS" 
(
  "CPS" FLOAT
)
RETURNS
(
  "RETORNO" VARCHAR(2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS25" 
(
  "CONSULTA" VARCHAR(6000),
  "GUIACONV" VARCHAR(20),
  "PROCMATMED" VARCHAR(100),
  "XMLGUIA" VARCHAR(20),
  "FLAG1" VARCHAR(20),
  "FLAG2" VARCHAR(20),
  "FLAG3" VARCHAR(20)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER,
  "MAQUINETA" VARCHAR(20),
  "NUMEROGUIAOPERADORA" VARCHAR(100),
  "VERSAOGUIA" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS6NOVA" 
(
  "CPS" INTEGER,
  "MEDICO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(40),
  "PRESCRICAO" INTEGER,
  "TIPO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSAUDITCONTA" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CODIGOAMB" VARCHAR(20),
  "DESCRICAO" VARCHAR(600),
  "TIPO" VARCHAR(20),
  "A_MEDICOS" INTEGER,
  "QTDE" INTEGER,
  "DATA" TIMESTAMP,
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSAUDITORIAAJUSTE" 
(
  "CODIGOCPS" INTEGER,
  "AJUSTE" INTEGER,
  "USER1" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSAUDITORIAINSERT" 
(
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" VARCHAR(100),
  "USER1" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSDELETADO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "CODIGO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSEXISTEPAC" 
(
  "CODIGOPAC" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "DATA" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSEXPORT" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "DATARECEBIMENTO" TIMESTAMP,
  "COBRAR" CHAR(1),
  "A_CID" VARCHAR(4),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "NASC" TIMESTAMP,
  "CIDADE" VARCHAR(100),
  "SEXO" CHAR(1),
  "UF" CHAR(2),
  "CEP" VARCHAR(15),
  "FROMCONVENIO" INTEGER,
  "PARTICULAR" CHAR(1),
  "CONVENIONOME" VARCHAR(100),
  "CBO" VARCHAR(10),
  "CBONOVO" VARCHAR(10),
  "CBOSUS" VARCHAR(10),
  "ESPECIALIDADENOME" VARCHAR(100),
  "TIPOSERV" CHAR(1),
  "SERVICOSNOME" VARCHAR(250),
  "MEDICONOME" VARCHAR(100),
  "TIPOMM" VARCHAR(10),
  "SIMPRO" INTEGER,
  "TISS" VARCHAR(15),
  "MATMEDNOME" VARCHAR(250),
  "CNPJ" VARCHAR(14),
  "DATAFECH" TIMESTAMP,
  "DATAFECHMED" TIMESTAMP,
  "DATAFECHNOTA" TIMESTAMP,
  "DATAFECHRECEB" TIMESTAMP,
  "PACIENTENOME" VARCHAR(100),
  "ANS" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSMM" 
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER
)
RETURNS
(
  "CODIGOMM" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "QUANTIDADE" INTEGER,
  "TOTAL" FLOAT,
  "GLOSA" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSPACOTE" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(12),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSPROC" 
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER
)
RETURNS
(
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSTEMP" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSTIPO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TIPO" VARCHAR(40),
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPSTISS" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS_CONTROLE_FATURAMENTO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" VARCHAR(100),
  "VALORTOTAL" DOUBLE PRECISION,
  "VALORABERTAS" DOUBLE PRECISION,
  "VALORCONFERIDAS" DOUBLE PRECISION,
  "VALORPENDENTES" DOUBLE PRECISION,
  "VALORFECHADAS" DOUBLE PRECISION,
  "CPS" INTEGER,
  "CODCONV" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS_CONTROLE_FATURAMENTO2" 
(
  "CONSULTA" VARCHAR(5000)
)
RETURNS
(
  "CONVENIO" VARCHAR(100),
  "VALORTOTAL" NUMERIC(15, 2),
  "VALORABERTAS" NUMERIC(15, 2),
  "VALORCONFERIDAS" NUMERIC(15, 2),
  "VALORPENDENTES" NUMERIC(15, 2),
  "VALORFECHADAS" NUMERIC(15, 2),
  "CPS" INTEGER,
  "CODCONV" INTEGER,
  "A_MEDICOS" INTEGER,
  "VALORRECEBIDO" NUMERIC(15, 2),
  "VALORGLOSADO" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS_CPC_082019" 
(
  "CONSULTA" VARCHAR(10000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER,
  "NOTAFISCAL" VARCHAR(1),
  "NUMEROGUIAOPERADORA" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS_DETALHAMENTOFATURA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "QTD" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS_DETALHAMENTOFATURAGERAL" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "QTD" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "VALOR" DOUBLE PRECISION,
  "CONVENIO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CPS_SEM_RECIBO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "CPS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CRIAPEDIDOLAUDO" 
(
  "CPS" FLOAT,
  "PRESCRICAO" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CRIAPEDIDOLAUDOCPC" 
(
  "CPS" FLOAT,
  "PRESCRICAO" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CRIAPEDIDOLAUDOCPS_HCC" 
(
  "CPS" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CRIAPEDIDOLAUDOID" 
(
  "CPS" FLOAT,
  "ID" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "CULTURAPAC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TITULO1" VARCHAR(250),
  "TITULO2" VARCHAR(250),
  "TITULO3" VARCHAR(250),
  "TITULO4" VARCHAR(250),
  "TITULO5" VARCHAR(250),
  "TEXTO1" BLOB,
  "TEXTO2" BLOB,
  "TEXTO3" BLOB,
  "TEXTO4" BLOB,
  "TEXTO5" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DATAENTRE" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "INTINICIO" TIMESTAMP,
  "INTFIM" TIMESTAMP
)
RETURNS
(
  "QTDEDENTRO" DOUBLE PRECISION,
  "QTDEFORA" DOUBLE PRECISION,
  "DENTRO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DATASLIVRES" 
(
  "TIPO" CHAR(1),
  "COD" VARCHAR(20)
)
RETURNS
(
  "DESCRICAO" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DECISIONCENARIO_COPIA" 
(
  "DE" INTEGER,
  "PARA" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DECISION_COPIA" 
(
  "DE" INTEGER,
  "PARA" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DEPTORESUMO" 
(
  "CONSULTA" VARCHAR(1000)
)
RETURNS
(
  "CODIGOAMB" CHAR(8),
  "DESCRICAO" VARCHAR(100),
  "DEPTO" SMALLINT,
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DHE" 
(
  "DATA" TIMESTAMP,
  "CONVENIO" INTEGER
)
RETURNS
(
  "ATIVO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIARIAINTERNADO" 
(
  "DTINICIO" TIMESTAMP,
  "DTFIM" TIMESTAMP
)
RETURNS
(
  "PACIENTE" VARCHAR(50),
  "CONVENIO" VARCHAR(40),
  "DATA" TIMESTAMP,
  "DIARIA" SMALLINT,
  "PRORROGA" SMALLINT,
  "CPS" INTEGER,
  "CODIGOPAC" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIASMARCACIRURGIA" 
(
  "MEDICO" INTEGER,
  "MES" SMALLINT,
  "ANO" SMALLINT
)
RETURNS
(
  "DIA" SMALLINT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIASUSO" 
(
  "PRESCRICAO" INTEGER,
  "DESCRICAO" VARCHAR(2500)
)
RETURNS
(
  "DIASUSO" INTEGER,
  "DATAFINAL" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIASUSO3" 
(
  "PRESCRICAO" INTEGER,
  "CODIGOCCIH" VARCHAR(2500)
)
RETURNS
(
  "DIASUSO" INTEGER,
  "DATAFINAL" TIMESTAMP,
  "TEXTO" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIASUTEIS" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "DIAS" INTEGER,
  "DOMINGO" INTEGER,
  "SABADO" INTEGER,
  "FERIADO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIASUTEIS2" 
(
  "DATA" DATE,
  "TEMPO" INTEGER,
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "DIAUTIL" DATE
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIETAETIQ" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "DIETAETQ" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DIGITABANCADA" 
(
  "CONSULTA" VARCHAR(5000),
  "BANCADA1" INTEGER,
  "BANCADA2" INTEGER,
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "HORAINICIO" TIMESTAMP,
  "HORAFIM" TIMESTAMP,
  "USUARIO" INTEGER
)
RETURNS
(
  "BANCADANOME" VARCHAR(70),
  "BANCADA" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "CODIGOPLA" SMALLINT,
  "CODLAUDO" FLOAT,
  "LAUDOMANUAL" CHAR(1),
  "CODIGOSERV" INTEGER,
  "PROCEDIMENTOS" VARCHAR(1000),
  "LAUDOPADRAO" VARCHAR(60),
  "MNM" VARCHAR(10),
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "STATUS" INTEGER,
  "VAR01" VARCHAR(600),
  "VAR02" VARCHAR(600),
  "VAR03" VARCHAR(600),
  "VAR04" VARCHAR(600),
  "VAR05" VARCHAR(600),
  "VAR06" VARCHAR(600),
  "VAR07" VARCHAR(600),
  "VAR08" VARCHAR(600),
  "VAR09" VARCHAR(600),
  "VAR10" VARCHAR(600),
  "VAR11" VARCHAR(600),
  "VAR12" VARCHAR(600),
  "VAR13" VARCHAR(600),
  "VAR14" VARCHAR(600),
  "VAR15" VARCHAR(600),
  "VAR16" VARCHAR(600),
  "VAR17" VARCHAR(600),
  "VAR18" VARCHAR(600),
  "VAR19" VARCHAR(600),
  "VAR20" VARCHAR(600),
  "VAR21" VARCHAR(600),
  "VAR22" VARCHAR(600),
  "VAR23" VARCHAR(600),
  "VAR24" VARCHAR(600),
  "VAR25" VARCHAR(600),
  "VAR26" VARCHAR(600),
  "VAR27" VARCHAR(600),
  "VAR28" VARCHAR(600),
  "VAR29" VARCHAR(600),
  "VAR30" VARCHAR(600),
  "VAR31" VARCHAR(600),
  "VAR32" VARCHAR(600),
  "VAR33" VARCHAR(600),
  "VAR34" VARCHAR(600),
  "TVAR01" VARCHAR(30),
  "TVAR02" VARCHAR(30),
  "TVAR03" VARCHAR(30),
  "TVAR04" VARCHAR(30),
  "TVAR05" VARCHAR(30),
  "TVAR06" VARCHAR(30),
  "TVAR07" VARCHAR(30),
  "TVAR08" VARCHAR(30),
  "TVAR09" VARCHAR(30),
  "TVAR10" VARCHAR(30),
  "TVAR11" VARCHAR(30),
  "TVAR12" VARCHAR(30),
  "TVAR13" VARCHAR(30),
  "TVAR14" VARCHAR(30),
  "TVAR15" VARCHAR(30),
  "TVAR16" VARCHAR(30),
  "TVAR17" VARCHAR(30),
  "TVAR18" VARCHAR(30),
  "TVAR19" VARCHAR(30),
  "TVAR20" VARCHAR(30),
  "TVAR21" VARCHAR(30),
  "TVAR22" VARCHAR(30),
  "TVAR23" VARCHAR(30),
  "TVAR24" VARCHAR(30),
  "TVAR25" VARCHAR(30),
  "TVAR26" VARCHAR(30),
  "TVAR27" VARCHAR(30),
  "TVAR28" VARCHAR(30),
  "TVAR29" VARCHAR(30),
  "TVAR30" VARCHAR(30),
  "TVAR31" VARCHAR(30),
  "TVAR32" VARCHAR(30),
  "TVAR33" VARCHAR(30),
  "TVAR34" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCOBPA" 
(
  "CONSULTA" VARCHAR(6000),
  "TIPOCONSULTAESP" INTEGER,
  "COM_BPA_I" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "FOLHA" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "CBO" VARCHAR(6),
  "TIPO" CHAR(2),
  "GRUPO" CHAR(2),
  "IDADE" INTEGER,
  "QTDE" INTEGER,
  "TIPOBPA" CHAR(1),
  "A_DATAFAT" TIMESTAMP,
  "CNS_MEDICO" VARCHAR(15),
  "MATRICULA" VARCHAR(30),
  "SEXO" VARCHAR(1),
  "CID10" VARCHAR(4),
  "NOMEPACIENTE" VARCHAR(50),
  "NASCIMENTO" TIMESTAMP,
  "RACACOR" CHAR(2),
  "UF" VARCHAR(4),
  "CIDADE" VARCHAR(100),
  "NACIONALIDADE" CHAR(3),
  "CARTAO" VARCHAR(20),
  "CEP" VARCHAR(8),
  "CODLOG" VARCHAR(3),
  "ENDERECO" VARCHAR(50),
  "ENDERECO_COMP" VARCHAR(20),
  "ENDERECO_NUM" VARCHAR(8),
  "BAIRRO" VARCHAR(20),
  "TELEFONE" VARCHAR(11),
  "EMAIL" VARCHAR(60),
  "ETNIA" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO" VARCHAR(4)
)
RETURNS
(
  "IDENTIFICADOR" CHAR(1),
  "EMBRANCO1" CHAR(1),
  "MATRICULA" CHAR(9),
  "EMBRANCO2" CHAR(5),
  "NOME" CHAR(28),
  "COD_REGISTRO" CHAR(1),
  "COD_VERBA" CHAR(5),
  "INDICE" CHAR(2),
  "EMBRANCO3" CHAR(2),
  "VALOR" VARCHAR(10),
  "EMBRANCO4" CHAR(11),
  "DATA_FIM" CHAR(4),
  "DATA_INICIO_REF" CHAR(4),
  "DATA_TERMINO_REF" CHAR(4),
  "EMBRANCO5" CHAR(30),
  "TIPO_REGISTRO" VARCHAR(1),
  "CONSTANTE" CHAR(1),
  "IDENT_CONSIG" CHAR(3),
  "EMBRANCO6" CHAR(14),
  "CPF" CHAR(14),
  "LINHA" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_CPC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO" VARCHAR(4)
)
RETURNS
(
  "IDENTIFICADOR" CHAR(1),
  "EMBRANCO1" CHAR(1),
  "MATRICULA" CHAR(9),
  "EMBRANCO2" CHAR(5),
  "NOME" CHAR(28),
  "COD_REGISTRO" CHAR(1),
  "COD_VERBA" CHAR(5),
  "INDICE" CHAR(2),
  "EMBRANCO3" CHAR(2),
  "VALOR" VARCHAR(10),
  "EMBRANCO4" CHAR(11),
  "DATA_FIM" CHAR(4),
  "DATA_INICIO_REF" CHAR(4),
  "DATA_TERMINO_REF" CHAR(4),
  "EMBRANCO5" CHAR(30),
  "TIPO_REGISTRO" VARCHAR(1),
  "CONSTANTE" CHAR(1),
  "IDENT_CONSIG" CHAR(3),
  "EMBRANCO6" CHAR(14),
  "CPF" CHAR(14),
  "LINHA" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO" 
(
  "TITULAR" CHAR(20),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "SOLDO" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "RESIDUO" NUMERIC(15, 2),
  "NIPPACIENTE" VARCHAR(20),
  "NOME" VARCHAR(70),
  "NIP" VARCHAR(20),
  "CPS" INTEGER,
  "DT_ATD" DATE,
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(120),
  "VALOR" NUMERIC(15, 2),
  "ORIGEM" VARCHAR(20),
  "FOLHA" INTEGER,
  "QTDE" INTEGER,
  "DT_FAT" DATE
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_CPC" 
(
  "TITULAR" CHAR(20),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "SOLDO" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "RESIDUO" NUMERIC(15, 2),
  "NIPPACIENTE" VARCHAR(20),
  "NOME" VARCHAR(70),
  "NIP" VARCHAR(20),
  "CPS" INTEGER,
  "DT_ATD" DATE,
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(500),
  "VALOR" NUMERIC(15, 2),
  "ORIGEM" VARCHAR(20),
  "FOLHA" INTEGER,
  "QTDE" INTEGER,
  "DT_FAT" DATE
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_FAT_CPC" 
(
  "TITULAR" CHAR(20),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "SOLDO" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "RESIDUO" NUMERIC(15, 2),
  "NIPPACIENTE" VARCHAR(20),
  "NOME" VARCHAR(70),
  "NIP" VARCHAR(20),
  "CPS" INTEGER,
  "DT_ATD" DATE,
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(120),
  "VALOR" NUMERIC(15, 2),
  "ORIGEM" VARCHAR(20),
  "FOLHA" INTEGER,
  "QTDE" INTEGER,
  "DT_FAT" DATE
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_PAPEM" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "TEXTO" VARCHAR(100),
  "VALOR" NUMERIC(15, 2),
  "NOMETIT" VARCHAR(70)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_PAPEM_CPC" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "TEXTO" VARCHAR(100),
  "VALOR" NUMERIC(15, 2),
  "NOMETIT" VARCHAR(70),
  "OBS" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_TOTAL" 
(
  "TITULAR" CHAR(20),
  "TIPOTOTAL" CHAR(1)
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "VALORAPAGAR" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "PARCELAS" DOUBLE PRECISION,
  "SOLDO" NUMERIC(15, 2),
  "TOTALP" NUMERIC(15, 2),
  "TOTALR" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_TOTAL_CPC" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "VALORAPAGAR" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "PARCELAS" DOUBLE PRECISION,
  "SOLDO" NUMERIC(15, 2),
  "TOTALP" NUMERIC(15, 2),
  "TOTALR" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_EXTRATO_TOTAL_OLD" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "VALORAPAGAR" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "PARCELAS" INTEGER,
  "SOLDO" NUMERIC(15, 2),
  "TOTALP" NUMERIC(15, 2),
  "TOTALR" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DISCO_NAVAL_INTEGRIDADE" 
(
  "DATA" TIMESTAMP,
  "DESCRICAO" VARCHAR(2500)
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "TEXTO" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "DMED" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CPF" VARCHAR(15),
  "NASC" TIMESTAMP,
  "NOME" VARCHAR(150),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESCALABRADEN_SCORE" 
(
  "CPS" INTEGER
)
RETURNS
(
  "VALOR" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESCALAFUGULIN_SCORE" 
(
  "CPS" INTEGER
)
RETURNS
(
  "VALOR" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESCALATISS_SCORE" 
(
  "CPS" INTEGER
)
RETURNS
(
  "VALOR" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESPECIALIDADEANALISE" 
(
  "CONSULTA" VARCHAR(6000),
  "CONSULTAHON" VARCHAR(6000)
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(2),
  "ATENDIMENTO" INTEGER,
  "PROCEDIMENTO" DOUBLE PRECISION,
  "GLOSADO" DOUBLE PRECISION,
  "HONORARIO" DOUBLE PRECISION,
  "MATMED" DOUBLE PRECISION,
  "MATMEDCUSTO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "FILMECUSTO" DOUBLE PRECISION,
  "FILMEMETRO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST2_ALTAS_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST2_ALTAS_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESTATFATURATIPO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TIPO" VARCHAR(30),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESTATISTICADEPTO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOAMB" CHAR(8),
  "DESCRICAO" VARCHAR(250),
  "DEPTO" SMALLINT,
  "CONVENIO" INTEGER,
  "QTDE" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSAREPRESENTA" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESTATISTICAODONTO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(2),
  "MA" INTEGER,
  "MI" INTEGER,
  "CV" INTEGER,
  "DEP" INTEGER,
  "PENS" INTEGER,
  "EXCOMB" INTEGER,
  "OUTROS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESTATISTICA_FECHAMENTO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "NOMECONVENIO" VARCHAR(40),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ESTEMGMARINHA" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFINAL" TIMESTAMP
)
RETURNS
(
  "DESCRICAO" VARCHAR(50),
  "SAE" INTEGER,
  "SPA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ALTAS_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ALTAS_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ATEND_ANUAL_CID" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCID" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ATEND_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ATEND_ANUAL_MEDRESP" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODMEDRESP" VARCHAR(8),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ATEND_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_ATEND_ANUAL_QTDE_CODAMB" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODAMB" VARCHAR(10),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_FAT_ANUAL_CID" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCID" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_FAT_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_FAT_ANUAL_MEDRESP" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODMEDRESP" VARCHAR(8),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_FAT_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_PACTUACAO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CODAMB" VARCHAR(10),
  "CODSERV" INTEGER,
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER,
  "GRUPOSUS" INTEGER,
  "ESPECIALIDADE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EST_SERVICOS" 
(
  "CODIGOAMB" VARCHAR(8),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ETARIA" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1),
  "INTERVALO" SMALLINT,
  "CONV" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "IDADE" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EVOLUCAONOVA" 
(
  "CPS" INTEGER,
  "MEDICO" INTEGER,
  "TIPOIN" VARCHAR(2)
)
RETURNS
(
  "DESCRICAO" VARCHAR(250),
  "EVOLUCAO" INTEGER,
  "TIPO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EVOLUCAO_MODELO" 
(
  "EVOLUCAO" INTEGER,
  "CODIGOCPS" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "EXTFATURA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "DATA" TIMESTAMP,
  "QTDE" INTEGER,
  "TIPO" VARCHAR(40),
  "VALOR" NUMERIC(18, 2),
  "GLOSA" NUMERIC(18, 2),
  "IMPOSTO" NUMERIC(18, 2),
  "FATURA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FAIXAETARIA" 
(
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "FAIXAETARIA" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FATURACPSRECEBIDA" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "FATURA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FATURAGLOSARECEBIDA" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "FATURA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FATURAMENTOTOTAL" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER
)
RETURNS
(
  "CONVENIO" VARCHAR(40),
  "AMBULATORIO" DOUBLE PRECISION,
  "EMERGENCIA" DOUBLE PRECISION,
  "INTERNAMENTO" DOUBLE PRECISION,
  "UTI" DOUBLE PRECISION,
  "SEMI" DOUBLE PRECISION,
  "SEQUENCIA" INTEGER,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FECHAMENTOVALOR" 
(
  "SEQUENCIA" INTEGER
)
RETURNS
(
  "RECEBIDO" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "A_RECEBER" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FICHAGASTO" 
(
  "CPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PACOTE" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CODTRATAMENTO" INTEGER,
  "CODPACOTE" INTEGER,
  "CODUSUARIO" INTEGER,
  "CODIGOMM" INTEGER,
  "QTDEPADRAO" INTEGER,
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FICHAGASTOUPDATE" 
(
  "CODIGOCPS" INTEGER,
  "CODTRATAMENTO" INTEGER,
  "CODPACOTE" INTEGER,
  "CODUSUARIO" INTEGER,
  "CODIGOMM" INTEGER,
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "FINGER_CAD" 
(
  "DIGITAL" BLOB,
  "REGISTRO" FLOAT,
  "TABELA" VARCHAR(40),
  "DEDO" SMALLINT
)
RETURNS
(
  "CODIGO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "GESTAO_LEITOS_REL" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CPS" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIME,
  "NOME" VARCHAR(70),
  "CIDADE" VARCHAR(30),
  "RISCO" VARCHAR(20),
  "MEDICO" VARCHAR(70),
  "ESPECIALIDADE" VARCHAR(140),
  "CID" VARCHAR(10),
  "AIH" VARCHAR(10),
  "REGULACAO" VARCHAR(80),
  "CODMEDICO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "GLOSA_TOTALGLOSA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TOTALGLOSA" DOUBLE PRECISION,
  "TOTALREPRESENTA" DOUBLE PRECISION,
  "MAT" DOUBLE PRECISION,
  "MED" DOUBLE PRECISION,
  "TOTALRECEBIDO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "GLOSA_TOTALREPRESENTA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TOTALREPRESENTA" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "GRAFICOVIEW" 
(
  "DESCRICAO" VARCHAR(250),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HISTORICOPAC" 
(
  "PACIENTE" FLOAT
)
RETURNS
(
  "DIAGNOSTICO" BLOB,
  "OBSERVACAO" BLOB,
  "EXAME" BLOB,
  "ATENDIMENTO" BLOB,
  "TRATAMENTO" BLOB,
  "ANTECEDENTE" BLOB,
  "RESULTADO" BLOB,
  "A_DATAFAT" TIMESTAMP,
  "A_CID" VARCHAR(100),
  "MEDICO" VARCHAR(250),
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HONMEDICO" 
(
  "CONVENIO" INTEGER,
  "MEDICO" INTEGER,
  "CODIGOAMB" VARCHAR(9),
  "VALOR" DOUBLE PRECISION,
  "VALORFILME" DOUBLE PRECISION,
  "VALORCO" DOUBLE PRECISION,
  "GLOSATOTAL" DOUBLE PRECISION,
  "DHE" CHAR(1),
  "CODIGOPLA" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "QTDE" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "PROCMED" DOUBLE PRECISION,
  "PROC" DOUBLE PRECISION,
  "FILMEMED" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HONMEDICORESUMO" 
(
  "CONSULTA" VARCHAR(3000),
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "MEDREF" INTEGER,
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HONOCALCCUSTO" 
(
  "FATURA" VARCHAR(30)
)
RETURNS
(
  "STATUS" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HONORARIO" 
(
  "CONSULTA" VARCHAR(6000),
  "HONGLOSA" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "EMPRESA" SMALLINT,
  "UNIDADENEGOCIO" INTEGER,
  "CODIGOPLA" INTEGER,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CONVENIO" INTEGER,
  "CODIGOAMB" CHAR(8),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "MEDRESP" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "A_FILME" FLOAT,
  "GLOSATOTAL" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DHE" CHAR(1),
  "PROCMED" DOUBLE PRECISION,
  "PROC" DOUBLE PRECISION,
  "FILMEMED" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION,
  "TIPO" VARCHAR(30),
  "GLOSATIPO" SMALLINT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "INDICE" FLOAT,
  "FATURA" INTEGER,
  "GLOSADEFINITIVA" CHAR(1),
  "A_SITUACAO" CHAR(1),
  "CODIGOAMB1" CHAR(8),
  "COBRAR" CHAR(1),
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HONORARIOCOMIMPOSTO" 
(
  "CONSULTA" VARCHAR(6000),
  "HONGLOSA" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "EMPRESA" SMALLINT,
  "CODIGOPLA" INTEGER,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CONVENIO" INTEGER,
  "CODIGOAMB" CHAR(8),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "MEDRESP" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "A_FILME" FLOAT,
  "GLOSATOTAL" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DHE" CHAR(1),
  "PROCMED" DOUBLE PRECISION,
  "PROC" DOUBLE PRECISION,
  "FILMEMED" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION,
  "TIPO" VARCHAR(30),
  "GLOSATIPO" SMALLINT,
  "IRRF" DOUBLE PRECISION,
  "PIS" DOUBLE PRECISION,
  "ISS" DOUBLE PRECISION,
  "CSL" DOUBLE PRECISION,
  "COFINS" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HONORARIODEPTORESUMO" 
(
  "CONSULTA" VARCHAR(6000),
  "GLOSA" INTEGER
)
RETURNS
(
  "DEPTO" INTEGER,
  "A_MEDICOS" INTEGER,
  "HONORARIO" DOUBLE PRECISION,
  "IRRF" DOUBLE PRECISION,
  "PIS" DOUBLE PRECISION,
  "ISS" DOUBLE PRECISION,
  "CSL" DOUBLE PRECISION,
  "COFINS" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "HORARIOSLIVRES" 
(
  "TIPO" CHAR(1),
  "COD" VARCHAR(20),
  "DATA" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(50),
  "GRUPO" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "IDADE_CALC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "ANO" INTEGER,
  "MES1" INTEGER,
  "MES2" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "IMPORTALVARO_DEFAULT" 
(
  "ID" VARCHAR(200),
  "VARIAVEL" VARCHAR(200),
  "VALOR" VARCHAR(200),
  "DATA" TIMESTAMP
)
RETURNS
(
  "STATUS" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "IMPORTPARDINI" 
(
  "ID" VARCHAR(150),
  "VARIAVEL" VARCHAR(150),
  "VALOR" VARCHAR(150),
  "DATA" VARCHAR(150)
)
RETURNS
(
  "STATUS" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "IMPRESSOLISTA" 
(
  "USUARIO" INTEGER
)
RETURNS
(
  "TITULO" VARCHAR(250),
  "DESCRICAO" BLOB,
  "TIPO" VARCHAR(250),
  "A_MEDICOS" INTEGER,
  "PARAMETRO" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INCIDENCIACID" 
(
  "DATAINI" DATE,
  "DATAFIM" DATE,
  "CID" VARCHAR(4)
)
RETURNS
(
  "PRONTUARIO" INTEGER,
  "NOMEPAC" VARCHAR(50),
  "DATA" DATE,
  "MES" SMALLINT,
  "ANO" SMALLINT,
  "NUMEROCPS" INTEGER,
  "A_CID" VARCHAR(4)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INCLUIR_MARCACAO" 
(
  "CODIGOCPS" INTEGER,
  "MEDICOS" INTEGER
)
RETURNS
(
  "RESPOSTA" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INSERTLOG" 
(
  "TABELA" VARCHAR(50),
  "CAMPO" VARCHAR(50),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "INDICE" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INSERTLOGITEM" 
(
  "INDICE" VARCHAR(50),
  "CAMPO" VARCHAR(50),
  "VALOROLD" BLOB,
  "VALORNEW" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INSERTMARCACAO" 
(
  "NOME" VARCHAR(50),
  "MAE" VARCHAR(50),
  "NASC" TIMESTAMP,
  "CPF" VARCHAR(11),
  "RG" VARCHAR(15),
  "CEP" VARCHAR(8),
  "CIDADE" VARCHAR(20),
  "BAIRRO" VARCHAR(20),
  "ENDERECO" VARCHAR(50),
  "TELEFONE" VARCHAR(11),
  "CELULAR" VARCHAR(11),
  "CONVENIO" INTEGER,
  "EMAIL" VARCHAR(60),
  "TIPOMARC" CHAR(1),
  "COD" VARCHAR(20),
  "DATA" TIMESTAMP,
  "HORA" INTEGER,
  "TIPO" CHAR(1),
  "CRM" VARCHAR(10),
  "EXAME" VARCHAR(60)
)
RETURNS
(
  "STATUS" VARCHAR(1000),
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INSERT_BRASINDICE1" 
(
  "MED_CODI" VARCHAR(5),
  "MED_DESC" VARCHAR(200)
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INSERT_BRASINDICE2" 
(
  "APR_CODI" VARCHAR(4),
  "APR_DESC" VARCHAR(200)
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INSERT_LABORATORIO_BRAS" 
(
  "COD" VARCHAR(20),
  "DESCRICAO" VARCHAR(200)
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INS_ENCAMINHAMENTOS" 
(
  "CPS" INTEGER,
  "USUARIO" INTEGER,
  "CHECKUP" INTEGER,
  "DATA" DATE
)
RETURNS
(
  "OK" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INS_MONLOGCOMP" 
(
  "COMPUTADOR" VARCHAR(30),
  "SISTEMA" VARCHAR(30),
  "VERSAO" VARCHAR(15),
  "CODUSER" INTEGER,
  "ENTRADA" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INS_PACOTECONVENIONOVO" 
(
  "CONVENIO" INTEGER
)
RETURNS
(
  "PACOTE" INTEGER,
  "CODIGOAMB" VARCHAR(8),
  "QUANTIDADE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INTERNAMENTOANALISE" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMENTO" INTEGER
)
RETURNS
(
  "TRATAMENTO" INTEGER,
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "CUSTO" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INTERNAMENTOANALISECODAMB" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMB" CHAR(8)
)
RETURNS
(
  "TRATAMENTO" INTEGER,
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "CUSTO" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT,
  "TRATACODAMB" CHAR(8)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INTERNAMENTOANALISEMM" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMENTO" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "MEDRESP" INTEGER,
  "TRATAMENTO" INTEGER,
  "DATA" TIMESTAMP,
  "DATASAIDA" TIMESTAMP,
  "DATAENVIO" TIMESTAMP,
  "DATARECEBIDO" TIMESTAMP,
  "TAXA" FLOAT,
  "OPME" FLOAT,
  "MAT" FLOAT,
  "MED" FLOAT,
  "OUTROS" FLOAT,
  "CUSTOOPME" FLOAT,
  "CUSTOMAT" FLOAT,
  "CUSTOMED" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "INTER_ESTCON" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CONVENIO" INTEGER,
  "TOTALCLINICO" DOUBLE PRECISION,
  "QTDECLINICO" INTEGER,
  "TOTALUTI" DOUBLE PRECISION,
  "QTDEUTI" INTEGER,
  "TOTALCIRURGICO" DOUBLE PRECISION,
  "QTDECIRURGICO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ITENSEXCLUIDOS" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "TIPOATEND" VARCHAR(30),
  "CODIGOCPS" FLOAT,
  "TIPOPROC" VARCHAR(15),
  "DATAMODALT" TIMESTAMP,
  "CODUSUARIO" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "QUANTIDADE" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAUDOVIEW" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "DATAHORA" TIMESTAMP,
  "LAUDO" BLOB,
  "DICOM" BLOB,
  "SITUACAO" BLOB,
  "TIPO" VARCHAR(250),
  "DESCRICAO" VARCHAR(250),
  "CPSLAUDO2" FLOAT,
  "DATAHORARES" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAUDO_AIH_SUS_SAPI" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CPF" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAUDO_AIH_SUS_SAPI2018" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "CNES2" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAUDO_AIH_SUS_SAPI2018_CPC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(5),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(5),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAUDO_APAC_SUS_SAPI2018" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(5),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(5),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3),
  "CELULAR" VARCHAR(20),
  "SERVICO" VARCHAR(20),
  "CLASSIFICACAO" VARCHAR(20),
  "QUANTIDADE" VARCHAR(2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAUDO_APAC_SUS_SAPI2018__CPC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(5),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(5),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAYOUTAIH" 
(
  "CONSULTA" VARCHAR(20000),
  "ESPECIALIDADE" VARCHAR(10),
  "LOTE" VARCHAR(30),
  "APRESENTACAO" VARCHAR(6),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "CAMPO1" VARCHAR(100),
  "CAMPO2" VARCHAR(100),
  "CAMPO3" VARCHAR(100),
  "CAMPO4" VARCHAR(100),
  "CAMPO5" VARCHAR(100),
  "CAMPO6" VARCHAR(100),
  "CAMPO7" VARCHAR(100),
  "CAMPO8" VARCHAR(100),
  "CAMPO9" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" VARCHAR(100),
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "CAMPO54" VARCHAR(100),
  "CAMPO55" VARCHAR(100),
  "CAMPO56" VARCHAR(100),
  "CAMPO57" VARCHAR(100),
  "CAMPO58" VARCHAR(100),
  "CAMPO59" VARCHAR(100),
  "CAMPO60" VARCHAR(100),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(100),
  "CAMPO63" VARCHAR(100),
  "CAMPO64" VARCHAR(100),
  "CAMPO65" VARCHAR(100),
  "CAMPO66" VARCHAR(100),
  "CAMPO67" VARCHAR(100),
  "CAMPO68" VARCHAR(100),
  "CAMPO69" VARCHAR(100),
  "CAMPO70" VARCHAR(100),
  "CAMPO71" VARCHAR(100),
  "CAMPO72" VARCHAR(100),
  "CAMPO73" VARCHAR(100),
  "CAMPO74" VARCHAR(100),
  "CAMPO75" VARCHAR(100),
  "CAMPO76" VARCHAR(100),
  "CAMPO77" VARCHAR(100),
  "CAMPO78" VARCHAR(100),
  "CAMPO79" VARCHAR(100),
  "CAMPO80" VARCHAR(100),
  "CAMPO81" VARCHAR(100),
  "CAMPO82" VARCHAR(100),
  "CAMPO83" VARCHAR(100),
  "CAMPO84" VARCHAR(100),
  "CAMPO85" VARCHAR(100),
  "CAMPO86" VARCHAR(100),
  "CAMPO87" VARCHAR(100),
  "CAMPO88" VARCHAR(100),
  "CAMPO89" VARCHAR(100),
  "CAMPO90" VARCHAR(100),
  "CAMPO91" VARCHAR(100),
  "CAMPO92" VARCHAR(100),
  "CAMPO93" VARCHAR(100),
  "CAMPO94" VARCHAR(100),
  "CAMPO95" VARCHAR(100),
  "CAMPO96" VARCHAR(100),
  "CAMPO97" VARCHAR(100),
  "CAMPO98" VARCHAR(100),
  "CAMPO99" VARCHAR(100),
  "CAMPO100" VARCHAR(100),
  "CAMPO101" VARCHAR(100),
  "CAMPO102" VARCHAR(100),
  "CAMPO103" VARCHAR(100),
  "CAMPO104" VARCHAR(100),
  "CAMPO105" VARCHAR(100),
  "CAMPO106" VARCHAR(100),
  "CAMPO107" VARCHAR(100),
  "CAMPO108" VARCHAR(100),
  "CAMPO109" VARCHAR(100),
  "CAMPO110" VARCHAR(100),
  "CAMPO111" VARCHAR(100),
  "CAMPO112" VARCHAR(100),
  "CAMPO113" VARCHAR(100),
  "CAMPO114" VARCHAR(100),
  "CAMPO115" VARCHAR(100),
  "CAMPO116" VARCHAR(100),
  "CAMPO117" VARCHAR(100),
  "CAMPO118" VARCHAR(100),
  "CAMPO119" VARCHAR(100),
  "CAMPO120" VARCHAR(100),
  "CAMPO121" VARCHAR(100),
  "CAMPO122" VARCHAR(100),
  "CAMPO123" VARCHAR(100),
  "CAMPO124" VARCHAR(100),
  "CAMPO125" VARCHAR(100),
  "CAMPO126" VARCHAR(100),
  "CAMPO127" VARCHAR(100),
  "CAMPO128" VARCHAR(100),
  "CAMPO129" VARCHAR(100),
  "CAMPO130" VARCHAR(100),
  "CAMPO131" VARCHAR(100),
  "CAMPO132" VARCHAR(100),
  "CAMPO133" VARCHAR(100),
  "CAMPO134" VARCHAR(100),
  "CAMPO135" VARCHAR(100),
  "CAMPO136" VARCHAR(100),
  "CAMPO137" VARCHAR(100),
  "CAMPO138" VARCHAR(100),
  "CAMPO139" VARCHAR(100),
  "CAMPO140" VARCHAR(100),
  "CAMPO141" VARCHAR(100),
  "CAMPO142" VARCHAR(100),
  "CAMPO143" VARCHAR(100),
  "CAMPO144" VARCHAR(100),
  "CAMPO145" VARCHAR(100),
  "CAMPO146" VARCHAR(100),
  "CAMPO147" VARCHAR(100),
  "CAMPO148" VARCHAR(100),
  "CAMPO149" VARCHAR(100),
  "CAMPO150" VARCHAR(100),
  "CAMPO151" VARCHAR(100),
  "CAMPO152" VARCHAR(100),
  "CAMPO153" VARCHAR(100),
  "CAMPO154" VARCHAR(100),
  "CAMPO155" VARCHAR(100),
  "CAMPO156" VARCHAR(100),
  "CAMPO157" VARCHAR(100),
  "CAMPO158" VARCHAR(100),
  "CAMPO159" VARCHAR(100),
  "CAMPO160" VARCHAR(100),
  "CAMPO161" VARCHAR(100),
  "CAMPO162" VARCHAR(100),
  "CAMPO163" VARCHAR(100),
  "CAMPO164" VARCHAR(100),
  "CAMPO165" VARCHAR(100),
  "CAMPO166" VARCHAR(100),
  "CAMPO167" VARCHAR(100),
  "CAMPO168" VARCHAR(100),
  "CAMPO169" VARCHAR(100),
  "CAMPO170" VARCHAR(100),
  "CAMPO171" VARCHAR(100),
  "CAMPO172" VARCHAR(100),
  "CAMPO173" VARCHAR(100),
  "CAMPO174" VARCHAR(100),
  "CAMPO175" VARCHAR(100),
  "CAMPO176" VARCHAR(100),
  "CAMPO177" VARCHAR(100),
  "CAMPO178" VARCHAR(100),
  "CAMPO179" VARCHAR(100),
  "CAMPO180" VARCHAR(100),
  "CAMPO181" VARCHAR(100),
  "CAMPO182" VARCHAR(100),
  "CAMPO183" VARCHAR(100),
  "CAMPO184" VARCHAR(100),
  "CAMPO185" VARCHAR(100),
  "CAMPO186" VARCHAR(100),
  "CAMPO187" VARCHAR(100),
  "CAMPO188" VARCHAR(100),
  "CAMPO189" VARCHAR(100),
  "CAMPO190" VARCHAR(100),
  "CAMPO191" VARCHAR(100),
  "CAMPO192" VARCHAR(100),
  "CAMPO193" VARCHAR(100),
  "CAMPO194" VARCHAR(100),
  "CAMPO195" VARCHAR(100),
  "CAMPO196" VARCHAR(100),
  "CAMPO197" VARCHAR(100),
  "CAMPO198" VARCHAR(100),
  "CAMPO199" VARCHAR(100),
  "CAMPO200" VARCHAR(100),
  "CAMPO201" VARCHAR(100),
  "CAMPO202" VARCHAR(100),
  "CAMPO203" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAYOUTAIH_CPC" 
(
  "CONSULTA" VARCHAR(20000),
  "ESPECIALIDADE" VARCHAR(10),
  "LOTE" VARCHAR(30),
  "APRESENTACAO" VARCHAR(6),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "CAMPO1" VARCHAR(100),
  "CAMPO2" VARCHAR(100),
  "CAMPO3" VARCHAR(100),
  "CAMPO4" VARCHAR(100),
  "CAMPO5" VARCHAR(100),
  "CAMPO6" VARCHAR(100),
  "CAMPO7" VARCHAR(100),
  "CAMPO8" VARCHAR(100),
  "CAMPO9" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" VARCHAR(100),
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "CAMPO54" VARCHAR(100),
  "CAMPO55" VARCHAR(100),
  "CAMPO56" VARCHAR(100),
  "CAMPO57" VARCHAR(100),
  "CAMPO58" VARCHAR(100),
  "CAMPO59" VARCHAR(100),
  "CAMPO60" VARCHAR(100),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(100),
  "CAMPO63" VARCHAR(100),
  "CAMPO64" VARCHAR(100),
  "CAMPO65" VARCHAR(100),
  "CAMPO66" VARCHAR(100),
  "CAMPO67" VARCHAR(100),
  "CAMPO68" VARCHAR(100),
  "CAMPO69" VARCHAR(100),
  "CAMPO70" VARCHAR(100),
  "CAMPO71" VARCHAR(100),
  "CAMPO72" VARCHAR(100),
  "CAMPO73" VARCHAR(100),
  "CAMPO74" VARCHAR(100),
  "CAMPO75" VARCHAR(100),
  "CAMPO76" VARCHAR(100),
  "CAMPO77" VARCHAR(100),
  "CAMPO78" VARCHAR(100),
  "CAMPO79" VARCHAR(100),
  "CAMPO80" VARCHAR(100),
  "CAMPO81" VARCHAR(100),
  "CAMPO82" VARCHAR(100),
  "CAMPO83" VARCHAR(100),
  "CAMPO84" VARCHAR(100),
  "CAMPO85" VARCHAR(100),
  "CAMPO86" VARCHAR(100),
  "CAMPO87" VARCHAR(100),
  "CAMPO88" VARCHAR(100),
  "CAMPO89" VARCHAR(100),
  "CAMPO90" VARCHAR(100),
  "CAMPO91" VARCHAR(100),
  "CAMPO92" VARCHAR(100),
  "CAMPO93" VARCHAR(100),
  "CAMPO94" VARCHAR(100),
  "CAMPO95" VARCHAR(100),
  "CAMPO96" VARCHAR(100),
  "CAMPO97" VARCHAR(100),
  "CAMPO98" VARCHAR(100),
  "CAMPO99" VARCHAR(100),
  "CAMPO100" VARCHAR(100),
  "CAMPO101" VARCHAR(100),
  "CAMPO102" VARCHAR(100),
  "CAMPO103" VARCHAR(100),
  "CAMPO104" VARCHAR(100),
  "CAMPO105" VARCHAR(100),
  "CAMPO106" VARCHAR(100),
  "CAMPO107" VARCHAR(100),
  "CAMPO108" VARCHAR(100),
  "CAMPO109" VARCHAR(100),
  "CAMPO110" VARCHAR(100),
  "CAMPO111" VARCHAR(100),
  "CAMPO112" VARCHAR(100),
  "CAMPO113" VARCHAR(100),
  "CAMPO114" VARCHAR(100),
  "CAMPO115" VARCHAR(100),
  "CAMPO116" VARCHAR(100),
  "CAMPO117" VARCHAR(100),
  "CAMPO118" VARCHAR(100),
  "CAMPO119" VARCHAR(100),
  "CAMPO120" VARCHAR(100),
  "CAMPO121" VARCHAR(100),
  "CAMPO122" VARCHAR(100),
  "CAMPO123" VARCHAR(100),
  "CAMPO124" VARCHAR(100),
  "CAMPO125" VARCHAR(100),
  "CAMPO126" VARCHAR(100),
  "CAMPO127" VARCHAR(100),
  "CAMPO128" VARCHAR(100),
  "CAMPO129" VARCHAR(100),
  "CAMPO130" VARCHAR(100),
  "CAMPO131" VARCHAR(100),
  "CAMPO132" VARCHAR(100),
  "CAMPO133" VARCHAR(100),
  "CAMPO134" VARCHAR(100),
  "CAMPO135" VARCHAR(100),
  "CAMPO136" VARCHAR(100),
  "CAMPO137" VARCHAR(100),
  "CAMPO138" VARCHAR(100),
  "CAMPO139" VARCHAR(100),
  "CAMPO140" VARCHAR(100),
  "CAMPO141" VARCHAR(100),
  "CAMPO142" VARCHAR(100),
  "CAMPO143" VARCHAR(100),
  "CAMPO144" VARCHAR(100),
  "CAMPO145" VARCHAR(100),
  "CAMPO146" VARCHAR(100),
  "CAMPO147" VARCHAR(100),
  "CAMPO148" VARCHAR(100),
  "CAMPO149" VARCHAR(100),
  "CAMPO150" VARCHAR(100),
  "CAMPO151" VARCHAR(100),
  "CAMPO152" VARCHAR(100),
  "CAMPO153" VARCHAR(100),
  "CAMPO154" VARCHAR(100),
  "CAMPO155" VARCHAR(100),
  "CAMPO156" VARCHAR(100),
  "CAMPO157" VARCHAR(100),
  "CAMPO158" VARCHAR(100),
  "CAMPO159" VARCHAR(100),
  "CAMPO160" VARCHAR(100),
  "CAMPO161" VARCHAR(100),
  "CAMPO162" VARCHAR(100),
  "CAMPO163" VARCHAR(100),
  "CAMPO164" VARCHAR(100),
  "CAMPO165" VARCHAR(100),
  "CAMPO166" VARCHAR(100),
  "CAMPO167" VARCHAR(100),
  "CAMPO168" VARCHAR(100),
  "CAMPO169" VARCHAR(100),
  "CAMPO170" VARCHAR(100),
  "CAMPO171" VARCHAR(100),
  "CAMPO172" VARCHAR(100),
  "CAMPO173" VARCHAR(100),
  "CAMPO174" VARCHAR(100),
  "CAMPO175" VARCHAR(100),
  "CAMPO176" VARCHAR(100),
  "CAMPO177" VARCHAR(100),
  "CAMPO178" VARCHAR(100),
  "CAMPO179" VARCHAR(100),
  "CAMPO180" VARCHAR(100),
  "CAMPO181" VARCHAR(100),
  "CAMPO182" VARCHAR(100),
  "CAMPO183" VARCHAR(100),
  "CAMPO184" VARCHAR(100),
  "CAMPO185" VARCHAR(100),
  "CAMPO186" VARCHAR(100),
  "CAMPO187" VARCHAR(100),
  "CAMPO188" VARCHAR(100),
  "CAMPO189" VARCHAR(100),
  "CAMPO190" VARCHAR(100),
  "CAMPO191" VARCHAR(100),
  "CAMPO192" VARCHAR(100),
  "CAMPO193" VARCHAR(100),
  "CAMPO194" VARCHAR(100),
  "CAMPO195" VARCHAR(100),
  "CAMPO196" VARCHAR(100),
  "CAMPO197" VARCHAR(100),
  "CAMPO198" VARCHAR(100),
  "CAMPO199" VARCHAR(100),
  "CAMPO200" VARCHAR(100),
  "CAMPO201" VARCHAR(100),
  "CAMPO202" VARCHAR(100),
  "CAMPO203" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LAYOUTAPAC" 
(
  "CONSULTA" VARCHAR(20000),
  "ESPECIALIDADE" VARCHAR(10),
  "LOTE" VARCHAR(30),
  "APRESENTACAO" VARCHAR(6),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "CAMPO1" VARCHAR(100),
  "CAMPO2" VARCHAR(100),
  "CAMPO3" VARCHAR(100),
  "CAMPO4" VARCHAR(100),
  "CAMPO5" VARCHAR(100),
  "CAMPO6" VARCHAR(100),
  "CAMPO7" VARCHAR(100),
  "CAMPO8" VARCHAR(100),
  "CAMPO9" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" VARCHAR(100),
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LEITOATUAL" 
(
  "CPS" INTEGER
)
RETURNS
(
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UN" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LEITOSATIVOS" 
(
  "ALA1" INTEGER,
  "ALA2" INTEGER
)
RETURNS
(
  "LEITOSATIVOS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LEITOSATIVOS2" 
(
  "ALA1" INTEGER,
  "ALA2" INTEGER
)
RETURNS
(
  "LEITOSATIVOS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LIMITADORAGENDA" 
(
  "MARCACAO" INTEGER
)
RETURNS
(
  "QTDEMARC" INTEGER,
  "QTDE" INTEGER,
  "TEXTO" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LIMPARRECEBPARCIAL" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "OK" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTACONTATOS" 
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "FAX" VARCHAR(15),
  "EMAIL" VARCHAR(80),
  "TIPO" VARCHAR(120)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTACPSGLOSA" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "DATA" TIMESTAMP,
  "CODIGOAMB" VARCHAR(20),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "REPRESENTA" DOUBLE PRECISION,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DATAGLOSA" TIMESTAMP,
  "UNIDADENEGOCIO" INTEGER,
  "DHE" CHAR(1),
  "INDICE" FLOAT,
  "DESCRICAO" VARCHAR(250),
  "JUSTIFICATIVA" VARCHAR(5000),
  "XMLID" INTEGER,
  "GLOSADEFINITIVA" CHAR(1),
  "GLOSATIPO" SMALLINT,
  "CONVENIO" INTEGER,
  "QUANTIDADE" INTEGER,
  "GLOSADATA" TIMESTAMP,
  "DATARECEBIMENTO" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "PACIENTE" VARCHAR(200),
  "TISSBRAS" VARCHAR(30),
  "TUSSBRAS" VARCHAR(30),
  "SIMPRO" VARCHAR(30),
  "COB_ESP" VARCHAR(30),
  "DESC_MOTIVOGLOSA" VARCHAR(250),
  "GLOSATIPO_2" INTEGER,
  "DESC_MOTIVOGLOSA_2" VARCHAR(250),
  "NUMEROGUIAOPERADORA" VARCHAR(30),
  "DATARECEBP1" TIMESTAMP,
  "DATARECEBP2" TIMESTAMP,
  "DATARECEBP3" TIMESTAMP,
  "DATARECEBP4" TIMESTAMP,
  "VALORRECEBP1" DOUBLE PRECISION,
  "VALORRECEBP2" DOUBLE PRECISION,
  "VALORRECEBP3" DOUBLE PRECISION,
  "VALORRECEBP4" DOUBLE PRECISION,
  "RECEBPARCIAL" CHAR(1),
  "DATARECEBITEM" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTACPSGLOSAOLD" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "DATA" TIMESTAMP,
  "CODIGOAMB" VARCHAR(20),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "REPRESENTA" DOUBLE PRECISION,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DATAGLOSA" TIMESTAMP,
  "UNIDADENEGOCIO" INTEGER,
  "DHE" CHAR(1),
  "INDICE" FLOAT,
  "DESCRICAO" VARCHAR(250),
  "JUSTIFICATIVA" VARCHAR(5000),
  "XMLID" INTEGER,
  "GLOSADEFINITIVA" CHAR(1),
  "GLOSATIPO" SMALLINT,
  "CONVENIO" INTEGER,
  "QUANTIDADE" INTEGER,
  "GLOSADATA" TIMESTAMP,
  "DATARECEBIMENTO" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "PACIENTE" VARCHAR(200),
  "TISSBRAS" VARCHAR(30),
  "TUSSBRAS" VARCHAR(30),
  "SIMPRO" VARCHAR(30),
  "COB_ESP" VARCHAR(30),
  "DESC_MOTIVOGLOSA" VARCHAR(250),
  "GLOSATIPO_2" INTEGER,
  "DESC_MOTIVOGLOSA_2" VARCHAR(250),
  "NUMEROGUIAOPERADORA" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTADICOM" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "DICOMIN" INTEGER,
  "CODIGOPACIN" FLOAT,
  "MEDICOIN" INTEGER
)
RETURNS
(
  "DICOM" INTEGER,
  "CODIGOPAC" FLOAT,
  "PACIENTE" VARCHAR(60),
  "MEDICO" INTEGER,
  "CPS" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "MODALIDADE" CHAR(2),
  "SERVIDOR" VARCHAR(30),
  "CAMINHO" VARCHAR(1000),
  "CD" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTAENVIO" 
(
  "W_CONVENIO" INTEGER,
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "W_TIPO" CHAR(1)
)
RETURNS
(
  "A_DATA" TIMESTAMP,
  "A_DATAFIM" TIMESTAMP,
  "CODIGOINT" FLOAT,
  "TRATAMENTO" INTEGER,
  "A_DATADIA" TIMESTAMP,
  "A_NOME" VARCHAR(60),
  "A_GUIA" VARCHAR(15),
  "CODIGOPAC" FLOAT,
  "FATURA" INTEGER,
  "PRINCIPAL" CHAR(8),
  "CONVENIO" INTEGER,
  "A_ENVIO" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTAFATURA" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "FATURA" INTEGER,
  "ENVIO" TIMESTAMP,
  "INICIAL" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "RECEBIDO" TIMESTAMP,
  "VENCIMENTO" TIMESTAMP,
  "PAGMEDICO" TIMESTAMP,
  "RELATORIO" TIMESTAMP,
  "CONVENIO" INTEGER,
  "TOTAL" NUMERIC(18, 2),
  "PRIMRECEBIDO" NUMERIC(18, 2),
  "GLOSARECEBIDA" NUMERIC(18, 2),
  "GLOSAREPRESENTA" NUMERIC(18, 2),
  "IMPOSTO" NUMERIC(18, 2),
  "GLOSA" NUMERIC(18, 2),
  "GLOSADEFINITIVA" NUMERIC(18, 2),
  "DATARECEBIDOGLOSA" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTAFATURA_ANTEC" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "FATURA" INTEGER,
  "ENVIO" TIMESTAMP,
  "INICIAL" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "RECEBIDO" TIMESTAMP,
  "VENCIMENTO" TIMESTAMP,
  "PAGMEDICO" TIMESTAMP,
  "RELATORIO" TIMESTAMP,
  "CONVENIO" INTEGER,
  "TOTAL" NUMERIC(18, 2),
  "PRIMRECEBIDO" NUMERIC(18, 2),
  "GLOSARECEBIDA" NUMERIC(18, 2),
  "GLOSAREPRESENTA" NUMERIC(18, 2),
  "IMPOSTO" NUMERIC(18, 2),
  "GLOSA" NUMERIC(18, 2),
  "GLOSADEFINITIVA" NUMERIC(18, 2),
  "DATARECEBIDOGLOSA" TIMESTAMP,
  "CONVENIONOME" VARCHAR(50),
  "ANTECIPACAO" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTAGRAFICO" 
(
  "CODIGOCPS" INTEGER,
  "INICIOIN" TIMESTAMP,
  "FINALIN" TIMESTAMP
)
RETURNS
(
  "DESCRICAO" VARCHAR(250),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTANOMEPAC" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "CODIGOPLA" SMALLINT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "A_TIPO" CHAR(1),
  "CODIGO" INTEGER,
  "A_CID" VARCHAR(4),
  "CODIGOPAC" FLOAT,
  "CODIGOCPS" FLOAT,
  "MEDRESP" INTEGER,
  "TIPOATEND1" CHAR(1),
  "NOMECONVENIO" VARCHAR(40),
  "NOMEMEDICO" VARCHAR(40),
  "A_SITUACAO" CHAR(1),
  "NOMEUSUARIO" VARCHAR(100),
  "NOMEPACIENTE" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTAPACOTESSEMITEM" 
RETURNS
(
  "CODPACOTE" INTEGER,
  "APRESENTACAOBUSCA" VARCHAR(150),
  "ATIVO" CHAR(1),
  "PRODUTO" INTEGER,
  "NOMEPRODUTO" VARCHAR(250),
  "PADRAODILUICAO" VARCHAR(250),
  "RISCOS" VARCHAR(500),
  "PRESCRICAO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTA_FATURA_CONDESADO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "NOME" VARCHAR(100),
  "RECEBIDO" NUMERIC(15, 2),
  "GLOSADO" NUMERIC(15, 2),
  "VALOR" NUMERIC(15, 2),
  "ANTECIPACAO" NUMERIC(15, 2),
  "ARECEBER" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LISTA_ITENS_PRESCRICAO" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "SEQUENCIA" FLOAT,
  "CHECADO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LOGIN" 
(
  "LOGIN" INTEGER,
  "SENHA" VARCHAR(8)
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "MEDICO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LOGINMARCACAO" 
(
  "LOGIN" INTEGER,
  "SENHA" VARCHAR(8)
)
RETURNS
(
  "ID" INTEGER,
  "A_NOME" VARCHAR(200),
  "MAE" VARCHAR(200),
  "NASC" TIMESTAMP,
  "CEP" VARCHAR(200),
  "CIDADE" VARCHAR(200),
  "BAIRRO" VARCHAR(200),
  "ENDERECO" VARCHAR(250),
  "EMAIL" VARCHAR(200),
  "TELEFONE" VARCHAR(20),
  "CELULAR" VARCHAR(20),
  "CODCONVENIO" INTEGER,
  "CONVENIO" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "LOGVARIAVEL" 
(
  "SISTEMA" VARCHAR(100),
  "VERSAO" VARCHAR(50),
  "USUARIO" VARCHAR(50)
)
RETURNS
(
  "STATUS" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MAPAMARCACAO" 
(
  "DATA" TIMESTAMP,
  "NOME" VARCHAR(200)
)
RETURNS
(
  "ESPECIALIDADE" INTEGER,
  "STATUS" VARCHAR(25),
  "IMAGEM" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOANUAL" 
(
  "ANO" SMALLINT
)
RETURNS
(
  "QTDE" INTEGER,
  "MES" SMALLINT,
  "TIPO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOESPECIALIDADE" 
(
  "ESPECIALIDADE" CHAR(2),
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "HORAINICIO" TIMESTAMP,
  "HORAFIM" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "LIVRE" SMALLINT,
  "OCUPADO" SMALLINT,
  "MEDICO" INTEGER,
  "BLOQUEADO" SMALLINT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOGERAL" 
(
  "CONSULTA" VARCHAR(6000),
  "FLAG" VARCHAR(5)
)
RETURNS
(
  "INDICE" FLOAT,
  "PACIENTE" CHAR(50),
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "TELEFONE" VARCHAR(11),
  "CONVENIO" INTEGER,
  "A_MEDICOS" SMALLINT,
  "CODIGOPAC" FLOAT,
  "ESTADO" CHAR(1),
  "CONTRASTE" CHAR(1),
  "SOLCREMEB" VARCHAR(8),
  "SOLICITACAO" INTEGER,
  "ANESTESIA" CHAR(30),
  "OBSERVACAO" VARCHAR(350),
  "ESPECIALIDADE" CHAR(2),
  "CODIGOAMB" CHAR(8),
  "CODIGOSERV" INTEGER,
  "CHEGADA" TIMESTAMP,
  "HORAFATURA" TIMESTAMP,
  "ENTROU" TIMESTAMP,
  "SAIDA" TIMESTAMP,
  "PREVISAOFIM" TIMESTAMP,
  "USER1" INTEGER,
  "USER2" INTEGER,
  "CODIGOCPS" FLOAT,
  "TIPO" CHAR(1),
  "DURACAOATEND" FLOAT,
  "DURACAOFUNC" FLOAT,
  "CPS" INTEGER,
  "CPSEXISTE" CHAR(1),
  "VALORCOBRADO" FLOAT,
  "CUSTO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOLISTA" 
(
  "CODIGO" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "TIPO" VARCHAR(10),
  "FILTRO" VARCHAR(500)
)
RETURNS
(
  "INDICE" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(100),
  "CONVENIO" INTEGER,
  "STATUS" INTEGER,
  "OBSERVACAO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOLISTA_CPC" 
(
  "CODIGO" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "TIPO" VARCHAR(10),
  "FILTRO" VARCHAR(500)
)
RETURNS
(
  "INDICE" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(100),
  "CONVENIO" INTEGER,
  "STATUS" INTEGER,
  "OBSERVACAO" VARCHAR(3000),
  "CODIGOCPS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOLIVRE" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "HORAINICIO" TIMESTAMP,
  "HORAFIM" TIMESTAMP,
  "MEDICO" INTEGER
)
RETURNS
(
  "DATA" TIMESTAMP,
  "LIVRE" SMALLINT,
  "OCUPADO" SMALLINT,
  "BLOQUEADO" SMALLINT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOREVISAOEXAME" 
(
  "MARCACAO" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAOTURNO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "USUARIO" INTEGER,
  "ESPECIALIDADE" VARCHAR(2)
)
RETURNS
(
  "NOMEUSUARIO" VARCHAR(100),
  "TURNO" VARCHAR(30),
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAO_ESTAT_DATA" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "MARCADO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAO_ESTAT_USUARIO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "MARCADO" INTEGER,
  "FALTA" INTEGER,
  "COMPARECEU" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAO_REGULACAO" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "TIPO_OBS" VARCHAR(20),
  "PROF_ESPECIALIDADE" VARCHAR(100),
  "QTD_MARCADO" INTEGER,
  "QTD_NAO_MARCADO" INTEGER,
  "QTD_COMPARECEU" INTEGER,
  "QTD_NAO_COMPARECEU" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCACAO_TEMPOESPERA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "MEDICO" INTEGER
)
RETURNS
(
  "PACIENTE" VARCHAR(100),
  "AGENDAMENTO" TIME,
  "CHEGADA" TIME,
  "TEMPOESPERA" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARCA_MESMA_ESPEC" 
(
  "CODIGOPAC" INTEGER
)
RETURNS
(
  "DATA" TIMESTAMP,
  "ESPECIALIDADE" VARCHAR(70),
  "MEDICO" VARCHAR(70),
  "CODESP" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MARGEMCONTRIBUICAO" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(2),
  "CODIGOAMB" VARCHAR(8),
  "QUANTIDADE" INTEGER,
  "TOTAL" DOUBLE PRECISION,
  "NOMEESPECIALIDADE" VARCHAR(60),
  "MATERIAL" DOUBLE PRECISION,
  "MEDICAMENTO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MATMEDAPRAZAMENTO" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "KIT" INTEGER,
  "PRESCRICAO" INTEGER,
  "MATMED" VARCHAR(400),
  "POSOLOGIA" VARCHAR(60),
  "SOLICITADO" INTEGER,
  "CHECADO" INTEGER,
  "NAOCHECADO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MATMEDOBS" 
(
  "PRODUTO" INTEGER
)
RETURNS
(
  "STATUS" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MMMEDICO" 
(
  "MEDICO" INTEGER,
  "CODIGOMM" VARCHAR(9),
  "VALOR" DOUBLE PRECISION,
  "GLOSATOTAL" DOUBLE PRECISION,
  "CONVENIO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "MM" DOUBLE PRECISION,
  "MMMED" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MUDALEITO" 
(
  "CPS" FLOAT,
  "LEITO" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "MEDICO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "CONDICAO" VARCHAR(40)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MUDARPARABASETESTE" 
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MUDATRATAMENTO" 
(
  "CPS" FLOAT,
  "TRAT1" INTEGER,
  "TRAT2" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "RESULTADO" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MUDATRATAMENTOMAT" 
(
  "CPS" FLOAT,
  "TRAT1" INTEGER,
  "TRAT2" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "ITEM" INTEGER
)
RETURNS
(
  "RESULTADO" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "MUDATRATAMENTOPROC" 
(
  "CPS" FLOAT,
  "TRAT1" INTEGER,
  "TRAT2" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "RESULTADO" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "NOTAFISCALCONTABIL" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCONTABIL" VARCHAR(30),
  "CCUSTO" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "A_CODAMB" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITO" 
(
  "DATA1" TIMESTAMP
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITO3" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITO4" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOMAPA" 
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOPREINTER" 
(
  "DATA1" TIMESTAMP
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAP" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "ALA" VARCHAR(40),
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAP17122020" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "ALA" VARCHAR(40),
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAPBKP" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAPI" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAPIBKP" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAPITESTE" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAPIX" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "OCUPLEITOSAPX" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ORCAMENTOSABC" 
(
  "ORCAMENTO" INTEGER
)
RETURNS
(
  "TIPOA" DOUBLE PRECISION,
  "TIPOB" DOUBLE PRECISION,
  "TIPOC" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACIENTEDIA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" INTEGER,
  "DATAENTRADA" TIMESTAMP,
  "DATAALTA" TIMESTAMP,
  "CONVENIO" INTEGER,
  "HORAENTRADA" TIMESTAMP,
  "CID" VARCHAR(4),
  "CODIGOPAC" FLOAT,
  "NOMECONVENIO" VARCHAR(40),
  "PACIENTENOME" VARCHAR(60),
  "LEITO" INTEGER,
  "TIPO" VARCHAR(25),
  "TIPOATEND" CHAR(1),
  "SEXO" CHAR(1),
  "DATA" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACIENTEDUPLICADORG" 
RETURNS
(
  "CODIGOPAC" FLOAT,
  "A_NOME" VARCHAR(50),
  "NASC" TIMESTAMP,
  "MAE" VARCHAR(50),
  "IDENTIDADE" VARCHAR(15)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACIENTE_ANIVERSARIO" 
(
  "MES" INTEGER,
  "DIA1" INTEGER,
  "DIA2" INTEGER,
  "TIPO" INTEGER
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "NOME" VARCHAR(100),
  "ENDERECO" VARCHAR(50),
  "BAIRRO" VARCHAR(20),
  "CIDADE" VARCHAR(20),
  "NASC" TIMESTAMP,
  "SEXO" CHAR(1),
  "CEP" CHAR(8),
  "EMAIL" VARCHAR(60),
  "UF" CHAR(2),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "ALA" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACOTE" 
(
  "PACOTE" INTEGER
)
RETURNS
(
  "CODIGO" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "QTDE" INTEGER,
  "CONVENIO" INTEGER,
  "TIPO" VARCHAR(12)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACOTECONVENIO" 
(
  "PACOTE" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODIGO" VARCHAR(10),
  "DESCRICAO" VARCHAR(250),
  "QTDE" INTEGER,
  "TIPO" VARCHAR(12),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACOTECONVENIOGERAL" 
(
  "PACOTE" INTEGER
)
RETURNS
(
  "CODIGO" VARCHAR(10),
  "DESCRICAO" VARCHAR(100),
  "QTDE" INTEGER,
  "TIPO" VARCHAR(12),
  "VALOR" DOUBLE PRECISION,
  "CONVENIO" INTEGER,
  "AUXILIAR" DOUBLE PRECISION,
  "ANESTESIA" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACS" 
(
  "CPS" FLOAT,
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "DESCRICAO" VARCHAR(400),
  "DATA" TIMESTAMP,
  "CLASSE" VARCHAR(100),
  "SOLICITANTE" VARCHAR(100),
  "DICOM" VARCHAR(30),
  "LAUDO" INTEGER,
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACSVIEW" 
(
  "CPS" FLOAT,
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "DESCRICAO" VARCHAR(400),
  "DATA" TIMESTAMP,
  "CLASSE" VARCHAR(100),
  "SOLICITANTE" VARCHAR(100),
  "DICOM" VARCHAR(30),
  "LAUDO" INTEGER,
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PACTUACAOSEMANA" 
(
  "CONSULTA" VARCHAR(6000),
  "INICIO" TIMESTAMP
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "SEMANA1" INTEGER,
  "SEMANA2" INTEGER,
  "SEMANA3" INTEGER,
  "SEMANA4" INTEGER,
  "SEMANA5" INTEGER,
  "ESPECIALIDADE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PAC_SEM_DIETA_NUT" 
(
  "DATA" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAENFNOVA" 
(
  "TIPOIN" VARCHAR(10),
  "IDPRESC" INTEGER,
  "ENFERMEIRO" INTEGER
)
RETURNS
(
  "OK" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAO" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "OK13" CHAR(1),
  "OK14" CHAR(1),
  "OK15" CHAR(1),
  "OK16" CHAR(1),
  "OK17" CHAR(1),
  "OK18" CHAR(1),
  "OK19" CHAR(1),
  "OK20" CHAR(1),
  "OK21" CHAR(1),
  "OK22" CHAR(1),
  "OK23" CHAR(1),
  "OK24" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QX13" INTEGER,
  "QX14" INTEGER,
  "QX15" INTEGER,
  "QX16" INTEGER,
  "QX17" INTEGER,
  "QX18" INTEGER,
  "QX19" INTEGER,
  "QX20" INTEGER,
  "QX21" INTEGER,
  "QX22" INTEGER,
  "QX23" INTEGER,
  "QX24" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "QY13" TIMESTAMP,
  "QY14" TIMESTAMP,
  "QY15" TIMESTAMP,
  "QY16" TIMESTAMP,
  "QY17" TIMESTAMP,
  "QY18" TIMESTAMP,
  "QY19" TIMESTAMP,
  "QY20" TIMESTAMP,
  "QY21" TIMESTAMP,
  "QY22" TIMESTAMP,
  "QY23" TIMESTAMP,
  "QY24" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAOITEMLISTA" 
(
  "TIPO" VARCHAR(30),
  "CAMPO" VARCHAR(30),
  "CONVENIO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(300),
  "CHECAGEM" VARCHAR(2000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAONOVA" 
(
  "CPS" INTEGER,
  "MEDICO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(40),
  "PRESCRICAO" INTEGER,
  "TIPO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAOTITULOLISTA" 
(
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "IMAGEM" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAO_CPC" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRESCRICAO_DIAATB" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "OK13" CHAR(1),
  "OK14" CHAR(1),
  "OK15" CHAR(1),
  "OK16" CHAR(1),
  "OK17" CHAR(1),
  "OK18" CHAR(1),
  "OK19" CHAR(1),
  "OK20" CHAR(1),
  "OK21" CHAR(1),
  "OK22" CHAR(1),
  "OK23" CHAR(1),
  "OK24" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QX13" INTEGER,
  "QX14" INTEGER,
  "QX15" INTEGER,
  "QX16" INTEGER,
  "QX17" INTEGER,
  "QX18" INTEGER,
  "QX19" INTEGER,
  "QX20" INTEGER,
  "QX21" INTEGER,
  "QX22" INTEGER,
  "QX23" INTEGER,
  "QX24" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "QY13" TIMESTAMP,
  "QY14" TIMESTAMP,
  "QY15" TIMESTAMP,
  "QY16" TIMESTAMP,
  "QY17" TIMESTAMP,
  "QY18" TIMESTAMP,
  "QY19" TIMESTAMP,
  "QY20" TIMESTAMP,
  "QY21" TIMESTAMP,
  "QY22" TIMESTAMP,
  "QY23" TIMESTAMP,
  "QY24" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRODESPECIALIDADE" 
(
  "DATAINI" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "CBOINI" INTEGER,
  "CBOFIM" INTEGER,
  "CONVINI" INTEGER,
  "CONVFIM" INTEGER
)
RETURNS
(
  "CODIGOPLA" INTEGER,
  "CODMED" INTEGER,
  "NOMEMED" VARCHAR(70),
  "CBO" INTEGER,
  "NOMEESP" VARCHAR(70),
  "CODIGOAMB" VARCHAR(10),
  "NOMESERV" VARCHAR(70),
  "QTDEMG" INTEGER,
  "QTDAMB" INTEGER,
  "CODIGOSERV" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRODPJRESUMO" 
RETURNS
(
  "CNPJ" VARCHAR(14),
  "EMPRESA" VARCHAR(50),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRODUCAO_CIRURGIAS" 
(
  "INICIO" DATE,
  "FINAL" DATE
)
RETURNS
(
  "BOLETIM" INTEGER,
  "DATA" TIMESTAMP,
  "AIH" INTEGER,
  "VALORPROC1" DOUBLE PRECISION,
  "VALORPROC2" DOUBLE PRECISION,
  "VALORPROC3" DOUBLE PRECISION,
  "VALORPROC4" DOUBLE PRECISION,
  "VALORPROC5" DOUBLE PRECISION,
  "VALORCIRURGIAO" DOUBLE PRECISION,
  "VALOR1AUX" DOUBLE PRECISION,
  "VALOR2AUX" DOUBLE PRECISION,
  "VALOR3AUX" DOUBLE PRECISION,
  "VALORANEST" DOUBLE PRECISION,
  "VALORTOTAL" DOUBLE PRECISION,
  "PACIENTE" VARCHAR(100),
  "CODCIRURGIAO" INTEGER,
  "CIRURGIAO" VARCHAR(100),
  "AUXILIAR1" VARCHAR(100),
  "AUXILIAR2" VARCHAR(100),
  "AUXILIAR3" VARCHAR(100),
  "ANESTESISTA" VARCHAR(100),
  "ENFERMAGEM" VARCHAR(100),
  "GRUPOSUS1" VARCHAR(2),
  "PROC1" VARCHAR(100),
  "PROC1NOME" VARCHAR(250),
  "GRUPOSUS2" VARCHAR(2),
  "PROC2" VARCHAR(100),
  "PROC2NOME" VARCHAR(250),
  "GRUPOSUS3" VARCHAR(2),
  "PROC3" VARCHAR(100),
  "PROC3NOME" VARCHAR(250),
  "GRUPOSUS4" VARCHAR(2),
  "PROC4" VARCHAR(100),
  "PROC4NOME" VARCHAR(250),
  "GRUPOSUS5" VARCHAR(2),
  "PROC5" VARCHAR(100),
  "PROC5NOME" VARCHAR(250),
  "CODIGOPAC" INTEGER,
  "TIPO_CC" INTEGER,
  "TIPO" CHAR(1),
  "VALORTESTE" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "PRORROGAMENSAGEM" 
RETURNS
(
  "AUTORIZADA" SMALLINT,
  "PRORROGADA" SMALLINT,
  "CPS" FLOAT,
  "CODCONVENIO" SMALLINT,
  "DATAINT" TIMESTAMP,
  "VENCIMENTO" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "PACIENTE" VARCHAR(70),
  "NOMECONVENIO" VARCHAR(70)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "QTDCONVENIO" 
(
  "CONSULTA" VARCHAR(6000),
  "QTDE" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "DESCRICAO" VARCHAR(50),
  "VALOR" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "QTDEALAALTA" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "A_TIPO" VARCHAR(2)
)
RETURNS
(
  "ALA" INTEGER,
  "NOMEALA" VARCHAR(40),
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "QTDEINTER32" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "CODIGOMM" INTEGER,
  "QTDE" INTEGER,
  "A_NOME" VARCHAR(50)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "QTDELINHA" 
(
  "LINHA" INTEGER
)
RETURNS
(
  "ORD" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "QTD_ANO_PAC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" FLOAT,
  "PROCEDIMENTO" VARCHAR(10),
  "ANO_NASC" VARCHAR(4),
  "IDADE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RATEIOCONTABIL" 
(
  "CONSULTA" VARCHAR(20000)
)
RETURNS
(
  "CODIGOCONTABIL" VARCHAR(20),
  "CCUSTO" INTEGER,
  "TIPO" CHAR(1),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RECEITA_ESPECIALIDADE_CPC" 
(
  "CONSULTA" VARCHAR(5000)
)
RETURNS
(
  "CODIGO" INTEGER,
  "TITULO" VARCHAR(50),
  "DESCRICAO" BLOB,
  "A_MEDICOS" INTEGER,
  "DATA2" TIMESTAMP,
  "DATASINC" TIMESTAMP,
  "TIPO" VARCHAR(20),
  "PAPEL" CHAR(2),
  "CABECALHO" CHAR(1),
  "PARAMETRO" BLOB,
  "ESPECIALIDADE" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RELESTCIRCONV" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "CONVENIO" VARCHAR(40),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RELESTCIRESPEC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(40),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RELESTCIRPROC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(70),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RELESTCIRPROF" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "MEDICOS" VARCHAR(40),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER,
  "SALA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RELLABSUS" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "NOMEPACIENTE" VARCHAR(50),
  "PROCEDIMENTO" VARCHAR(10),
  "NOMEPROC" VARCHAR(70),
  "DATACPS2" TIMESTAMP,
  "VALOR" FLOAT,
  "CODMEDICO" INTEGER,
  "NOMEMEDICO" VARCHAR(40),
  "CODIGOPLA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RELPROENTREGAAIH" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" FLOAT,
  "NOMEPAC" VARCHAR(60),
  "CLINICA" VARCHAR(35),
  "DATAADMI" TIMESTAMP,
  "PROCEDIMENTO" VARCHAR(10),
  "CID" VARCHAR(4)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "REMETER" 
(
  "CONSULTAPEN" VARCHAR(30000),
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "MES1" DOUBLE PRECISION,
  "MES2" DOUBLE PRECISION,
  "MES3" DOUBLE PRECISION,
  "MES4" DOUBLE PRECISION,
  "MES5" DOUBLE PRECISION,
  "MES6" DOUBLE PRECISION,
  "MES7" DOUBLE PRECISION,
  "MES8" DOUBLE PRECISION,
  "MES9" DOUBLE PRECISION,
  "MES10" DOUBLE PRECISION,
  "MES11" DOUBLE PRECISION,
  "MES12" DOUBLE PRECISION,
  "DIA1" DOUBLE PRECISION,
  "DIA2" DOUBLE PRECISION,
  "DIA3" DOUBLE PRECISION,
  "DIA4" DOUBLE PRECISION,
  "DIA5" DOUBLE PRECISION,
  "DIA6" DOUBLE PRECISION,
  "DIA7" DOUBLE PRECISION,
  "DIA8" DOUBLE PRECISION,
  "DIA9" DOUBLE PRECISION,
  "DIA10" DOUBLE PRECISION,
  "DIA11" DOUBLE PRECISION,
  "DIA12" DOUBLE PRECISION,
  "DIA13" DOUBLE PRECISION,
  "DIA14" DOUBLE PRECISION,
  "DIA15" DOUBLE PRECISION,
  "DIA16" DOUBLE PRECISION,
  "DIA17" DOUBLE PRECISION,
  "DIA18" DOUBLE PRECISION,
  "DIA19" DOUBLE PRECISION,
  "DIA20" DOUBLE PRECISION,
  "DIA21" DOUBLE PRECISION,
  "DIA22" DOUBLE PRECISION,
  "DIA23" DOUBLE PRECISION,
  "DIA24" DOUBLE PRECISION,
  "DIA25" DOUBLE PRECISION,
  "DIA26" DOUBLE PRECISION,
  "DIA27" DOUBLE PRECISION,
  "DIA28" DOUBLE PRECISION,
  "DIA29" DOUBLE PRECISION,
  "DIA30" DOUBLE PRECISION,
  "DIA31" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RESUMOPAC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RESUMOSINAIS" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ROUPAPESOFNOVA" 
(
  "DATA" TIMESTAMP,
  "USUARIO" INTEGER,
  "IDROUPA" INTEGER
)
RETURNS
(
  "OK" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "ROUPARIA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "USUARIO" INTEGER,
  "MES1" DOUBLE PRECISION,
  "MES2" DOUBLE PRECISION,
  "MES3" DOUBLE PRECISION,
  "MES4" DOUBLE PRECISION,
  "MES5" DOUBLE PRECISION,
  "MES6" DOUBLE PRECISION,
  "MES7" DOUBLE PRECISION,
  "MES8" DOUBLE PRECISION,
  "MES9" DOUBLE PRECISION,
  "MES10" DOUBLE PRECISION,
  "MES11" DOUBLE PRECISION,
  "MES12" DOUBLE PRECISION,
  "DIA1" DOUBLE PRECISION,
  "DIA2" DOUBLE PRECISION,
  "DIA3" DOUBLE PRECISION,
  "DIA4" DOUBLE PRECISION,
  "DIA5" DOUBLE PRECISION,
  "DIA6" DOUBLE PRECISION,
  "DIA7" DOUBLE PRECISION,
  "DIA8" DOUBLE PRECISION,
  "DIA9" DOUBLE PRECISION,
  "DIA10" DOUBLE PRECISION,
  "DIA11" DOUBLE PRECISION,
  "DIA12" DOUBLE PRECISION,
  "DIA13" DOUBLE PRECISION,
  "DIA14" DOUBLE PRECISION,
  "DIA15" DOUBLE PRECISION,
  "DIA16" DOUBLE PRECISION,
  "DIA17" DOUBLE PRECISION,
  "DIA18" DOUBLE PRECISION,
  "DIA19" DOUBLE PRECISION,
  "DIA20" DOUBLE PRECISION,
  "DIA21" DOUBLE PRECISION,
  "DIA22" DOUBLE PRECISION,
  "DIA23" DOUBLE PRECISION,
  "DIA24" DOUBLE PRECISION,
  "DIA25" DOUBLE PRECISION,
  "DIA26" DOUBLE PRECISION,
  "DIA27" DOUBLE PRECISION,
  "DIA28" DOUBLE PRECISION,
  "DIA29" DOUBLE PRECISION,
  "DIA30" DOUBLE PRECISION,
  "DIA31" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "RTF_CONVERT" 
(
  "RTF" BLOB CHARACTER SET ISO8859_1
)
RETURNS
(
  "TEXTO" BLOB CHARACTER SET ISO8859_1
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SAPCAMPOS" 
(
  "PRESCRICAOGRUPO" INTEGER,
  "SAPIN" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "TIPO" VARCHAR(30),
  "ORDEM" INTEGER,
  "MINIMO" VARCHAR(200),
  "MAXIMO" VARCHAR(200),
  "PADRAO" VARCHAR(200),
  "LISTAGEM" VARCHAR(5000),
  "VALOR" VARCHAR(500),
  "REQUERIDO" CHAR(1),
  "PRESCRICAOGRUPOCAMPO" INTEGER,
  "SAP" INTEGER,
  "VALORBLOB" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SAPIBOTOESPROC" 
(
  "GRUPOIN" VARCHAR(50)
)
RETURNS
(
  "TITULO" VARCHAR(50),
  "GRUPO" VARCHAR(30),
  "COMANDO" VARCHAR(30),
  "ORDEM" INTEGER,
  "IMAGEM" BLOB,
  "SQLCONSULTA" VARCHAR(1000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SAPINCLUIR" 
(
  "CPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "PRESCRICAOTITULO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "SAP" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SAPINSERTUPDATE" 
(
  "SAP" INTEGER,
  "PRESCRICAOGRUPOCAMPO" INTEGER,
  "VALOR" VARCHAR(500),
  "USUARIO" INTEGER,
  "VALORBLOB" BLOB
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SAPNOVO" 
(
  "CPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "PRESCRICAOTITULO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(40),
  "SAP" INTEGER,
  "TIPO" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SAPS3MORTALIDADE" 
(
  "PONTUACAO" INTEGER
)
RETURNS
(
  "PD" VARCHAR(150)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SC" 
(
  "PESO" DOUBLE PRECISION,
  "ALTURA" DOUBLE PRECISION
)
RETURNS
(
  "VALOR" NUMERIC(15, 4)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SERVICOSCONVENIO" 
(
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "A_NOME" VARCHAR(250),
  "LAB" VARCHAR(10),
  "APELIDO" VARCHAR(40),
  "GRUPO" CHAR(1),
  "A_CODAMB" VARCHAR(8),
  "CO" DOUBLE PRECISION,
  "CH" DOUBLE PRECISION,
  "A_FILME" DOUBLE PRECISION,
  "SP" DOUBLE PRECISION,
  "CHB" CHAR(3),
  "TABELA" SMALLINT,
  "ATIVO" CHAR(1),
  "A_PORTE" DOUBLE PRECISION,
  "A_AUXILIO" SMALLINT,
  "AUTORIZACAO" CHAR(1),
  "A_TIPO" CHAR(1),
  "A_SEXO" CHAR(1),
  "A_MINIMO" SMALLINT,
  "A_MAXIMO" SMALLINT,
  "ANEST" CHAR(1),
  "INCIDENCIA" SMALLINT,
  "DHE" CHAR(1),
  "OBSERVACAO" BLOB,
  "CC" CHAR(1),
  "UTI" CHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "APTODOBRA" CHAR(1),
  "TIPOTABELA" CHAR(1),
  "MSGMATERIAL" CHAR(1),
  "TIPOPROC" CHAR(1),
  "GRUPOSUS" CHAR(2),
  "MOEDAAMB" INTEGER,
  "MOEDAEME" INTEGER,
  "MOEDAINT" INTEGER,
  "FILME" DOUBLE PRECISION,
  "CBHPM" CHAR(1),
  "A_VEZES" SMALLINT,
  "CODESP" VARCHAR(2),
  "AUTAMB" CHAR(1),
  "AUTEMG" CHAR(1),
  "AUTINT" CHAR(1),
  "UCO" DOUBLE PRECISION,
  "PERCENTUAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SINAISVITAIS" 
(
  "CODIGOCPS" INTEGER,
  "DATA" TIMESTAMP,
  "FILTRO" VARCHAR(70)
)
RETURNS
(
  "DESCRICAO" VARCHAR(300),
  "RESUMO" VARCHAR(300),
  "GRUPO" VARCHAR(300),
  "VALOR" DOUBLE PRECISION,
  "HORA08" VARCHAR(300),
  "HORA09" VARCHAR(300),
  "HORA10" VARCHAR(300),
  "HORA11" VARCHAR(300),
  "HORA12" VARCHAR(300),
  "HORA13" VARCHAR(300),
  "HORA14" VARCHAR(300),
  "HORA15" VARCHAR(300),
  "HORA16" VARCHAR(300),
  "HORA17" VARCHAR(300),
  "HORA18" VARCHAR(300),
  "HORA19" VARCHAR(300),
  "HORA20" VARCHAR(300),
  "HORA21" VARCHAR(300),
  "HORA22" VARCHAR(300),
  "HORA23" VARCHAR(300),
  "HORA00" VARCHAR(300),
  "HORA01" VARCHAR(300),
  "HORA02" VARCHAR(300),
  "HORA03" VARCHAR(300),
  "HORA04" VARCHAR(300),
  "HORA05" VARCHAR(300),
  "HORA06" VARCHAR(300),
  "HORA07" VARCHAR(300),
  "ORDEM" INTEGER,
  "USER1" INTEGER,
  "USER2" INTEGER,
  "DATACONTROLE" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SINAISVITAISDATA" 
(
  "CODIGOCPS" FLOAT,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CPS" INTEGER,
  "PACIENTE" VARCHAR(550),
  "HORARIO" TIMESTAMP,
  "COREN" VARCHAR(30),
  "NOME" VARCHAR(100),
  "SINAIS1" VARCHAR(100),
  "SINAIS2" VARCHAR(100),
  "SINAIS3" VARCHAR(100),
  "SINAIS4" VARCHAR(100),
  "SINAIS5" VARCHAR(100),
  "SINAIS6" VARCHAR(100),
  "SINAIS7" VARCHAR(100),
  "SINAIS8" VARCHAR(100),
  "SINAIS9" VARCHAR(100),
  "SINAIS10" VARCHAR(100),
  "SINAIS11" VARCHAR(100),
  "SINAIS12" VARCHAR(100),
  "SINAIS13" VARCHAR(100),
  "SINAIS14" VARCHAR(100),
  "SINAIS15" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SMSLISTACONTATOS" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "FAX" VARCHAR(15),
  "EMAIL" VARCHAR(80),
  "TIPO" VARCHAR(120)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SMS_ENVIO" 
(
  "TELEFONE" VARCHAR(30),
  "MENSAGEM" VARCHAR(3000),
  "DESTINATARIO" VARCHAR(100),
  "TIPO_DESTINATARIO" VARCHAR(20),
  "CODIGO_DESTINATARIO" INTEGER,
  "CNPJ" VARCHAR(18)
)
RETURNS
(
  "STATUS" VARCHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SOLICITACAO" 
(
  "TIPOIN" VARCHAR(50)
)
RETURNS
(
  "DESCRICAO" VARCHAR(1250),
  "ATIVO" CHAR(1),
  "TIPO" VARCHAR(50),
  "INDICE" VARCHAR(30),
  "TABELA" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SOLICITACAOALVARO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(200),
  "TIPO" VARCHAR(50),
  "NASC" TIMESTAMP,
  "SEXO" CHAR(1),
  "LAUDO" INTEGER,
  "ALVARO" VARCHAR(30),
  "ALVAROMATERIAL" VARCHAR(30),
  "NOMELAUDO" VARCHAR(250),
  "INDICECPSLAUDO2" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SOLICITACAOPARDINI" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(200),
  "TIPO" VARCHAR(50),
  "NASC" TIMESTAMP,
  "SEXO" VARCHAR(20),
  "LAUDO" INTEGER,
  "COD_PARDINI" INTEGER,
  "PARDINI_MNM" VARCHAR(30),
  "PARDINI_DESCRICAO" VARCHAR(80),
  "PARDINI_MNM_MATERIAL" VARCHAR(30),
  "PARDINI_MATERIAL" VARCHAR(30),
  "PARDINI_CONSERVANTE" VARCHAR(50),
  "NOMELAUDO" VARCHAR(250),
  "INDICECPSLAUDO2" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "INFO_COMP" VARCHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_AIH_PROCEDIMENTO" 
(
  "CONSULTA" VARCHAR(5000)
)
RETURNS
(
  "MEDCNS" VARCHAR(30),
  "CBO" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(10),
  "QTDEPROC" INTEGER,
  "GRAUPARTICIPACAO" VARCHAR(2),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_APAC_CPC" 
(
  "CPS" FLOAT
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CAMPO01" VARCHAR(250),
  "CAMPO02" VARCHAR(30),
  "CAMPO03" VARCHAR(250),
  "CAMPO04" VARCHAR(30),
  "CAMPO05" VARCHAR(30),
  "CAMPO06" VARCHAR(30),
  "CAMPO07" DATE,
  "CAMPO08" VARCHAR(30),
  "CAMPO08_01" VARCHAR(30),
  "CAMPO09" VARCHAR(250),
  "CAMPO10" VARCHAR(30),
  "CAMPO11" VARCHAR(250),
  "CAMPO12" VARCHAR(30),
  "CAMPO13" VARCHAR(250),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(30),
  "CAMPO16" VARCHAR(10),
  "CAMPO17" VARCHAR(30),
  "CAMPO18" VARCHAR(10),
  "CAMPO19" VARCHAR(250),
  "CAMPO20" INTEGER,
  "CAMPO21" VARCHAR(10),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" INTEGER,
  "CAMPO24" VARCHAR(10),
  "CAMPO25" VARCHAR(250),
  "CAMPO26" INTEGER,
  "CAMPO27" VARCHAR(10),
  "CAMPO28" VARCHAR(250),
  "CAMPO29" INTEGER,
  "CAMPO30" VARCHAR(10),
  "CAMPO31" VARCHAR(250),
  "CAMPO32" INTEGER,
  "CAMPO33" VARCHAR(10),
  "CAMPO34" VARCHAR(250),
  "CAMPO35" INTEGER,
  "CAMPO36" VARCHAR(250),
  "CAMPO37" VARCHAR(30),
  "CAMPO38" VARCHAR(30),
  "CAMPO39" VARCHAR(30),
  "CAMPO40" VARCHAR(1000),
  "CAMPO41" VARCHAR(250),
  "CAMPO42" DATE,
  "CAMPO43" VARCHAR(30),
  "CAMPO44" VARCHAR(30),
  "CAMPO46" VARCHAR(250),
  "CAMPO47" VARCHAR(30),
  "CAMPO48" VARCHAR(30),
  "CAMPO49" VARCHAR(30),
  "CAMPO50" DATE,
  "CAMPO54" VARCHAR(250),
  "CAMPO55" VARCHAR(30),
  "CAMPO56" VARCHAR(250),
  "CAMPO57" VARCHAR(30),
  "CAMPO58" VARCHAR(30),
  "CAMPO58_01" VARCHAR(30),
  "CAMPO59" VARCHAR(250),
  "CAMPO60" VARCHAR(50),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(30),
  "CAMPO63" VARCHAR(250),
  "CAMPO64" DATE,
  "CAMPO65" VARCHAR(10),
  "CAMPO66_01" VARCHAR(250),
  "CAMPO67_01" DATE,
  "CAMPO66_02" VARCHAR(250),
  "CAMPO67_02" DATE,
  "CAMPO66_03" VARCHAR(250),
  "CAMPO67_03" DATE,
  "CAMPO68" VARCHAR(10),
  "CAMPO69" DATE,
  "CAMPO70" VARCHAR(30),
  "CAMPO71" VARCHAR(30),
  "CAMPO72" VARCHAR(30),
  "CAMPO73" VARCHAR(30),
  "CAMPO74_01" VARCHAR(250),
  "CAMPO75_01" DATE,
  "CAMPO74_02" VARCHAR(250),
  "CAMPO75_02" DATE,
  "CAMPO74_03" VARCHAR(250),
  "CAMPO75_03" DATE,
  "CAMPO76" VARCHAR(30),
  "CAMPO77" DATE,
  "CAMPO78" VARCHAR(30),
  "CAMPO79_01" VARCHAR(10),
  "CAMPO80_01" VARCHAR(150),
  "CAMPO81_01" VARCHAR(30),
  "CAMPO82_01" DATE,
  "CAMPO83_01" DATE,
  "CAMPO79_02" VARCHAR(10),
  "CAMPO80_02" VARCHAR(150),
  "CAMPO81_02" VARCHAR(30),
  "CAMPO82_02" DATE,
  "CAMPO83_02" DATE,
  "CAMPO79_03" VARCHAR(10),
  "CAMPO80_03" VARCHAR(150),
  "CAMPO81_03" VARCHAR(30),
  "CAMPO82_03" DATE,
  "CAMPO83_03" DATE,
  "CAMPO84_DATA" DATE,
  "CAMPO84_ALTURA" VARCHAR(10),
  "CAMPO84_PESO" VARCHAR(10),
  "CAMPO84_DIURESE" VARCHAR(10),
  "CAMPO84_GLICOSE" VARCHAR(10),
  "CAMPO84_ALBUMINA" VARCHAR(10),
  "CAMPO84_HB" VARCHAR(10),
  "CAMPO84_VASCULAR" VARCHAR(10),
  "CAMPO84_HIV" VARCHAR(10),
  "CAMPO84_HCV" VARCHAR(10),
  "CAMPO84_HBS" VARCHAR(10),
  "CAMPO84_US" VARCHAR(10),
  "CAMPO85_TRU" VARCHAR(10),
  "CAMPO85_HB" VARCHAR(10),
  "CAMPO85_ALBUMINA" VARCHAR(10),
  "CAMPO85_INTERVENCAO" VARCHAR(10),
  "CAMPO85_CNCDO" VARCHAR(10),
  "CAMPO85_HIV" VARCHAR(10),
  "CAMPO85_HCV" VARCHAR(10),
  "CAMPO85_HBS" VARCHAR(10),
  "CAMPO45" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_APELIDOPROCEDIMENTO" 
(
  "CODIGOAMB" VARCHAR(10),
  "CONVENIO" INTEGER,
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_CLINICA_CPS" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "LEITO" INTEGER,
  "INTER4NO" INTEGER,
  "A_GRUPO" INTEGER,
  "LEITO_NOME" VARCHAR(100),
  "ALA_NOME" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_CODIGOAMBVISITA" 
(
  "CODIGOAMB" VARCHAR(10),
  "CONVENIO" INTEGER,
  "ESPECIALIDADE" VARCHAR(2),
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_COMPESQ" 
(
  "TEXTO" VARCHAR(100),
  "TAMANHO" INTEGER
)
RETURNS
(
  "RETORNO" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_CONVCODCRED" 
(
  "PROCEDIMENTO" VARCHAR(10),
  "CONVENIO" INTEGER,
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "CODCRED" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_COPIA_APAC" 
(
  "CPSORIGEM" INTEGER,
  "CPSDESTINO" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CAMPO01" VARCHAR(250),
  "CAMPO02" VARCHAR(30),
  "CAMPO03" VARCHAR(250),
  "CAMPO04" VARCHAR(30),
  "CAMPO05" VARCHAR(30),
  "CAMPO06" VARCHAR(30),
  "CAMPO07" DATE,
  "CAMPO08" VARCHAR(30),
  "CAMPO08_01" VARCHAR(30),
  "CAMPO09" VARCHAR(250),
  "CAMPO10" VARCHAR(30),
  "CAMPO11" VARCHAR(250),
  "CAMPO12" VARCHAR(30),
  "CAMPO13" VARCHAR(250),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(30),
  "CAMPO16" VARCHAR(10),
  "CAMPO17" VARCHAR(30),
  "CAMPO18" VARCHAR(10),
  "CAMPO19" VARCHAR(250),
  "CAMPO20" INTEGER,
  "CAMPO21" VARCHAR(10),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" INTEGER,
  "CAMPO24" VARCHAR(10),
  "CAMPO25" VARCHAR(250),
  "CAMPO26" INTEGER,
  "CAMPO27" VARCHAR(10),
  "CAMPO28" VARCHAR(250),
  "CAMPO29" INTEGER,
  "CAMPO30" VARCHAR(10),
  "CAMPO31" VARCHAR(250),
  "CAMPO32" INTEGER,
  "CAMPO33" VARCHAR(10),
  "CAMPO34" VARCHAR(250),
  "CAMPO35" INTEGER,
  "CAMPO36" VARCHAR(250),
  "CAMPO37" VARCHAR(30),
  "CAMPO38" VARCHAR(30),
  "CAMPO39" VARCHAR(30),
  "CAMPO40" VARCHAR(1000),
  "CAMPO41" VARCHAR(250),
  "CAMPO42" DATE,
  "CAMPO43" VARCHAR(30),
  "CAMPO44" VARCHAR(30),
  "CAMPO46" VARCHAR(250),
  "CAMPO47" VARCHAR(30),
  "CAMPO48" VARCHAR(30),
  "CAMPO49" VARCHAR(30),
  "CAMPO50" DATE,
  "CAMPO54" VARCHAR(250),
  "CAMPO55" VARCHAR(30),
  "CAMPO56" VARCHAR(250),
  "CAMPO57" VARCHAR(30),
  "CAMPO58" VARCHAR(30),
  "CAMPO58_01" VARCHAR(30),
  "CAMPO59" VARCHAR(250),
  "CAMPO60" VARCHAR(50),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(30),
  "CAMPO63" VARCHAR(250),
  "CAMPO64" DATE,
  "CAMPO65" VARCHAR(10),
  "CAMPO66_01" VARCHAR(250),
  "CAMPO67_01" DATE,
  "CAMPO66_02" VARCHAR(250),
  "CAMPO67_02" DATE,
  "CAMPO66_03" VARCHAR(250),
  "CAMPO67_03" DATE,
  "CAMPO68" VARCHAR(10),
  "CAMPO69" DATE,
  "CAMPO70" VARCHAR(30),
  "CAMPO71" VARCHAR(30),
  "CAMPO72" VARCHAR(30),
  "CAMPO73" VARCHAR(30),
  "CAMPO74_01" VARCHAR(250),
  "CAMPO75_01" DATE,
  "CAMPO74_02" VARCHAR(250),
  "CAMPO75_02" DATE,
  "CAMPO74_03" VARCHAR(250),
  "CAMPO75_03" DATE,
  "CAMPO76" VARCHAR(30),
  "CAMPO77" DATE,
  "CAMPO78" VARCHAR(30),
  "CAMPO79_01" VARCHAR(10),
  "CAMPO80_01" VARCHAR(150),
  "CAMPO81_01" VARCHAR(30),
  "CAMPO82_01" DATE,
  "CAMPO83_01" DATE,
  "CAMPO79_02" VARCHAR(10),
  "CAMPO80_02" VARCHAR(150),
  "CAMPO81_02" VARCHAR(30),
  "CAMPO82_02" DATE,
  "CAMPO83_02" DATE,
  "CAMPO79_03" VARCHAR(10),
  "CAMPO80_03" VARCHAR(150),
  "CAMPO81_03" VARCHAR(30),
  "CAMPO82_03" DATE,
  "CAMPO83_03" DATE,
  "CAMPO84_DATA" DATE,
  "CAMPO84_ALTURA" VARCHAR(10),
  "CAMPO84_PESO" VARCHAR(10),
  "CAMPO84_DIURESE" VARCHAR(10),
  "CAMPO84_GLICOSE" VARCHAR(10),
  "CAMPO84_ALBUMINA" VARCHAR(10),
  "CAMPO84_HB" VARCHAR(10),
  "CAMPO84_VASCULAR" VARCHAR(10),
  "CAMPO84_HIV" VARCHAR(10),
  "CAMPO84_HCV" VARCHAR(10),
  "CAMPO84_HBS" VARCHAR(10),
  "CAMPO84_US" VARCHAR(10),
  "CAMPO85_TRU" VARCHAR(10),
  "CAMPO85_HB" VARCHAR(10),
  "CAMPO85_ALBUMINA" VARCHAR(10),
  "CAMPO85_INTERVENCAO" VARCHAR(10),
  "CAMPO85_CNCDO" VARCHAR(10),
  "CAMPO85_HIV" VARCHAR(10),
  "CAMPO85_HCV" VARCHAR(10),
  "CAMPO85_HBS" VARCHAR(10),
  "CAMPO45" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_CPS6EXAMES" 
(
  "CPS" FLOAT,
  "TIPO_EXAME" VARCHAR(1)
)
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "TIPO" VARCHAR(1),
  "DESCRICAO" VARCHAR(250),
  "SEQ" INTEGER,
  "CID_SOLICITACAO" VARCHAR(10),
  "OBSERVACAO" VARCHAR(500)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_CPSMANCHESTER" 
(
  "CPS" FLOAT
)
RETURNS
(
  "A_NOME" VARCHAR(100),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "NASC" TIMESTAMP,
  "SEXO" VARCHAR(1),
  "NATURALIDADE" VARCHAR(100),
  "A_DATAFAT" TIMESTAMP,
  "DATASAIDA" TIMESTAMP,
  "QUEIXA" BLOB,
  "HISTORIA" BLOB,
  "PESO" VARCHAR(20),
  "SAT" VARCHAR(20),
  "HGT" VARCHAR(20),
  "OBSERVACAO" BLOB,
  "ALERGIAS" BLOB,
  "MEDICACAO" BLOB,
  "MEDIDA" BLOB,
  "REAVALIACAO" BLOB,
  "DATA" TIMESTAMP,
  "RISCO" INTEGER,
  "RISCOMEDICO" INTEGER,
  "P" VARCHAR(20),
  "PA" VARCHAR(20),
  "FR" VARCHAR(20),
  "TAX" VARCHAR(20),
  "FC" VARCHAR(250),
  "USER1" INTEGER,
  "DATAHORA" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_DATAMAXALTA" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_ENCAMINHAPACCPS" 
(
  "CPS" FLOAT,
  "CODESP" VARCHAR(3)
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_ENCAMINHAPACOBS" 
(
  "CPS" FLOAT,
  "TIPO" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_ENCAMINHARPACIENTE" 
(
  "CONSULTA" VARCHAR(3000)
)
RETURNS
(
  "CODIGO" VARCHAR(30),
  "NOME" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_FAIXA" 
(
  "TIPO" VARCHAR(30)
)
RETURNS
(
  "CODIGOAMB1" VARCHAR(10),
  "CODIGOAMB2" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_LAUDODACPS" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "CODLAUDO" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_LAUDOPADRAO_CODSERV" 
(
  "CODSERV" INTEGER
)
RETURNS
(
  "LAUDO" VARCHAR(60),
  "MNM" VARCHAR(10),
  "QTDLINHA" INTEGER,
  "QUEBRA" VARCHAR(1),
  "ORDEM" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_LAUDOPADRAO_MNM" 
(
  "MNM_CPS2" VARCHAR(20),
  "CODSERV" INTEGER
)
RETURNS
(
  "LAUDO" VARCHAR(60),
  "MNM" VARCHAR(10),
  "QTDLINHA" INTEGER,
  "QUEBRA" VARCHAR(1),
  "ORDEM" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_LAUDOPADRAO_RESULTADO" 
(
  "CODIGOAMB" VARCHAR(8)
)
RETURNS
(
  "LAUDO" VARCHAR(100),
  "RESULTADO" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_MATMED_CODIGOS" 
(
  "CONVENIO" INTEGER,
  "MATMED" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "SIMPRO" VARCHAR(30),
  "TUSSBRAS" VARCHAR(30),
  "TISSBRAS" VARCHAR(30),
  "COB_ESP" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_MEDICOCOBRANCA" 
(
  "MEDICO" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "RAZAOSOCIAL" VARCHAR(100),
  "CPF_CNPJ" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_MEDICOCREDENCIADO" 
(
  "MEDICO" INTEGER,
  "CONVENIO" INTEGER,
  "CODIGOPLA" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_ORD_PROC_AIH" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(10),
  "A_MEDICOS" INTEGER,
  "CODESP" VARCHAR(2),
  "QUANTIDADE" INTEGER,
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_PACOTE_ITEM" 
(
  "CODPACOTE" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODIGOMM" INTEGER,
  "DESCRICAO" VARCHAR(250),
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_PRESCRICAO_INFOR" 
(
  "COD_PRESCRICAO" INTEGER
)
RETURNS
(
  "A_NOTAMED" INTEGER,
  "CPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "NOME_PACIENTE" VARCHAR(250),
  "MEDICO_RESP" VARCHAR(250),
  "NOME_CONVENIO" VARCHAR(250),
  "DATA_ADMISSAO" TIMESTAMP,
  "HORA_ADMISSAO" TIMESTAMP,
  "CODIGO_PRINCIPAL" VARCHAR(10),
  "DATA_PEDIDO" TIMESTAMP,
  "TRATAMENTO" VARCHAR(250),
  "ALA_LEITO" VARCHAR(250),
  "MEDICO_PRESCRICAO" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_PRESCRICAO_KIT" 
(
  "CODIGOCPS" FLOAT,
  "COD_PRESCRICAO" INTEGER
)
RETURNS
(
  "COD_KIT" INTEGER,
  "POSOLOGIA" VARCHAR(50),
  "QTDE" INTEGER,
  "DESCRICAO" VARCHAR(150)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "SP_SERVICOSCREDENCIADO" 
(
  "PROCEDIMENTO" VARCHAR(10),
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODCRED" VARCHAR(20)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TAXAMEDICAMENTOSSUS" 
(
  "CODIGOCPS" INTEGER,
  "QUANTIDADE" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TEMPOESPERAMARCACAO_SESAB" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "PACIENTE" VARCHAR(250),
  "AGENDA" VARCHAR(250),
  "PROCEDIMENTO" VARCHAR(250),
  "OBSERVACAO" VARCHAR(250),
  "AGENDAMENTO" TIME,
  "CHEGADA" TIME,
  "TEMPOESPERA" TIME
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TEMPOESPERAMARCACAO_SESAB_CPC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "PACIENTE" VARCHAR(250),
  "AGENDA" VARCHAR(250),
  "PROCEDIMENTO" VARCHAR(250),
  "OBSERVACAO" VARCHAR(250),
  "AGENDAMENTO" TIME,
  "CHEGADA" TIME,
  "TEMPOESPERA" TIME
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TIPOVARLAUDO" 
(
  "LAUDONOME" VARCHAR(60),
  "DESCRICAOVAR" VARCHAR(25)
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(25),
  "TITULO" VARCHAR(30),
  "LAUDO" VARCHAR(60),
  "TIPOCONSULTA" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISSBRAS_NAOENCONTRADO" 
RETURNS
(
  "CODIGOMM" INTEGER,
  "A_NOME" VARCHAR(100),
  "TISSBRAS" VARCHAR(30)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISSSIMPROANVISA" 
RETURNS
(
  "CODIGOMM" INTEGER,
  "SIMPRO" INTEGER,
  "ANVISA" VARCHAR(150),
  "REF_FABRICANTE" VARCHAR(150)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_CONSULTA_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" TIMESTAMP,
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" DOUBLE PRECISION,
  "CAMPO23" BLOB,
  "CODIGOCPS" INTEGER,
  "CRITICA" VARCHAR(100),
  "CODESP" VARCHAR(2),
  "LOGOEMPRESA" BLOB,
  "LOGOCONVENIO" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_CONSULTA_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" TIMESTAMP,
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" DOUBLE PRECISION,
  "CAMPO23" BLOB,
  "CODIGOCPS" INTEGER,
  "CRITICA" VARCHAR(100),
  "CODESP" VARCHAR(2),
  "LOTE" INTEGER,
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_GLOSA_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(250),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" TIMESTAMP,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" VARCHAR(30000),
  "CAMPO28" DOUBLE PRECISION,
  "CAMPO29" VARCHAR(30000),
  "CAMPO30" DOUBLE PRECISION,
  "CAMPO31" DOUBLE PRECISION,
  "CAMPO32" TIMESTAMP,
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "LOGOEMPRESA" BLOB,
  "LOGOCONVENIO" BLOB,
  "PAGINA" INTEGER,
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_GLOSA_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(250),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" TIMESTAMP,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" VARCHAR(30000),
  "CAMPO28" DOUBLE PRECISION,
  "CAMPO29" VARCHAR(30000),
  "CAMPO30" DOUBLE PRECISION,
  "CAMPO31" DOUBLE PRECISION,
  "CAMPO32" TIMESTAMP,
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "LOGOEMPRESA" BLOB,
  "LOGOCONVENIO" BLOB,
  "PAGINA" INTEGER,
  "LOTE" INTEGER,
  "CRITICA" VARCHAR(100),
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_GLOSA_V3_ITEM" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIMESTAMP,
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" DOUBLE PRECISION,
  "CAMPO25" VARCHAR(250),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" VARCHAR(250),
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_HONORARIO_V3" 
(
  "CONSULTA" VARCHAR(30000),
  "MEDICO" INTEGER
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" TIMESTAMP,
  "CAMPO16" TIMESTAMP,
  "CAMPO37" VARCHAR(100),
  "CAMPO38" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_HONORARIO_V3_PROC" 
(
  "CONSULTA" VARCHAR(30000),
  "MEDICO" INTEGER
)
RETURNS
(
  "CAMPO17" TIMESTAMP,
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIMESTAMP,
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" INTEGER,
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" DOUBLE PRECISION,
  "CAMPO28" DOUBLE PRECISION,
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "CODMEDICO" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_INTERNACAO" 
(
  "CONSULTA" VARCHAR(6000),
  "EMPRESA" CHAR(1),
  "FLAG" VARCHAR(15),
  "FILTRO" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "A_GUIA" VARCHAR(20),
  "CONVENIO" INTEGER,
  "PARCELA" SMALLINT,
  "REGANS_01" VARCHAR(6),
  "ID_02" VARCHAR(20),
  "GUIASOL_03" VARCHAR(20),
  "AUT_04" TIMESTAMP,
  "SENHA_05" VARCHAR(20),
  "SENHAVAL_06" TIMESTAMP,
  "EMISSAO_07" TIMESTAMP,
  "CARTEIRA_08" VARCHAR(25),
  "PLANO_09" VARCHAR(40),
  "CARTEIRAVAL_10" TIMESTAMP,
  "NOME_11" VARCHAR(70),
  "CNS_12" VARCHAR(20),
  "IDPRESTADOR_13" VARCHAR(20),
  "NOMEPRESTADOR_14" VARCHAR(70),
  "CNES_15" VARCHAR(7),
  "TIPOLOG_16" CHAR(3),
  "LOG_17" VARCHAR(40),
  "NUMERO_18" VARCHAR(5),
  "COMPLEMENTO_19" VARCHAR(15),
  "MUNICIPIO_20" VARCHAR(40),
  "UF_21" VARCHAR(2),
  "CODIBGE_22" VARCHAR(7),
  "CEP_23" VARCHAR(8),
  "CARATERINT_24" CHAR(1),
  "TIPOACOMODACAO_25" VARCHAR(2),
  "DATAINICIO_26" TIMESTAMP,
  "DATASAIDA_27" TIMESTAMP,
  "TIPOINT_28" CHAR(1),
  "REGIMEINT_29" CHAR(1),
  "EMGESTACAO_30A" CHAR(1),
  "ABORTO_30B" CHAR(1),
  "TRANSTORNO_30C" CHAR(1),
  "PUERPERIO_30D" CHAR(1),
  "ATNDRNPARTO_30E" CHAR(1),
  "COMPLNEONATAL_30F" CHAR(1),
  "BXPESO_30G" CHAR(1),
  "CESARIO_30H" CHAR(1),
  "NORMAL_30I" CHAR(1),
  "OBITOMULHER_31" CHAR(1),
  "OBITONEONATALPREC_32A" INTEGER,
  "OBITONEONATALTARD_32B" INTEGER,
  "DECLVIVO_33" VARCHAR(15),
  "QTDEVIVO_34" INTEGER,
  "QTDEMORTO_35" INTEGER,
  "QTDEPREMATURO_36" INTEGER,
  "CIDPRIN_37" VARCHAR(5),
  "CIDSEC_38" VARCHAR(5),
  "CIDTERC_39" VARCHAR(5),
  "CIDQUA_40" VARCHAR(5),
  "INDICADORACID_41" CHAR(1),
  "MOTIVOSAIDA_42" VARCHAR(2),
  "CIDOBITO_43" VARCHAR(5),
  "DECLARACAOOBITO_44" VARCHAR(12),
  "TIPOFAT_73" CHAR(1),
  "TOTALPROC_74" DOUBLE PRECISION,
  "TOTALDIARIA_75" DOUBLE PRECISION,
  "TOTALTAXAALUG_76" DOUBLE PRECISION,
  "TOTALMAT_77" DOUBLE PRECISION,
  "TOTALMED_78" DOUBLE PRECISION,
  "TOTALGAS_79" DOUBLE PRECISION,
  "TOTALGERAL_80" DOUBLE PRECISION,
  "OBSERVACAO_81" BLOB,
  "DATACONTRATADO_82" TIMESTAMP,
  "DATAAUDITOR_83" TIMESTAMP
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_INTERNACAO_ITEM" 
(
  "CONSULTA" VARCHAR(6000),
  "EMPRESA" CHAR(1),
  "FLAG" VARCHAR(15),
  "FILTRO" VARCHAR(1000),
  "CONDENSA" VARCHAR(50),
  "PROFISSIONAL" CHAR(1)
)
RETURNS
(
  "PROCDATA_45" TIMESTAMP,
  "PROCHORAINI_46" TIMESTAMP,
  "PROCHORAFIM_47" TIMESTAMP,
  "PROCTABELA_48" VARCHAR(2),
  "PROCCODIGOPROC_49" VARCHAR(10),
  "PROCDESCRICAO_50" VARCHAR(200),
  "PROCQTDE_51" INTEGER,
  "PROCVIA_52" CHAR(1),
  "PROCTEC_53" CHAR(1),
  "PROCREDACR_54" DOUBLE PRECISION,
  "PROCUNITARIO_55" FLOAT,
  "PROCTOTAL_56" FLOAT,
  "EQUIPSEQ_57" INTEGER,
  "EQUIPGRAU_58" CHAR(2),
  "EQUIPCODOPER_59" VARCHAR(20),
  "EQUIPNOME_60" VARCHAR(70),
  "EQUIPTIPOCRM_61" VARCHAR(7),
  "EQUIPCRM_62" VARCHAR(15),
  "EQUIPUF_63" VARCHAR(2),
  "EQUIPCPF_64" VARCHAR(11),
  "QTDEPROC" INTEGER,
  "OPMTABELA_65" VARCHAR(2),
  "OPMCODOPM_66" VARCHAR(10),
  "OPMDESCRICAO_67" VARCHAR(60),
  "OPMQTDE_68" INTEGER,
  "OPMBARRA_69" VARCHAR(20),
  "OPMUNITARIO_70" DOUBLE PRECISION,
  "OPMTOTAL_71" DOUBLE PRECISION,
  "QTDEOPM" INTEGER,
  "TIPO" VARCHAR(100),
  "TIPOORDEM" SMALLINT,
  "ORDEM" INTEGER,
  "PAGINA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_OUTRASDESP_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" TIMESTAMP,
  "CAMPO08" TIMESTAMP,
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" DOUBLE PRECISION,
  "CAMPO13" VARCHAR(100),
  "CAMPO14" DOUBLE PRECISION,
  "CAMPO15" DOUBLE PRECISION,
  "CAMPO16" DOUBLE PRECISION,
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(250),
  "CAMPO21" DOUBLE PRECISION,
  "CAMPO22" DOUBLE PRECISION,
  "CAMPO23" DOUBLE PRECISION,
  "CAMPO24" DOUBLE PRECISION,
  "CAMPO25" DOUBLE PRECISION,
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB,
  "QTDE" INTEGER,
  "INDICELISTA" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_RESUMO_INT_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_RESUMO_INT_V3_CSSGNASCVIVO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_RESUMO_INT_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB,
  "LOTE" INTEGER,
  "QTDE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_RESUMO_INT_V3_OLD" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_RESUMO_INT_V3_PROC" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO34" TIMESTAMP,
  "CAMPO35" TIMESTAMP,
  "CAMPO36" TIMESTAMP,
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(250),
  "CAMPO40" INTEGER,
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" DOUBLE PRECISION,
  "CAMPO44" DOUBLE PRECISION,
  "CAMPO45" DOUBLE PRECISION,
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(250),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "INDICELISTA" VARCHAR(3000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_SPSADT_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" TIMESTAMP,
  "CAMPO23" BLOB,
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO58" BLOB,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO62" DOUBLE PRECISION,
  "CAMPO63" DOUBLE PRECISION,
  "CAMPO64" DOUBLE PRECISION,
  "CAMPO65" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_SPSADT_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" TIMESTAMP,
  "CAMPO23" BLOB,
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO58" BLOB,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO62" DOUBLE PRECISION,
  "CAMPO63" DOUBLE PRECISION,
  "CAMPO64" DOUBLE PRECISION,
  "CAMPO65" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "QTDE" INTEGER,
  "LOTE" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_SPSADT_V3_PROC" 
(
  "CPS" INTEGER
)
RETURNS
(
  "CAMPO36" TIMESTAMP,
  "CAMPO37" TIMESTAMP,
  "CAMPO38" TIMESTAMP,
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(250),
  "CAMPO42" INTEGER,
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" DOUBLE PRECISION,
  "CAMPO46" DOUBLE PRECISION,
  "CAMPO47" DOUBLE PRECISION,
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "CAMPO54" VARCHAR(100),
  "CAMPO55" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "INDICELISTA" VARCHAR(2000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_SPSADT_V3_SOL" 
(
  "CPS" INTEGER
)
RETURNS
(
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(250),
  "CAMPO27" INTEGER,
  "CAMPO28" INTEGER,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TISS_TOTAL_CONTA_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "PROCEDIMENTO" DOUBLE PRECISION,
  "DIARIAS" DOUBLE PRECISION,
  "TAXAS" DOUBLE PRECISION,
  "MATERIAIS" DOUBLE PRECISION,
  "OPME" DOUBLE PRECISION,
  "MEDICAMENTOS" DOUBLE PRECISION,
  "GASES" DOUBLE PRECISION,
  "GERAL" DOUBLE PRECISION,
  "QTDEPROC" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TOTALDISCOANS" 
(
  "TIPO" INTEGER,
  "MEDICO" INTEGER,
  "CODIGOCPS" VARCHAR(10)
)
RETURNS
(
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TRANSFEREAGENDACOMPLETA" 
(
  "DATA" TIMESTAMP,
  "NOVADATA" TIMESTAMP,
  "MEDICO" INTEGER,
  "MEDICODESTINO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "NADA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TRANSFEREAGENDASEMAPAGAR" 
(
  "DATA" TIMESTAMP,
  "NOVADATA" TIMESTAMP,
  "MEDICO" INTEGER,
  "MEDICODESTINO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "NADA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TRANSFLEITO" 
(
  "CODIGOCPS" FLOAT,
  "LEITO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "STATUS" VARCHAR(250)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TRAVAMARC" 
(
  "W_MEDICO1" INTEGER,
  "W_MEDICO2" INTEGER,
  "W_DATA1" TIMESTAMP,
  "W_DATA2" TIMESTAMP,
  "TRAVA" SMALLINT
)
RETURNS
(
  "SOMA" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "TUSSCODNOME" 
(
  "COD_AMB" VARCHAR(10),
  "CODCONVENIO" INTEGER,
  "TIPOTABORIGEM" VARCHAR(1),
  "DATA" TIMESTAMP
)
RETURNS
(
  "CODAMBTUSS" VARCHAR(8),
  "DESCRICAO" VARCHAR(500)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "UNIPACIENTE" 
(
  "ERRADO" FLOAT,
  "CERTO" FLOAT
)
RETURNS
(
  "DETALHE" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "UNIPACIENTESIMPLES" 
(
  "ERRADO" FLOAT,
  "CERTO" FLOAT
)
RETURNS
(
  "DETALHE" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "UPDATEMEDICORESPCPS" 
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "UPDATEMEDICOSINTER32" 
(
  "MEDICO" INTEGER
)
RETURNS
(
  "INDICE" FLOAT
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "VALORAMB" 
(
  "CODIGOAMB" VARCHAR(9),
  "CONVENIO" FLOAT,
  "DHE" CHAR(1),
  "DATA" TIMESTAMP,
  "TIPO" SMALLINT,
  "VIA" INTEGER
)
RETURNS
(
  "VALOR" DOUBLE PRECISION,
  "CO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "PORTE" DOUBLE PRECISION,
  "AUX1" DOUBLE PRECISION,
  "AUX2" DOUBLE PRECISION,
  "AUX3" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "VALORAMBEXATO" 
(
  "CODIGOSERV" INTEGER,
  "CODIGOAMB" VARCHAR(9),
  "CONVENIO" FLOAT,
  "DHE" CHAR(1),
  "DATA" TIMESTAMP,
  "TIPO" SMALLINT,
  "VIA" INTEGER
)
RETURNS
(
  "VALOR" DOUBLE PRECISION,
  "CO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "PORTE" DOUBLE PRECISION,
  "AUX1" DOUBLE PRECISION,
  "AUX2" DOUBLE PRECISION,
  "AUX3" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "VARIAVELBD" 
(
  "VARIAVEL" VARCHAR(50),
  "VALOR" VARCHAR(250)
)
RETURNS
(
  "STATUS" VARCHAR(10)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "VERIFICA_CHECAGEM" 
(
  "SEQUENCIA" FLOAT
)
RETURNS
(
  "CHECADA" CHAR(1)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "VM_CAPAC_INSTAGI" 
RETURNS
(
  "ALA" INTEGER,
  "LEITONOME" VARCHAR(100),
  "CODIGOINT" FLOAT,
  "CNES" VARCHAR(50),
  "DESCRICAOSETOR" VARCHAR(150),
  "SERVICO" VARCHAR(100),
  "DESCRICAOLEITO" VARCHAR(30),
  "CNS" VARCHAR(250),
  "DESCRICAOTIPOLEITO" VARCHAR(150),
  "DESCRICAOSUBTIPOLEITO" VARCHAR(150),
  "DESCRICAOCLASSIFICACAO" VARCHAR(100),
  "DESCRICAOSITUACAOLEITO" VARCHAR(100)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "WMS_FATURA_CONDESADO" 
RETURNS
(
  "CONVENIO" INTEGER,
  "NOME" VARCHAR(100),
  "RECEBIDO" NUMERIC(15, 2),
  "GLOSADO" NUMERIC(15, 2),
  "VALOR" NUMERIC(15, 2),
  "ANTECIPACAO" NUMERIC(15, 2),
  "ARECEBER" NUMERIC(15, 2)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "XMLIMPORTDEMO" 
(
  "XMLID" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(5000)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "XMLPAGCPS" 
(
  "CPS" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "ID" INTEGER
)
RETURNS
(
  "DATA" TIMESTAMP,
  "CODIGOAMB" VARCHAR(10),
  "QTDE" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "STATUS" VARCHAR(200)
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "XMLPAGIMPORT" 
(
  "ID" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "CPS" VARCHAR(20),
  "CODIGOCPS" INTEGER
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "XMLPAGREL" 
(
  "ID" INTEGER,
  "CPS" CHAR(1)
)
RETURNS
(
  "CONTA" INTEGER,
  "CODIGO" VARCHAR(100),
  "DESCRICAO" VARCHAR(100),
  "QUANTIDADEEXECUTADA" INTEGER,
  "VALORPROCESSADO" DOUBLE PRECISION,
  "VALORLIBERADO" DOUBLE PRECISION,
  "VALORGLOSA" DOUBLE PRECISION,
  "CODIGOCPS" DOUBLE PRECISION,
  "GLOSACPS" DOUBLE PRECISION,
  "GLOSACONTA" DOUBLE PRECISION
)
AS
BEGIN EXIT; END ^

CREATE PROCEDURE "XMLUPDATEGLOSA" 
(
  "CODIGOPLA" INTEGER,
  "MM" CHAR(1),
  "CODIGOCPS" FLOAT,
  "INDICELISTA" VARCHAR(2000),
  "VALORGLOSA" DOUBLE PRECISION,
  "TIPOGLOSA" INTEGER,
  "INDICEXML" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(5000)
)
AS
BEGIN EXIT; END ^


ALTER PROCEDURE "AGENDAFISIO" 
(
  "DATA" TIMESTAMP,
  "MODALIDADE" INTEGER
)
RETURNS
(
  "ENTRADA" TIMESTAMP,
  "SAIDA" INTEGER,
  "CODIGOCPS" INTEGER,
  "INTENSIDADE" VARCHAR(20),
  "STATUS" CHAR(1),
  "CRITICA" VARCHAR(200)
)
AS
BEGIN
END
 ^


ALTER PROCEDURE "AGENDATENDIDO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "SITUACAO" VARCHAR(40)
)
AS
begin
  if (:tipo = 0) Then
  begin
    select count(codigocps) from cps1
    inner join medicos on cps1.medresp = medicos.a_medicos
    where ( marcacao is null) and (a_datafat between :inicio and :fim) and codigopla = 1
    --and medicos.anestesista is null
    into qtde;
    situacao = 'Atendidos no agendados';
    suspend;
    select count(codigocps) from cps1
    inner join medicos on cps1.medresp = medicos.a_medicos
    where ( marcacao is not null) and (a_datafat between :inicio and :fim)  and codigopla = 1
  --  and medicos.anestesista is null
    into qtde;
    situacao = 'Agendados que compareceram';
    suspend;
    select count(*)- :qtde from marcacao
    inner join medicos on marcacao.a_medicos = medicos.a_medicos
    where (data between :inicio and :fim) and paciente is not null
 --   and medicos.anestesista is null
    into qtde;
    situacao = 'Agendados que no compareceram';
    suspend;
  end
  else if (:tipo = 1) Then
  begin
    select count(codigocps) from cps1
    inner join medicos on cps1.medresp = medicos.a_medicos
    where ( marcacao is null) and (a_datafat between :inicio and :fim) and codigopla = 1
    and medicos.anestesista = 'S'
    into qtde;
    situacao = 'Atendidos no agendados';
    suspend;
    select count(codigocps) from cps1
    inner join medicos on cps1.medresp = medicos.a_medicos
    where ( marcacao is not null) and (a_datafat between :inicio and :fim)  and codigopla = 1
    and medicos.anestesista = 'S'
    into qtde;
    situacao = 'Agendados que compareceram';
    suspend;
    select count(*)- :qtde from marcacao
    inner join medicos on marcacao.a_medicos = medicos.a_medicos
    where (data between :inicio and :fim) and paciente is not null
    and medicos.anestesista = 'S'
    into qtde;
    situacao = 'Agendados que no compareceram';
    suspend;
  end
end
 ^


ALTER PROCEDURE "AIHPROC" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "NUM_AIH" CHAR(13),
  "IDENT" CHAR(2),
  "APRES" CHAR(6),
  "PRONTUARIO" VARCHAR(15),
  "DT_INT" TIMESTAMP,
  "DT_SAI" TIMESTAMP,
  "LINHA" SMALLINT,
  "ATO_PROF" CHAR(10),
  "PROF_NOME" VARCHAR(40),
  "QTD_ATO" SMALLINT,
  "CPF" CHAR(11),
  "CNS" VARCHAR(15),
  "CBO" CHAR(7),
  "IND_EQUIPE" SMALLINT,
  "CNPJ" CHAR(14),
  "CNES" CHAR(7),
  "CMPT_UTI_ACOMP" CHAR(6),
  "TIPO_DOC_CRED" CHAR(1),
  "DOC_CRED" CHAR(15)
)
AS
DECLARE VARIABLE GRUPOSUS CHAR(2);
DECLARE VARIABLE CODIGOAMB VARCHAR(8);
DECLARE VARIABLE A_MEDICOS INTEGER;
DECLARE VARIABLE auxESPECCPS2 char(2);
DECLARE VARIABLE AUXLINHA SMALLINT;
DECLARE VARIABLE auxTipoEmpresa CHAR(1);
DECLARE VARIABLE auxEspecial CHAR(2);
DECLARE variable auxCBO varchar(7);
DECLARE variable auxCBOSUS varchar(7);
DECLARE VARIABLE auxCPF char(11);
DECLARE VARIABLE auxCNES char(7);
Declare variable auxProfNome varchar(40);
declare variable codigopla integer;
BEGIN
     select codigopla from cps1 where codigocps = :codigocps into :codigopla;
     IND_EQUIPE = 0;
     TIPO_DOC_CRED = '5';
     select first 1 cnes from empresas into :auxCNES;
     SELECT AIH_NUM_AIH, AIH_IDENT, AIH_APRES, AIH_PRONT ,AIH_DT_INT, AIH_DT_SAI  FROM CPSSUSAIH
     WHERE CPSSUSAIH.CODIGOCPS = :CODIGOCPS
     INTO :NUM_AIH, :IDENT, :APRES, :PRONTUARIO, :DT_INT, :DT_SAI ;
     GRUPOSUS = NULL; CODIGOAMB = NULL; A_MEDICOS = 0; auxESPECCPS2 = NULL; AUXLINHA =0;
  if ( codigopla <> 3 ) then
  begin
     FOR SELECT CPS2.GRUPOSUS, CPS2.CODIGOAMB, CPS2.A_MEDICOS, CPS2.ESPECIALIDADE, CPS2.QUANTIDADE  FROM CPS2
         WHERE CPS2.CODIGOCPS2 = :CODIGOCPS
         ORDER BY CPS2.INDICE ASC
         INTO :GRUPOSUS, :CODIGOAMB, :A_MEDICOS, :auxESPECCPS2, :QTD_ATO DO
         BEGIN
              AUXLINHA = AUXLINHA + 1 ;
              LINHA = AUXLINHA;
              ATO_PROF = GRUPOSUS || CODIGOAMB;
              auxTipoEmpresa = NULL; auxEspecial = null;
              CBO = NULL;
              auxCPF = null;
              auxProfNome = null;
              SELECT A_NOME, TIPOEMPRESA, CNPJ, A_CPF, ESPECIAL, SUS FROM MEDICOS
                 WHERE A_MEDICOS = :A_MEDICOS
               INTO :auxProfNome, :auxTipoEmpresa, :CNPJ, :auxCPF, :auxEspecial, :CNS;
              if ( (auxEspecCPS2 is null ) and (auxEspecial is not null ) ) then
                  auxEspecCPS2 = auxEspecial;
              CNES = NULL;
              CPF = null;
              CBO = null;
              PROF_NOME = null;
              DOC_CRED = auxCNES;
              if ( ( ( auxEspecCPS2 is not null ) ) and ( NOT(ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') )  ) then
              begin
                  CPF = auxCPF;
                  CNES = auxCNES;
                  PROF_NOME = auxProfNome;
                  select cbo, cbosus from especialidade
                  where codesp = :auxEspecCPS2
                  into :auxCBO, :auxCBOSUS ;
                  begin
                      if ( auxCBOSUS is not null ) then
                        CBO = auxCBOSUS;
                      else if ( auxCBO is not null ) then
                        CBO =auxCBO;
                  end
                  CNES = DOC_CRED;
                  if ( ( (ATO_PROF >= '0800000000' AND ATO_PROF <= '089999999999') ) OR ( ( ATO_PROF >= '0200000000' AND ATO_PROF <= '029999999999') ) ) then
                  begin
                     CPF = NULL;
                     CBO = NULL;
                  end
              end
              else if (ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') then
                   DOC_CRED = CNPJ;
              SUSPEND;
         END
   end
   else -- codigopl a=3
   begin
     FOR SELECT inter3.GRUPOSUS, inter3.CODIGOAMB, inter3.A_MEDICOS, inter3.codesp, inter3.QUANTIDADE  FROM inter3
         WHERE inter3.codigoint = :CODIGOCPS  and ( inter3.cobrar = 'S' or (inter3.cobrar = 'B' and inter3.gruposus = '02' and inter3.codigoamb between '01000000' and '10999999') )
         ORDER BY inter3.inter3no ASC
         INTO :GRUPOSUS, :CODIGOAMB, :A_MEDICOS, :auxESPECCPS2, :QTD_ATO DO
         BEGIN
              AUXLINHA = AUXLINHA + 1 ;
              LINHA = AUXLINHA;
              ATO_PROF = GRUPOSUS || CODIGOAMB;
              auxTipoEmpresa = NULL; auxEspecial = null;
              CBO = NULL;
              auxCPF = null;
              auxProfNome = null;
              SELECT A_NOME, TIPOEMPRESA, CNPJ, A_CPF, ESPECIAL, SUS FROM MEDICOS
                 WHERE A_MEDICOS = :A_MEDICOS
               INTO :auxProfNome, :auxTipoEmpresa, :CNPJ, :auxCPF, :auxEspecial, :CNS;
              if ( (auxEspecCPS2 is null ) and (auxEspecial is not null ) ) then
                  auxEspecCPS2 = auxEspecial;
              CNES = NULL;
              CPF = null;
              CBO = null;
              PROF_NOME = null;
              DOC_CRED = auxCNES;
              if ( ( ( auxEspecCPS2 is not null ) ) and ( NOT(ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') )  ) then
              begin
                  CPF = auxCPF;
                  CNES = auxCNES;
                  PROF_NOME = auxProfNome;
                  select cbo, cbosus from especialidade
                  where codesp = :auxEspecCPS2
                  into :auxCBO, :auxCBOSUS ;
                  begin
                      if ( auxCBOSUS is not null ) then
                        CBO = auxCBOSUS;
                      else if ( auxCBO is not null ) then
                        CBO =auxCBO;
                  end
                  CNES = DOC_CRED;
                  if ( ( (ATO_PROF >= '0800000000' AND ATO_PROF <= '089999999999') ) OR ( ( ATO_PROF >= '0200000000' AND ATO_PROF <= '029999999999') ) ) then
                  begin
                     CPF = NULL;
                     CBO = NULL;
                  end
              end
              else if (ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') then
                   DOC_CRED = CNPJ;
              SUSPEND;
         END
   end
END
 ^


ALTER PROCEDURE "AIHPROC_CPC" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "NUM_AIH" CHAR(13),
  "IDENT" CHAR(2),
  "APRES" CHAR(6),
  "PRONTUARIO" VARCHAR(15),
  "DT_INT" TIMESTAMP,
  "DT_SAI" TIMESTAMP,
  "LINHA" SMALLINT,
  "ATO_PROF" CHAR(10),
  "PROF_NOME" VARCHAR(40),
  "QTD_ATO" SMALLINT,
  "CPF" CHAR(11),
  "CNS" VARCHAR(15),
  "CBO" CHAR(7),
  "IND_EQUIPE" SMALLINT,
  "CNPJ" CHAR(14),
  "CNES" CHAR(7),
  "CMPT_UTI_ACOMP" CHAR(6),
  "TIPO_DOC_CRED" CHAR(1),
  "DOC_CRED" CHAR(15)
)
AS
DECLARE VARIABLE GRUPOSUS CHAR(2);
DECLARE VARIABLE CODIGOAMB VARCHAR(8);
DECLARE VARIABLE A_MEDICOS INTEGER;
DECLARE VARIABLE auxESPECCPS2 char(2);
DECLARE VARIABLE AUXLINHA SMALLINT;
DECLARE VARIABLE auxTipoEmpresa CHAR(1);
DECLARE VARIABLE auxEspecial CHAR(2);
DECLARE variable auxCBO varchar(7);
DECLARE variable auxCBOSUS varchar(7);
DECLARE VARIABLE auxCPF char(11);
DECLARE VARIABLE auxCNES char(7);
Declare variable auxProfNome varchar(40);
declare variable codigopla integer;
BEGIN
     select codigopla from cps1 where codigocps = :codigocps into :codigopla;
     IND_EQUIPE = 0;
     TIPO_DOC_CRED = '5';
     select first 1 cnes from empresas into :auxCNES;
     SELECT AIH_NUM_AIH, AIH_IDENT, AIH_APRES, AIH_PRONT ,AIH_DT_INT, AIH_DT_SAI  FROM CPSSUSAIH
     WHERE CPSSUSAIH.CODIGOCPS = :CODIGOCPS
     INTO :NUM_AIH, :IDENT, :APRES, :PRONTUARIO, :DT_INT, :DT_SAI ;
     GRUPOSUS = NULL; CODIGOAMB = NULL; A_MEDICOS = 0; auxESPECCPS2 = NULL; AUXLINHA =0;
  if ( codigopla <> 3 ) then
  begin
     FOR SELECT CPS2.GRUPOSUS, CPS2.CODIGOAMB, CPS2.A_MEDICOS, CPS2.ESPECIALIDADE, CPS2.QUANTIDADE  FROM CPS2
         WHERE CPS2.CODIGOCPS2 = :CODIGOCPS
         ORDER BY CPS2.INDICE ASC
         INTO :GRUPOSUS, :CODIGOAMB, :A_MEDICOS, :auxESPECCPS2, :QTD_ATO DO
         BEGIN
              AUXLINHA = AUXLINHA + 1 ;
              LINHA = AUXLINHA;
              ATO_PROF = GRUPOSUS || CODIGOAMB;
              auxTipoEmpresa = NULL; auxEspecial = null;
              CBO = NULL;
              auxCPF = null;
              auxProfNome = null;
              SELECT A_NOME, TIPOEMPRESA, CNPJ, A_CPF, ESPECIAL, SUS FROM MEDICOS
                 WHERE A_MEDICOS = :A_MEDICOS
               INTO :auxProfNome, :auxTipoEmpresa, :CNPJ, :auxCPF, :auxEspecial, :CNS;
              if ( (auxEspecCPS2 is null ) and (auxEspecial is not null ) ) then
                  auxEspecCPS2 = auxEspecial;
              CNES = NULL;
              CPF = null;
              CBO = null;
              PROF_NOME = null;
              DOC_CRED = auxCNES;
              if ( ( ( auxEspecCPS2 is not null ) ) and ( NOT(ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') )  ) then
              begin
                  CPF = auxCPF;
                  CNES = auxCNES;
                  PROF_NOME = auxProfNome;
                  select cbo, cbosus from especialidade
                  where codesp = :auxEspecCPS2
                  into :auxCBO, :auxCBOSUS ;
                  begin
                      if ( auxCBOSUS is not null ) then
                        CBO = auxCBOSUS;
                      else if ( auxCBO is not null ) then
                        CBO =auxCBO;
                  end
                  CNES = DOC_CRED;
                  if ( ( (ATO_PROF >= '0800000000' AND ATO_PROF <= '089999999999') ) OR ( ( ATO_PROF >= '0200000000' AND ATO_PROF <= '029999999999') ) ) then
                  begin
                     CPF = NULL;
                     CBO = NULL;
                  end
              end
              else if (ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') then
                   DOC_CRED = CNPJ;
              SUSPEND;
         END
   end
   else -- codigopl a=3
   begin
    for select procedimento, a_medicos, codesp, quantidade from sp_ord_proc_aih(:codigocps)
         INTO :ATO_PROF, :A_MEDICOS, :auxESPECCPS2, :QTD_ATO DO
         BEGIN
              AUXLINHA = AUXLINHA + 1 ;
              LINHA = AUXLINHA;
              --ATO_PROF = GRUPOSUS || CODIGOAMB;
              auxTipoEmpresa = NULL; auxEspecial = null;
              CBO = NULL;
              auxCPF = null;
              auxProfNome = null;
              SELECT A_NOME, TIPOEMPRESA, CNPJ, A_CPF, ESPECIAL, SUS FROM MEDICOS
                 WHERE A_MEDICOS = :A_MEDICOS
               INTO :auxProfNome, :auxTipoEmpresa, :CNPJ, :auxCPF, :auxEspecial, :CNS;
              if ( (auxEspecCPS2 is null ) and (auxEspecial is not null ) ) then
                  auxEspecCPS2 = auxEspecial;
              CNES = NULL;
              CPF = null;
              CBO = null;
              PROF_NOME = null;
              DOC_CRED = auxCNES;
              if ( ( ( auxEspecCPS2 is not null ) ) and ( NOT(ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') )  ) then
              begin
                  CPF = auxCPF;
                  CNES = auxCNES;
                  PROF_NOME = auxProfNome;
                  select cbo, cbosus from especialidade
                  where codesp = :auxEspecCPS2
                  into :auxCBO, :auxCBOSUS ;
                  begin
                      if ( auxCBOSUS is not null ) then
                        CBO = auxCBOSUS;
                      else if ( auxCBO is not null ) then
                        CBO =auxCBO;
                  end
                  CNES = DOC_CRED;
                  if ( ( (ATO_PROF >= '0800000000' AND ATO_PROF <= '089999999999') ) OR ( ( ATO_PROF >= '0200000000' AND ATO_PROF <= '029999999999') ) ) then
                  begin
                     CPF = NULL;
                     CBO = NULL;
                  end
              end
              else if (ATO_PROF >= '0700000000' AND ATO_PROF <= '079999999999') then
                   DOC_CRED = CNPJ;
              SUSPEND;
         END
   end
END
 ^


ALTER PROCEDURE "AJUSTACONTA" 
(
  "AJUSTE" INTEGER,
  "USER1" INTEGER
)
RETURNS
(
  "TOTAL" DOUBLE PRECISION
)
AS
declare variable codigocps integer;
declare variable tratamento integer;
declare variable inicio timestamp;
declare variable data timestamp;
declare variable fim timestamp;
declare variable codigoserv integer;
declare variable qtde integer;
declare variable a_medicos integer;
declare variable qtdecps integer;
declare variable tipo integer;
declare variable dhe char(1);
declare variable tipoajuste char(1);
declare variable cont integer;
declare variable indice integer;
declare variable valor double precision;
declare variable unitario double precision;
begin
  total = 0;
  for select data, a_medicos, codigoserv, qtdeajuste,tipoajuste, dhe, unitario from ajustacpsitem where ajustacps = :ajuste and qtdeajuste < 0 into :data, :a_medicos, :codigoserv, :qtde, :tipo, :dhe, :unitario do
  begin
    qtde = -1*qtde;
    cont = 0;
    select codigocps, tratamento, inicio, fim, tipo from ajustacps where indice = :ajuste and (status <> 'S' or status is null) into :codigocps, :tratamento, :inicio, :fim, :tipoajuste;
    for select cps.indice,cps.quantidade,cps.valor from
        cps('where codigocps = ' || cast(cast(:codigocps as integer) as varchar(30)) || ' and tratamento =' || cast(:tratamento as varchar(30)))
        where data = :data and (cobrar = 'S' or cobrar is null) and dhe = :dhe and codigoserv = :codigoserv and a_medicos = :a_medicos and cast(cps.valor/cps.quantidade as numeric(15,2)) = :unitario
        order by quantidade desc
        into :indice, :qtdecps, :valor do
    begin
      if (qtde > 0) then
      begin
        If (qtdecps <= qtde) then
        begin
          if (dhe = 'M') then
            update inter32 set cobrar = 'N',user2 = :user1 where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
          else
            update inter3 set cobrar = 'N',user2 = :user1  where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
          qtde = qtde - qtdecps;
        end
        else
        begin
          if (dhe = 'M') then
            update inter32 set quantidade = quantidade - :qtde, user2 = :user1 where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
          else
            update inter3 set quantidade = quantidade - :qtde,valor = (quantidade - :qtde)*(valor/quantidade) ,  user2 = :user1 where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
          qtde = 0;
        end
        if (tipoajuste = 'I') then
        begin
          if (dhe = 'M') then
            update inter32 set glosatipo = :tipo where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
          else
            update inter3 set glosatipo = :tipo where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
        end
        else
        begin
          if (dhe = 'M') then
            update inter32 set glosatipo2 = :tipo where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
          else
            update inter3 set glosatipo2 = :tipo where inter3no = :indice and codigoint = :codigocps and tratamento = :tratamento;
        end
      end
    end
  end
  suspend;
end
 ^


ALTER PROCEDURE "AJUSTACPSITENS" 
(
  "AJUSTE" INTEGER
)
AS
declare variable codigocps integer;
declare variable tratamento integer;
declare variable user1 integer;
declare variable inicio timestamp;
declare variable fim timestamp;
begin
  select codigocps, tratamento,inicio, fim,user1 from ajustacps where indice = :ajuste and (status <> 'S' or status is null) into :codigocps, :tratamento, :inicio, :fim, :user1;
  insert into ajustacpsitem (ajustacps, a_medicos, codigoserv, codigoamb, dhe, data, user1, data1, unitario, qtde, total)
  select ajustacps.indice, cps.a_medicos, cps.codigoserv, cps.codigoamb, cps.dhe, cps.data, ajustacps.user1, ajustacps.data1, cast(cps.valor/cps.quantidade as numeric(15,2)) , sum(cps.quantidade), sum(cps.valor) from
  cps('where codigocps = ' || cast(:codigocps as varchar(30)) || ' and tratamento =' || cast(:tratamento as varchar(30)))
  inner join ajustacps on (ajustacps.codigocps = cps.codigocps and ajustacps.tratamento = cps.tratamento)
  where data between :inicio and :fim and (cobrar = 'S' or cobrar is null) and (cps.quantidade > 0)
  group by 1,2,3,4,5,6,7,8,9;
end
 ^


ALTER PROCEDURE "AJUSTECCIHPAC" 
RETURNS
(
  "OK" VARCHAR(10),
  "CPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PACIENTE" INTEGER
)
AS
begin
ok = '';
   FOR select cps, codigopac, paciente from ccih
   inner join cps1 on ccih.cps =  cps1.codigocps
   into
   :cps,  :CODIGOPAC, PACIENTE do
   begin
       update ccih set paciente = :CODIGOPAC where ccih.cps = :cps;
   IF (:PACIENTE > 0) Then
     ok = 'ok';
      suspend;
  end
end
 ^


ALTER PROCEDURE "ANALISEENVIO" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER
)
RETURNS
(
  "CONVENIOANT" INTEGER,
  "NOMECONVENIO" VARCHAR(50),
  "AMBENVANTERIOR" INTEGER,
  "AMBENVPERIODO" INTEGER,
  "AMBPENANTERIOR" INTEGER,
  "AMBPENPERIODO" INTEGER,
  "EMGENVANTERIOR" INTEGER,
  "EMGENVPERIODO" INTEGER,
  "EMGPENANTERIOR" INTEGER,
  "EMGPENPERIODO" INTEGER,
  "INTENVANTERIOR" INTEGER,
  "INTENVPERIODO" INTEGER,
  "INTPENANTERIOR" INTEGER,
  "INTPENPERIODO" INTEGER
)
AS
declare variable codigopla integer;
declare variable fatura integer;
declare variable a_datafat integer;
declare variable a_data timestamp;
declare variable convenio integer;
declare variable codigoplaant integer;
declare variable faturaant    integer;
declare variable a_datafatant integer;
declare variable cont    integer;
begin
convenioant = 0;
ambenvanterior = 0; ambenvperiodo = 0; ambpenanterior = 0; ambpenperiodo = 0;
emgenvanterior = 0; emgenvperiodo = 0; emgpenanterior = 0; emgpenperiodo = 0;
intenvanterior = 0; intenvperiodo = 0; intpenanterior = 0; intpenperiodo = 0;
for select envioqtde.convenio, convenio.a_nome, envioqtde.codigopla,
CASE WHEN envioqtde.fatura = 0 THEN 0 ELSE 1 END,
CASE WHEN envioqtde.a_datafat < :data1 THEN 0 ELSE 1 END
from envioqtde envioqtde
inner join convenio convenio on ( convenio.convenio = envioqtde.convenio )
where (( envioqtde.fatura = 0 and envioqtde.a_datafat < :data1) or ( envioqtde.a_datafat between :data1 and :data2) or (( envioqtde.a_data between :data1 and :data2) and envioqtde.fatura >0) or (envioqtde.a_datafat is null and envioqtde.datainicio < :data2))
and ( envioqtde.convenio between :convenio1 and :convenio2) and (envioqtde.a_situacao <> 4) and (envioqtde.a_situacao <> 6) and (envioqtde.a_situacao <> 7)
and ( envioqtde.a_datafat > '12/31/2005' )
order by 1,3,4 desc,5
into :convenio, :nomeconvenio, :codigopla, :fatura, :a_datafat do
begin
  if ( convenioant = 0) then
  begin
   cont = 0;
   convenioant = :convenio;
   codigoplaant = :codigopla;
   faturaant = :fatura;
   a_datafatant = :a_datafat;
  end
  if ((convenioant <> convenio) or (codigoplaant <> codigopla) or
     (faturaant <>fatura)  or (a_datafatant <> a_datafat)) then
  begin
    if (codigoplaant = 1) then
    begin
      if (faturaant > 0) then
      begin
        if (a_datafatant = 0) then
          ambenvanterior = cont;
        else
          ambenvperiodo  = cont;
      end
      else
      begin
        if (a_datafatant = 0) then
          ambpenanterior = cont;
        else
          ambpenperiodo  = cont;
      end
    end
    if (codigoplaant = 2) then
    begin
      if (faturaant > 0) then
      begin
        if (a_datafatant = 0) then
          emgenvanterior = cont;
        else
          emgenvperiodo  = cont;
      end
      else
      begin
        if (a_datafatant = 0) then
          emgpenanterior = cont;
        else
          emgpenperiodo  = cont;
      end
    end
    if (codigoplaant = 3) then
    begin
      if (faturaant > 0) then
      begin
        if (a_datafatant = 0) then
          intenvanterior = cont;
        else
          intenvperiodo  = cont;
      end
      else
      begin
        if (a_datafatant = 0) then
          intpenanterior = cont;
        else
          intpenperiodo  = cont;
      end
    end
    cont = 0;
    codigoplaant = codigopla;
    faturaant = fatura;
    a_datafatant = a_datafat;
  end
  cont = cont + 1;
  if (convenioant <> convenio) then
  begin
    suspend;
    convenioant = convenio;
    ambenvanterior = 0; ambenvperiodo = 0; ambpenanterior = 0; ambpenperiodo = 0;
    emgenvanterior = 0; emgenvperiodo = 0; emgpenanterior = 0; emgpenperiodo = 0;
    intenvanterior = 0; intenvperiodo = 0; intpenanterior = 0; intpenperiodo = 0;
  end
end
suspend;
end
 ^


ALTER PROCEDURE "ANALISEFATURAINTER" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "FATURA" FLOAT,
  "CONVENIO" INTEGER,
  "TAXA" FLOAT,
  "HONO" FLOAT,
  "DIARIA" FLOAT,
  "ORTP" FLOAT,
  "MESP" FLOAT,
  "OPME" FLOAT,
  "MAT" FLOAT,
  "MED" FLOAT,
  "APAR" FLOAT,
  "CONSUL" FLOAT,
  "PROCESP" FLOAT,
  "EXAMLAB" FLOAT,
  "GASOT" FLOAT,
  "MAMO" FLOAT,
  "NEB" FLOAT,
  "OMOT" FLOAT,
  "EXAMESP" FLOAT,
  "TOMO" FLOAT,
  "RAIOX" FLOAT,
  "FISIO" FLOAT,
  "ULTRAS" FLOAT,
  "AVAL" FLOAT,
  "PACOTES" FLOAT,
  "OUTROS" FLOAT
)
AS
declare variable a_tipo varchar(1);
declare variable a_codamb  char(8);
declare variable valor float;
begin
  taxa = 0;
  diaria = 0;
  hono = 0;
  mat = 0;
  med = 0;
  ortp = 0;
  opme = 0;
  mesp = 0;
  outros = 0;
  apar = 0;
  consul=0;
  procesp=0;
  examLab=0;
  gasot=0;
  mamo=0;
  neb=0;
  omot=0;
  examesp=0;
  tomo=0;
  raiox=0;
  fisio=0;
  ultras=0;
  aval=0;
  pacotes=0;
  for execute statement 'select cps.fatura, cps.convenio, servicos.a_tipo, matmed.a_codamb, cps.valor from cps('''  || consulta || ''')
                         left join servicos on servicos.codigoserv = cps.codigoserv and cps.dhe <> ''M''
                         left join matmed on matmed.codigomm = cps.codigoserv and cps.dhe = ''M''
                         where cps.cobrar = ''S'' or cps.cobrar is null'
   into :fatura, :convenio, :a_tipo, :a_codamb, :valor do
   begin
     if (a_tipo = 'T') then taxa = taxa + valor;
     if (a_tipo = 'D') then diaria = diaria + valor;
     if (a_tipo = 'H') then hono = hono + valor;
     if (a_tipo = 'A') then apar = apar + valor;
     if (a_tipo = 'B') then consul = consul + valor;
     if (a_tipo = 'C') then procesp = procesp + valor;
     if (a_tipo = 'E') then examLab = examLab + valor;
     if (a_tipo = 'G') then gasot = gasot + valor;
     if (a_tipo = 'M') then mamo = mamo + valor;
     if (a_tipo = 'N') then neb = neb + valor;
     if (a_tipo = 'O') then omot = omot + valor;
     if (a_tipo = 'P') then examesp = examesp + valor;
     if (a_tipo = 'Q') then tomo = tomo + valor;
     if (a_tipo = 'R') then raiox = raiox + valor;
     if (a_tipo = 'S') then fisio = fisio + valor;
     if (a_tipo = 'U') then ultras = ultras + valor;
     if (a_tipo = 'V') then aval = aval + valor;
     if (a_tipo = 'X') then pacotes = pacotes + valor;
     else if (a_codamb = '72140011') then
     begin
       med = med + valor;
     end
     else if ((a_codamb = '72140046') or (a_codamb = '72000001')) then
     begin
       mat = mat + valor;
     end
     else if (a_codamb = '72000008') then
     begin
       ortp = ortp + valor;
     end
     else if (a_codamb = '72000000')   then
     begin
       mesp = mesp + valor;
     end
   end
   opme = mesp+ortp;
   If ((taxa > 0) or (mat > 0) or (med > 0) or (opme > 0) or (outros > 0)) then
     suspend;
end
 ^


ALTER PROCEDURE "ANALISEPACOTE" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMENTO" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "CUSTO" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT,
  "TAXA" FLOAT,
  "CODAMBMM" VARCHAR(8),
  "MEDICVAL" FLOAT,
  "MATERVAL" FLOAT,
  "CONTRVAL" FLOAT,
  "OPEMVAL" FLOAT
)
AS
declare variable a_tipo char(1);
declare variable pacote1 char(1);
declare variable cobrar  char(1);
declare variable valor float;
declare variable custoaux float;
declare variable porteaux integer;
begin
  for select Inter2.CODIGOINT, cps1.codigopac, inter2.convenio, inter2.a_data data from inter2
  inner join tratamento on (tratamento.tratamento = inter2.tratamento)
  inner join cps1 on (cps1.codigocps = inter2.codigoint)
  where (inter2.a_data between :data1 and :data2) and
         (inter2.convenio between :convenio1 and :convenio2) and
         ((:tipo > 0 and inter2.fatura = :tipo) or (:tipo = 0)) and
         ((:codtratamento > 0 and inter2.tratamento = :codtratamento) or (:codtratamento = 0))
  into :codigocps, :codigopac, :convenio, :data do
  begin
    procedimento = 0;
    dtx = 0;
    gaso = 0;
    exames = 0;
    pacote = 0;
    mm = 0;
    custo = 0;
    cobrado = 0;
    ncobrado = 0;
    porte = 0;
    taxa = 0;
    codambMM = null;
    medicVal = 0;
    materVal = 0;
    contrVal = 0;
    opemVal  = 0;
   for select servicos.a_tipo, servicos.a_porte, cps.cobrar, matmed.a_codamb, sum(cps.valor), sum(cps.custo) from cps('where codigocps =' || cast(:codigocps as integer) )
       left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
       left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
       where (:unidadenegocio > 0 and cps.unidadenegocio = :unidadenegocio) or (:unidadenegocio = 0) and (cps.cobrar = 'N')
       group by 1,2,3,4 into :a_tipo, :porteaux, :cobrar, :codambMM,:valor, :custoaux do
   begin
     if (porte < porteaux) then
       porte = porteaux;
     if (a_tipo = 'X') then
         pacote = pacote + valor;
     else if (a_tipo = 'D') then
        dtx = dtx + valor;
     else if ((a_tipo = 'G') OR (a_tipo = 'T') or (a_tipo = 'A') or (a_tipo = 'N') ) then
        taxa = taxa + valor;
     else if (a_tipo is not null)  then
        procedimento = procedimento + valor;
     else if (a_tipo is null) then
     begin
         if ( codambMM = '72140011' ) then
            medicVal = medicVal + valor;
         else if ( codambMM = '72140046' ) then
            materVal = materVal + valor;
         else if ( ( codambMM = '72000000' ) or ( codambMM = '72000002' ) or ( codambMM = '72000008' ) ) then
            opemVal = opemVal + valor;
         else if ( codambMM = '72000001' ) then
            contrVal = contrVal + valor;
     end
     if ((cobrar is null) or (cobrar = 'S')) then cobrado  = cobrado + valor;
     else ncobrado  = ncobrado + valor;
          custo = custo + custoaux;
   end
   suspend;
  end
end
 ^


ALTER PROCEDURE "APAC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(100),
  "APELIDO" VARCHAR(100),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(50),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(100),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(100),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(100),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(100),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(100),
  "PROF_SOL" VARCHAR(150),
  "PROF_CPF" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CONVENIO" VARCHAR(50),
  "CPS" INTEGER,
  "PROCEDIMENTO" VARCHAR(300),
  "PROC_CODIGO" VARCHAR(20)
)
AS
begin
  SELECT cast(datahora as date), cast(datahora as TIME), 'Hospital do Oeste', 'Hospital do Oeste', '397925', paciente.a_nome, paciente.apelido,
paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
paciente.telefone, paciente.UF_NASc, PACIENTE.NACIONALIDADE, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,paciente.CIDADE, paciente.cep,
'', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  'DIR_NOME', 'DIR_CREMEB','DIR_CPF',
EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
'CID1', 'CIDNOME', 'CID2','CID2NOME',
'PROC', 'CD_PROCEDIMENTO',
medicos.a_nome, medicos.a_cpf, medicos.a_cremeb, CPS1.CODIGOCPS
FROM EVOLUCAOENF
LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
left join usuarios on evolucaoenf.user1 = usuarios.codigo
left join medicos on usuarios.medico = medicos.a_medicos
--LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
where evolucaoenf.evolucao = :codigo
INTO
:DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :PACIENTE, :APELIDO,
:PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
:TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO, :MUNICIPIO, :CEP,
:IBGE, :UF_RES, :COMPLEMENTO, :IDENTIDADE, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
:HISTORIA_ADMISSAO, :PROBLEMAS, :SUSP_DIAGNOSTICA,
:CID1,  :CID1_NOME, :CID2, :CID2_NOME,
:PROCEDIMENTO, :PROC_CODIGO,
:PROF_SOL, :PROF_CPF, :PROF_CREMEB, :CPS;
  if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
  if (sexo ='F') then
    sexo = 'Feminino';
  else
    sexo = 'Masculino';
  convenio = 'SUS';
 DIRETOR_CLINICO = 'DR LUIZ CESAR SOLTOSKI';
  DIRETOR_CRMEB ='17812';
  DIRETOR_CPF = '50367854953';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE desc  into :cid2, :cid2_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  suspend;
end
 ^


ALTER PROCEDURE "APAC_PCCHOX" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(100),
  "APELIDO" VARCHAR(100),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(50),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(100),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(100),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(100),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(100),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(100),
  "PROF_SOL" VARCHAR(150),
  "PROF_CPF" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CONVENIO" VARCHAR(50),
  "CPS" INTEGER,
  "PROCEDIMENTO" VARCHAR(300),
  "PROC_CODIGO" VARCHAR(20)
)
AS
begin
  SELECT cast(datahora as date), cast(datahora as TIME), 'Hospital do Oeste', 'Hospital do Oeste', '397925', paciente.a_nome, paciente.apelido,
paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
paciente.telefone, paciente.UF_NASc, PACIENTE.NACIONALIDADE, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,paciente.CIDADE, paciente.cep,
'', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  'DIR_NOME', 'DIR_CREMEB','DIR_CPF',
EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
'CID1', 'CIDNOME', 'CID2','CID2NOME',
'PROC', 'CD_PROCEDIMENTO',
medicos.a_nome, medicos.a_cpf, medicos.a_cremeb, CPS1.CODIGOCPS
FROM EVOLUCAOENF
LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
left join usuarios on evolucaoenf.user1 = usuarios.codigo
left join medicos on usuarios.medico = medicos.a_medicos
--LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
where evolucaoenf.evolucao = :codigo
INTO
:DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :PACIENTE, :APELIDO,
:PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
:TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO, :MUNICIPIO, :CEP,
:IBGE, :UF_RES, :COMPLEMENTO, :IDENTIDADE, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
:HISTORIA_ADMISSAO, :PROBLEMAS, :SUSP_DIAGNOSTICA,
:CID1,  :CID1_NOME, :CID2, :CID2_NOME,
:PROCEDIMENTO, :PROC_CODIGO,
:PROF_SOL, :PROF_CPF, :PROF_CREMEB, :CPS;
  if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
  if (sexo ='F') then
    sexo = 'Feminino';
  else
    sexo = 'Masculino';
  convenio = 'SUS';
 DIRETOR_CLINICO = 'DR LUIZ CESAR SOLTOSKI';
  DIRETOR_CRMEB ='17812';
  DIRETOR_CPF = '50367854953';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE desc  into :cid2, :cid2_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  suspend;
end
 ^


ALTER PROCEDURE "APAC_PROC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "CODIGOPROC" VARCHAR(20),
  "PROCEDIMENTO" VARCHAR(300)
)
AS
BEGIN
 FOR SELECT first 5 codigoamb, cast(descricao as varchar(250)) DESCRICAO FROM ALTAITEM
LEFT JOIN SERVICOS ON ALTAITEM.CODIGOSERV = SERVICOS.CODIGOSERV
WHERE ALTA = :codigo and classe='Procedimentos' --AND SERVICOS.A_TIPO = 'Q'
  order by ALTAITEM.INDICE asc
  INTO
  :CODIGOPROC, :PROCEDIMENTO DO
  suspend;
END
 ^


ALTER PROCEDURE "APRAZAMENTO" 
(
  "INDICE" FLOAT,
  "TIPO" VARCHAR(30),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "OK13" CHAR(1),
  "OK14" CHAR(1),
  "OK15" CHAR(1),
  "OK16" CHAR(1),
  "OK17" CHAR(1),
  "OK18" CHAR(1),
  "OK19" CHAR(1),
  "OK20" CHAR(1),
  "OK21" CHAR(1),
  "OK22" CHAR(1),
  "OK23" CHAR(1),
  "OK24" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QX13" INTEGER,
  "QX14" INTEGER,
  "QX15" INTEGER,
  "QX16" INTEGER,
  "QX17" INTEGER,
  "QX18" INTEGER,
  "QX19" INTEGER,
  "QX20" INTEGER,
  "QX21" INTEGER,
  "QX22" INTEGER,
  "QX23" INTEGER,
  "QX24" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "QY13" TIMESTAMP,
  "QY14" TIMESTAMP,
  "QY15" TIMESTAMP,
  "QY16" TIMESTAMP,
  "QY17" TIMESTAMP,
  "QY18" TIMESTAMP,
  "QY19" TIMESTAMP,
  "QY20" TIMESTAMP,
  "QY21" TIMESTAMP,
  "QY22" TIMESTAMP,
  "QY23" TIMESTAMP,
  "QY24" TIMESTAMP
)
AS
begin
If (tipo = 'Dieta') then
  update notameddieta set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24
                           where codigo = cast(:indice as integer);
If (tipo = 'Monitorizao') then
  update notamed5 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Controle') then
  update notamed4 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Oxignio') then
  update notamed9 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Nebulizao') then
  update notamed10 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Ventilao') then
  update notamed8 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Fisioterapia') then
  update notamed6 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Soluo') then
  update notamed12 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Medicao') then
  update notamed2 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Exames') then
  update notamed3 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
If (tipo = 'Outros') then
  update notamed13 set ok1 = :ok1, ok2 = :ok2, ok3 = :ok3,ok4 = :ok4, ok5 = :ok5, ok6 = :ok6, ok7 = :ok7, ok8 = :ok8, ok9 = :ok9, ok10 = :ok10, ok11 = :ok11, ok12 = :ok12,
                          ok13 = :ok13, ok14 = :ok14, ok15 = :ok15, ok16 = :ok16, ok17 = :ok17, ok18 = :ok18, ok19 = :ok19, ok20 = :ok20, ok21 = :ok21, ok22 = :ok22, ok23 = :ok23, ok24 = :ok24,
                           qx1 = :qx1, qx2 = :qx2, qx3 = :qx3,qx4 = :qx4, qx5 = :qx5, qx6 = :qx6, qx7 = :qx7, qx8 = :qx8, qx9 = :qx9, qx10 = :qx10, qx11 = :qx11, qx12 = :qx12,
                          qx13 = :qx13, qx14 = :qx14, qx15 = :qx15, qx16 = :qx16, qx17 = :qx17, qx18 = :qx18, qx19 = :qx19, qx20 = :qx20, qx21 = :qx21, qx22 = :qx22, qx23 = :qx23, qx24 = :qx24,
                          qy1 = :qy1, qy2 = :qy2, qy3 = :qy3,qy4 = :qy4, qy5 = :qy5, qy6 = :qy6, qy7 = :qy7, qy8 = :qy8, qy9 = :qy9, qy10 = :qy10, qy11 = :qy11, qy12 = :qy12,
                          qy13 = :qy13, qy14 = :qy14, qy15 = :qy15, qy16 = :qy16, qy17 = :qy17, qy18 = :qy18, qy19 = :qy19, qy20 = :qy20, qy21 = :qy21, qy22 = :qy22, qy23 = :qy23, qy24 = :qy24 where sequencia = :indice;
end
 ^


ALTER PROCEDURE "APRAZAMENTO_LISTA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB,
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5)
)
AS
DECLARE VARIABLE AUX1 VARCHAR(100);
DECLARE VARIABLE AUX2 VARCHAR(100);
DECLARE VARIABLE AUX3 VARCHAR(100);
DECLARE VARIABLE PRESCRICAOAUX INTEGER;
DECLARE VARIABLE PRESCANTERIOR INTEGER;
DECLARE VARIABLE ULTCHECK INTEGER;
--DECLARE VARIABLE DATAHORA TIMESTAMP;
begin
  PRESCRICAOAUX = PRESCRICAO;
  FOR SELECT A_NOTAMED, CODIGOCPS, DATAHORA, HORAINICIO, ALA, UNIDADENEGOCIO, LEITO  FROM NOTAMED WHERE cast(DATAHORA as date) BETWEEN :DATA1 AND :DATA2 INTO :PRESCRICAO, :CODIGOCPS, DATAHORA, HORAINICIO, ALA, UNIDADENEGOCIO, LEITO DO
  BEGIN
--  select ocupleito.a_ala as Ala from ocupleito('today') where codigocps = :CODIGOCPS into :ALA;
  SELECT FIRST 1 A_NOTAMED, HORAINICIO FROM NOTAMED WHERE CODIGOCPS = :CODIGOCPS AND
  DATAHORA BETWEEN CAST(:DATAHORA AS DATE) - 1 AND CAST(:DATAHORA AS DATE)  AND TIPO = '0'  --AND IMPRESSO = 'S'
  ORDER BY A_NOTAMED DESC INTO PRESCANTERIOR, HORAINICIO;
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Soluo',SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, MARCADO
             FROM NOTAMED12
             WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, :MARCADO DO
  BEGIN
    select first 1 kit from prescricaoitem where descricao = :DESCRICAO into :KIT;
    IF ((:DESCRICAO = '   NaCl') OR (:DESCRICAO = '   KCl') or (:DESCRICAO = '   MgSO4') or (:DESCRICAO = '   KH2PO4')) Then
      DESCRICAO = 'Soluo ' || DESCRICAO;
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 <> '') then
      DESCRICAO = :DESCRICAO || ', em ' || :aux2;
    if (aux3 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux3;
    qtde = 1;
    HR1 = NULL;
    HR2 = NULL;
    HR3 = NULL;
    HR4 = NULL;
    HR5 = NULL;
    HR6 = NULL;
    HR7 = NULL;
    HR8 = NULL;
    HR9 = NULL;
    HR10 = NULL;
    HR11 = NULL;
    HR12 = NULL;
    if (:horainicio = 12) Then
    begin
     if (:OK1 = 'H') Then
       HR1 = 12;
     if (:OK2 = 'H') Then
       HR2 = 14;
     if (:OK3 = 'H') Then
       HR3 = 16;
     if (:OK4 = 'H') Then
       HR4 = 18;
     if (:OK5 = 'H') Then
       HR5 = 20;
     if (:OK6 = 'H') Then
       HR6 = 22;
     if (:OK7 = 'H') Then
       HR7 = 24;
     if (:OK8 = 'H') Then
       HR8 = 02;
     if (:OK9 = 'H') Then
       HR9 = 04;
     if (:OK10 = 'H') Then
       HR10 = 06;
     if (:OK11 = 'H') Then
       HR11 = 08;
     if (:OK12 = 'H') Then
       HR12 = 10;
    end
      if (:horainicio = 14) Then
  begin
    if (:OK1 = 'H') Then
       HR1 = 14;
    if (:OK2 = 'H') Then
       HR2 = 16;
    if (:OK3 = 'H') Then
       HR3 = 18;
    if (:OK4 = 'H') Then
       HR4 = 20;
    if (:OK5 = 'H') Then
       HR5 = 22;
    if (:OK6 = 'H') Then
       HR6 = 24;
    if (:OK7 = 'H') Then
       HR7 = 02;
    if (:OK8 = 'H') Then
       HR8 = 04;
    if (:OK9 = 'H') Then
       HR9 = 06;
    if (:OK10 = 'H') Then
       HR10 = 08;
    if (:OK11 = 'H') Then
       HR11 = 10;
    if (:OK12 = 'H') Then
       HR12 = 12;
  end
    if (:horainicio = 16) Then
    begin
     if (:OK1 = 'H') Then
       HR1 = 16;
     if (:OK2 = 'H') Then
       HR2 = 18;
     if (:OK3 = 'H') Then
       HR3 = 20;
     if (:OK4 = 'H') Then
       HR4 = 22;
     if (:OK5 = 'H') Then
       HR5 = 24;
     if (:OK6 = 'H') Then
       HR6 = 02;
     if (:OK7 = 'H') Then
       HR7 = 04;
     if (:OK8 = 'H') Then
       HR8 = 06;
     if (:OK9 = 'H') Then
       HR9 = 08;
     if (:OK10 = 'H') Then
       HR10 = 10;
     if (:OK11 = 'H') Then
       HR11 = 12;
     if (:OK12 = 'H') Then
       HR12 = 14;
    end
    if (marcado is null) Then
      marcado = 0;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicao',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, MARCADO, A_KITS
             FROM NOTAMED2 WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and (SUSPENSO IS NULL OR suspenso <> 'S') order by grupo, ordem,medicament
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12, :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10,
              :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER, :MARCADO, KIT  DO
  BEGIN
    if (RDB$GET_CONTEXT('USER_SESSION','SAPIITEM') = 'APRAZAMENTO') THEN
    BEGIN
      ULTCHECK = NULL;
      select FIRST 1 iif(ok12 = 'S','22',iif(ok11 = 'S','20',iif(ok10 = 'S','18',iif(ok9 = 'S','16',iif(ok8 = 'S','14',iif(ok7 = 'S','12',iif(ok6 = 'S','10',iif(ok5 = 'S','8',iif(ok4 = 'S','6',iif(ok3 = 'S','4',iif(ok2 = 'S','2',iif(ok1 = 'S','0',null))))))))))))
      from NOTAMED2 WHERE a_notamed = :PRESCANTERIOR AND medicament = :descricao INTO ULTCHECK;
      IF (ULTCHECK IS NOT NULL) THEN
      begin
       ultcheck = horainicio +ultcheck;
       If (ultcheck > 24) then ultcheck = ultcheck - 24;
        DESCRICAO = DESCRICAO || ' (Ult Check ' || :ultcheck  || 'h)';
      end
    END
    if (:KIT = 0) Then
       TIPO = 'Medicao No Padro';
    if (qtde > 1) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
       HR1 = NULL;
       HR2 = NULL;
       HR3 = NULL;
       HR4 = NULL;
       HR5 = NULL;
       HR6 = NULL;
       HR7 = NULL;
       HR8 = NULL;
       HR9 = NULL;
       HR10 = NULL;
       HR11 = NULL;
       HR12 = NULL;
  if (:horainicio = 12) Then
  begin
    if (:OK1 = 'H') Then
       HR1 = 12;
    if (:OK2 = 'H') Then
       HR2 = 14;
    if (:OK3 = 'H') Then
       HR3 = 16;
    if (:OK4 = 'H') Then
       HR4 = 18;
    if (:OK5 = 'H') Then
       HR5 = 20;
    if (:OK6 = 'H') Then
       HR6 = 22;
    if (:OK7 = 'H') Then
       HR7 = 24;
    if (:OK8 = 'H') Then
       HR8 = 02;
    if (:OK9 = 'H') Then
       HR9 = 04;
    if (:OK10 = 'H') Then
       HR10 = 06;
    if (:OK11 = 'H') Then
       HR11 = 08;
    if (:OK12 = 'H') Then
       HR12 = 10;
  end
  if (:horainicio = 14) Then
  begin
    if (:OK1 = 'H') Then
       HR1 = 14;
    if (:OK2 = 'H') Then
       HR2 = 16;
    if (:OK3 = 'H') Then
       HR3 = 18;
    if (:OK4 = 'H') Then
       HR4 = 20;
    if (:OK5 = 'H') Then
       HR5 = 22;
    if (:OK6 = 'H') Then
       HR6 = 24;
    if (:OK7 = 'H') Then
       HR7 = 02;
    if (:OK8 = 'H') Then
       HR8 = 04;
    if (:OK9 = 'H') Then
       HR9 = 06;
    if (:OK10 = 'H') Then
       HR10 = 08;
    if (:OK11 = 'H') Then
       HR11 = 10;
    if (:OK12 = 'H') Then
       HR12 = 12;
  end
  if (:horainicio = 16) Then
  begin
    if (:OK1 = 'H') Then
       HR1 = 16;
    if (:OK2 = 'H') Then
       HR2 = 18;
    if (:OK3 = 'H') Then
       HR3 = 20;
    if (:OK4 = 'H') Then
       HR4 = 22;
    if (:OK5 = 'H') Then
       HR5 = 24;
    if (:OK6 = 'H') Then
       HR6 = 02;
    if (:OK7 = 'H') Then
       HR7 = 04;
    if (:OK8 = 'H') Then
       HR8 = 06;
    if (:OK9 = 'H') Then
       HR9 = 08;
    if (:OK10 = 'H') Then
       HR10 = 10;
    if (:OK11 = 'H') Then
       HR11 = 12;
    if (:OK12 = 'H') Then
       HR12 = 14;
  end
  if (marcado is null) Then
     marcado = 0;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicaes Suspensas',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, MARCADO  FROM NOTAMED2
             WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and SUSPENSO = 'S'
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER, :MARCADO  DO
  BEGIN
    if (qtde is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    if (marcado is null) Then
     marcado = 0;
    SUSPEND;
  END
  AUX1 = NULL;
  end
end
 ^


ALTER PROCEDURE "APRAZAMENTO_LISTA_CPC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB,
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5)
)
AS
DECLARE VARIABLE AUX1 VARCHAR(100);
DECLARE VARIABLE AUX2 VARCHAR(100);
DECLARE VARIABLE AUX3 VARCHAR(100);
DECLARE VARIABLE PRESCRICAOAUX INTEGER;
DECLARE VARIABLE PRESCANTERIOR INTEGER;
DECLARE VARIABLE ULTCHECK INTEGER;
--DECLARE VARIABLE DATAHORA TIMESTAMP;
begin
  PRESCRICAOAUX = PRESCRICAO;
  FOR SELECT A_NOTAMED, CODIGOCPS, DATAHORA, HORAINICIO, ALA, UNIDADENEGOCIO, LEITO  FROM NOTAMED WHERE cast(DATAHORA as date) BETWEEN :DATA1 AND :DATA2 INTO :PRESCRICAO, :CODIGOCPS, DATAHORA, HORAINICIO, ALA, UNIDADENEGOCIO, LEITO DO
  BEGIN
--  select ocupleito.a_ala as Ala from ocupleito('today') where codigocps = :CODIGOCPS into :ALA;
  SELECT FIRST 1 A_NOTAMED, HORAINICIO FROM NOTAMED WHERE CODIGOCPS = :CODIGOCPS AND
  DATAHORA BETWEEN CAST(:DATAHORA AS DATE) - 1 AND CAST(:DATAHORA AS DATE)  AND TIPO = '0'  --AND IMPRESSO = 'S'
  ORDER BY A_NOTAMED DESC INTO PRESCANTERIOR, HORAINICIO;
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Soluo',SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, MARCADO
             FROM NOTAMED12
             WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, :MARCADO DO
  BEGIN
    select first 1 kit from prescricaoitem where descricao = :DESCRICAO into :KIT;
    IF ((:DESCRICAO = '   NaCl') OR (:DESCRICAO = '   KCl') or (:DESCRICAO = '   MgSO4') or (:DESCRICAO = '   KH2PO4')) Then
      DESCRICAO = 'Soluo ' || DESCRICAO;
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 <> '') then
      DESCRICAO = :DESCRICAO || ', em ' || :aux2;
    if (aux3 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux3;
    qtde = 1;
    HR1 = NULL;
    HR2 = NULL;
    HR3 = NULL;
    HR4 = NULL;
    HR5 = NULL;
    HR6 = NULL;
    HR7 = NULL;
    HR8 = NULL;
    HR9 = NULL;
    HR10 = NULL;
    HR11 = NULL;
    HR12 = NULL;
    if (:horainicio = 12) Then
    begin
     if (:OK1 = 'H') Then
       HR1 = 12;
     if (:OK2 = 'H') Then
       HR2 = 14;
     if (:OK3 = 'H') Then
       HR3 = 16;
     if (:OK4 = 'H') Then
       HR4 = 18;
     if (:OK5 = 'H') Then
       HR5 = 20;
     if (:OK6 = 'H') Then
       HR6 = 22;
     if (:OK7 = 'H') Then
       HR7 = 24;
     if (:OK8 = 'H') Then
       HR8 = 02;
     if (:OK9 = 'H') Then
       HR9 = 04;
     if (:OK10 = 'H') Then
       HR10 = 06;
     if (:OK11 = 'H') Then
       HR11 = 08;
     if (:OK12 = 'H') Then
       HR12 = 10;
    end
    if (:horainicio = 16) Then
    begin
     if (:OK1 = 'H') Then
       HR1 = 16;
     if (:OK2 = 'H') Then
       HR2 = 18;
     if (:OK3 = 'H') Then
       HR3 = 20;
     if (:OK4 = 'H') Then
       HR4 = 22;
     if (:OK5 = 'H') Then
       HR5 = 24;
     if (:OK6 = 'H') Then
       HR6 = 02;
     if (:OK7 = 'H') Then
       HR7 = 04;
     if (:OK8 = 'H') Then
       HR8 = 06;
     if (:OK9 = 'H') Then
       HR9 = 08;
     if (:OK10 = 'H') Then
       HR10 = 10;
     if (:OK11 = 'H') Then
       HR11 = 12;
     if (:OK12 = 'H') Then
       HR12 = 14;
    end
    if (marcado is null) Then
      marcado = 0;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicao',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, MARCADO, A_KITS
             FROM NOTAMED2 WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and (SUSPENSO IS NULL OR suspenso <> 'S') order by grupo, ordem,medicament
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12, :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10,
              :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER, :MARCADO, KIT  DO
  BEGIN
    if (RDB$GET_CONTEXT('USER_SESSION','SAPIITEM') = 'APRAZAMENTO') THEN
    BEGIN
      ULTCHECK = NULL;
      select FIRST 1 iif(ok12 = 'S','22',iif(ok11 = 'S','20',iif(ok10 = 'S','18',iif(ok9 = 'S','16',iif(ok8 = 'S','14',iif(ok7 = 'S','12',iif(ok6 = 'S','10',iif(ok5 = 'S','8',iif(ok4 = 'S','6',iif(ok3 = 'S','4',iif(ok2 = 'S','2',iif(ok1 = 'S','0',null))))))))))))
      from NOTAMED2 WHERE a_notamed = :PRESCANTERIOR AND medicament = :descricao INTO ULTCHECK;
      IF (ULTCHECK IS NOT NULL) THEN
      begin
       ultcheck = horainicio +ultcheck;
       If (ultcheck > 24) then ultcheck = ultcheck - 24;
        DESCRICAO = DESCRICAO || ' (Ult Check ' || :ultcheck  || 'h)';
      end
    END
    if (:KIT = 0) Then
       TIPO = 'Medicao No Padro';
    if (qtde > 1) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
       HR1 = NULL;
       HR2 = NULL;
       HR3 = NULL;
       HR4 = NULL;
       HR5 = NULL;
       HR6 = NULL;
       HR7 = NULL;
       HR8 = NULL;
       HR9 = NULL;
       HR10 = NULL;
       HR11 = NULL;
       HR12 = NULL;
  if (:horainicio = 12) Then
  begin
    if (:OK1 = 'H') Then
       HR1 = 12;
    if (:OK2 = 'H') Then
       HR2 = 14;
    if (:OK3 = 'H') Then
       HR3 = 16;
    if (:OK4 = 'H') Then
       HR4 = 18;
    if (:OK5 = 'H') Then
       HR5 = 20;
    if (:OK6 = 'H') Then
       HR6 = 22;
    if (:OK7 = 'H') Then
       HR7 = 24;
    if (:OK8 = 'H') Then
       HR8 = 02;
    if (:OK9 = 'H') Then
       HR9 = 04;
    if (:OK10 = 'H') Then
       HR10 = 06;
    if (:OK11 = 'H') Then
       HR11 = 08;
    if (:OK12 = 'H') Then
       HR12 = 10;
  end
  if (:horainicio = 16) Then
  begin
    if (:OK1 = 'H') Then
       HR1 = 16;
    if (:OK2 = 'H') Then
       HR2 = 18;
    if (:OK3 = 'H') Then
       HR3 = 20;
    if (:OK4 = 'H') Then
       HR4 = 22;
    if (:OK5 = 'H') Then
       HR5 = 24;
    if (:OK6 = 'H') Then
       HR6 = 02;
    if (:OK7 = 'H') Then
       HR7 = 04;
    if (:OK8 = 'H') Then
       HR8 = 06;
    if (:OK9 = 'H') Then
       HR9 = 08;
    if (:OK10 = 'H') Then
       HR10 = 10;
    if (:OK11 = 'H') Then
       HR11 = 12;
    if (:OK12 = 'H') Then
       HR12 = 14;
  end
  if (marcado is null) Then
     marcado = 0;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicaes Suspensas',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER, MARCADO  FROM NOTAMED2
             WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and SUSPENSO = 'S'
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER, :MARCADO  DO
  BEGIN
    if (qtde is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    if (marcado is null) Then
     marcado = 0;
    SUSPEND;
  END
  AUX1 = NULL;
  end
end
 ^


ALTER PROCEDURE "APRAZAMENTO_LISTA_SAIDA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "HORARIO" INTEGER,
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5),
  "PACIENTE" VARCHAR(100),
  "ALANOME" VARCHAR(100),
  "LEITONOME" VARCHAR(100),
  "UNNOME" VARCHAR(100)
)
AS
begin
    FOR select INDICE, PRESCRICAO, aprazamento_lista.CODIGOCPS, ALA, aprazamento_lista.LEITO, aprazamento_lista.UNIDADENEGOCIO, aprazamento_lista.TIPO, DESCRICAO, DATAHORA, HORAINICIO,QTDE, aprazamento_lista.MARCADO,
    HR1, HR2, HR3, HR4, HR5, HR6, HR7, HR8, HR9, HR10, HR11, HR12, Paciente.a_nome, Unidadenegocio.nome, alas.A_nome, leitos.a_nome, KIT
    from aprazamento_lista(:data1, :data2)
    inner join cps1 on aprazamento_lista.codigocps =  cps1.codigocps
    left join paciente on cps1.codigopac = paciente.codigopac
    left join unidadenegocio on aprazamento_lista.unidadenegocio = unidadenegocio.codigo
    left join alas on aprazamento_lista.ala = alas.a_ala
    left join LEITOS on aprazamento_lista.leito =leitos.leito
    INTO INDICE, PRESCRICAO, CODIGOCPS, ALA, LEITO, UNIDADENEGOCIO, TIPO, DESCRICAO, DATAHORA, HORAINICIO,QTDE,  MARCADO,
    HR1, HR2, HR3, HR4, HR5, HR6, HR7, HR8, HR9, HR10, HR11, HR12, PACIENTE, UNNOME, ALANOME, LEITONOME, KIT DO
    BEGIN
       IF (HR1 > 0) THEN
       BEGIN
           HORARIO = HR1;
           SUSPEND;
       END
        IF (HR2 > 0) THEN
       BEGIN
           HORARIO = HR2;
           SUSPEND;
       END
        IF (HR3 > 0) THEN
       BEGIN
           HORARIO = HR3;
           SUSPEND;
       END
        IF (HR4 > 0) THEN
       BEGIN
           HORARIO = HR4;
           SUSPEND;
       END
         IF (HR5 > 0) THEN
       BEGIN
           HORARIO = HR5;
           SUSPEND;
       END
        IF (HR6 > 0) THEN
       BEGIN
           HORARIO = HR6;
           SUSPEND;
       END
       
       IF (HR7 > 0) THEN
       BEGIN
           HORARIO = HR7;
           SUSPEND;
       END
        IF (HR8 > 0) THEN
       BEGIN
           HORARIO = HR8;
           SUSPEND;
       END
        IF (HR9 > 0) THEN
       BEGIN
           HORARIO = HR9;
           SUSPEND;
       END
        IF (HR10 > 0) THEN
       BEGIN
           HORARIO = HR10;
           SUSPEND;
       END
         IF (HR11 > 0) THEN
       BEGIN
           HORARIO = HR11;
           SUSPEND;
       END
        IF (HR12 > 0) THEN
       BEGIN
           HORARIO = HR12;
           SUSPEND;
       END
    END
end
 ^


ALTER PROCEDURE "APRAZAMENTO_LISTA_SAIDA_CPC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "HORARIO" INTEGER,
  "INDICE" INTEGER,
  "PRESCRICAO" INTEGER,
  "KIT" INTEGER,
  "CODIGOCPS" FLOAT,
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "DATAHORA" TIMESTAMP,
  "HORAINICIO" INTEGER,
  "QTDE" INTEGER,
  "HR1" INTEGER,
  "HR2" INTEGER,
  "HR3" INTEGER,
  "HR4" INTEGER,
  "HR5" INTEGER,
  "HR6" INTEGER,
  "HR7" INTEGER,
  "HR8" INTEGER,
  "HR9" INTEGER,
  "HR10" INTEGER,
  "HR11" INTEGER,
  "HR12" INTEGER,
  "MARCADO" VARCHAR(5),
  "PACIENTE" VARCHAR(100),
  "ALANOME" VARCHAR(100),
  "LEITONOME" VARCHAR(100),
  "UNNOME" VARCHAR(100)
)
AS
begin
    SUSPEND;
end
 ^


ALTER PROCEDURE "ARS_CBHPM_TABHONREL" 
RETURNS
(
  "CODIGOAMB" VARCHAR(9),
  "PROCEDIMENTO" VARCHAR(200)
)
AS
begin
for select a_nome, grupo || a_codamb from servicos inner join tabhonrel on (servicos.a_nome = tabhonrel.procedimento)
where (servicos.tabela = 64) and (grupo || a_codamb <> cbhpm03) into :procedimento, :codigoamb do
begin
update tabhonrel set cbhpm03 = :codigoamb where procedimento = :procedimento;
suspend;
end
end
 ^


ALTER PROCEDURE "ARS_CPS2FILME" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "NADA" INTEGER
)
AS
declare variable filme double precision;
declare variable indice float;
begin
for select cps2.indice, convenio.filme*servicos.a_filme from cps1
inner join cps2 on cps1.codigocps = cps2.codigocps2
inner join servicos on servicos.codigoserv = cps2.codigoserv
inner join convenio on convenio.convenio = cps1.convenio
where ( cps1.a_datafat between :DataInicio and :DataFim ) and ((cps2.a_filme is null) or (cps2.a_filme = 0)) and (servicos.a_filme > 0)
into :indice, :filme do
  update cps2 set a_filme = quantidade*:filme where indice = :indice;
suspend;
end
 ^


ALTER PROCEDURE "ARS_CPS2SERVICO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "ATUALIZA" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
declare variable codigoserv integer;
declare variable indice float;
begin
   for select cps2.indice,cps2.codigocps2, (select first 1 codigoserv from servicos where (a_codamb = cps2.codigoamb) and (tabela = convenio.tabhon)) from cps2
   inner join cps1 on cps1.codigocps = cps2.codigocps2
   inner join convenio on convenio.convenio = cps1.convenio
   left join servicos on servicos.codigoserv = cps2.codigoserv
   where (data between :inicio and :final) and ((servicos.codigoserv is null) or servicos.a_codamb <> cps2.codigoamb) into indice, codigocps, codigoserv do
   begin
      If (Atualiza = '1') then
      If (codigoserv > 0) then
         update cps2 set codigoserv = :codigoserv where indice = :indice;
      suspend;
   end
end
 ^


ALTER PROCEDURE "ARS_INTER3FILME" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "NADA" INTEGER
)
AS
declare variable filme double precision;
declare variable indice float;
begin
for select inter3.inter3no, convenio.filme*servicos.a_filme from inter2
inner join inter3 on inter2.codigoint = inter3.codigoint
inner join servicos on servicos.codigoserv = inter3.codigoserv
inner join convenio on convenio.convenio = inter2.convenio
where (inter3.A_Data between :DataInicio and :DataFim) and ((inter3.a_filme is null) or (inter3.a_filme = 0)) and (servicos.a_filme > 0)
into :indice, :filme do
  update inter3 set a_filme = :filme where inter3no = :indice;
suspend;
end
 ^


ALTER PROCEDURE "ARS_MUDAMEDICOCPS2SEMHONORARIO" 
(
  "INICIO" INTEGER,
  "FIM" INTEGER
)
AS
declare variable a_medicos integer;
begin
for select a_medicos from medicos where a_medicos between :inicio and :fim into :a_medicos do
  update cps2 set a_medicos = (select first 1 a_medico from empresas) where a_medicos = :a_medicos and (not indice in (select cps2.indice from cps2 inner join defprof on (defprof.a_medicos = cps2.a_medicos) and (cps2.codigoamb between defprof.a_codamb1 and defprof.a_codamb2) where cps2.a_medicos = :a_medicos));
end
 ^


ALTER PROCEDURE "ARS_SERVCONVENIODUPLO" 
RETURNS
(
  "CONVENIO" INTEGER,
  "CODIGOAMB1" VARCHAR(8),
  "CODIGOAMB2" VARCHAR(8),
  "SERVICO" VARCHAR(20)
)
AS
declare variable qtde integer;
begin
for select convenio, codigoamb1, codigoamb2, servico from servconvenio order by convenio into :convenio, :codigoamb1, :codigoamb2, :servico do
begin
select count(*) from servconvenio where (convenio = :convenio) and (codigoamb1  <= :codigoamb1 and codigoamb2  >= :codigoamb2) into :qtde;
if (qtde <= 1) then
begin
  select count(*) from servconvenio where (convenio = :convenio) and (codigoamb1  >= :codigoamb1 and codigoamb2  >= :codigoamb2 and codigoamb1  <= :codigoamb2) into :qtde;
  if (qtde <= 1) then
  begin
    select count(*) from servconvenio where (convenio = :convenio) and (codigoamb2  <= :codigoamb2 and codigoamb1  <= :codigoamb1 and codigoamb2  >= :codigoamb1) into :qtde;
    if (qtde <= 1) then
    begin
      select count(*) from servconvenio where (convenio = :convenio) and (codigoamb1  >= :codigoamb1 and codigoamb2  <= :codigoamb2) into :qtde;
    end
  end
end
if (qtde > 1) then
  suspend;
end
end
 ^


ALTER PROCEDURE "ARS_SUS_TABHONREL" 
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(200)
)
AS
begin
for select a_nome, a_codamb from servicos inner join tabhonrel on (servicos.a_nome = UPPER(tabhonrel.procedimento))
where (servicos.tabela = 60) and (a_codamb <> cbhpm03) into :procedimento, :codigoamb do
begin
update tabhonrel set sus = :codigoamb where upper(procedimento) = :procedimento;
suspend;
end
end
 ^


ALTER PROCEDURE "ARS_UPDATECPS1MEDRESP" 
RETURNS
(
  "CODIGO" INTEGER,
  "MEDICO" INTEGER,
  "ESPECIALIDADE" INTEGER
)
AS
begin
for select cps1.codigocps from cps1
inner join cps2
on cps1.codigocps = cps2.codigocps2 into codigo do
begin
select first 1 cps2.a_medicos from cps2
where codigocps2 =:codigo into medico;
select first 1 especialidade from defprof1
where a_medicos = :medico into especialidade;
update cps1 set medresp = :medico, ESPECIALIDADE = :especialidade where codigocps = :codigo;
suspend;
end
end
 ^


ALTER PROCEDURE "ARS_UPDATECPS1TOTAL" 
RETURNS
(
  "CODIGO" FLOAT,
  "TOTAL" DOUBLE PRECISION,
  "TOTALMATMED" DOUBLE PRECISION
)
AS
begin
for select codigocps from cps1 into codigo do
begin
total = 0;
select sum(valor) from cps2 where codigocps2 = :codigo into total;
totalmatmed = 0;
select sum(total) from cps3 where codigocps  = :codigo into totalmatmed;
if (totalmatmed is null) then
totalmatmed = 0;
if (total is null) then
total = 0;
update cps1 set valortotal = :total,totalmatmed = :totalmatmed where codigocps = :codigo;
suspend;
end
end
 ^


ALTER PROCEDURE "ARS_UPDATECPS2DATAHORA" 
RETURNS
(
  "CODIGOCPS" INTEGER,
  "DATA" TIMESTAMP
)
AS
begin
for select cps1.codigocps,a_datafat from cps2
inner join cps1
on cps1.codigocps = cps2.codigocps2
where convenio = 097 into codigocps, data do
begin
update cps2 set data = :data, hora = :data where codigocps2 = :codigocps;
update cps3 set data = :data, hora = :data where codigocps  = :codigocps;
suspend;
end
end
 ^


ALTER PROCEDURE "ATENDCID" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1)
)
RETURNS
(
  "CID10" VARCHAR(5),
  "NOME" VARCHAR(60),
  "QTDE" INTEGER
)
AS
begin
  for select CPS1.A_CID, CID.DESCR, Count( CPS1.codigocps ) from CPS1 CPS1
      left JOIN CID Cid ON ( Cid.CID10 = CPS1.A_CID )
      where (CPS1.a_datafat between :inicio and :fim )
      and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
      group by CPS1.A_CID, Cid.DESCR
      order by 3 desc
      into Cid10, nome, qtde do
  suspend;
end
 ^


ALTER PROCEDURE "ATENDCONVENIOUTROS" 
(
  "CONSULTA" VARCHAR(6000),
  "UNIDADENEG1" INTEGER,
  "UNIDADENEG2" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "CONVENIO" VARCHAR(40)
)
AS
begin
  if ( :unidadeneg1 > 0 ) then
  for select count(distinct Cps.codigocps), convenio.a_nome
    from cps( :CONSULTA )
    left join CONVENIO Convenio on ( convenio.convenio = cps.convenio )
    WHERE cps.UNIDADENEGOCIO >= :unidadeneg1 AND cps.UNIDADENEGOCIO <= :unidadeneg2
    group by convenio.a_nome order by 1 desc
    into qtde, convenio do
    suspend;
  if ( :unidadeneg1 = 0 ) then
    for select count(distinct Cps.codigocps), convenio.a_nome from cps( :consulta  )
    left join CONVENIO Convenio on ( convenio.convenio = cps.convenio )
    group by convenio.a_nome
    order by 1 desc
    into qtde, convenio do
    suspend;
end
 ^


ALTER PROCEDURE "ATENDCONVNOVOSPAC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1)
)
RETURNS
(
  "ATENDIDO" INTEGER,
  "NOVO" INTEGER,
  "CONVENIO" VARCHAR(10)
)
AS
declare variable qtde  integer;
begin
    qtde = 0;
    for select count(CODIGOCPS), convenio from cps1 where (a_datafat between :inicio and :fim)
    and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3  OR CPS1.CODIGOPLA = :tipo4  OR CPS1.CODIGOPLA = :tipo5  OR CPS1.CODIGOPLA = :tipo6  OR CPS1.CODIGOPLA = :tipo7 )
    group by convenio
    order by 1 desc
    into :atendido, :convenio do
    begin
      qtde =qtde + 1;
      if ( qtde >= 15) then
        convenio = 0;
      suspend;
    end
    qtde = 0;
    for select count(CODIGOPAC), convenio from paciente where (data1 between :inicio and :fim)
    group by convenio
    order by 1 desc
    into :novo, :convenio do
    begin
      qtde =qtde + 1;
      if ( qtde >= 15) then
        convenio = 0;
      suspend;
    end
end
 ^


ALTER PROCEDURE "ATENDCONVPLANDIV2" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "PLANSERV" INTEGER,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" INTEGER,
  "NOMECONVENIO" VARCHAR(40),
  "PRINCIPAL" VARCHAR(8),
  "QTDE" INTEGER,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
     FOR SELECT cps1.codigocps, convenio.a_nome, cps1.principal,
     count( cps2.codigocps2 ) as QuantProced, sum( cps1.liquido ) as Total
     from CPS1 Cps1
     left join cps2 cps2 ON ( cps2.codigocps2 = cps1.codigocps )
     left join CONVENIO Convenio ON ( convenio.convenio = cps1.convenio )
     where ( CPS1.convenio = :PLANSERV ) and ( CPS1.a_datafat between :inicio and :fim )
     and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
     group by cps1.codigocps, convenio.a_nome, cps1.principal
     order by convenio.a_nome asc
     INTO :CODIGOCPS, :NOMECONVENIO, :PRINCIPAL, :QTDE, :TOTAL DO
     suspend;
end
 ^


ALTER PROCEDURE "ATENDCONVPLANDIVERSO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "PLANSERV" INTEGER,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1)
)
RETURNS
(
  "QTDE" INTEGER,
  "CONVENIO" VARCHAR(10)
)
AS
begin
   begin
       select count(CODIGOCPS) from cps1 where (convenio = :PLANSERV) and (a_datafat between :inicio and :fim)
       and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 or CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
       into qtde;
       CONVENIO = 'PLANSERV';
       suspend;
       select count(CODIGOCPS) from cps1 where (convenio <> :PLANSERV) and (a_datafat between :inicio and :fim)
       and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 or CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7)
       into qtde;
       CONVENIO = 'DIVERSOS';
       suspend;
   end
end
 ^


ALTER PROCEDURE "ATENDCONVUNICO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVENIO" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "MES" INTEGER
)
AS
begin
for select count(codigocps),mes from cpsconvenio
where (convenio = :convenio) and (a_datafat between :inicio and :fim)
group by mes
order by 2 into qtde, mes do
suspend;
end
 ^


ALTER PROCEDURE "ATENDESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1),
  "FORMA" CHAR(1)
)
RETURNS
(
  "ESPECIALIDADE" INTEGER,
  "NOME" VARCHAR(60),
  "QTDE" INTEGER
)
AS
declare variable liquido float;
declare variable total float;
begin
  if (forma = 0) then
  for select CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME, Count( CPS1.codigocps ) from CPS1 CPS1
      LEFT JOIN ESPECIALIDADE Especialidade ON ( Especialidade.CODESP = CPS1.Especialidade )
      where (CPS1.a_datafat between :inicio and :fim )
      and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
      group by CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME
      order by 3 desc
      into especialidade, nome, qtde do
  suspend;
  if (forma = 1) then
  for select CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME, Count( distinct CPS1.codigocps ) from CPS1
      LEFT JOIN ESPECIALIDADE Especialidade ON ( Especialidade.CODESP = CPS1.Especialidade )
      LEFT JOIN CPS2 ON ( CPS2.CODIGOCPS2 = CPS1.CODIGOCPS)
      where (CPS1.a_datafat between :inicio and :fim )
      and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
      and (CPS1.PRINCIPAL IN ('00010014','10101012','10101039'))
      and (cps1.principal = cps2.codigoamb)
      and (cps2.valor = cps1.liquido)
      group by CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME
      order by 3 desc
      into especialidade, nome, qtde do
  suspend;
  if (forma = 2) then
  for select CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME, Count( distinct CPS1.codigocps ) from CPS1
      LEFT JOIN ESPECIALIDADE Especialidade ON ( Especialidade.CODESP = CPS1.Especialidade )
      LEFT JOIN CPS2 ON ( CPS2.CODIGOCPS2 = CPS1.CODIGOCPS)
      where (CPS1.a_datafat between :inicio and :fim )
      and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
      and (CPS1.PRINCIPAL IN ('00010014','10101012','10101039'))
      and (cps2.valor <> cps1.liquido)
      group by CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME
      order by 3 desc
      into especialidade, nome, qtde do
  suspend;
  if (forma = 3) then
  for select CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME, Count( CPS1.codigocps ) from CPS1 CPS1
      LEFT JOIN ESPECIALIDADE Especialidade ON ( Especialidade.CODESP = CPS1.Especialidade )
      where (CPS1.a_datafat between :inicio and :fim )
      and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
      and not (CPS1.PRINCIPAL IN ('00010014','10101012','10101039'))
      group by CPS1.ESPECIALIDADE, ESPECIALIDADE.NOME
      order by 3 desc
      into especialidade, nome, qtde do
  suspend;
end
 ^


ALTER PROCEDURE "ATENDSERVICO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "PLANSERV" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "SERVICO" VARCHAR(70)
)
AS
begin
for select count(indice),servicos.a_nome from cps2
inner join servicos
on cps2.codigoamb = servicos.a_codamb
inner join cps1
on cps1.codigocps = cps2.codigocps2
where (cps1.a_datafat between :inicio and :fim)
group by servicos.a_nome
order by 2 into qtde, servico do
suspend;
end
 ^


ALTER PROCEDURE "ATENDSEXO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO7" CHAR(1),
  "CONV" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "SEXO" CHAR(1)
)
AS
begin
   if (:CONV > 0) Then
   begin
       for select count(codigocps), sexo from cps1
       left join paciente on ( paciente.codigopac = cps1.codigopac )
       where (cps1.a_datafat between :inicio and :fim) and ( CPS1.CODIGOPLA = :tipo1 OR
       CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6
       OR CPS1.CODIGOPLA = :tipo7)
       and cps1.convenio = :conv
       group by sexo
       order by 2 into qtde, sexo do
         suspend;
   end
   else
   begin
       for select count(codigocps), sexo from cps1
       left join paciente on ( paciente.codigopac = cps1.codigopac )
       where (cps1.a_datafat between :inicio and :fim) and ( CPS1.CODIGOPLA = :tipo1 OR
       CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7)
       group by sexo
       order by 2 into qtde, sexo do
         suspend;
   end
end
 ^


ALTER PROCEDURE "ATENDTURNO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1),
  "FAIXA1" CHAR(8),
  "FAIXA2I" CHAR(5),
  "FAIXA2F" CHAR(8),
  "FAIXA3I" CHAR(5),
  "FAIXA3F" CHAR(8),
  "FAIXA4" CHAR(5),
  "ESPECIALIDADE" CHAR(2)
)
RETURNS
(
  "QTDE" INTEGER,
  "TURNO" VARCHAR(13),
  "XSEGUNDA" INTEGER,
  "XTERCA" INTEGER,
  "XQUARTA" INTEGER,
  "XQUINTA" INTEGER,
  "XSEXTA" INTEGER,
  "XSABADO" INTEGER,
  "XDOMINGO" INTEGER
)
AS
begin
  XSEGUNDA = 0;
  XTERCA = 0;
  XQUARTA = 0;
  XQUINTA = 0;
  XSEXTA = 0;
  XSABADO = 0;
  XDOMINGO = 0;
  if ( especialidade = '00' )  then
  begin
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
                CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
                CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
                CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
                CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
                CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
                CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     from cps1
     where ( ( a_datafat between :inicio and :fim) and cast( a_hora as time) <= :FAIXA1 ) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
     if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
     if ( XTERCA   is Null ) THEN XTERCA   = 0;
     if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
     if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
     if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
     if ( XSABADO  is Null ) THEN XSABADO  = 0;
     if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
     qtde = :XSEGUNDA + :XTERCA + :XQUARTA + :XQUINTA + :XSEXTA + :XSABADO + :XDOMINGO;
     TURNO = '1-MADRUGADA';
     suspend;
     end
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
                CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
                CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
                CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
                CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
                CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
                CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     from cps1
     where ( a_datafat between :inicio and :fim) and ( cast( a_hora as time) between :FAIXA2I and :FAIXA2F ) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
     if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
     if ( XTERCA   is Null ) THEN XTERCA   = 0;
     if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
     if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
     if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
     if ( XSABADO  is Null ) THEN XSABADO  = 0;
     if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
     qtde = XSEGUNDA + XTERCA + XQUARTA + XQUINTA + XSEXTA + XSABADO + XDOMINGO;
     TURNO = '2-MATUTINO';
     suspend;
     end
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
                CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
                CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
                CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
                CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
                CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
                CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     from cps1
     where ( a_datafat between :inicio and :fim) and ( cast( a_hora as time) between :FAIXA3I and :FAIXA3F ) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
     if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
     if ( XTERCA   is Null ) THEN XTERCA   = 0;
     if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
     if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
     if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
     if ( XSABADO  is Null ) THEN XSABADO  = 0;
     if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
     qtde = XSEGUNDA + XTERCA + XQUARTA + XQUINTA + XSEXTA + XSABADO + XDOMINGO;
     TURNO = '3-VESPERTINO';
     suspend;
     end
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
                CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
                CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
                CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
                CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
                CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
                CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     from cps1
     where ( a_datafat between :inicio and :fim) and ( cast( a_hora as time) >= :FAIXA4 ) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7)
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
     if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
     if ( XTERCA   is Null ) THEN XTERCA   = 0;
     if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
     if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
     if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
     if ( XSABADO  is Null ) THEN XSABADO  = 0;
     if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
     qtde = XSEGUNDA + XTERCA + XQUARTA + XQUINTA + XSEXTA + XSABADO + XDOMINGO;
     TURNO = '4-NOTURNO';
     suspend;
     end
  end
  else
  begin
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
            CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
            CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
            CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
            CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
            CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
            CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     from cps1
     where ( ( a_datafat between :inicio and :fim) and cast( a_hora as time) < :FAIXA1 ) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7) AND
           ( CPS1.ESPECIALIDADE = :ESPECIALIDADE )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
        if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
        if ( XTERCA   is Null ) THEN XTERCA   = 0;
        if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
        if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
        if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
        if ( XSABADO  is Null ) THEN XSABADO  = 0;
        if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
        qtde = :XSEGUNDA + :XTERCA + :XQUARTA + :XQUINTA + :XSEXTA + :XSABADO + :XDOMINGO;
        TURNO = '1-MADRUGADA';
        suspend;
     end
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
            CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
            CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
            CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
            CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
            CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
            CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     FROM cps1
     where ( cast( a_hora as time) between :FAIXA2I and :FAIXA2F ) and ( a_datafat between :inicio and :fim) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7) AND
     ( CPS1.ESPECIALIDADE = :ESPECIALIDADE )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
         if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
         if ( XTERCA   is Null ) THEN XTERCA   = 0;
         if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
         if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
         if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
         if ( XSABADO  is Null ) THEN XSABADO  = 0;
         if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
         qtde = XSEGUNDA + XTERCA + XQUARTA + XQUINTA + XSEXTA + XSABADO + XDOMINGO;
         TURNO = '2-MATUTINO';
     suspend;
     end
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
            CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
            CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
            CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
            CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
            CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
            CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     FROM cps1
     where ( cast( a_hora as time) between :FAIXA3I and :FAIXA3F ) and ( a_datafat between :inicio and :fim) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7 ) AND
           ( CPS1.ESPECIALIDADE = :ESPECIALIDADE )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
         if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
         if ( XTERCA   is Null ) THEN XTERCA   = 0;
         if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
         if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
         if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
         if ( XSABADO  is Null ) THEN XSABADO  = 0;
         if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
         qtde = XSEGUNDA + XTERCA + XQUARTA + XQUINTA + XSEXTA + XSABADO + XDOMINGO;
         TURNO = '3-VESPERTINO';
         suspend;
     end
     for select CASE WHEN extract( WeekDay from a_datafat) =  1 THEN COUNT( CODIGOCPS ) END AS XSEGUNDA,
            CASE WHEN extract( WeekDay from a_datafat) =  2 THEN COUNT( CODIGOCPS ) END AS XTERCA,
            CASE WHEN extract( WeekDay from a_datafat) =  3 THEN COUNT( CODIGOCPS ) END AS XQUARTA,
            CASE WHEN extract( WeekDay from a_datafat) =  4 THEN COUNT( CODIGOCPS ) END AS XQUINTA,
            CASE WHEN extract( WeekDay from a_datafat) =  5 THEN COUNT( CODIGOCPS ) END AS XSEXTA,
            CASE WHEN extract( WeekDay from a_datafat) =  6 THEN COUNT( CODIGOCPS ) END AS XSABADO,
            CASE WHEN extract( WeekDay from a_datafat) =  0 THEN COUNT( CODIGOCPS ) END AS XDOMINGO
     from cps1
     where ( cast( a_hora as time) >= :FAIXA4 ) and ( a_datafat between :inicio and :fim) and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 OR CPS1.CODIGOPLA = :tipo4 OR CPS1.CODIGOPLA = :tipo5 OR CPS1.CODIGOPLA = :tipo6 OR CPS1.CODIGOPLA = :tipo7) AND
     ( CPS1.ESPECIALIDADE = :ESPECIALIDADE )
     GROUP BY a_datafat
     into :XSEGUNDA, :XTERCA, :XQUARTA, :XQUINTA, :XSEXTA, :XSABADO, :XDOMINGO do
     begin
         if ( XSEGUNDA is Null ) THEN XSEGUNDA = 0;
         if ( XTERCA   is Null ) THEN XTERCA   = 0;
         if ( XQUARTA  is Null ) THEN XQUARTA  = 0;
         if ( XQUINTA  is Null ) THEN XQUINTA  = 0;
         if ( XSEXTA   is Null ) THEN XSEXTA   = 0;
         if ( XSABADO  is Null ) THEN XSABADO  = 0;
         if ( XDOMINGO is Null ) THEN XDOMINGO = 0;
         qtde = XSEGUNDA + XTERCA + XQUARTA + XQUINTA + XSEXTA + XSABADO + XDOMINGO;
         TURNO = '4-NOTURNO';
         suspend;
     end
   end
end
 ^


ALTER PROCEDURE "ATUALIZABANCADA" 
(
  "CODLAUDO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "VAR01" VARCHAR(600),
  "VAR02" VARCHAR(600),
  "VAR03" VARCHAR(600),
  "VAR04" VARCHAR(600),
  "VAR05" VARCHAR(600),
  "VAR06" VARCHAR(600),
  "VAR07" VARCHAR(600),
  "VAR08" VARCHAR(600),
  "VAR09" VARCHAR(600),
  "VAR10" VARCHAR(600),
  "VAR11" VARCHAR(600),
  "VAR12" VARCHAR(600),
  "VAR13" VARCHAR(600),
  "VAR14" VARCHAR(600),
  "VAR15" VARCHAR(600),
  "VAR16" VARCHAR(600),
  "VAR17" VARCHAR(600),
  "VAR18" VARCHAR(600),
  "VAR19" VARCHAR(600),
  "VAR20" VARCHAR(600),
  "VAR21" VARCHAR(600),
  "VAR22" VARCHAR(600),
  "VAR23" VARCHAR(600),
  "VAR24" VARCHAR(600),
  "VAR25" VARCHAR(600),
  "VAR26" VARCHAR(600),
  "VAR27" VARCHAR(600),
  "VAR28" VARCHAR(600),
  "VAR29" VARCHAR(600),
  "VAR30" VARCHAR(600),
  "VAR31" VARCHAR(600),
  "VAR32" VARCHAR(600),
  "VAR33" VARCHAR(600),
  "VAR34" VARCHAR(600),
  "TVAR01" VARCHAR(30),
  "TVAR02" VARCHAR(30),
  "TVAR03" VARCHAR(30),
  "TVAR04" VARCHAR(30),
  "TVAR05" VARCHAR(30),
  "TVAR06" VARCHAR(30),
  "TVAR07" VARCHAR(30),
  "TVAR08" VARCHAR(30),
  "TVAR09" VARCHAR(30),
  "TVAR10" VARCHAR(30),
  "TVAR11" VARCHAR(30),
  "TVAR12" VARCHAR(30),
  "TVAR13" VARCHAR(30),
  "TVAR14" VARCHAR(30),
  "TVAR15" VARCHAR(30),
  "TVAR16" VARCHAR(30),
  "TVAR17" VARCHAR(30),
  "TVAR18" VARCHAR(30),
  "TVAR19" VARCHAR(30),
  "TVAR20" VARCHAR(30),
  "TVAR21" VARCHAR(30),
  "TVAR22" VARCHAR(30),
  "TVAR23" VARCHAR(30),
  "TVAR24" VARCHAR(30),
  "TVAR25" VARCHAR(30),
  "TVAR26" VARCHAR(30),
  "TVAR27" VARCHAR(30),
  "TVAR28" VARCHAR(30),
  "TVAR29" VARCHAR(30),
  "TVAR30" VARCHAR(30),
  "TVAR31" VARCHAR(30),
  "TVAR32" VARCHAR(30),
  "TVAR33" VARCHAR(30),
  "TVAR34" VARCHAR(30)
)
AS
BEGIN
  IF (VAR01 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR01 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR01 AND DATA =:DATA AND HORA =:HORA ;
  IF (VAR02 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR02 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR02 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR03 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR03 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR03 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR04 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR04 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR04 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR05 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR05 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR05 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR06 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR06 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR06 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR07 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR07 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR07 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR08 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR08 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR08 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR09 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR09 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR09 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR10 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR10 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR10 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR11 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR11 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR11 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR12 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR12 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR12 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR13 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR13 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR13 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR14 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR14 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR14 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR15 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR15 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR15 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR16 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR16 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR16 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR17 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR17 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR17 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR18 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR18 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR18 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR19 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR19 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR19 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR20 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR20 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR20 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR21 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR21 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR21 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR22 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR22 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR22 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR23 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR23 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR23 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR24 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR24 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR24 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR25 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR25 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR25 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR26 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR26 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR26 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR27 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR27 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR27 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR28 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR28 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR28 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR29 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR29 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR29 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR30 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR30 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR30 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR31 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR31 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR31 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR32 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR32 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR32 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR33 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR33 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR33 AND DATA =:DATA AND HORA =:HORA;
  IF (VAR34 IS NOT NULL) THEN
    UPDATE CPSLAUDOVAR SET VALOR = :VAR34 WHERE Codigocps = :codlaudo AND DESCRICAO = :TVAR34 AND DATA =:DATA AND HORA =:HORA;
END
 ^


ALTER PROCEDURE "ATUALIZAIMPCONVENIO" 
(
  "NUMCONVENIO" INTEGER,
  "USUARIO" INTEGER,
  "DATAINI" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "MOTIVO" VARCHAR(150)
)
RETURNS
(
  "NUMEROFATURA" INTEGER
)
AS
DECLARE VARIABLE ISS NUMERIC(18,2);
DECLARE VARIABLE COFINS NUMERIC(18,2);
DECLARE VARIABLE PIS NUMERIC(18,2);
DECLARE VARIABLE IRRF NUMERIC(18,2);
DECLARE VARIABLE CSL NUMERIC(18,2);
DECLARE VARIABLE PISS NUMERIC(18,2);
DECLARE VARIABLE PCOFINS NUMERIC(18,2);
DECLARE VARIABLE PPIS NUMERIC(18,2);
DECLARE VARIABLE PIRRF NUMERIC(18,2);
DECLARE VARIABLE PCSL NUMERIC(18,2);
DECLARE VARIABLE VALORISS NUMERIC(18,2);
DECLARE VARIABLE VALORCOFINS NUMERIC(18,2);
DECLARE VARIABLE VALORPIS NUMERIC(18,2);
DECLARE VARIABLE VALORIRRF NUMERIC(18,2);
DECLARE VARIABLE VALORCSL NUMERIC(18,2);
DECLARE VARIABLE VALORFATURA NUMERIC(18,2);
DECLARE VARIABLE NUMERO INTEGER;
DECLARE VARIABLE TOTALREG INTEGER;
BEGIN
 ISS     = 0;
 COFINS  = 0;
 PIS     = 0;
 IRRF    = 0;
 CSL     = 0;
 PISS    = 0;
 PCOFINS = 0;
 PPIS    = 0;
 PIRRF   = 0;
 PCSL    = 0;
 VALORISS    = 0;
 VALORCOFINS = 0;
 VALORPIS    = 0;
 VALORIRRF   = 0;
 VALORCSL    = 0;
 VALORFATURA = 0;
 FOR SELECT SEQUENCIA, H_ISS, H_PIS, H_COFINS, H_IRRF, H_CLS, TOTAL FROM FECHAMENTO WHERE CONVENIO = :NUMCONVENIO AND DATA BETWEEN :DATAINI AND :DATAFIM AND UPPER(OBSERVACAO) <> 'GLOSA' INTO :NUMERO, :ISS, :PIS, :COFINS, :IRRF, :CSL, :VALORFATURA DO
   BEGIN
     SELECT H_ISS, H_PIS, H_COFINS, H_IRRF, H_CLS FROM CONVENIO WHERE CONVENIO = :NUMCONVENIO INTO :PISS, :PPIS, :PCOFINS, :PIRRF, :PCSL;
     IF (:PPIS > 0 ) THEN UPDATE FECHAMENTO SET H_PIS = ( :VALORFATURA * :PPIS ) /100 WHERE SEQUENCIA = :NUMERO;
     IF (:PCOFINS > 0 ) THEN UPDATE FECHAMENTO SET H_COFINS = ( :VALORFATURA * :PCOFINS ) /100 WHERE SEQUENCIA = :NUMERO;
     IF (:PIRRF > 0 ) THEN UPDATE FECHAMENTO SET H_IRRF = ( :VALORFATURA * :PIRRF ) /100 WHERE SEQUENCIA = :NUMERO;
     IF (:PCSL > 0 ) THEN UPDATE FECHAMENTO SET H_CLS = ( :VALORFATURA * :PCSL ) /100 WHERE SEQUENCIA = :NUMERO;
     IF (:PISS > 0 ) THEN UPDATE FECHAMENTO SET H_ISS = ( :VALORFATURA * :PISS ) /100 WHERE SEQUENCIA = :NUMERO;
     SELECT H_ISS, H_PIS, H_IRRF, H_COFINS, H_CLS FROM FECHAMENTO WHERE SEQUENCIA = :NUMERO INTO :VALORISS, :VALORPIS, :VALORIRRF, :VALORCOFINS, :VALORCSL;
     INSERT INTO ATUALIZAIMPCONV ( CONVENIO, USUARIO, FECHAMENTO, DATAINI, DATAFIM, MOTIVO, ISSANTIGO, PISANTIGO, COFINSANTIGO, CSLANTIGO, IRRFANTIGO, ISSNOVO, PISNOVO, COFINSNOVO, CSLNOVO, IRRFNOVO ) VALUES (:NUMCONVENIO, :USUARIO, :NUMERO, :DATAINI, :DATAFIM, :MOTIVO, :ISS, :PIS, :COFINS, :CSL, :IRRF, :VALORISS, :VALORPIS, :VALORCOFINS, :VALORCSL, :VALORIRRF );
     NUMEROFATURA = :NUMERO;
     SUSPEND ;
   END
END
 ^


ALTER PROCEDURE "ATUALIZAPROCCBOSUS" 
RETURNS
(
  "COD_PROCEDIMENTO" VARCHAR(4),
  "PROCEDIMENTO" VARCHAR(10),
  "CBO" VARCHAR(6)
)
AS
DECLARE VARIABLE AUXCODPROC VARCHAR(10);
DECLARE VARIABLE AUXCODIGO VARCHAR(4);
BEGIN
   FOR SELECT PROCEDIMENTO.CODPROC, PROCEDIMENTO.CODIGO FROM PROCEDIMENTO
       INTO :AUXCODPROC, :AUXCODIGO DO
   BEGIN
           UPDATE PROCEDIMENTO_CBOSUS SET PROCEDIMENTO = :AUXCODPROC WHERE COD_PROCEDIMENTO = :AUXCODIGO AND PROCEDIMENTO IS NULL;
   END
   SUSPEND;
END
 ^


ALTER PROCEDURE "ATUALIZAPROCREGISTRO" 
RETURNS
(
  "COD_PROCEDIMENTO" VARCHAR(4),
  "PROCEDIMENTO" VARCHAR(10),
  "REGISTRO" CHAR(2)
)
AS
DECLARE VARIABLE AUXCODPROC VARCHAR(10);
DECLARE VARIABLE AUXCODIGO VARCHAR(4);
BEGIN
END
 ^


ALTER PROCEDURE "ATUALIZARECEB" 
(
  "TRATAMENTO" INTEGER,
  "CODIGOCPS" FLOAT,
  "DATARECEBIMENTO" TIMESTAMP
)
AS
BEGIN
  IF (TRATAMENTO = 0) THEN
    UPDATE CPS1 SET DATARECEBIMENTO = :DATARECEBIMENTO WHERE CODIGOCPS = :CODIGOCPS;
  ELSE
    UPDATE INTER2 SET DATARECEBIMENTO = :DATARECEBIMENTO WHERE CODIGOINT = :CODIGOCPS AND TRATAMENTO = :TRATAMENTO;
END
 ^


ALTER PROCEDURE "ATUALIZARECEBITEM" 
(
  "CODIGOPLA" INTEGER,
  "DHE" CHAR(1),
  "DATA" TIMESTAMP,
  "INDICE" INTEGER,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION
)
AS
BEGIN
  IF ((CODIGOPLA <> 3) AND (DHE <> 'M')) THEN
    UPDATE CPS2 SET GLOSADATA = :DATA, GLOSARECEBIDA = :GLOSARECEBIDA, GLOSA = :GLOSA WHERE INDICE = :INDICE;
  IF ((CODIGOPLA <> 3) AND (DHE = 'M')) THEN
    UPDATE CPS3 SET GLOSADATA = :DATA, GLOSARECEBIDA = :GLOSARECEBIDA, GLOSA = :GLOSA WHERE INDICE = :INDICE;
  IF ((CODIGOPLA = 3) AND (DHE <> 'M')) THEN
    UPDATE INTER3 SET GLOSADATA = :DATA, GLOSARECEBIDA = :GLOSARECEBIDA, GLOSA = :GLOSA WHERE INTER3NO = :INDICE;
  IF ((CODIGOPLA = 3) AND (DHE = 'M')) THEN
    UPDATE INTER32 SET GLOSADATA = :DATA, GLOSARECEBIDA = :GLOSARECEBIDA, GLOSA = :GLOSA WHERE INTER3NO = :INDICE;
END
 ^


ALTER PROCEDURE "ATUALIZA_LEITOS" 
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable inter4 integer;
declare variable codigocpsaux float;
declare variable duplo integer;
declare variable leitoaux smallint ;
begin
    listaleito = '-1';
    FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
        FROM cps1
        WHERE (( CPS1.DATASAIDA IS NULL ) and ( CPS1.CODIGOPLA =3)) or
              (( CPS1.DATASAIDA IS NULL ) and ( CPS1.CODIGOPLA =7))
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = null;
        inter4 = null;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome, CODIGOint
            FROM LEITOS
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito, :CODIGOCPSAUX;
            listaleito = listaleito || ',' || cast(cast(:codigocps as integer) as varchar(40));
           if (codigocpsaux <> codigocps) then
              UPDATE LEITOS SET CODIGOINT =:CODIGOCPS WHERE LEITO =:CODLEITO;
        END
      END
      for select leitos.leito from leitos where codigoint <> 0 into :leitoaux do
      begin
      execute statement 'update leitos set codigoint = 0 where leito = ' || leitoaux ||' and codigoint not in ('|| listaleito||')';
      end
      suspend;
end
 ^


ALTER PROCEDURE "AVISOPAC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
begin
  texto = '';
   suspend;
end
 ^


ALTER PROCEDURE "AVISOPAC_CPC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
begin
  texto = '';
   suspend;
end
 ^


ALTER PROCEDURE "BALANCO_HIDRICO" 
(
  "CODIGOCPS" FLOAT,
  "FLAG" VARCHAR(1)
)
RETURNS
(
  "DATAHORA" TIMESTAMP,
  "TIPO" VARCHAR(100),
  "VALOR" DOUBLE PRECISION
)
AS
declare variable entrada double precision;
declare variable saida double precision;
declare variable resultado double precision;
begin
   entrada = 0;
   saida = 0;
   resultado = 0;
   if (:flag = '1') then
   begin
      for select cpscontrolepac.datahora, cpscontrolepac.tipo, sum(cpscontrolepac.valor) from cpscontrolepac
      where (cpscontrolepac.codigocps = :codigocps)
      group by 1,2
      order by 1,2
      into :datahora, :tipo, :valor do
      if (tipo = 'BALANCO HIDRICO - SAIDA') then
      begin
         tipo = tipo;
         saida = saida + :valor;
         valor = valor*-1;
         suspend;
      end
      else if (tipo = 'BALANCO HIDRICO - ENTRADA') then
      begin
         tipo = tipo;
         entrada = entrada + :valor;
         suspend;
      end
      datahora = 'now';
      tipo = 'Resultado';
      valor = (entrada - saida);
      suspend;
   end
   else if (:flag = '2') then
   begin
      for select cpscontrolepac.datahora, cpscontrolepac.tipo, sum(cpscontrolepac.valor) from cpscontrolepac
      where (cpscontrolepac.codigocps = :codigocps) and (cpscontrolepac.datahora >= addhour(cast('now' as timestamp),-12))
      group by 1,2
      order by 1,2
      into :datahora, :tipo, :valor do
      if (tipo = 'BALANCO HIDRICO - SAIDA') then
      begin
         tipo = tipo;
         saida = saida + :valor;
         valor = valor*-1;
         suspend;
      end
      else if (tipo = 'BALANCO HIDRICO - ENTRADA') then
      begin
         tipo = tipo;
         entrada = entrada + :valor;
         suspend;
      end
      datahora = 'now';
      tipo = 'Resultado';
      valor = (entrada - saida);
      suspend;
   end
end
 ^


ALTER PROCEDURE "BPA" 
(
  "CONSULTA" VARCHAR(6000),
  "TIPOCONSULTAESP" INTEGER,
  "PROCBPATIPO" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "FOLHA" VARCHAR(10),
  "GRUPO" CHAR(2),
  "CODIGOAMB" VARCHAR(10),
  "CBO" VARCHAR(6),
  "TIPO" CHAR(2),
  "IDADE" INTEGER,
  "QTDE" INTEGER,
  "VALOR" FLOAT,
  "ESPECIALIDADE" CHAR(2),
  "CODIGOSERV" INTEGER,
  "A_MEDICOS" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "CNS_MEDICO" VARCHAR(15),
  "MATRICULA" VARCHAR(30),
  "SEXO" VARCHAR(1),
  "CID10" VARCHAR(4),
  "NOMEPACIENTE" VARCHAR(50),
  "NASCIMENTO" TIMESTAMP,
  "TIPOBPA" CHAR(1),
  "RACACOR" CHAR(2),
  "UF" VARCHAR(4),
  "CIDADE" VARCHAR(100),
  "CODIGOPLA" SMALLINT,
  "NACIONALIDADE" CHAR(3),
  "CARTAO" VARCHAR(20),
  "CEP" VARCHAR(8),
  "CODLOG" VARCHAR(3),
  "ENDERECO" VARCHAR(50),
  "ENDERECO_COMP" VARCHAR(20),
  "ENDERECO_NUM" VARCHAR(8),
  "BAIRRO" VARCHAR(20),
  "TELEFONE" VARCHAR(11),
  "EMAIL" VARCHAR(60),
  "ETNIA" VARCHAR(10)
)
AS
declare variable codatendsus char(2);
declare variable datacps timestamp;
declare variable codigopac float;
declare variable nasc timestamp;
declare variable data timestamp;
declare variable anos integer;
declare variable codigoambvalido integer;
declare variable convenio integer;
declare variable auxCodamb char(8);
declare variable ConsultaSQL Varchar(4000);
declare variable intoSQL varchar(1000);
declare variable Cor char(1);
declare variable descricaobpa varchar(30);
declare variable consultatipobpa char(2);
declare variable auxCboSus varchar(7);
declare variable auxCompetencia varchar(6);
declare variable cobrar varchar(1);
declare variable auxMes integer;
declare variable auxAno integer;
declare variable aux_Cons_hab_Proc varchar(10);
begin
if ( TIPOCONSULTAESP = 1 ) then TIPOCONSULTAESP = 0;
if ( ( PROCBPATIPO ='N') or ( PROCBPATIPO ='T') ) then
begin
  -- 09/03/2020   arnaldo alteraao complemento ficar em branco BPA individualizado erro HO e Hri (equipe dobrando folhas)
  -- 05/11/2019   eduardo  fiz alteracao do cobrar B para samur    and cps2.cobrar= ''S''
  nacionalidade = null;
  for execute statement  'SELECT cps1.codigocps, cps1.produto, cps2.codigoamb, cps2.especialidade, cps2.a_medicos, cps1.codigopla, ' ||
                   'cps1.codigopac, cps2.data, cps2.quantidade, cps1.convenio, cps2.gruposus, cps2.sustipoato, cps2.valor, cps2.codigoserv, cps2.cobrar ' ||
                   'FROM CPS1 cps1 ' ||
                   'INNER JOIN CPS2 Cps2 on ( cps2.codigocps2 = cps1.codigocps  and cps2.cobrar= ''S''  ) left join fechamento on (cps1.fatura = fechamento.SEQUENCIA) ' || consulta
     into :codigocps, :folha, :auxCodamb, :especialidade, :a_medicos, :codigopla,
          :codigopac, :data, :qtde, :convenio, :grupo,:codatendsus, :valor, :codigoserv, :cobrar do
  begin
    if (codigopac is not null ) then
    begin
       select nasc from paciente where codigopac = :codigopac into :nasc;
    end
    if ( (grupo is not null) and (auxCodamb is not null) ) then
    begin
       codigoamb = :grupo || :auxCodamb;
    end
    else if ( ( grupo is null ) and (auxCodamb is not null) ) then
       codigoamb = '00' || :auxCodamb;
    else if ( ( grupo is not null ) and (auxCodamb is null) ) then
       codigoamb = :grupo || '00000000';
    descricaobpa ='';
    consultatipobpa ='';
    tipobpa = 'C';
    auxMes = 0;
    auxAno = 0;
    auxCompetencia = '';
    if (gen_id(GEN_FORMATO_BPA,0) = 0) THEN
    begin
       auxMes = extract( month from data );
       auxAno = extract( YEAR from data );
       if ( auxAno > 0 ) then
             auxCompetencia = auxAno;
       if ( auxMes < 10 ) then
             auxCompetencia = auxCompetencia || '0' || auxMes;
       else
             auxCompetencia = auxCompetencia || auxMes;
       select first 1 registro.codigo, registro.descricao from procedimento
       inner join procedimento_regsus on (procedimento.codproc = procedimento_regsus.procedimento)
       inner join registro on (registro.codigo = procedimento_regsus.codigo)
       where procedimento.codproc =:codigoamb and registro.codigo = '02' and procedimento_regsus.competencia = :auxCompetencia
       into :consultatipobpa, :descricaobpa ;
    end
    else if ( gen_id(GEN_FORMATO_BPA,0) = 1 ) then
    begin
       select first 1 registro.codigo, registro.descricao from procedimento
       inner join procedimento_registro on (procedimento.codigo = procedimento_registro.cod_procedimento)
       inner join registro on (registro.codigo = procedimento_registro.codigo)
       where procedimento.codproc =:codigoamb and registro.codigo = '02'
       into :consultatipobpa, :descricaobpa ;
    end
    If (codigopla = 1) then  codatendsus = 1;
    if (( consultatipobpa is not null )and (consultatipobpa = '02')) then
        tipobpa = 'I';
    if (codatendsus is not null) then
         tipo = :codatendsus;
    else
    begin
        if (codigopla = 2) then tipo = '02';
        if (codigopla = 1) then
        begin
          tipo = '01';
          select first 1 a_datafat from cps1 where codigopac = :codigopac and codigopla = 1  order by a_datafat into :datacps;
          if (:datacps = :data) then tipo = '03';
        end
    end
    select ano from idade_calc(:nasc,'today') into anos;
    IDADE = anos;
    if (exists(select * from buscaconfiguracao('SYSHOSP','IdadeBPA') where valor = 'N')) then  idade= 0;
    if (TIPOCONSULTAESP = 1) then
    begin
      if (especialidade is null) then
      begin
        select first 1 especconvenio.codigoamb from medicos
        inner join especconvenio on ((especconvenio.convenio = :convenio) and (especconvenio.especialidade = medicos.especial))
        where a_medicos = :a_medicos into :cbo;
      end
      else
        select first 1 codigoamb from especconvenio where convenio = :convenio and especialidade = :especialidade into :cbo;
    end
    else if (TIPOCONSULTAESP = 0) then
    begin
      if (especialidade is null) then
      begin
         select first 1 especial from medicos
         where medicos.a_medicos = :a_medicos
         into :especialidade;
      end
      if (especialidade is not null) then
      begin
         auxCboSus = null;
         select first 1 especialidade.cbo, especialidade.cbosus from especialidade
         where especialidade.codesp = :especialidade
         into :cbo, :auxCboSus;
         begin
             if (auxCboSus is not null) then
               cbo = auxCboSus;
         end
      end
    end
    aux_Cons_hab_Proc = null;
    select resultado from cons_Hab_proc(:codigoamb, '02')
    into :aux_Cons_hab_Proc;
    if (aux_cons_hab_Proc is null ) then
      tipobpa = 'C';
    IF  (( PROCBPATIPO = 'N') and (( NOT EXISTS ( SELECT PROCEDIMENTO FROM HABILITA_PROCEDIMENTO WHERE PROCEDIMENTO =:CODIGOAMB AND CODIGO = '02' ) )  or( aux_cons_hab_proc is null ) ) )THEN
    BEGIN
       if (cobrar = 'S') then
       IF ( NOT EXISTS ( SELECT PROCEDIMENTO FROM CONVSERVSUS WHERE CONVENIO = :convenio AND PROCEDIMENTO = :codigoamb and BPA_C = 'S' ) ) THEN
          suspend;
    end
    else if (PROCBPATIPO = 'T') then
    begin
       if (cobrar = 'S') then
       IF ( NOT EXISTS ( SELECT PROCEDIMENTO FROM CONVSERVSUS WHERE CONVENIO = :convenio AND PROCEDIMENTO = :codigoamb and BPA_C = 'S' ) ) THEN
          suspend;
    end
  end
end
if ( PROCBPATIPO = 'S' ) then
begin
  Cor = '';
  for execute statement  'SELECT cps1.codigocps, cps1.produto, cps2.codigoamb, cps2.especialidade, cps2.a_medicos, cps1.codigopla, ' ||
                   'cps1.codigopac, cps2.data, cps2.quantidade, cps1.convenio, cps2.gruposus, cps2.sustipoato, cps2.valor, cps2.codigoserv, ' ||
                   'medicos.sus, cps1.a_datafat, cps1.a_cid, cps2.cobrar  ' ||
                   'FROM CPS1 cps1 ' ||
                   'INNER JOIN CPS2 Cps2 on ( cps2.codigocps2 = cps1.codigocps   and cps2.cobrar= ''S''  ) ' ||
                   'INNER JOIN MEDICOS on (cps2.a_medicos = medicos.a_medicos ) left join fechamento on (cps1.fatura = fechamento.SEQUENCIA) ' || consulta
     into :codigocps, :folha, :auxCodamb, :especialidade, :a_medicos, :codigopla,
          :codigopac, :data, :qtde, :convenio, :grupo,:codatendsus, :valor, :codigoserv,
          :cns_medico,:a_datafat, :cid10, cobrar  do
  begin
    select nasc, matricula, sexo, a_nome, cor, uf, cidade, nacionalidade, cartao, SUBSTRING(cep from 1 for 8), substring(endereco from 1 for 30), substring( complemento from 1 for 10 ), substring( numero from 1 for 30 ), substring( bairro from 1 for 30), substring( '' from 1 for 11), substring(email from 1 for 40 ), substring(cod_logradouro from 1 for 3 ), etnia  from paciente where codigopac = :codigopac
    into :nasc, :matricula, :sexo, :nomepaciente, :cor, :uf, :cidade, :nacionalidade, :cartao, :cep, :endereco, :endereco_comp,:endereco_num,:bairro, :telefone, :email, :codlog, :etnia ;
    endereco_comp = '';    -- 09/03/2020   arnaldo alteraao complemento ficar em branco BPA individualizado erro HO e Hri (equipe dobrando folhas)
    if ( codlog is null) then
       codlog = '081';
    if ( (grupo is not null) and (auxCodamb is not null) ) then
    begin
       codigoamb = :grupo || :auxCodamb;
    end
    else if ( ( grupo is null ) and (auxCodamb is not null) ) then
       codigoamb = '00' || :auxCodamb;
    else if ( ( grupo is not null ) and (auxCodamb is null) ) then
       codigoamb = :grupo || '00000000';
    descricaobpa ='';
    consultatipobpa ='';
    auxMes = 0;
    auxAno = 0;
    auxCompetencia = '';
    if (gen_id(GEN_FORMATO_BPA,0) = 0) THEN
    begin
       auxMes = extract( month from data );
       auxAno = extract( YEAR from data );
       if ( auxAno > 0 ) then
             auxCompetencia = auxAno;
       if ( auxMes < 10 ) then
             auxCompetencia = auxCompetencia || '0' || auxMes;
       else
             auxCompetencia = auxCompetencia || auxMes;
       select first 1 registro.codigo, registro.descricao from procedimento
       inner join procedimento_regsus on (procedimento.codproc = procedimento_regsus.procedimento)
       inner join registro on (registro.codigo = procedimento_regsus.codigo)
       where procedimento.codproc =:codigoamb and registro.codigo = '02' and procedimento_regsus.competencia = :auxCompetencia
       into :consultatipobpa, :descricaobpa ;
    end
    else if ( gen_id(GEN_FORMATO_BPA,0) = 1 ) then
    begin
       select first 1 registro.codigo, registro.descricao from procedimento
       inner join procedimento_registro on (procedimento.codigo = procedimento_registro.cod_procedimento)
       inner join registro on (registro.codigo = procedimento_registro.codigo)
       where procedimento.codproc =:codigoamb and registro.codigo = '02'
       into :consultatipobpa, :descricaobpa ;
    end
    if (consultatipobpa = '02') then
    begin
       tipobpa = 'I';
       if (nasc is not null) then
          nascimento = nasc;
       if (cor is not null) then
       begin
          if ( ( cor = '1' ) or ( cor = 'B' ) )then
             racacor = '01';
          else if ( ( cor = '2' ) or ( cor = 'N' ) ) then
             racacor = '02';
          else if ( ( cor = '3' ) or ( cor = 'P' ) ) then
             racacor = '03';
          else if ( cor = '4' ) then
             racacor = '04';
          else if ( cor = '5' ) then
             racacor = '05';
          else if ( cor = '9' ) then
             racacor = '99';
       end
       if (codatendsus is not null) then
           tipo = :codatendsus;
       else
       begin
          if (codigopla = 2) then tipo = '02';
          if (codigopla = 1) then
          begin
            tipo = '01';
            select first 1 a_datafat from cps1 where codigopac = :codigopac and codigopla = 1 order by a_datafat into :datacps;
            if (:datacps = :data) then tipo = '03';
          end
       end
       select ano from idade_calc(:nasc,:a_datafat) into anos;
       IDADE = anos;
       if (exists(select * from buscaconfiguracao('SYSHOSP','IdadeBPA') where valor = 'N')) then  idade= 0;
       if (TIPOCONSULTAESP = 1) then
       begin
         if (especialidade is null) then
         begin
           select first 1 especconvenio.codigoamb from medicos
           inner join especconvenio on ((especconvenio.convenio = :convenio) and (especconvenio.especialidade = medicos.especial))
           where a_medicos = :a_medicos into :cbo;
         end
         else
            select first 1 codigoamb from especconvenio where convenio = :convenio and especialidade = :especialidade into :cbo;
       end
       else if (TIPOCONSULTAESP = 0) then
       begin
         if (especialidade is null) then
         begin
            select especial from medicos
            where medicos.a_medicos = :a_medicos
            into :especialidade;
         end
         if (especialidade is not null) then
         begin
            auxCboSus = null;
            select first 1 especialidade.cbo, especialidade.cbosus from especialidade
            where especialidade.codesp = :especialidade
            into :cbo, :auxCboSus;
            begin
                if (auxCboSus is not null) then
                    cbo = auxCboSus;
            end
         end
       end
       if (racacor <> '05') then
          etnia = '    ';
       IF ( EXISTS ( SELECT PROCEDIMENTO FROM HABILITA_PROCEDIMENTO WHERE PROCEDIMENTO =:CODIGOAMB AND CODIGO = '02' ) ) THEN
       BEGIN
          if (cobrar = 'S') then
          IF ( NOT EXISTS ( SELECT PROCEDIMENTO FROM CONVSERVSUS WHERE CONVENIO = :convenio AND PROCEDIMENTO = :codigoamb and BPA_I = 'S' ) ) THEN
            suspend;
          end
       end
    end
end
end
 ^


ALTER PROCEDURE "BUSCACONFIGURACAO" 
(
  "SISTEMA" VARCHAR(50),
  "PARAMETRO" VARCHAR(100)
)
RETURNS
(
  "VALOR" VARCHAR(100)
)
AS
BEGIN
 SELECT FIRST 1 VALOR FROM EMPRESACONFIG WHERE SISTEMA  = :SISTEMA AND PARAMETRO = :PARAMETRO AND (VALOR IS NOT NULL) INTO VALOR;
 SUSPEND;
END
 ^


ALTER PROCEDURE "BUSCAENDERECOPORCEP" 
(
  "CEP" VARCHAR(8)
)
RETURNS
(
  "ENDERECO" VARCHAR(200),
  "BAIRRO" VARCHAR(72),
  "CIDADE" VARCHAR(60),
  "UF" CHAR(2)
)
AS
begin
   select endereco,bairro,cidade,uf from endereco where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecoespecial where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecocpc where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecouop where cep = :cep into :endereco, :bairro, :cidade, :uf;
suspend;
end
 ^


ALTER PROCEDURE "BUSCAENDERECOPORCEP1" 
(
  "CEP" VARCHAR(8)
)
RETURNS
(
  "ENDERECO" VARCHAR(200),
  "BAIRRO" VARCHAR(72),
  "CIDADE" VARCHAR(60),
  "UF" CHAR(2)
)
AS
begin
   select endereco,bairro,cidade,uf from endereco where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecoespecial where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecocpc where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecouop where cep = :cep into :endereco, :bairro, :cidade, :uf;
if (:endereco is null) Then
   select endereco,bairro,cidade,uf from enderecoloc where cep = :cep into :endereco, :bairro, :cidade, :uf;
suspend;
end
 ^


ALTER PROCEDURE "CALCCUSTOFILME" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CUSTO" DOUBLE PRECISION
)
RETURNS
(
  "FILMECUSTO" DOUBLE PRECISION
)
AS
declare variable filmemetro double precision;
declare variable filme double precision;
begin
      select sum(servicos.a_filme) from cps('where a_datafat between ''' || cast(:inicio as varchar(40)) || ''' and ''' || cast(:fim as varchar(40)) || '''')
      inner join servicos on servicos.codigoserv = cps.codigoserv where (cps.dhe <> 'M') into :filmemetro;
      select -1*gen_id(gen_filmemetro,0) from rdb$database into :filme;
      select gen_id(gen_filmemetro,:filme) from rdb$database into :filme;
      if (filmemetro > 0) Then
        filme = :custo*100/:filmemetro;
      select gen_id(gen_filmemetro,:filme) from rdb$database into :filme;
      if (filmemetro > 0) Then
        filmecusto = custo/filmemetro;
      else
        filmecusto = 0;
      suspend;
end
 ^


ALTER PROCEDURE "CALCRECEBIMENTO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "VALORTOTAL" DOUBLE PRECISION
)
AS
DECLARE VARIABLE RECVALOR DOUBLE PRECISION;
begin
 RECVALOR =0; VALORTOTAL = 0;
 FOR execute statement 'SELECT Recebimento.VALOR FROM RECEBIMENTO Recebimento INNER JOIN CONVENIO Convenio ON ( Convenio.CONVENIO = Recebimento.CONVENIO ) ' || :CONSULTA ||
     ' ORDER BY Recebimento.DATA DESC'
     INTO :RECVALOR DO
     BEGIN
         IF (RECVALOR >=0) THEN
         BEGIN
            VALORTOTAL = VALORTOTAL + RECVALOR;
         END
     END
     SUSPEND;
end
 ^


ALTER PROCEDURE "CALC_PERC_GENERICO" 
(
  "CPS" FLOAT
)
RETURNS
(
  "GENERTOTAL" FLOAT,
  "MARCATOTAL" FLOAT
)
AS
BEGIN
END
 ^


ALTER PROCEDURE "CARGA_COMPILAB_NIP_PCC" 
(
  "NIP" VARCHAR(100),
  "REFERENCIA" VARCHAR(30),
  "PROCEDIMENTO" VARCHAR(30),
  "TIPOATEDIMENTO" VARCHAR(50),
  "DATAEXAME" DATE
)
RETURNS
(
  "MATRICULA" VARCHAR(50),
  "CODIGOPAC" VARCHAR(50),
  "TIPODEP" VARCHAR(1),
  "AMH" VARCHAR(1),
  "IMH" VARCHAR(1),
  "VALOR" DOUBLE PRECISION,
  "IDCPS" FLOAT
)
AS
declare variable cobrar char(1);
declare variable codigoserv char(30);
declare variable OK char(1);
--declare variable dataexame timestamp;
declare variable codigo_proc char(100);
declare variable tipoatd char(100);
declare variable totalproc float;
declare variable tipocps integer;
begin
      OK = 'S';
      IF (:TIPOATEDIMENTO = '') Then
          tipocps = 1;
      IF (:TIPOATEDIMENTO = 'Internamento') Then --  IF (:TIPOATEDIMENTO = 'Internamento  ') Then
          tipocps = 7;
      IF (:TIPOATEDIMENTO = 'Ambulatorio') Then --IF (:TIPOATEDIMENTO = 'Ambulatorio   ') Then
          tipocps = 1;
      IF (:TIPOATEDIMENTO = 'Emergencia') Then ---IF (:TIPOATEDIMENTO = 'Emergencia    ') Then
          tipocps = 2;
      select first 1 codigocps from cps1 where RAT = :referencia and matricula = :nip and codigopla = :tipocps into :idcps;
      Select first 1 codigoserv, a_codamb, total from servicos where tabela = 14 and a_codamb = :PROCEDIMENTO into :codigoserv, :codigo_proc, :totalproc;
      if (:codigoserv is null) Then
      begin
           -- EXCEPTION EXC_DINAMICA 'TESTE PROC NAO ENCONTRADO NA CISFA' ;
            INSERT INTO CARGACOMPILAB_ERRO (NIP, OBSERVACAO, REFERENCIA, CODIGO_PROC) values (:NIP,'PROCEDIMENTO NAO ENCONTRADO NA TABELA CISFA',:REFERENCIA, :PROCEDIMENTO );
      end
      else
      begin
          -- EXCEPTION EXC_DINAMICA 'TESTE PROCPASSOU';
          for select first 1 paciente.matricula, paciente.codigopac , imp_fusma.tipo_dep, imp_fusma.amh, imp_fusma.imh from paciente
              left join imp_fusma on paciente.matricula = imp_fusma.nip_vinc
              where  paciente.convenio=1 and matricula = :nip
              order by paciente.codigopac
              into :matricula, :codigopac, :tipodep,:amh,  :imh do
              begin
                 valor = (:totalproc * 0.46);
                 cobrar = 'S';
                  if ((:imh = 'N') or (:imh is null)) Then
                     cobrar = 'N';
                  if (:tipodep <> 'I') Then
                     valor =  :valor * 0.2;
                  if ((:amh = 'N') or (:amh is null)) Then
                     cobrar = 'N';
                  if (:codigopac is null) Then
                  begin
                      INSERT INTO CARGACOMPILAB_ERRO (NIP, OBSERVACAO, REFERENCIA, CODIGO_PROC, VALOR_CALCULADO) values (:NIP,'PACIENTE NO CADASTRADO NO SISTEMA DE ATENDIMENTO',:REFERENCIA, :codigo_proc, :totalproc * 0.46);
                  end
                  if (cobrar ='N') Then
                      valor = 0;
                  if (:codigopac > 0) Then
                   if (:idcps is null) Then
                   begin
                    --   EXCEPTION EXC_DINAMICA 'TESTE IDCPS';
                       insert into cps1 (a_codigo1, codigo, codigopla, codigopac, matricula, convenio, medresp,
                        a_data, a_datafat, especialidade, a_hora, Principal, a_guia, a_situacao, RAT,
                        desconto, TOTALMATMED, VALORTOTAL, A_ALA, A_LEITO, A_CID)  values
                       ( 1,1,:tipocps,  :codigopac, :matricula, 1, 90,
                       :dataexame, :dataexame, '69', 'now', :codigo_proc, 'compilab', 0, :REFERENCIA,
                       0,0, 0,999,999, 'Z017');
                        SELECT GEN_ID(GEN_cps1,0) FROM RDB$DATABASE INTO :IDCPS;
                        insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,
                              quantidade,a_codmoe,a_quantida,valor, data,hora,
                              dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                        (:IDCPS,:codigoserv,:codigo_proc ,90,
                              1,1,1,:VALOR,:dataexame,'now',
                              'N',0,0,0, 01,'03','C',:cobrar);
                       -- update cps1 set liquido = :valor where codigocps = :idcps;
                   end
                   else if (:idcps > 0 ) Then
                   begin
                       --  EXCEPTION EXC_DINAMICA 'TESTE SEM IDCPS';
                        insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,
                              quantidade,a_codmoe,a_quantida,valor, data,hora,
                              dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                        (:IDCPS,:codigoserv,:codigo_proc ,90,
                              1,1,1,:VALOR,:dataexame,'now',
                              'N',0,0,0, 01,'03','C',:cobrar);
                   end
                   if (cobrar = 'N') Then
                  Begin
                      INSERT INTO CARGACOMPILAB_ERRO (NIP, OBSERVACAO, REFERENCIA , CODIGO_PROC, VALOR_CALCULADO) values (:NIP,'PACIENTES COMO COBRAR N',:REFERENCIA, :codigo_proc, :totalproc * 0.46);
                  end
              end
           suspend;
      end
end
 ^


ALTER PROCEDURE "CENSOHOSPITALAR" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "QTDE" INTEGER,
  "TIPO" VARCHAR(11)
)
AS
begin
     for
     select 'Admisses', a_datafat, COUNT( a_DATAfat ) from cps1
     WHERE ( CODIGOPLA = 3 AND ( a_datafat between :inicio and :fim) )
     group by a_datafat
     into tipo, data, qtde DO
     suspend;
     for
     select 'Altas', datasaida, COUNT( datasaida ) from cps1
     WHERE ( CODIGOPLA = 3 AND ( datasaida between :inicio and :fim) )
     group by datasaida
     into tipo, data, qtde DO
     suspend;
end
 ^


ALTER PROCEDURE "CHECADISCOBPA" 
(
  "CONSULTA" VARCHAR(6000),
  "TIPOCONSULTAESP" INTEGER,
  "CHECAR" CHAR(1),
  "COMPETENCIA" VARCHAR(6)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CODIGOAMB" VARCHAR(10),
  "CBO" VARCHAR(6),
  "TIPO" CHAR(2),
  "GRUPO" CHAR(2),
  "IDADE" INTEGER,
  "QTDE" INTEGER,
  "STATUS" VARCHAR(100),
  "SO_ERRO" CHAR(1)
)
AS
declare variable cont integer;
declare variable testeCodigoamb varchar(10);
declare variable testeCBO varchar(6);
begin
for select codigocps, codigoamb, cbo, tipo, grupo, idade, qtde from bpa(:CONSULTA, :TIPOCONSULTAESP, 'T')
    into :CODIGOCPS, :codigoamb, :cbo, :tipo, :grupo, :idade, :qtde do
    begin
      STATUS = '';
      testeCodigoamb = null;
      SO_ERRO = null;
      select procedimento.codproc from procedimento
      where codproc = :codigoamb
      into :testeCodigoamb;
      begin
          if ((:testeCodigoamb is null) ) then
          begin
             STATUS = 'Procedimento Invlido ' || :codigoamb;
             SO_ERRO = 'S';
          end
          else
          begin
             STATUS ='Procedimento Sem erro ';
             SO_ERRO = 'N';
             testeCBO = null;
             if (competencia is null or competencia = '') then
             begin
                select distinct procedimento_cbosus.cod_cbo  from procedimento_cbosus
                inner join Procedimento on (procedimento_cbosus.cod_procedimento = Procedimento.codigo)
                where Procedimento.codproc = :codigoamb and procedimento_cbosus.cod_cbo = :cbo
                into :testeCBO;
                begin
                  if (:testeCBO is null ) then
                  begin
                    STATUS = STATUS || 'CBO Invlido';
                    SO_ERRO = 'S';
                  end
                  else
                  begin
                    STATUS = STATUS || 'CBO Vlido';
                    SO_ERRO = 'N';
                  end
               end
             end
             else if (competencia is not null)then
             begin
                select distinct procedimento_cbosus.cod_cbo  from procedimento_cbosus
                inner join Procedimento on (procedimento_cbosus.cod_procedimento = Procedimento.codigo)
                where Procedimento.codproc = :codigoamb and procedimento_cbosus.cod_cbo = :cbo and procedimento_cbosus.competencia = :competencia
                into :testeCBO;
                begin
                  if (:testeCBO is null ) then
                  begin
                    STATUS = STATUS || 'CBO Invlido';
                    SO_ERRO = 'S';
                  end
                  else
                  begin
                    STATUS = STATUS || 'CBO Vlido';
                    SO_ERRO = 'N';
                  end
               end
             end
          end
        end
    suspend;
  end
end
 ^


ALTER PROCEDURE "CHECAPRONTUARIO" 
(
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "RESULTADO" CHAR(1)
)
AS
DECLARE VARIABLE CODIGOSERV INTEGER;
begin
   SELECT FIRST 1 CPS2.CODIGOSERV FROM CPS1
   INNER JOIN PACIENTE ON (PACIENTE.CODIGOPAC = CPS1.CODIGOPAC)
   INNER JOIN CPS2 ON (CPS2.CODIGOCPS2 = CPS1.CODIGOCPS) AND (CPS1.A_DATAFAT BETWEEN PACIENTE.DATASINC AND 'NOW')
   INNER JOIN SERVICOS ON (CPS2.CODIGOSERV = SERVICOS.CODIGOSERV)
   WHERE CPS1.CODIGOPAC = :CODIGOPAC AND ( (SERVICOS.A_TIPO <> 'E') OR ( SERVICOS.A_TIPO <> 'U' ) OR (SERVICOS.A_TIPO <> 'M') OR (SERVICOS.A_TIPO <> 'R') )
   INTO :CODIGOSERV;
   if ( codigoserv is not null) then
      RESULTADO = null;
   else
      RESULTADO = '*';
   SUSPEND;
end
 ^


ALTER PROCEDURE "CHECASISTEMA" 
(
  "TEXTO" VARCHAR(50)
)
RETURNS
(
  "STATUS" VARCHAR(20)
)
AS
begin
  if (texto = 'NAO') then
    select gen_id(gen_envio,1) from rdb$database into status;
  if (texto = 'SIM') then
    select gen_id(gen_envio,-gen_id(gen_envio,0)) from rdb$database into status;
  status = 'AS';
  suspend;
end
 ^


ALTER PROCEDURE "CHECK_SERVCONVENIODUPLO" 
(
  "INDICE" INTEGER,
  "CONVENIO" INTEGER,
  "CODIGOAMB1" VARCHAR(12),
  "CODIGOAMB2" VARCHAR(12)
)
RETURNS
(
  "QTDE" INTEGER
)
AS
begin
select count(*) from servconvenio where (indice <> :indice) and (convenio = :convenio) and (codigoamb1  <= :codigoamb1 and codigoamb2  >= :codigoamb2) into :qtde;
if (qtde < 1) then
begin
  select count(*) from servconvenio where (indice <> :indice) and (convenio = :convenio) and (codigoamb1  >= :codigoamb1 and codigoamb2  >= :codigoamb2 and codigoamb1  <= :codigoamb2) into :qtde;
  if (qtde < 1) then
  begin
    select count(*) from servconvenio where (indice <> :indice) and (convenio = :convenio) and (codigoamb2  <= :codigoamb2 and codigoamb1  <= :codigoamb1 and codigoamb2  >= :codigoamb1) into :qtde;
    if (qtde < 1) then
    begin
      select count(*) from servconvenio where (indice <> :indice) and (convenio = :convenio) and (codigoamb1  >= :codigoamb1 and codigoamb2  <= :codigoamb2) into :qtde;
    end
  end
end
  suspend;
end
 ^


ALTER PROCEDURE "CIDXPROC" 
(
  "CAMPO" VARCHAR(40),
  "TIPO" VARCHAR(50)
)
RETURNS
(
  "TEXTO" VARCHAR(30)
)
AS
begin
  texto = '';
  if (tipo = 'CID') then
  if (exists(    select first 1 codigoamb from altaitem
    where altaitem.alta = rdb$get_context('USER_SESSION', 'EVOLUCAOENF') and
                           altaitem.classe = 'Procedimentos')) then
  begin
    texto = '';
    select first 1 codigoamb from altaitem
    inner join tb_cid_proc on (altaitem.alta = rdb$get_context('USER_SESSION', 'EVOLUCAOENF') and
                           altaitem.classe = 'Procedimentos' and tb_cid_proc.cp_proc = altaitem.CODIGOAMB and tb_cid_proc.cp_cid =:campo) into texto;
    if (texto = '') then texto = 'N';
  end
  if (tipo = 'PROC') then
  if (exists(    select first 1 codigoamb from altaitem
    where altaitem.alta = rdb$get_context('USER_SESSION', 'EVOLUCAOENF') and
                           altaitem.classe = 'Cid')) then
  begin
    texto = '';
    select first 1 codigoamb from altaitem
    inner join tb_cid_proc on (altaitem.alta = rdb$get_context('USER_SESSION', 'EVOLUCAOENF') and
                           altaitem.classe = 'Cid' and tb_cid_proc.cp_cid = altaitem.CODIGOAMB and tb_cid_proc.cp_proc =:campo) into texto;
    if (texto = '') then texto = 'N';
  end
  suspend;
end
 ^


ALTER PROCEDURE "CIH01A" 
(
  "INICIO" DATE,
  "FINAL" DATE
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "CO_MODALIDADE" INTEGER,
  "NOME_PAC" VARCHAR(50),
  "DS_LOGR" VARCHAR(50),
  "DS_UF" VARCHAR(2),
  "CEP" VARCHAR(8),
  "DT_NASC" TIMESTAMP,
  "SEXO" CHAR(1),
  "CONVNOME" VARCHAR(40),
  "DIAG_PRIN" VARCHAR(4),
  "DT_ATENDIMENTO" DATE,
  "DT_ALTA" TIMESTAMP,
  "REG_ANS" VARCHAR(6),
  "TP_FREMU" CHAR(1),
  "CNPJ_OPER" VARCHAR(18),
  "CO_BENEF" VARCHAR(30),
  "NU_OBITO" VARCHAR(12),
  "NU_PRONT" INTEGER,
  "TABHON" INTEGER,
  "FROMCONVENIO" INTEGER,
  "GRUPOSUS" VARCHAR(2),
  "TP_ALTA" CHAR(1),
  "PRINCIPAL" VARCHAR(8),
  "PAC_NUMERO" VARCHAR(8),
  "DS_CIDADE" VARCHAR(20),
  "CODIGOCPS" FLOAT
)
AS
begin
    FOR SELECT distinct cps1.codigocps,cps1.codigopac, cps1.codigopla, Convenio.a_nome, cps1.datasaida, cps1.motivo, convenio.ans, convenio.FONTEREMUNERA,
           convenio.cnpj, cps1.numeroobito, convenio.tabhon, convenio.fromconvenio, cps1.gruposus, cps1.principaL,
           MAX(cps1.a_datafat), MAX(cid.cidans), MAX(cps1.codigocps)
        FROM CPS1
        LEFT JOIN CID cid ON (CID.cid10=CPS1.a_cid)
        LEFT JOIN CONVENIO Convenio ON (CONVENIO.CONVENIO=CPS1.CONVENIO)
        WHERE (CPS1.A_DATAFAT BETWEEN :INICIO AND :FINAL ) AND
              ( ( cps1.codigopla=1 AND convenio.fromconvenio<>10) OR
              (((cps1.CODIGOPLA=3) OR (cps1.CODIGOPLA=7)) AND (CPS1.DATASAIDA BETWEEN :INICIO AND :FINAL ) ) )
        GROUP BY 1,2,3,4,5,6,7,8,9,10,11,12,13,14
        INTO codigocps, :codigopac, :co_modalidade, :convnome, :DT_ALTA, :TP_ALTA, :REG_ANS, :TP_FREMU,
         :CNPJ_OPER, :NU_OBITO, :tabhon, :fromconvenio, :gruposus, :PRINCIPAL, :DT_ATENDIMENTO, :DIAG_PRIN, :NU_PRONT  DO
        BEGIN
           SELECT A_NOME, MATRICULA, ENDERECO, UF, CEP, NASC, SEXO, NUMERO, CIDADE FROM PACIENTE
           WHERE CODIGOPAC = :CODIGOPAC
           INTO :nome_pac, :CO_BENEF, :ds_logr, :ds_uf, :CEP, :DT_NASC, :SEXO, :PAC_NUMERO, :DS_CIDADE;
           SUSPEND;
        END
end
 ^


ALTER PROCEDURE "CIRURGICOANALISE" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER
)
RETURNS
(
  "TRATAMENTO" INTEGER,
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT
)
AS
declare variable a_tipo char(1);
declare variable pacote1 char(1);
declare variable cobrar  char(1);
declare variable valor float;
begin
  for select Inter2.CODIGOINT, inter2.convenio, inter2.tratamento, inter2.a_data data from inter2
  inner join tratamento on (tratamento.tratamento = inter2.tratamento)
  inner join cps1 on (cps1.codigocps = inter2.codigoint)
  where (inter2.a_data between :data1 and :data2) and
         (inter2.convenio between :convenio1 and :convenio2) and
         inter2.fatura = 5
  into :codigocps, :convenio, :tratamento, :data do
  begin
    procedimento = 0;
    dtx = 0;
    gaso = 0;
    exames = 0;
    pacote = 0;
    mm = 0;
    cobrado = 0;
    ncobrado = 0;
   for select servicos.pacote1, servicos.a_tipo, cps.cobrar, sum(cps.valor) from cps('where codigocps =' || cast(:codigocps as integer) || ' and tratamento =' || :tratamento)
       left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
       group by 1,2,3 into :pacote1, :a_tipo, :cobrar, :valor do
   begin
     if (pacote1 = 'D') then pacote = pacote + valor;
     else if ((a_tipo = 'H') OR (a_tipo = 'C') or (a_tipo = 'V')) then procedimento = procedimento + valor;
     else if ((a_tipo = 'D') OR (a_tipo = 'T') or (a_tipo = 'A') or (a_tipo = 'N')) then dtx = dtx + valor;
     else if (a_tipo = 'G') then gaso = gaso + valor;
     else if ((a_tipo = 'R') OR (a_tipo = 'E') or (a_tipo = 'S') or (a_tipo = 'M') or (a_tipo = 'U') or (a_tipo = 'O') or (a_tipo = 'P')) then exames = exames + valor;
     else if (a_tipo is null) then mm = mm + valor;
     if ((cobrar is null) or (cobrar = 'S')) then cobrado  = cobrado + valor;
     else if (pacote1 <> 'D' or pacote1 is null) then ncobrado  = ncobrado + valor;
   end
   select sum(procmed + filmemed) from honorario('(''where codigocps = ' || cast(:codigocps as integer) || ' and tratamento = ' || :tratamento || ''')',0)
   inner join medicos on (medicos.a_medicos = honorario.a_medicos)
   where (honorario.tipo < '3') and (Medicos.honorario = 'S' or Medicos.honorario is null) into :honorario;
   suspend;
  end
end
 ^


ALTER PROCEDURE "CODIGOAMBVALIDA" 
(
  "CODIGOCPS" FLOAT,
  "CODIGOAMB" VARCHAR(8)
)
RETURNS
(
  "MENSAGEM" VARCHAR(100),
  "LIBERADO" CHAR(1)
)
AS
begin
end
 ^


ALTER PROCEDURE "CODIGOSERVPROC" 
(
  "PROCEDIMENTO" VARCHAR(9),
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODIGOSERV" FLOAT
)
AS
begin
  select first 1 codigoserv from servicos where tabela = (select tabcbhpm from convenio where convenio = :convenio) and a_codamb = :procedimento into :codigoserv;
  if (:codigoserv is null) then
    select first 1 codigoserv from servicos where tabela = (select tabhon from convenio where convenio = :convenio) and a_codamb = :procedimento into :codigoserv;
    if (:codigoserv is null) then
      select first 1 codigoserv from servicos where tabela = (select tabtaxa from convenio where convenio = :convenio) and a_codamb = :procedimento into :codigoserv;
suspend;
end
 ^


ALTER PROCEDURE "COMPARAR_TISSV3_TABORIGEM" 
(
  "TABELA" INTEGER
)
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(500),
  "TIPO" VARCHAR(100)
)
AS
declare variable codigo integer;
begin
  for  Select codigo, cast(descricao as varchar(500)) from tissdominio where tipo='22' into :codigoamb, :procedimento do
  --TIPO = '';
  if ( not exists(SELECT a_codamb FROM servicos WHERE tabela = :TABELA AND A_CODAMB = :codigoamb ) ) then
  BEGIN
     TIPO = 'Itens na TabDominio e fora da de Origem';
     suspend;
  END
end
 ^


ALTER PROCEDURE "COMPARA_ORIGEM_TISSV3" 
(
  "TABELA" INTEGER
)
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(250),
  "TIPO" VARCHAR(100)
)
AS
declare variable codigo integer;
begin
  for  Select a_codamb, cast(A_NOME as varchar(2500)) from servicos where tabela= :tabela into :codigoamb, :procedimento do
  --TIPO = '';
  if ( not exists(SELECT codigo FROM tissdominio WHERE tipo = '22' AND codigo = :codigoamb ) ) then
  BEGIN
     TIPO = 'Itens na ORIGEM e fora dominio Tissv3';
  END
  suspend;
end
 ^


ALTER PROCEDURE "COMPARA_TABELAS" 
(
  "TAB1" INTEGER,
  "TAB2" INTEGER
)
RETURNS
(
  "A_CODAMB1" VARCHAR(10),
  "A_NOME1" VARCHAR(100),
  "TOTAL1" DOUBLE PRECISION,
  "A_CODAMB2" VARCHAR(10),
  "A_NOME2" VARCHAR(100),
  "TOTAL2" DOUBLE PRECISION,
  "OBSERVACAO" VARCHAR(200)
)
AS
declare variable resultado varchar(200);
begin
  for select  servicos.A_codamb, servicos.a_nome, servicos.total from servicos
      where servicos.tabela = :TAB1
      order by servicos.A_codamb into  :a_codamb1, :a_nome1, :total1 do
  BEGIN
       select  servicos.A_codamb, servicos.a_nome, servicos.total from servicos
            where servicos.tabela = :TAB2 and servicos.A_codamb= :a_codamb1
            order by servicos.A_codamb into :a_codamb2, :a_nome2, :total2;
      observacao = '';
      if ( not exists(select a_codamb from servicos where servicos.tabela = :TAB2 and servicos.A_codamb= :a_codamb1) ) then
      begin
           Observacao = 'codigo inexistente na tabela 2';
           a_codamb2 ='';
           a_nome2 = '';
           total2 = null ;
      end
      else
      begin
          if (:a_nome1 <> :a_nome2) Then
          begin
              Observacao = 'Nome diferente';
          end
          if (:total1 <> :total2) Then
          begin
               Observacao = 'valor diferente';
          end
      end
  suspend;
  END
end
 ^


ALTER PROCEDURE "CONDUTADIARISTA" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
declare variable resumo varchar(250);
declare variable resumoaux varchar(250);
declare variable textoaux varchar(30000);
declare variable textoaux2 varchar(30000);
declare variable textoaux3 varchar(30000);
declare variable textoaux4 varchar(30000);
declare variable textoaux5 varchar(30000);
declare variable textoaux6 varchar(30000);
declare variable textoaux7 varchar(30000);
declare variable textoaux8 varchar(30000);
declare variable textoaux9 varchar(30000);
declare variable textoaux10 varchar(30000);
declare variable conteudo blob;
declare variable tipocps integer;
begin
  texto = '';
  resumoaux = null;
  texto = '';
  select codigopla from cps1 where codigocps = :codigocps into :tipocps;
  if (tipocps > 2) Then
  begin
    conteudo = null;
    SELECT FIRST 1 (select texto from RTF_CONVERT(PLANO_CONDUTA)),  extract(day from DATAHORA) || '/' || extract(month from DATAHORA) FROM EVOLUCAOENF WHERE CODIGOCPS = :CODIGOCPS AND TIPO = 'D' and
    PLANO_CONDUTA is not null ORDER BY DATAHORA DESC, EVOLUCAO into conteudo, textoaux3;
    if (conteudo <> '') then
    begin
      texto = ' Conduta Diarista:  ' ||  textoaux3 || ' ' || ascii_char(13)|| ascii_char(10)|| substring(conteudo from 1 for 3000);
   --   texto = substring(conteudo from 1 for 3000);
      suspend;
    end
   end
end
 ^


ALTER PROCEDURE "CONDUTAPLANTONISTA" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
declare variable resumo varchar(250);
declare variable resumoaux varchar(250);
declare variable textoaux varchar(30000);
declare variable textoaux2 varchar(30000);
declare variable textoaux3 varchar(30000);
declare variable textoaux4 varchar(30000);
declare variable textoaux5 varchar(30000);
declare variable textoaux6 varchar(30000);
declare variable textoaux7 varchar(30000);
declare variable textoaux8 varchar(30000);
declare variable textoaux9 varchar(30000);
declare variable textoaux10 varchar(30000);
declare variable conteudo blob;
declare variable tipocps integer;
begin
  texto = '';
  resumoaux = null;
  texto = '';
  select codigopla from cps1 where codigocps = :codigocps into :tipocps;
  if (tipocps > 2) Then
  begin
    conteudo = null;
    SELECT FIRST 1 (select texto from RTF_CONVERT(PLANO_CONDUTA)),  extract(day from DATAHORA) || '/' || extract(month from DATAHORA)
    FROM EVOLUCAOENF WHERE CODIGOCPS = :CODIGOCPS AND TIPO = 'U' and
    PLANO_CONDUTA is not null ORDER BY DATAHORA DESC, EVOLUCAO into conteudo, textoaux3;
    if (conteudo <> '') then
    begin
      texto = ' Conduta Plantonista:  ' ||  textoaux3 || ' ' || ascii_char(13)|| ascii_char(10)|| substring(conteudo from 1 for 3000);
   --   texto = substring(conteudo from 1 for 3000);
      suspend;
    end
   end
end
 ^


ALTER PROCEDURE "CONSERTARMEDICOSUS" 
(
  "MEDRESP" INTEGER,
  "GRUPOSUS" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
declare variable indice float;
begin
 for select codigocps, cps2.indice from cps1
 inner join cps2 on (cps1.codigocps = cps2.codigocps2)
  where (a_datafat between :datainicio and :datafim) and medresp= :medresp and cps2.gruposus = :gruposus and cps2.codigoamb = :principal
  into :codigocps, :indice do
  begin
     update cps2 set a_medicos = :medresp where cps2.indice = :indice and a_medicos <> :medresp;
     suspend;
  end
end
 ^


ALTER PROCEDURE "CONSULTAREVISAO" 
(
  "W_CODIGOPAC" INTEGER,
  "W_CONVENIO" INTEGER,
  "W_DATA" TIMESTAMP,
  "W_MEDRESP" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CODIGOPAC" FLOAT,
  "CODIGOCPS" FLOAT,
  "MEDRESP" INTEGER,
  "A_CID" VARCHAR(4),
  "A_MEDICOS" INTEGER,
  "A_NOME" VARCHAR(40),
  "PRINCIPAL" VARCHAR(8),
  "NOMECONVENIO" VARCHAR(40),
  "DESCRICAO" VARCHAR(20),
  "NOMEESPECIALIDADE" VARCHAR(60)
)
AS
begin
    if ( W_MEDRESP <> 0 ) then
    begin
       FOR SELECT Cps1.CONVENIO, Cps1.A_DATAFAT, Cps1.A_HORA, Cps1.CODIGOPAC, Cps1.CODIGOCPS,
       Cps1.MEDRESP, Cps1.A_CID, Medicos.A_MEDICOS, Medicos.A_NOME,
       Cps1.PRINCIPAL, Convenio.A_NOME AS NOMECONVENIO,
       Tipo.Descricao, Especialidade.NOME AS NOMEESPECIALIDADE
       FROM CPS1 Cps1
       LEFT JOIN  MEDICOS Medicos ON (Cps1.MEDRESP=Medicos.A_MEDICOS)
       LEFT JOIN CONVENIO Convenio ON (Cps1.CONVENIO=Convenio.CONVENIO)
       INNER JOIN TIPO Tipo ON  (Cps1.CODIGOPLA=Tipo.TIPO)
       LEFT JOIN ESPECIALIDADE Especialidade ON  ( Especialidade.CODESP = CPS1.ESPECIALIDADE)
       WHERE CPS1.CODIGOPAC=:W_CODIGOPAC AND CPS1.CONVENIO=:W_CONVENIO AND (CPS1.A_DATAFAT>=(:W_DATA-CONVENIO.REVISAO)) AND CPS1.MEDRESP=:W_MEDRESP
       INTO :CONVENIO, :A_DATAFAT, :A_HORA, :CODIGOPAC, :CODIGOCPS, :MEDRESP, :A_CID, :A_MEDICOS, :A_NOME, :PRINCIPAL,
       :NOMECONVENIO, :DESCRICAO, :NOMEESPECIALIDADE
       DO
       SUSPEND;
    end
    else
    begin
       FOR SELECT Cps1.CONVENIO, Cps1.A_DATAFAT, Cps1.A_HORA, Cps1.CODIGOPAC, Cps1.CODIGOCPS,
       Cps1.MEDRESP, Cps1.A_CID, Medicos.A_MEDICOS, Medicos.A_NOME,
       Cps1.PRINCIPAL, Convenio.A_NOME AS NOMECONVENIO,
       Tipo.Descricao, Especialidade.NOME AS NOMEESPECIALIDADE
       FROM CPS1 Cps1
       LEFT JOIN  MEDICOS Medicos ON ( Cps1.MEDRESP = Medicos.A_MEDICOS)
       LEFT JOIN CONVENIO Convenio ON ( Cps1.CONVENIO = Convenio.CONVENIO)
       INNER JOIN TIPO Tipo ON  ( Cps1.CODIGOPLA = Tipo.TIPO)
       LEFT JOIN ESPECIALIDADE Especialidade ON  ( Especialidade.CODESP = CPS1.ESPECIALIDADE)
       WHERE CPS1.CODIGOPAC=:W_CODIGOPAC AND CPS1.CONVENIO=:W_CONVENIO AND CPS1.A_DATAFAT>=(:W_DATA-CONVENIO.REVISAO )
       INTO :CONVENIO, :A_DATAFAT, :A_HORA, :CODIGOPAC, :CODIGOCPS, :MEDRESP, :A_CID, :A_MEDICOS, :A_NOME, :PRINCIPAL,
       :NOMECONVENIO, :DESCRICAO, :NOMEESPECIALIDADE
       DO
       SUSPEND;
    end
end
 ^


ALTER PROCEDURE "CONSULTAREVISAORESUMO" 
(
  "W_CODIGOPAC" INTEGER,
  "W_CONVENIO" INTEGER,
  "W_DATA" TIMESTAMP,
  "W_MEDRESP" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
begin
    if ( W_MEDRESP <> '0' ) then
    begin
       FOR SELECT Cps1.CODIGOCPS
       FROM CPS1 Cps1
       WHERE CPS1.CODIGOPAC = :W_CODIGOPAC AND CPS1.CONVENIO = :W_CONVENIO AND ( CPS1.A_DATAFAT < :W_DATA ) AND ( CPS1.A_DATAFAT > ( :W_DATA - 30 ) ) AND CPS1.MEDRESP = :W_MEDRESP
       INTO :CODIGOCPS
       DO
       SUSPEND;
    end
    else
    begin
       FOR SELECT Cps1.CODIGOCPS
       FROM CPS1 Cps1
       WHERE CPS1.CODIGOPAC = :W_CODIGOPAC AND CPS1.CONVENIO = :W_CONVENIO AND CPS1.A_DATAFAT >= :W_DATA
       INTO :CODIGOCPS
       DO
       SUSPEND;
    end
end
 ^


ALTER PROCEDURE "CONSULTAREVISAO_OLDERROHOP" 
(
  "W_CODIGOPAC" INTEGER,
  "W_CONVENIO" INTEGER,
  "W_DATA" TIMESTAMP,
  "W_MEDRESP" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CODIGOPAC" FLOAT,
  "CODIGOCPS" FLOAT,
  "MEDRESP" INTEGER,
  "A_CID" VARCHAR(4),
  "A_MEDICOS" INTEGER,
  "A_NOME" VARCHAR(40),
  "PRINCIPAL" VARCHAR(8),
  "NOMECONVENIO" VARCHAR(40),
  "DESCRICAO" VARCHAR(20),
  "NOMEESPECIALIDADE" VARCHAR(60)
)
AS
declare variable codigopla integer;
begin
    select codigopla from cps1 where codigocps = :codigocps into codigopla;
    if ( W_MEDRESP <> 0 ) then
    begin
       FOR SELECT Cps1.CONVENIO, Cps1.A_DATAFAT, Cps1.A_HORA, Cps1.CODIGOPAC, Cps1.CODIGOCPS,
       Cps1.MEDRESP, Cps1.A_CID, Medicos.A_MEDICOS, Medicos.A_NOME,
       Cps1.PRINCIPAL, Convenio.A_NOME AS NOMECONVENIO,
       Tipo.Descricao, Especialidade.NOME AS NOMEESPECIALIDADE
       FROM CPS1 Cps1
       LEFT JOIN  MEDICOS Medicos ON (Cps1.MEDRESP=Medicos.A_MEDICOS)
       LEFT JOIN CONVENIO Convenio ON (Cps1.CONVENIO=Convenio.CONVENIO)
       INNER JOIN TIPO Tipo ON  (Cps1.CODIGOPLA=Tipo.TIPO)
       LEFT JOIN ESPECIALIDADE Especialidade ON  ( Especialidade.CODESP = CPS1.ESPECIALIDADE)
       WHERE CPS1.CODIGOPAC=:W_CODIGOPAC AND CPS1.CONVENIO=:W_CONVENIO AND (CPS1.A_DATAFAT>=(:W_DATA-CONVENIO.REVISAO)) AND CPS1.MEDRESP=:W_MEDRESP and cps1.codigopla = :codigopla
       INTO :CONVENIO, :A_DATAFAT, :A_HORA, :CODIGOPAC, :CODIGOCPS, :MEDRESP, :A_CID, :A_MEDICOS, :A_NOME, :PRINCIPAL,
       :NOMECONVENIO, :DESCRICAO, :NOMEESPECIALIDADE
       DO
       SUSPEND;
    end
    else
    begin
       FOR SELECT Cps1.CONVENIO, Cps1.A_DATAFAT, Cps1.A_HORA, Cps1.CODIGOPAC, Cps1.CODIGOCPS,
       Cps1.MEDRESP, Cps1.A_CID, Medicos.A_MEDICOS, Medicos.A_NOME,
       Cps1.PRINCIPAL, Convenio.A_NOME AS NOMECONVENIO,
       Tipo.Descricao, Especialidade.NOME AS NOMEESPECIALIDADE
       FROM CPS1 Cps1
       LEFT JOIN  MEDICOS Medicos ON ( Cps1.MEDRESP = Medicos.A_MEDICOS)
       LEFT JOIN CONVENIO Convenio ON ( Cps1.CONVENIO = Convenio.CONVENIO)
       INNER JOIN TIPO Tipo ON  ( Cps1.CODIGOPLA = Tipo.TIPO)
       LEFT JOIN ESPECIALIDADE Especialidade ON  ( Especialidade.CODESP = CPS1.ESPECIALIDADE)
       WHERE CPS1.CODIGOPAC=:W_CODIGOPAC AND CPS1.CONVENIO=:W_CONVENIO AND CPS1.A_DATAFAT>=(:W_DATA-CONVENIO.REVISAO )  and cps1.codigopla = :codigopla
       INTO :CONVENIO, :A_DATAFAT, :A_HORA, :CODIGOPAC, :CODIGOCPS, :MEDRESP, :A_CID, :A_MEDICOS, :A_NOME, :PRINCIPAL,
       :NOMECONVENIO, :DESCRICAO, :NOMEESPECIALIDADE
       DO
       SUSPEND;
    end
end
 ^


ALTER PROCEDURE "CONSULTA_MNM" 
(
  "CODIGOCPS" FLOAT,
  "TIPOPROC" CHAR(1),
  "CODIGOAMB" VARCHAR(8),
  "TRATAMENTO" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "A_CODAMB" VARCHAR(8),
  "NOMEPROCEDIMENTO" VARCHAR(100),
  "LAUDOPADRAO" VARCHAR(60),
  "MNM" VARCHAR(10)
)
AS
DECLARE VARIABLE auxTabConv integer;
DECLARE VARIABLE auxCodPla integer;
BEGIN
   auxTabConv =0; auxCodPla =0;
   select codigopla from cps1 where codigocps =:codigocps into :auxCodPla;
   IF ( (TRATAMENTO IS NULL OR TRATAMENTO = 0) and ( auxCodPla <> 3 ) )THEN
   BEGIN
      select convenio.tabhon from CPS1
      INNER JOIN CONVENIO ON (CONVENIO.CONVENIO =CPS1.CONVENIO)
      where CPS1.CODIGOCPS = :CODIGOCPS into :auxTabConv;
   END
   else if ( ( Tratamento is not null and tratamento > 0) and (auxCodPla = 3) ) then
   begin
      select convenio.tabhon from cps1
      inner join inter2 on (inter2.codigoint = cps1.codigocps)
      INNER JOIN CONVENIO ON (CONVENIO.CONVENIO =inter2.CONVENIO)
      where CPS1.CODIGOCPS = :CODIGOCPS and inter2.tratamento = :tratamento into :auxTabConv;
   end
   FOR select servicos.codigoserv, servicos.a_codamb, servicos.a_nome, laudopadrx.laudo, laudopadrx.mnm from vinculorx
       inner join servicos on (servicos.a_codamb = vinculorx.a_codamb1)
       inner join laudopadrx on (laudopadrx.laudo = vinculorx.laudo)
       where  tabela =:auxTabConv and servicos.a_tipo =:tipoProc AND vinculorx.a_codamb1 = :codigoamb
       into :codigoserv, :A_codamb, :nomeprocedimento, :laudopadrao, :mnm do
       begin
         IF ( ( MNM IS NOT NULL) and (auxCodPla <> 3) ) THEN
           UPDATE CPS2 SET MNM = :MNM WHERE CODIGOCPS2 = :CODIGOCPS AND CODIGOSERV =:CODIGOSERV;
         else if (( MNM is not null ) and (auxCodPla = 3) and ( Tratamento >0) ) then
         begin
         end
         suspend;
       end
END
 ^


ALTER PROCEDURE "CONS_HAB_PROC" 
(
  "CODIGOAMB" VARCHAR(10),
  "CODIGO" CHAR(2)
)
RETURNS
(
  "RESULTADO" VARCHAR(10)
)
AS
begin
    SELECT distinct PROCEDIMENTO FROM HABILITA_PROCEDIMENTO
          WHERE PROCEDIMENTO =:CODIGOAMB AND CODIGO = :codigo
    into :resultado ;
    suspend;
end
 ^


ALTER PROCEDURE "CONTROLE_FATURAMENTO" 
(
  "DATAINICIAL" TIMESTAMP,
  "DATAFINAL" TIMESTAMP,
  "CONVENIO" INTEGER
)
RETURNS
(
  "ATENDIDOAMB" INTEGER,
  "ENVIADOAMB" INTEGER,
  "ENVIADOAMBANT" INTEGER,
  "NAOENVIADASAMB" INTEGER,
  "ATENDIDOEME" INTEGER,
  "ENVIADOEME" INTEGER,
  "ENVIADOEMEANT" INTEGER,
  "NAOENVIADASEME" INTEGER,
  "ATENDIDOINT" INTEGER,
  "ENVIADOINT" INTEGER,
  "ENVIADOINTANT" INTEGER,
  "NAOENVIADASINT" INTEGER
)
AS
begin
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE ( CONVENIO = :CONVENIO ) AND ( CODIGOPLA = 1 ) AND ( A_DATA BETWEEN :DATAINICIAL and :DATAFINAL )
    INTO :ATENDIDOAMB;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE ( CONVENIO = :CONVENIO ) AND ( CODIGOPLA = 1 ) AND ( A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND
          ( A_DATAFAT >= :DATAINICIAL ) AND ( A_SITUACAO = 0 OR A_SITUACAO = 3 OR A_SITUACAO = 4 )
    INTO :ENVIADOAMB;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE ( CONVENIO = :CONVENIO ) AND ( CODIGOPLA = 1 ) AND ( A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND
          ( A_DATAFAT < :DATAINICIAL ) AND ( A_SITUACAO = 0 OR A_SITUACAO = 3 OR A_SITUACAO = 4 )
    INTO :ENVIADOAMBANT;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE ( CONVENIO = :CONVENIO ) AND ( CODIGOPLA = 1 ) AND ( A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND
          ( A_SITUACAO = 1 OR A_SITUACAO = 2 )
    INTO :NAOENVIADASAMB;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE CONVENIO = :CONVENIO AND ( A_DATAFAT BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( CODIGOPLA = 2 )
    INTO :ATENDIDOEME;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE CONVENIO = :CONVENIO AND ( A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( A_SITUACAO = 0 OR A_SITUACAO = 3 OR A_SITUACAO = 4 ) AND
          ( A_DATAFAT >= :DATAINICIAL ) AND ( CODIGOPLA = 2 )
    INTO :ENVIADOEME;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE CONVENIO = :CONVENIO AND ( A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( A_SITUACAO = 0 OR A_SITUACAO = 3 OR A_SITUACAO = 4 ) AND
          ( A_DATAFAT < :DATAINICIAL ) AND ( CODIGOPLA = 2 )
    INTO :ENVIADOEMEANT;
    SELECT COUNT( CODIGOCPS ) FROM CPS1
    WHERE CONVENIO = :CONVENIO AND ( A_DATAFAT BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( A_SITUACAO = 1 OR A_SITUACAO = 2 )
          AND ( CODIGOPLA = 2 )
    INTO :NAOENVIADASEME;
    SELECT COUNT( CODIGOCPS ) FROM CPS1 INNER JOIN INTER2 ON INTER2.CODIGOINT = CPS1.CODIGOCPS
    WHERE INTER2.CONVENIO = :CONVENIO AND ( INTER2.A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( CODIGOPLA = 3 )
    INTO :ATENDIDOINT;
    SELECT COUNT( CODIGOCPS ) FROM CPS1 INNER JOIN INTER2 ON INTER2.CODIGOINT = CPS1.CODIGOCPS
    WHERE INTER2.CONVENIO = :CONVENIO AND ( INTER2.A_ENVIO BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( A_SITUACAO = 0 OR A_SITUACAO = 3 OR A_SITUACAO = 4 ) AND
          ( INTER2.A_DATA >= :DATAINICIAL ) AND ( CODIGOPLA = 3 )
    INTO :ENVIADOINT;
    SELECT COUNT( CODIGOCPS ) FROM CPS1 INNER JOIN INTER2 ON INTER2.CODIGOINT = CPS1.CODIGOCPS
    WHERE INTER2.CONVENIO = :CONVENIO AND ( INTER2.A_ENVIO BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( A_SITUACAO = 0 OR A_SITUACAO = 3 OR A_SITUACAO = 4 ) AND
          ( INTER2.A_DATA < :DATAINICIAL ) AND ( CODIGOPLA = 3 )
    INTO :ENVIADOINTANT;
    SELECT COUNT( CODIGOCPS ) FROM CPS1 INNER JOIN INTER2 ON INTER2.CODIGOINT = CPS1.CODIGOCPS
    WHERE INTER2.CONVENIO = :CONVENIO AND ( INTER2.A_DATA BETWEEN :DATAINICIAL and :DATAFINAL ) AND ( A_SITUACAO = 1 OR A_SITUACAO = 2 )
          AND ( CODIGOPLA = 3 )
    INTO :NAOENVIADASINT;
    SUSPEND;
end
 ^


ALTER PROCEDURE "CONVENIOANALISE" 
(
  "CONSULTA" VARCHAR(6000),
  "CONSULTAHON" VARCHAR(6000)
)
RETURNS
(
  "CONVENIO" INTEGER,
  "ATENDIMENTO" INTEGER,
  "PROCEDIMENTO" DOUBLE PRECISION,
  "TAXA" DOUBLE PRECISION,
  "GLOSADO" DOUBLE PRECISION,
  "HONORARIO" DOUBLE PRECISION,
  "MATMED" DOUBLE PRECISION,
  "MATMEDCUSTO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "FILMECUSTO" DOUBLE PRECISION,
  "FILMEMETRO" DOUBLE PRECISION
)
AS
declare variable codigocps float;
declare variable glosamm float;
begin
for select convenio, sum(valor), sum(a_filme), sum(glosa) from cps(:consulta)
    where (dhe <> 'M') or (dhe is null)
    group by convenio into :convenio, :procedimento, :filme, :glosado do
    begin
      atendimento = 0;
      for select distinct codigocps from cps(:consulta || ' and convenio =' || cast(:convenio as varchar(10))) into :codigocps do
          atendimento = atendimento + 1;
      if (filme > 0) then
        procedimento = procedimento - filme;
      select sum(cps.valor) from cps(:consulta || ' and convenio =' || cast(:convenio as varchar(10)))
      inner join servicos on (servicos.codigoserv = cps.codigoserv) where (cps.dhe <> 'M') and (servicos.a_tipo in ('T','D')) into :taxa;
      if (taxa > 0) then
        procedimento = procedimento - taxa;
      select sum(cps.valor), sum(cps.glosa), sum(cps.custo*cps.quantidade) from cps(:consulta || ' and convenio =' || cast(:convenio as varchar(10)))
      inner join matmed on (matmed.codigomm = cps.codigoserv) where (dhe = 'M') into :matmed, :glosamm, :matmedcusto;
      if (glosamm > 0) then
        glosado =  glosado + glosamm;
      select sum(procmed+filmemed+parceiro) from honorario(:consultahon || ' and convenio =' || cast(:convenio as varchar(10)),0) where convenio = :convenio into :honorario;
      select sum(servicos.a_filme) from cps(:consulta || ' and convenio =' || cast(:convenio as varchar(10)))
      inner join servicos on servicos.codigoserv = cps.codigoserv where (cps.dhe <> 'M') into :filmemetro;
      if (matmedcusto is null) then matmedcusto = 0;
      if (matmed is null) then matmed = 0;
      if (filme is null) then filme = 0;
      if (filmemetro is null) then filmemetro = 0;
      if (procedimento is null) then procedimento = 0;
      if (taxa is null) then taxa = 0;
      if (honorario is null) then honorario = 0;
      if (glosado is null) then glosado = 0;
      filmecusto = filmemetro*gen_id(gen_filmemetro,0)/100;
      suspend;
    end
end
 ^


ALTER PROCEDURE "COPIANOTAMED" 
(
  "NOTAMED" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable datasaida timestamp;
declare variable codigopac integer;
declare variable cpsnova integer;
declare variable medicos integer;
begin
    select medico from usuarios where codigo = :USUARIO INTO :medicos;
    insert into notamed (DATAHORA, A_MEDICOS, CODIGOCPS, CODIGO, A_CODIGO1, CONTEUDO, EVOLUCAO, INTERCOR, REPOUSO, USER1, DATA1, TRATAMENTO )
    select   CAST('NOW' AS TIMESTAMP), :MEDICOS, CODIGOCPS, :USUARIO, :USUARIO, CONTEUDO, EVOLUCAO, INTERCOR, REPOUSO, :USUARIO, CAST('NOW' AS TIMESTAMP), TRATAMENTO
    from notamed where a_notamed = :notamed;
    indice = gen_id(gen_notamed,0);
    select datasaida,codigopac from cps1 where codigocps = (select codigocps from notamed where a_notamed= :indice) into :datasaida, :codigopac;
    If (datasaida is not null) Then
    begin
      select first 1 codigocps from cps1 where codigopac = :codigopac and codigopla = 3 and datasaida is null order by codigocps desc into cpsnova;
      if (cpsnova is not null) then
        update notamed set codigocps = :cpsnova where a_notamed = :indice;
    end
    insert into notamed2 (ORDEM, A_NOTAMED, A_KITS, MEDICAMENT, POSOLOGIA, QUANTIDADE, A_MEDIDAS, NUMERO, CODIGO, A_CODIGO1, DILUENTE, VIA, inicio_tratamento, fim_tratamento)
    select   ORDEM, :INDICE, A_KITS, MEDICAMENT, POSOLOGIA, QUANTIDADE, A_MEDIDAS, NUMERO, :USUARIO, :USUARIO, DILUENTE, VIA, inicio_tratamento, fim_tratamento
    from notamed2 left join notamed on notamed.a_notamed = notamed2.a_notamed
    where (notamed2.a_notamed = :notamed or notamed.continuacao = :notamed) and (notamed2.fim_tratamento is null or notamed2.fim_tratamento >= 'now') and (notamed2.suspenso <> 'S' or notamed2.suspenso is null );
    insert into NOTAMED3 (A_DATA1, A_DRENO, A_MEDICOS, A_NOTAMED, CODIGOAMB, CODIGOSERV, CODIGOUSU, RESULTADO, SOLICITA)
    select A_DATA1, A_DRENO, A_MEDICOS, :indice, CODIGOAMB, CODIGOSERV, CODIGOUSU,RESULTADO, SOLICITA
    from notamed3 where a_notamed = :notamed;
    insert into NOTAMED4 (PRESCRICAO, CONTROLE, INTERVALO)
    SELECT :INDICE, CONTROLE, INTERVALO FROM NOTAMED4 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED5 (PRESCRICAO, MONITORIZACAO, INTERVALO)
    SELECT :INDICE, MONITORIZACAO, INTERVALO
    FROM NOTAMED5 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED13 (PRESCRICAO, DESCRICAO)
    SELECT :INDICE, DESCRICAO
    FROM NOTAMED13 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED6 (PRESCRICAO, FISIOTERAPIA, INTERVALO)
    SELECT :INDICE, FISIOTERAPIA, INTERVALO
    FROM NOTAMED6 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED8 (PRESCRICAO, TIPO, ASSISTIDA, MARCA)
    SELECT :INDICE, TIPO, ASSISTIDA, MARCA FROM NOTAMED8 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED9 (PRESCRICAO, QUANTIDADE, TIPO)
    SELECT :INDICE, QUANTIDADE, TIPO FROM NOTAMED9 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED10 (PRESCRICAO, TIPO, GAS, INTERVALO)
    SELECT :INDICE, TIPO, GAS, INTERVALO FROM NOTAMED10 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED12 (PRESCRICAO, SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, ELETROLITO)
    SELECT :INDICE, SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, ELETROLITO FROM NOTAMED12 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMEDDIETA (DIETA, PRESCRICAO)
    SELECT DIETA, :INDICE FROM NOTAMEDDIETA WHERE PRESCRICAO = :NOTAMED;
    suspend;
end
 ^


ALTER PROCEDURE "COPIANOTAMEDCONTINUACAO" 
(
  "NOTAMED" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable datasaida timestamp;
declare variable codigopac integer;
declare variable cpsnova integer;
declare variable medicos integer;
begin
    select medico from usuarios where codigo = :USUARIO INTO :medicos;
    insert into notamed (DATAHORA, A_MEDICOS, CODIGOCPS, CODIGO, A_CODIGO1, CONTEUDO, EVOLUCAO, INTERCOR, REPOUSO, USER1, DATA1, TRATAMENTO )
    select   CAST('NOW' AS TIMESTAMP), :MEDICOS, CODIGOCPS, :USUARIO, :USUARIO, CONTEUDO, EVOLUCAO, INTERCOR, REPOUSO, :USUARIO, CAST('NOW' AS TIMESTAMP), TRATAMENTO
    from notamed where a_notamed = :notamed;
    indice = gen_id(gen_notamed,0);
    select datasaida,codigopac from cps1 where codigocps = (select codigocps from notamed where a_notamed= :indice) into :datasaida, :codigopac;
    If (datasaida is not null) Then
    begin
      select first 1 codigocps from cps1 where codigopac = :codigopac and codigopla = 3 and datasaida is null order by codigocps desc into cpsnova;
      if (cpsnova is not null) then
        update notamed set codigocps = :cpsnova where a_notamed = :indice;
    end
    insert into NOTAMED3 (A_DATA1, A_DRENO, A_MEDICOS, A_NOTAMED, CODIGOAMB, CODIGOSERV, CODIGOUSU, RESULTADO, SOLICITA)
    select A_DATA1, A_DRENO, A_MEDICOS, :indice, CODIGOAMB, CODIGOSERV, CODIGOUSU,RESULTADO, SOLICITA
    from notamed3 where a_notamed = :notamed;
    insert into NOTAMED4 (PRESCRICAO, CONTROLE, INTERVALO)
    SELECT :INDICE, CONTROLE, INTERVALO FROM NOTAMED4 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED5 (PRESCRICAO, MONITORIZACAO, INTERVALO)
    SELECT :INDICE, MONITORIZACAO, INTERVALO
    FROM NOTAMED5 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED13 (PRESCRICAO, DESCRICAO)
    SELECT :INDICE, DESCRICAO
    FROM NOTAMED13 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED6 (PRESCRICAO, FISIOTERAPIA, INTERVALO)
    SELECT :INDICE, FISIOTERAPIA, INTERVALO
    FROM NOTAMED6 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED8 (PRESCRICAO, TIPO, ASSISTIDA, MARCA)
    SELECT :INDICE, TIPO, ASSISTIDA, MARCA FROM NOTAMED8 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED9 (PRESCRICAO, QUANTIDADE, TIPO)
    SELECT :INDICE, QUANTIDADE, TIPO FROM NOTAMED9 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED10 (PRESCRICAO, TIPO, GAS, INTERVALO)
    SELECT :INDICE, TIPO, GAS, INTERVALO FROM NOTAMED10 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMED12 (PRESCRICAO, SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, ELETROLITO)
    SELECT :INDICE, SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, ELETROLITO FROM NOTAMED12 WHERE PRESCRICAO = :NOTAMED;
    insert into NOTAMEDDIETA (DIETA, PRESCRICAO)
    SELECT DIETA, :INDICE FROM NOTAMEDDIETA WHERE PRESCRICAO = :NOTAMED;
    suspend;
end
 ^


ALTER PROCEDURE "COPIANOTAMED_PCC" 
(
  "NOTAMED" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable datasaida timestamp;
declare variable codigopac integer;
declare variable cpsnova integer;
declare variable medicos integer;
begin
    if (gen_id(gen_COPIA_EVOLUCAOPRESC,0) = 0 ) Then
    begin
       select medico from usuarios where codigo = :USUARIO INTO :medicos;
       insert into notamed (DATAHORA, A_MEDICOS, CODIGOCPS, CODIGO, A_CODIGO1, CONTEUDO, EVOLUCAO, INTERCOR, REPOUSO, USER1, DATA1, TRATAMENTO )
       select   CAST('NOW' AS TIMESTAMP), :MEDICOS, CODIGOCPS, :USUARIO, :USUARIO, CONTEUDO, EVOLUCAO, INTERCOR, REPOUSO, :USUARIO, CAST('NOW' AS TIMESTAMP), TRATAMENTO
       from notamed where a_notamed = cast(:notamed as float);
    end
    else
    begin
       select medico from usuarios where codigo = :USUARIO INTO :medicos;
       insert into notamed (DATAHORA, A_MEDICOS, CODIGOCPS, CODIGO, A_CODIGO1, CONTEUDO,  INTERCOR, REPOUSO, USER1, DATA1, TRATAMENTO )
       select   CAST('NOW' AS TIMESTAMP), :MEDICOS, CODIGOCPS, :USUARIO, :USUARIO, CONTEUDO,  INTERCOR, REPOUSO, :USUARIO, CAST('NOW' AS TIMESTAMP), TRATAMENTO
       from notamed where a_notamed = cast(:notamed as float);
    end
    indice = gen_id(gen_notamed,0);
    insert into notamed2 (ORDEM, A_NOTAMED, A_KITS, MEDICAMENT, POSOLOGIA, QUANTIDADE, A_MEDIDAS, NUMERO, CODIGO, A_CODIGO1, DILUENTE, VIA, inicio_tratamento, fim_tratamento, grupo, tipo)
    select   notamed2.ORDEM, :INDICE, notamed2.A_KITS, notamed2.MEDICAMENT, notamed2.POSOLOGIA, notamed2.QUANTIDADE, notamed2.A_MEDIDAS, notamed2.NUMERO, :USUARIO, :USUARIO, notamed2.DILUENTE, notamed2.VIA, notamed2.inicio_tratamento, notamed2.fim_tratamento, notamed2.grupo, notamed2.tipo
    from notamed inner join notamed2 on (((notamed.a_notamed = cast(:notamed as float)) or (notamed.continuacao = cast(:notamed as varchar(10)))) and (notamed.a_notamed = notamed2.a_notamed))
    where
      (notamed2.fim_tratamento is null or notamed2.fim_tratamento >= 'now') and (notamed2.suspenso <> 'S' or notamed2.suspenso is null );
    insert into NOTAMED3 (A_DATA1, A_DRENO, A_MEDICOS, A_NOTAMED, CODIGOAMB, CODIGOSERV, CODIGOUSU, RESULTADO, SOLICITA)
    select A_DATA1, A_DRENO, A_MEDICOS, :indice, CODIGOAMB, CODIGOSERV, CODIGOUSU,RESULTADO, SOLICITA
    from notamed3 where a_notamed = cast(:notamed as float) ;
    insert into NOTAMED4 (PRESCRICAO, CONTROLE, INTERVALO)
    SELECT :INDICE, CONTROLE, INTERVALO FROM NOTAMED4 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED5 (PRESCRICAO, MONITORIZACAO, INTERVALO)
    SELECT :INDICE, MONITORIZACAO, INTERVALO   FROM NOTAMED5 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED13 (PRESCRICAO, DESCRICAO)
    SELECT :INDICE, DESCRICAO  FROM NOTAMED13 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED6 (PRESCRICAO, FISIOTERAPIA, INTERVALO)
    SELECT :INDICE, FISIOTERAPIA, INTERVALO FROM NOTAMED6 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED8 (PRESCRICAO, TIPO, ASSISTIDA, MARCA)
    SELECT :INDICE, TIPO, ASSISTIDA, MARCA FROM NOTAMED8 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED9 (PRESCRICAO, QUANTIDADE, TIPO)
    SELECT :INDICE, QUANTIDADE, TIPO FROM NOTAMED9 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED10 (PRESCRICAO, TIPO, GAS, INTERVALO)
    SELECT :INDICE, TIPO, GAS, INTERVALO FROM NOTAMED10 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMED12 (PRESCRICAO, SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, ELETROLITO)
    SELECT :INDICE, SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, ELETROLITO FROM NOTAMED12 WHERE PRESCRICAO = cast(:notamed as float);
    insert into NOTAMEDDIETA (DIETA, PRESCRICAO)
    SELECT DIETA, :INDICE FROM NOTAMEDDIETA WHERE PRESCRICAO = cast(:notamed as float) ;
    suspend;
end
 ^


ALTER PROCEDURE "COPIAPROTOCOLO" 
(
  "PROTOCOLO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
begin
    insert into CIDPROT1 (DATA1, PROTOCOLO, TITULO )
    select   CAST('NOW' AS TIMESTAMP), PROTOCOLO, TITULO
    from CIDPROT1 where INDICE = :PROTOCOLO;
    indice = gen_id(gen_CIDPROT1,0);
    insert into CIDPROT2 (INDICE, DROGA, TIPOINFUSAO, DOSEDIARIA, CICLO, VIA, OBSERVACAO, CODCIDPROT1)
    select   INDICE, DROGA, TIPOINFUSAO, DOSEDIARIA, CICLO, VIA, OBSERVACAO, :INDICE
    from CIDPROT2 where  CODCIDPROT1 = :PROTOCOLO;
    suspend;
end
 ^


ALTER PROCEDURE "COPIARTABELA" 
(
  "TABELAORIGEM" INTEGER,
  "TABELADESTINO" INTEGER,
  "CODINICIAL" VARCHAR(10),
  "CODFINAL" VARCHAR(10)
)
RETURNS
(
  "OK" CHAR(2)
)
AS
begin
    INSERT INTO SERVICOS  select CODIGOSERV, A_CODAMB, A_CODINSS, A_NOME, A_RESUMO, A_TIPO, A_SEXO, A_MINIMO, A_MAXIMO, A_VEZES,
    A_AUXILIO, A_DIARIA, CODIGO, INCIDENCIA,A_FILME, :tabeladestino,
    Coalesce((select porte.VALOR from PORTE where porte.PORTE=SERVICOS.CHB),0) AS CH,
    0 AS CO, A_PORTE, DHE, AUTORIZACAO, PACOTE, A_CODIGO, DATA1, DATA2, SADT, PERMANENCIA, ATOS, ANEST, PACOTE1, ORDEM, CHPROF, ATIVO,
    ESPECIALIDADE, SP, GRUPO, null AS CHB, APELIDO, EMPRESA, OBSERVACAO, COTA, UTI, CC, TEMPO, TIPOFILME, CUSTOEMBALAGEM, FATOR, CONTABIL,
    DATASINC, CUSTOREAL, LAB, TESTE, TIPOPROC, MATCOLETA, GRUPOSUS, GRAUPARTICIPACAO, CH_ANTIGO, COR, APTODOBRA, CODESP, MSGMATERIAL,
    RESULTADO, ROTINA, TEMPERATURA, SERVICOS.TABPADRAOTISS, SERVICOS.SA, SERVICOS.CARTAOSUS, SERVICOS.KIT, SERVICOS.ORDEMSADT, SERVICOS.AUTAMB,
    SERVICOS.AUTEMG, SERVICOS.AUTEMG from servicos
    where tabela = :tabelaOrigem and a_codamb between :codinicial and :codfinal;
end
 ^


ALTER PROCEDURE "COPIA_EVOLUCAO_UTI" 
(
  "EVOLUCAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
begin
  INSERT INTO EVOLUCAOENF(CODIGOCPS, DATAHORA, CONTEUDO, IMPRESSO,  USER1,    USER2,  DATA1,                   DATA2,
  TIPO,DATASINC,                OBSERVACAO, PLANO_CONDUTA, PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, TURNO, SUSP_DIAGNOSTICA, PROCEDIMENTOS)
  Select rdb$get_context('USER_SESSION', 'CPS'),  CAST('NOW' AS TIMESTAMP), CONTEUDO, impresso, :USUARIO,:USUARIO,CAST('NOW' AS TIMESTAMP),CAST('NOW' AS TIMESTAMP),
  tipo,CAST('NOW' AS TIMESTAMP), observacao, PLANO_CONDUTA,PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, turno, SUSP_DIAGNOSTICA, PROCEDIMENTOS from evolucaoenf
  where evolucao= :evolucao;
  indice = gen_id(GEN_EVOLUCAO,0);
  if (exists(select cps1.codigocps from evolucaoenf inner join cps1 on (cps1.codigocps = evolucaoenf.codigocps) where evolucaoenf.evolucao = :indice and cps1.codigopla <> 2)) then
  insert into altaitem (alta,codigoamb, codigoserv,descricao,inicio,fim,observacao,classe) select :indice, codigoamb, codigoserv,descricao,inicio,fim,observacao,classe from altaitem where alta = :evolucao;
  suspend;
end
 ^


ALTER PROCEDURE "COPIA_EVOLUCAO_UTI_CPC" 
(
  "EVOLUCAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable codigocps float;
begin
  codigocps = null;
  codigocps = rdb$get_context('USER_SESSION','CPS');
  INSERT INTO EVOLUCAOENF(CODIGOCPS, DATAHORA, CONTEUDO, IMPRESSO,  USER1,    USER2,  DATA1,                   DATA2,
  TIPO,DATASINC,                OBSERVACAO, PLANO_CONDUTA, PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, TURNO, SUSP_DIAGNOSTICA, PROCEDIMENTOS)
  Select CODIGOCPS,  CAST('NOW' AS TIMESTAMP), CONTEUDO, impresso, :USUARIO,:USUARIO,CAST('NOW' AS TIMESTAMP),CAST('NOW' AS TIMESTAMP),
  tipo,CAST('NOW' AS TIMESTAMP), observacao, PLANO_CONDUTA,PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, turno, SUSP_DIAGNOSTICA, PROCEDIMENTOS from evolucaoenf
  where evolucao= :evolucao;
  indice = gen_id(GEN_EVOLUCAO,0);
  if (codigocps is not null) then
    update evolucaoenf set codigocps = :codigocps where evolucao = :indice and codigocps <> :codigocps;
  if (exists(select cps1.codigocps from evolucaoenf inner join cps1 on (cps1.codigocps = evolucaoenf.codigocps) where evolucaoenf.evolucao = :indice and cps1.codigopla <> 2)) then
  insert into altaitem (alta,codigoamb, codigoserv,descricao,inicio,fim,observacao,classe) select :indice, codigoamb, codigoserv,descricao,inicio,fim,observacao,classe from altaitem where alta = :evolucao;
  suspend;
end
 ^


ALTER PROCEDURE "COPIA_REGULACAO" 
(
  "REGULACAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable codigocps float;
begin
  codigocps = null;
  codigocps = rdb$get_context('USER_SESSION','CPS');
  /*INSERT INTO EVOLUCAOENF(CODIGOCPS, DATAHORA, CONTEUDO, IMPRESSO,  USER1,    USER2,  DATA1,                   DATA2,
  TIPO,DATASINC,                OBSERVACAO, PLANO_CONDUTA, PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, TURNO, SUSP_DIAGNOSTICA, PROCEDIMENTOS)
  Select CODIGOCPS,  CAST('NOW' AS TIMESTAMP), CONTEUDO, impresso, :USUARIO,:USUARIO,CAST('NOW' AS TIMESTAMP),CAST('NOW' AS TIMESTAMP),
  tipo,CAST('NOW' AS TIMESTAMP), observacao, PLANO_CONDUTA,PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, turno, SUSP_DIAGNOSTICA, PROCEDIMENTOS from evolucaoenf
  where evolucao= :evolucao;*/
 INSERT INTO REL_REGULACAO ( SETOR, CODIGOCPS, CODIGOPAC, PESO, DIALITICO, ISOLAMENTO, TIPO,
 MOTIVO, HISTORIA, PROBLEMA_1, CID_1, SUSPEITA_1, DATA_1, PROBLEMA_2, CID_2, SUSPEITA_2, DATA_2,
 PROBLEMA_3, CID_3, SUSPEITA_3, DATA_3, PROBLEMA_4, CID_4, SUSPEITA_4, DATA_4, EVOLUCAO, FC, FR,
 PAS, PAD, TEMP, SPO2, GLASGOW, SUPORTE_VENTILATORIO, VASOATIVAS, SEDATIVAS, ANTIBIOTICOS,
 OUTROS, DATA_EXAME, HB, HT, LEUCO, SEG, LINF, NEUT, PLAQ, UR, CR, GLICEMIA,
 TP, TPPA, RNI, TRANSPORTE, INFECCAO, A_DATA, USER1, DATASINC, ALA, LEITO, EXAMES_COMPLEMENTARES,
 ECG, USG, ECO, TC, RX, RNM, OUTROS_EXAMES, TRANSPORTE_SOLICITADO, INFECCAO_EXAME, BASTON, K,
 TROPONINA, CKMB, NA, EXAMEFISICO)
 SELECT  SETOR, CODIGOCPS, CODIGOPAC, PESO, DIALITICO, ISOLAMENTO, TIPO,
 MOTIVO, HISTORIA, PROBLEMA_1, CID_1, SUSPEITA_1, DATA_1, PROBLEMA_2, CID_2, SUSPEITA_2, DATA_2,
 PROBLEMA_3, CID_3, SUSPEITA_3, DATA_3, PROBLEMA_4, CID_4, SUSPEITA_4, DATA_4, EVOLUCAO, FC, FR
 , PAS, PAD, TEMP, SPO2, GLASGOW, SUPORTE_VENTILATORIO, VASOATIVAS, SEDATIVAS, ANTIBIOTICOS,
 OUTROS, DATA_EXAME, HB, HT, LEUCO, SEG, LINF, NEUT, PLAQ, UR, CR, GLICEMIA,
 TP, TPPA, RNI, TRANSPORTE, INFECCAO, A_DATA, rdb$get_context('USER_SESSION', 'USUARIO'), DATASINC, ALA, LEITO, EXAMES_COMPLEMENTARES,
 ECG, USG, ECO, TC, RX, RNM, OUTROS_EXAMES, TRANSPORTE_SOLICITADO, INFECCAO_EXAME, BASTON, K,
 TROPONINA, CKMB, NA , EXAMEFISICO
 FROM REL_REGULACAO
 WHERE NUMERO = :REGULACAO;
  indice = gen_id(GEN_REL_REGULACAO,0);
  if (codigocps is not null) then
    update REL_REGULACAO set codigocps = :codigocps where NUMERO = :indice and codigocps <> :codigocps;
  suspend;
end
 ^


ALTER PROCEDURE "COPIA_REGULACAO_CPC" 
(
  "REGULACAO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable codigocps float;
begin
  codigocps = null;
  codigocps = rdb$get_context('USER_SESSION','CPS');
 INSERT INTO REL_REGULACAO ( SETOR, CODIGOCPS, CODIGOPAC, PESO, DIALITICO, ISOLAMENTO, TIPO,
 MOTIVO, HISTORIA, PROBLEMA_1, CID_1, SUSPEITA_1, DATA_1, PROBLEMA_2, CID_2, SUSPEITA_2, DATA_2,
 PROBLEMA_3, CID_3, SUSPEITA_3, DATA_3, PROBLEMA_4, CID_4, SUSPEITA_4, DATA_4, EVOLUCAO, FC, FR,
 PAS, PAD, TEMP, SPO2, GLASGOW, SUPORTE_VENTILATORIO, VASOATIVAS, SEDATIVAS, ANTIBIOTICOS,
 OUTROS, DATA_EXAME, HB, HT, LEUCO, SEG, LINF, NEUT, PLAQ, UR, CR, GLICEMIA,
 TP, TPPA, RNI, TRANSPORTE, INFECCAO, A_DATA, USER1, DATASINC, ALA, LEITO, EXAMES_COMPLEMENTARES,
 ECG, USG, ECO, TC, RX, RNM, OUTROS_EXAMES, TRANSPORTE_SOLICITADO, INFECCAO_EXAME, BASTON, K,
 TROPONINA, CKMB, NA)
 SELECT  SETOR, CODIGOCPS, CODIGOPAC, PESO, DIALITICO, ISOLAMENTO, TIPO,
 MOTIVO, HISTORIA, PROBLEMA_1, CID_1, SUSPEITA_1, DATA_1, PROBLEMA_2, CID_2, SUSPEITA_2, DATA_2,
 PROBLEMA_3, CID_3, SUSPEITA_3, DATA_3, PROBLEMA_4, CID_4, SUSPEITA_4, DATA_4, EVOLUCAO, FC, FR
 , PAS, PAD, TEMP, SPO2, GLASGOW, SUPORTE_VENTILATORIO, VASOATIVAS, SEDATIVAS, ANTIBIOTICOS,
 OUTROS, DATA_EXAME, HB, HT, LEUCO, SEG, LINF, NEUT, PLAQ, UR, CR, GLICEMIA,
 TP, TPPA, RNI, TRANSPORTE, INFECCAO, A_DATA, USER1, DATASINC, ALA, LEITO, EXAMES_COMPLEMENTARES,
 ECG, USG, ECO, TC, RX, RNM, OUTROS_EXAMES, TRANSPORTE_SOLICITADO, INFECCAO_EXAME, BASTON, K,
 TROPONINA, CKMB, NA
 FROM REL_REGULACAO
 WHERE NUMERO = :REGULACAO;
  indice = gen_id(GEN_REL_REGULACAO,0);
  if (codigocps is not null) then
    update REL_REGULACAO set codigocps = :codigocps where NUMERO = :indice and codigocps <> :codigocps;
  suspend;
end
 ^


ALTER PROCEDURE "CPCLISTACONTATOS" 
(
  "NUMCELULAR" VARCHAR(30),
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "FAX" VARCHAR(15),
  "EMAIL" VARCHAR(80),
  "TIPO" VARCHAR(120)
)
AS
declare variable auxCelular varchar(30);
begin
    if ( substr(numCelular, 1,1) = 0) then
          auxCelular = '%' || substr(:numCelular, 2,11);
    for select codigo, nome, telefone, celular, fax, email, tipo from smslistacontatos(:datainicio, :datafim)
     where celular like :auxcelular
    into :codigo, :nome, :telefone, :celular, :fax, :email, :tipo do
    suspend;
end
 ^


ALTER PROCEDURE "CPC_AJUSTA_SAIDA_DUPLO" 
RETURNS
(
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "SAIDA" INTEGER,
  "CODIGOMM" INTEGER,
  "QTDE" INTEGER,
  "INDICE" INTEGER
)
AS
begin
  for select codigocps, inter2.tratamento,saida, codigomm,count(*),max(inter32.inter3no) from cps1
      inner join inter2 on (inter2.codigoint = cps1.codigocps)
      inner join inter32 on (inter32.codigoint = inter2.codigoint and inter32.tratamento = inter2.tratamento)
      where a_datafat >= '1/1/2011' and codigopla = 3 and inter32.saida is not null and inter2.faturano= 0 and inter32.cobrar = 'S'
      group by 1,2,3,4
      having count(*) > 1
      into codigocps, tratamento, saida, codigomm, qtde, indice do
  begin
    update inter32 set cobrar = 'N' where codigoint = :codigocps and tratamento = :tratamento and saida = :saida and codigomm = :codigomm and inter3no <> :indice;
    suspend;
  end
end
 ^


ALTER PROCEDURE "CPC_CELULAR_9" 
RETURNS
(
  "INDICE" INTEGER,
  "CELULAR" VARCHAR(15),
  "NOVO" VARCHAR(15)
)
AS
begin
  suspend;
end
 ^


ALTER PROCEDURE "CPC_COBRARNAO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "INDICE" FLOAT
)
AS
begin
for select cps.indice from cps(:consulta)
inner join defprof4 on defprof4.convenio = cps.convenio and defprof4.a_medicos = cps.a_medicos
where cps.dhe <> 'M' into :indice do
begin
update cps2 set cobrar = 'N' where indice = :indice;
suspend;
end
end
 ^


ALTER PROCEDURE "CPC_CREDENCIADO" 
RETURNS
(
  "CPS" FLOAT
)
AS
declare variable cobrar float;
begin
update cps1 set a_situacao = 0 where a_datafat > '5/1/2006' and fatura = 0 and a_situacao = 4;
for select distinct cps1.codigocps from cps1
inner join cps2 on cps2.codigocps2 = cps1.codigocps
left join cps3 on cps3.codigocps = cps1.codigocps
where (cps1.a_datafat > '5/1/2006') and (cps3.codigocps is null) and (cps2.cobrar = 'N') and (cps1.fatura = 0) and cps1.a_situacao = 0 and cps1.codigopla <> 3
into :cps do
begin
cobrar = null;
select first 1 codigocps2 from cps2 where codigocps2 = :cps
and ((cobrar <> 'N') or cobrar is null) into :cobrar;
if (cobrar is null) then
begin
  update cps1 set a_situacao = '4' where codigocps = :cps;
  suspend;
end
end
end
 ^


ALTER PROCEDURE "CPC_SALDO_MATMED_PRESC" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "OK" VARCHAR(250)
)
AS
declare variable vcodkit integer;
declare variable vcodproduto integer;
declare variable aux_tipo integer;
declare variable aux_saldo integer;
declare variable aux_nomekit varchar(250);
begin
 for select a_kits, cast(medicament as varchar(250)) from notamed2 where a_notamed = :prescricao into :vcodkit, :aux_nomekit do
 begin
    for Select codigo from pacote2 where pacote = :vcodkit into :vcodproduto do
    begin
     if (vcodproduto > 0) Then
     begin
        execute statement 'SELECT tipo FROM PRODutos WHERE numero =' || vcodproduto
        on external 'localhost:almoxa' as user current_user password 'ajuda' into :aux_tipo;
        if (aux_tipo = 1) Then
        begin
          execute statement 'SELECT sum(saldo) FROM prodstok where produto=' || vcodproduto || ' AND Stok in(2,3,4,5,8)'
          on external 'localhost:almoxa' as user current_user password 'ajuda' into :aux_saldo;
          if (aux_saldo <= 0) Then
          begin
              insert into MATMEDSEMSALDOPRESC ( notamed, produto ) values (:prescricao, :vcodproduto );
              exception exc_dinamica  'Item: ' || :aux_nomekit  || ' . Sem saldo. Para confirmar exclua da prescricao e informe a Farmacia';
          end
        end
     end
    end
 end
  suspend;
end
 ^


ALTER PROCEDURE "CPC_SERVICO_DUPLO_DEL" 
(
  "TABELA" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "DESCRICAO" VARCHAR(400)
)
AS
DECLARE VARIABLE CODIGOAMBANT VARCHAR(10);
BEGIN
  CODIGOAMBANT = '0';
  FOR SELECT CODIGOSERV,A_CODAMB, A_NOME FROM SERVICOS WHERE TABELA = :TABELA ORDER BY A_CODAMB INTO CODIGOSERV,CODIGOAMB, DESCRICAO DO
  BEGIN
    IF (CODIGOAMBANT = CODIGOAMB) THEN
      DELETE FROM SERVICOS WHERE CODIGOSERV = :CODIGOSERV;
    ELSE
      CODIGOAMBANT = CODIGOAMB;
  END
END
 ^


ALTER PROCEDURE "CPC_SERVICO_ORDEM" 
RETURNS
(
  "TIPO" CHAR(1)
)
AS
begin
update servicos set ordem = 50 where a_tipo = 'B' and ordem <> 50;
update servicos set ordem = 100 where a_tipo = 'D' and ordem <> 100;
update servicos set ordem = 200 where a_tipo = 'T' and ordem <> 200;
update servicos set ordem = 250 where a_tipo = 'A' and ordem <> 250;
update servicos set ordem = 275 where a_tipo = 'G' and ordem <> 275;
update servicos set ordem = 300 where a_tipo = 'V' and ordem <> 300;
update servicos set ordem = 1015 where a_tipo = 'Q' and ordem <> 1015;
update servicos set ordem = 400 where a_tipo = 'C' and ordem <> 400;
update servicos set ordem = 600 where a_tipo = 'S' and ordem <> 600;
update servicos set ordem = 700 where a_tipo = 'O' and ordem <> 700;
update servicos set ordem = 900 where a_tipo = 'N' and ordem <> 900;
update servicos set ordem = 1000 where a_tipo = 'R' and ordem <> 1000;
update servicos set ordem = 1010 where a_tipo = 'U' and ordem <> 1010;
update servicos set ordem = 1020 where a_tipo = 'M' and ordem <> 1020;
update servicos set ordem = 1100 where a_tipo = 'E' and ordem <> 1100;
update servicos set ordem = 1200 where a_tipo = 'P' and ordem <> 1200;
update servicos set ordem = 1300 where a_tipo = 'H' and ordem <> 1300;
SUSPEND;
end
 ^


ALTER PROCEDURE "CPC_VM_CAPAC_INSTAGI_SESAB" 
RETURNS
(
  "ALA" INTEGER,
  "LEITONOME" VARCHAR(100),
  "CODIGOINT" FLOAT,
  "CNES" VARCHAR(50),
  "DESCRICAOSETOR" VARCHAR(150),
  "SERVICO" VARCHAR(100),
  "DESCRICAOLEITO" VARCHAR(30),
  "CNS" VARCHAR(250),
  "DESCRICAOTIPOLEITO" VARCHAR(150),
  "DESCRICAOSUBTIPOLEITO" VARCHAR(150),
  "DESCRICAOCLASSIFICACAO" VARCHAR(100),
  "DESCRICAOSITUACAOLEITO" VARCHAR(100)
)
AS
begin
  --23/10/2018
  for select  alas.a_ala, leitos.A_NOME, leitos.codigoint,
  (select CNES from EMPRESAS CNES),
    ALAS.A_NOME, tipoleito.descricao from alas
      inner join leitos on alas.a_ala = leitos.a_grupo
      inner join tipoleito on Leitos.A_TIPO = tipoleito.codigo
      where alas.a_ativo = 'S' and leitos.contar <> 'N'
  order by alas.a_nome
  into :ALA,  :LEITONOME, :CODIGOINT,
   :CNES,
    :DescricaoSetor, :Servico do
  BEGIN
  DescricaoSituacaoLeito = 'Vago';
  DescricaoLeito = '';
  CNS = '';
  DescricaoClassificacao = '';
  DESCRICAOTIPOLEITO = '';
  DescricaoClassificacao = '';
  DESCRICAOSUBTIPOLEITO = '';
     if (:codigoint > 0) Then
     begin
         DescricaoSituacaoLeito = 'Ocupado';
         SELECT TIPOATEND.DESCRICAO, cps1.matricula, TIPOATEND.DESCRICAO, CPS1.TIPOATEND, TIPOGUIACPS.DESCRICAO, ESPECIALIDADE.NOME  FROM CPS1
          inner join TIPOATEND on cps1.TIPOATEND1 = TIPOATEND.CODIGO
          inner join TIPOGUIACPS on cps1.A_TIPO = TIPOGUIACPS.CODIGO
          INNER JOIN ESPECIALIDADE ON CPS1.ESPECIALIDADE = ESPECIALIDADE.CODESP
         WHERE CODIGOCPS = :codigoint
         into  :DESCRICAOLEITO, :CNS, :DESCRICAOTIPOLEITO, :DescricaoSubTipoLeito,   :DescricaoClassificacao, :DESCRICAOSUBTIPOLEITO;
     end
   suspend;
  end
end
 ^


ALTER PROCEDURE "CPS" 
(
  "CONSULTA" VARCHAR(10000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER,
  "NOTAFISCAL" VARCHAR(1),
  "NUMEROGUIAOPERADORA" VARCHAR(30),
  "DATARECEBP1" TIMESTAMP,
  "DATARECEBP2" TIMESTAMP,
  "DATARECEBP3" TIMESTAMP,
  "DATARECEBP4" TIMESTAMP,
  "VALORRECEBP1" DOUBLE PRECISION,
  "VALORRECEBP2" DOUBLE PRECISION,
  "VALORRECEBP3" DOUBLE PRECISION,
  "VALORRECEBP4" DOUBLE PRECISION,
  "RECEBPARCIAL" CHAR(1),
  "DATARECEBITEM" TIMESTAMP
)
AS
declare variable hontipo integer;
declare variable totalrecibo double precision;
declare variable valorrecibo double precision;
declare variable auxvalor double precision;
declare variable auxco double precision;
declare variable auxfilme double precision;
declare variable auxglosa double precision;
declare variable vencaux timestamp;
begin
select gen_id(gen_hontipo,0) from rdb$database into :hontipo;
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora,
datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, cast(solcremeb as char(8)), cast(solesp1 as char(2)),
 principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, a_guia, numeroguiaoperadora from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp,
 :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento,
 :faturaglosa, :a_cid, :conferido, :a_guia, :numeroguiaoperadora do
begin
  NOTAFISCAL = NULL;
  SELECT NOTA_FISCAL FROM CPS1_COMPL WHERE CODIGOCPS = :CODIGOCPS INTO NOTAFISCAL;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select indice, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida,
  glosadata, glosatipo, representa, glosadefinitiva, data, hora, dhe, via, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao,
  grauparticipacao, tecnica, horasaida, cremebsol, gruposus, datasinc, justificativa, MNM, glosacerta, dataglosa, xmlid,
   datarecebp1, datarecebp2, datarecebp3, datarecebp4,
  VALORRECEBP1, VALORRECEBP2, VALORRECEBP3, VALORRECEBP4, RECEBPARCIAL, DATARECEBITEM   from cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa,
  :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio,
   :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :horafinal, :cremebsolitem, :gruposus, :datasinc, :justificativaglosa,
    :MNM, :glosacerta, :dataglosa, :xmlid,
     :datarecebp1, :datarecebp2, :datarecebp3, :datarecebp4,
     :VALORRECEBP1, :VALORRECEBP2, :VALORRECEBP3, :VALORRECEBP4, :RECEBPARCIAL, :DATARECEBITEM  do
  begin
    codespitem = especialidade;
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    --if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
    --  glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem = 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
  cremebsolitem = null;
  tecnica = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select indice, codigomm, data , hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva,
   a_medicos, unidadenegocio, cobrar, glosaresponsavel, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid
   ,datarecebp1, datarecebp2, datarecebp3, datarecebp4,
    VALORRECEBP1, VALORRECEBP2, VALORRECEBP3, VALORRECEBP4, RECEBPARCIAL, DATARECEBITEM   from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa,
  :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa,
   :xmlid,  :datarecebp1, :datarecebp2, :datarecebp3, :datarecebp4,
     :VALORRECEBP1, :VALORRECEBP2, :VALORRECEBP3, :VALORRECEBP4, :RECEBPARCIAL, :DATARECEBITEM  do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null or a_medicos = 0 ) then
    Begin
        select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
        if (a_medicos is null or a_medicos = 0) then
           a_medicos = gen_id( gen_medico_hosp, 0 );
        if ( a_medicos is null or a_medicos = 0 ) then
           a_medicos = medresp;
    end
    horafinal = hora;
   -- if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
   --   glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
end
cremebsolitem = null;
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data,
 a_situacao, datasaida, horasaida, solcremeb, cast(solesp1 as char(2)), principal, especialidade, cast(empresa as smallint), fatura, codigo, datarecebimento,
  faturaglosa, a_cid, conferido, tipoguia, tipofatura, a_guia, numeroguiaoperadora from cpsint25 ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :tipoguia, :tipofatura, :a_guia, :numeroguiaoperadora do
begin
  NOTAFISCAL = NULL;
  SELECT NOTA_FISCAL FROM CPS1_COMPL WHERE CODIGOCPS = :CODIGOCPS INTO NOTAFISCAL;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select inter3no, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_data, a_hora, dhe, 0, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, porte, horafinal,codesp, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid,
   datarecebp1, datarecebp2, datarecebp3, datarecebp4,
    VALORRECEBP1, VALORRECEBP2, VALORRECEBP3, VALORRECEBP4, RECEBPARCIAL, DATARECEBITEM   from inter3 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata,
   :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem,
   :grauparticipacao, :tecnica, :porte, :horafinal, :codespitem, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid
   , :datarecebp1, :datarecebp2, :datarecebp3, :datarecebp4,
    :VALORRECEBP1, :VALORRECEBP2, :VALORRECEBP3, :VALORRECEBP4, :RECEBPARCIAL, :DATARECEBITEM  do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    --if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
    --  glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
  tecnica = null;
  porte = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = null;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa,
   glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, datasinc, justificativa, glosacerta, dataglosa, xmlid
   , datarecebp1, datarecebp2, datarecebp3, datarecebp4,
    VALORRECEBP1, VALORRECEBP2, VALORRECEBP3, VALORRECEBP4, RECEBPARCIAL, DATARECEBITEM   from inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa,
  :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid
  , :datarecebp1, :datarecebp2, :datarecebp3, :datarecebp4,
   :VALORRECEBP1, :VALORRECEBP2, :VALORRECEBP3, :VALORRECEBP4, :RECEBPARCIAL, :DATARECEBITEM   do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null or a_medicos = 0 ) then
    Begin
        select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
        if (a_medicos is null or a_medicos = 0) then
           a_medicos = gen_id( gen_medico_hosp, 0 );
        if ( a_medicos is null or a_medicos = 0 ) then
           a_medicos = medresp;
    end
    horafinal = hora;
   -- if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
   --   glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
end
end
 ^


ALTER PROCEDURE "CPS1TOTAL" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT
)
AS
begin
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura do
begin
    suspend;
end
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura from cpsint ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura do
begin
    suspend;
end
end
 ^


ALTER PROCEDURE "CPS24HS" 
(
  "CPS" FLOAT
)
RETURNS
(
  "RETORNO" VARCHAR(2)
)
AS
declare variable data timestamp;
declare variable dataSAIDA timestamp;
declare variable auxHora timestamp;
declare variable tipo integer;
begin
RETORNO = '';
  SELECT  CPS1.a_datafat, cps1.a_hora, DATASAIDA, codigopla FROM cps1
  WHERE CPS1.codigocps = :CPS into :data, :auxHora, :dataSAIDA, tipo;
  if ((:dataSAIDA is null) and (tipo = 2)) Then
  begin
    if ((:data <= 'yesterday') and (cast('now' as timestamp) -1  >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
     begin
       RETORNO = '24';
     end
     else
       RETORNO = '';
  end
  else
     RETORNO = 'DS';
  suspend;
end
 ^


ALTER PROCEDURE "CPS25" 
(
  "CONSULTA" VARCHAR(6000),
  "GUIACONV" VARCHAR(20),
  "PROCMATMED" VARCHAR(100),
  "XMLGUIA" VARCHAR(20),
  "FLAG1" VARCHAR(20),
  "FLAG2" VARCHAR(20),
  "FLAG3" VARCHAR(20)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER,
  "MAQUINETA" VARCHAR(20),
  "NUMEROGUIAOPERADORA" VARCHAR(100),
  "VERSAOGUIA" VARCHAR(20)
)
AS
declare variable totalrecibo double precision;
declare variable valorrecibo double precision;
declare variable auxvalor double precision;
declare variable auxco double precision;
declare variable auxfilme double precision;
declare variable auxglosa double precision;
declare variable vencaux timestamp;
declare variable campoaux01 varchar(10);
declare variable CODESPECIALIDADE varchar(2);
declare variable tipoProc varchar(1);
begin
if (not (guiaconv containing 'INTERNACAO')) then
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, cast(solcremeb as char(8)), cast(solesp1 as char(2)), principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, a_guia, maquineta, numeroguiaoperadora, versaoguia from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :a_guia, :maquineta, :numeroguiaoperadora, :versaoguia do
begin
  for select indice, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, data, hora, dhe, via, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, horasaida, cremebsol, gruposus, datasinc, justificativa, MNM, glosacerta, dataglosa, xmlid from cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :horafinal, :cremebsolitem, :gruposus, :datasinc, :justificativaglosa, :MNM, :glosacerta, :dataglosa, :xmlid do
  begin
    codespitem = especialidade;
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    if (codigoamb1 is not null) then codigoamb = codigoamb1;
    select procedimento from sp_apelidoprocedimento(:codigoamb,:convenio,:codigopla) into :codigoamb;
    suspend;
  end
  cremebsolitem = null;
  tecnica = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  for select indice, codigomm, data , hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null) then
    begin
        select a_medicos from matmed where codigomm = :codigoserv into :a_medicos;
        if (a_medicos is null) then
          a_medicos = medresp;
    end
    horafinal = hora;
    suspend;
  end
end
cremebsolitem = null;
if (not (guiaconv containing 'SPSADT') and not (guiaconv containing 'CONSULTA')) then
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, cast(solesp1 as char(2)), principal, especialidade, cast(empresa as smallint), fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, tipoguia, tipofatura, a_guia, maquineta, numeroguiaoperadora, versaoguia from cpsint25 ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :tipoguia, :tipofatura, :a_guia, :maquineta, :numeroguiaoperadora, :versaoguia do
begin
  select CODESPECIALIDADE from convenio where convenio = :convenio into :CODESPECIALIDADE;
  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'ResumoIntCobrarH') into campoaux01;
  for select inter3no, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_data, a_hora, dhe, via, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, porte, horafinal,codesp, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid from inter3 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :porte, :horafinal, :codespitem, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    select a_tipo from servicos where codigoserv = :codigoserv into :tipoProc;
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    if ((campoaux01 = 'S') and (cobrar = 'H') and (not guiaconv containing 'HONORARIO')) then
    begin
      cobrar = 'S';
      valor = 0;
    end
    if (codigoamb1 is not null) then codigoamb = codigoamb1;
    select procedimento from sp_apelidoprocedimento(:codigoamb,:convenio,:codigopla) into :codigoamb;
    -- consultar codigo da vista
    if ( (codigoamb in('10102019')) and (CODESPECIALIDADE = 'S')) then
    begin
       if (codespitem is null) then
          select especial from medicos where a_medicos = :a_medicos into codespitem;
       select procedimento from sp_codigoambvisita(:codigoamb,:convenio,:codespitem,:codigopla) into :codigoamb;
    end
    if(  exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'ResumoIntCondeProc') where valor = 'S')) then
    begin
       data = a_datafat;
       hora = a_hora;
       horafinal = a_hora;
    end
     suspend;
  --  suspend;
  end
  tecnica = null;
  porte = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = null;
  a_filme = 0;
  dhe = 'M';
  if (via is null) Then
    via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, datasinc, justificativa, glosacerta, dataglosa, xmlid from inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    codigoamb = null;
    via = 0;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null) then
    Begin
        select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
        if (a_medicos is null) then
  	  a_medicos = medresp;
    end
    horafinal = hora;
    suspend;
  end
end
end
 ^


ALTER PROCEDURE "CPS6NOVA" 
(
  "CPS" INTEGER,
  "MEDICO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(40),
  "PRESCRICAO" INTEGER,
  "TIPO" CHAR(1)
)
AS
declare data timestamp;
begin
  descricao = 'Nova Solicitacao';
  prescricao = 0;
  tipo = '0';
  suspend;
  for select first 3 distinct id, datahora from cps6 where codigocps6 = :cps and id is not null order by datahora desc into prescricao, data do
  begin
    descricao = 'Copia Solicit. ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data) || ' ' || extract(hour from data) || ':' || extract(minute from data);
    Tipo = '1';
    suspend;
  end
  for select distinct id, observacao from cps6 where codigocps6 < 0 order by observacao into prescricao, descricao do
  begin
    Tipo = '2';
    suspend;
  end
end
 ^


ALTER PROCEDURE "CPSAUDITCONTA" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CODIGOAMB" VARCHAR(20),
  "DESCRICAO" VARCHAR(600),
  "TIPO" VARCHAR(20),
  "A_MEDICOS" INTEGER,
  "QTDE" INTEGER,
  "DATA" TIMESTAMP,
  "VALOR" DOUBLE PRECISION
)
AS
declare variable codigoserv integer;
declare variable dhe char(1);
begin
  for select codigoamb, codigoserv, a_medicos, dhe, data, sum(valor), sum(quantidade)  from cps(:consulta)
      where cobrar = 'S'
      group by 1,2,3,4,5
      into codigoamb,codigoserv, a_medicos, dhe, data, valor, qtde do
  begin
    descricao = null;
    if (dhe = 'M') then
      select a_codamb, a_nome from matmed where codigomm = :codigoserv into tipo, descricao;
    else
      select a_tipo, a_nome from servicos where codigoserv = :codigoserv into tipo, descricao;
    suspend;
  end
end
 ^


ALTER PROCEDURE "CPSAUDITORIAAJUSTE" 
(
  "CODIGOCPS" INTEGER,
  "AJUSTE" INTEGER,
  "USER1" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
declare variable tratamento integer;
declare variable inicio timestamp;
declare variable fim timestamp;
begin
  indice = gen_id(gen_cpsauditoria,1);
  insert into cpsauditoria(indice, codigocps,tratamento,user1,data) select :indice, codigocps, tratamento, :user1,'now' from ajustacps where indice = :ajuste;
  select tratamento, inicio, fim from ajustacps where indice = :ajuste into tratamento, inicio, fim;
  insert into cpsauditoriaitem (cpsauditoria,data,hora,codigoserv,codigoamb, dhe, qtde,valor)
   select :indice, data,hora,codigoserv, codigoamb, dhe, sum(quantidade),sum(valor) from cps('where codigocps = ' || cast(:codigocps as varchar(30)) || ' and tratamento =' || cast(:tratamento as varchar(30)))
  inner join ajustacps on (ajustacps.codigocps = cps.codigocps and ajustacps.tratamento = cps.tratamento)
  where data between :inicio and :fim and (cobrar = 'S' or cobrar is null) and (cps.quantidade > 0)
  group by data,hora,codigoserv, codigoamb, dhe;
  update cpsauditoria set servico = (select sum(valor) from cpsauditoriaitem where cpsauditoria = :indice and dhe <> 'M'),
                          matmed  = (select sum(valor) from cpsauditoriaitem where cpsauditoria = :indice and dhe = 'M') where indice = :indice;
  update cpsauditoriaitem set descricao = (select a_nome from servicos where codigoserv = cpsauditoriaitem.codigoserv) where cpsauditoria = :indice and dhe <> 'M';
  update cpsauditoriaitem set descricao = (select a_nome from matmed where codigomm = cpsauditoriaitem.codigoserv) where cpsauditoria = :indice and dhe = 'M';
  suspend;
end
 ^


ALTER PROCEDURE "CPSAUDITORIAINSERT" 
(
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" VARCHAR(100),
  "USER1" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
begin
  indice = gen_id(gen_cpsauditoria,1);
  insert into cpsauditoria(indice, codigocps,tratamento,user1,data) values (:indice,:codigocps,:tratamento,:user1,'now');
  insert into cpsauditoriaitem (cpsauditoria,data,hora,codigoserv,codigoamb, dhe, qtde,valor)
   select :indice, data,hora,codigoserv, codigoamb, dhe, sum(quantidade),sum(valor) from cps('where codigocps = ' || :codigocps ||' and tratamento in ('|| :tratamento || ')')
   where cobrar = 'S' or cobrar is null group by data,hora,codigoserv, codigoamb, dhe;
  update cpsauditoria set servico = (select sum(valor) from cpsauditoriaitem where cpsauditoria = :indice and dhe <> 'M'),
                          matmed  = (select sum(valor) from cpsauditoriaitem where cpsauditoria = :indice and dhe = 'M') where indice = :indice;
  update cpsauditoriaitem set descricao = (select a_nome from servicos where codigoserv = cpsauditoriaitem.codigoserv) where cpsauditoria = :indice and dhe <> 'M';
  update cpsauditoriaitem set descricao = (select a_nome from matmed where codigomm = cpsauditoriaitem.codigoserv) where cpsauditoria = :indice and dhe = 'M';
  suspend;
end
 ^


ALTER PROCEDURE "CPSDELETADO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "CODIGO" INTEGER
)
AS
begin
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura do
begin
  for select indice, codigoserv, codigoamb, a_medicos, quantidade, valor, data, hora, dhe, user2 from x_cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :a_medicos, :quantidade, :valor, :data, :hora, :dhe, :codigo do
  suspend;
  a_medicos = medresp;
  codigoamb = 0;
  dhe = 'M';
  for select indice, codigomm, data , hora, quantidade, total, user2 from x_cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :codigo do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if (codigoamb = '72140011') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72140046') then
       select codmat from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000000') then
       select codesp from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000001') then
       select codcontr from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000002') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000008') then
       select codortprot from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000009') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else
       select codmed from convenio where convenio = :convenio into :codigoamb;
    suspend;
  end
end
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura from cpsint ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura do
begin
  for select inter3no, codigoserv, codigoamb, a_medicos, quantidade, valor, a_data, a_hora, dhe, user2 from x_inter3 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :codigoamb, :a_medicos, :quantidade, :valor, :data, :hora, :dhe, :codigo do
  suspend;
  a_medicos = medresp;
  codigoamb = 0;
  dhe = 'M';
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, user2 from x_inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :codigo do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if (codigoamb = '72140011') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72140046') then
       select codmat from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000000') then
       select codesp from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000001') then
       select codcontr from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000002') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000008') then
       select codortprot from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000009') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else
       select codmed from convenio where convenio = :convenio into :codigoamb;
    suspend;
  end
end
end
 ^


ALTER PROCEDURE "CPSEXISTEPAC" 
(
  "CODIGOPAC" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "DATA" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
begin
select first 1 codigocps from cps1
inner join cps2 on (cps2.codigocps2 = cps1.codigocps)
where a_datafat > data and cps1.codigopac = :codigopac and codigoamb = :codigoamb into codigocps;
end
 ^


ALTER PROCEDURE "CPSEXPORT" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "DATARECEBIMENTO" TIMESTAMP,
  "COBRAR" CHAR(1),
  "A_CID" VARCHAR(4),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "NASC" TIMESTAMP,
  "CIDADE" VARCHAR(100),
  "SEXO" CHAR(1),
  "UF" CHAR(2),
  "CEP" VARCHAR(15),
  "FROMCONVENIO" INTEGER,
  "PARTICULAR" CHAR(1),
  "CONVENIONOME" VARCHAR(100),
  "CBO" VARCHAR(10),
  "CBONOVO" VARCHAR(10),
  "CBOSUS" VARCHAR(10),
  "ESPECIALIDADENOME" VARCHAR(100),
  "TIPOSERV" CHAR(1),
  "SERVICOSNOME" VARCHAR(250),
  "MEDICONOME" VARCHAR(100),
  "TIPOMM" VARCHAR(10),
  "SIMPRO" INTEGER,
  "TISS" VARCHAR(15),
  "MATMEDNOME" VARCHAR(250),
  "CNPJ" VARCHAR(14),
  "DATAFECH" TIMESTAMP,
  "DATAFECHMED" TIMESTAMP,
  "DATAFECHNOTA" TIMESTAMP,
  "DATAFECHRECEB" TIMESTAMP,
  "PACIENTENOME" VARCHAR(100),
  "ANS" VARCHAR(10)
)
AS
begin
  select first 1 cnpj from empresas order by codigo into :cnpj;
  for SELECT CPS.CODIGOCPS,CPS.PARCELA,CPS.CODIGOPLA,CPS.A_DATAFAT,CPS.A_HORA,CPS.DATAREPRESENTA,CPS.MATRICULA,CPS.CONVENIO,
       CPS.MEDRESP, CPS.A_DATA, A_SITUACAO, CPS.DATASAIDA, CPS.HORASAIDA, CPS.SOLCREMEB,SOLESP1, CPS.PRINCIPAL,
       CPS.ESPECIALIDADE, CPS.FATURA, CPS.INDICE, CPS.CODIGOSERV, CPS.CODIGOAMB, CPS.A_MEDICOS, CPS.QUANTIDADE, CPS.VALOR, CPS.CUSTO,
       CPS.CO, CPS.A_FILME, CPS.GLOSA, CPS.GLOSARECEBIDA, CPS.GLOSADATA, CPS.GLOSADEFINITIVA, CPS.REPRESENTA, CPS.DATA,
       CPS.HORA, CPS.DHE, CPS.DATARECEBIMENTO, CPS.COBRAR, CPS.A_CID, CPS.TIPOGUIA, CPS.TIPOFATURA,
       PACIENTE.NASC, PACIENTE.CIDADE, PACIENTE.SEXO, PACIENTE.UF, PACIENTE.CEP, PACIENTE.A_NOME,
       CONVENIO.FROMCONVENIO, CONVENIO.PARTICULAR, CONVENIO.A_NOME, CONVENIO.ANS,
       ESPECIALIDADE.CBO, ESPECIALIDADE.CBONOVO, ESPECIALIDADE.CBOSUS, ESPECIALIDADE.NOME,
       SERVICOS.A_TIPO, SERVICOS.A_NOME,
       MEDICOS.A_NOME,
       MATMED.A_CODAMB, MATMED.SIMPRO, MATMED.TISSBRAS, MATMED.A_NOME,
       fechamento.data, fechamento.notafiscaldata, fechamento.pagmedico, fechamento.datapagmedico
       FROM CPS(:consulta)
       LEFT JOIN PACIENTE ON (PACIENTE.CODIGOPAC = CPS.CODIGOPAC)
       LEFT JOIN FECHAMENTO ON (FECHAMENTO.SEQUENCIA = CPS.FATURA)
       LEFT JOIN CONVENIO ON (CONVENIO.CONVENIO = CPS.CONVENIO)
       LEFT JOIN MEDICOS ON (MEDICOS.A_MEDICOS = CPS.A_MEDICOS)
       LEFT JOIN ESPECIALIDADE ON (ESPECIALIDADE.CODESP = CPS.ESPECIALIDADE)
       LEFT JOIN SERVICOS ON (SERVICOS.CODIGOSERV = CPS.CODIGOSERV AND CPS.DHE <> 'M')
       LEFT JOIN MATMED ON (MATMED.CODIGOMM = CPS.CODIGOSERV AND CPS.DHE = 'M')
       into CODIGOCPS,PARCELA,CODIGOPLA,A_DATAFAT,A_HORA,DATAREPRESENTA,MATRICULA,CONVENIO,
       MEDRESP, A_DATA, A_SITUACAO, DATASAIDA, HORASAIDA, SOLCREMEB,SOLESP1, PRINCIPAL,
       ESPECIALIDADE, FATURA, INDICE, CODIGOSERV, CODIGOAMB, A_MEDICOS, QUANTIDADE, VALOR, CUSTO,
       CO, A_FILME, GLOSA, GLOSARECEBIDA, GLOSADATA, GLOSADEFINITIVA, REPRESENTA, DATA,
       HORA, DHE, DATARECEBIMENTO, COBRAR, A_CID, TIPOGUIA, TIPOFATURA,
       NASC, CIDADE, SEXO, UF, CEP, PACIENTENOME,
       FROMCONVENIO, PARTICULAR, CONVENIONOME, ANS,
       CBO,CBONOVO, CBOSUS, ESPECIALIDADENOME,
       TIPOSERV, SERVICOSNOME, MEDICONOME, TIPOMM, SIMPRO, TISS, MATMEDNOME,
       datafech,datafechnota,datafechreceb,datafechmed  do
  begin
    suspend;
  end
end
 ^


ALTER PROCEDURE "CPSMM" 
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER
)
RETURNS
(
  "CODIGOMM" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "QUANTIDADE" INTEGER,
  "TOTAL" FLOAT,
  "GLOSA" FLOAT
)
AS
begin
for select codigomm, data , hora, quantidade, total, glosa from cps3 where codigocps = codigocps
into :codigomm, :data , :hora, :quantidade, :total, :glosa do
  suspend;
for select codigomm, a_data, a_hora, quantidade, total, glosa from inter32 where codigoint = :codigocps
into :codigomm, :data , :hora, :quantidade, :total, :glosa do
  suspend;
end
 ^


ALTER PROCEDURE "CPSPACOTE" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(12),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER
)
AS
declare variable pacote integer;
begin
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa do
begin
  codigoamb1 = null;
  co = 0;
  a_filme = 0;
  glosa = 0;
  glosarecebida = 0;
  glosadata = null;
  glosatipo =null;
  representa = 0;
  glosadefinitiva = null;
  dhe = 'N';
  via = 0;
  unidadenegocio = null;
  senha = null;
  glosaresponsavel = null;
  a_medicos = medresp;
  data = a_datafat;
  hora = a_hora;
  for select cps8.indice, pacplan.a_codamb, cps8.quantidade, cps8.total, cps8.a_pacote from cps8
  inner join pacplan on (pacplan.a_pacote = cps8.a_pacote) Where codigocps8 = :codigocps
  into :indice, :codigoamb, :quantidade, :valor, :pacote do
  begin
    If (pacote = 114) then
    begin
  for select indice, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, data, hora, dhe, via, cobrar, unidadenegocio, senha, glosaresponsavel from cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    suspend;
  end
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  for select indice, codigomm, data , hora, quantidade, total, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if (codigoamb = '72140011') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72140046') then
       select codmat from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000000') then
       select codesp from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000001') then
       select codcontr from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000002') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000008') then
       select codortprot from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000009') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else
       select codmed from convenio where convenio = :convenio into :codigoamb;
    if (a_medicos is null) then
    begin
        select a_medicos from matmed where codigomm = :codigoserv into :a_medicos;
        if (a_medicos is null) then
          a_medicos = medresp;
    end
    suspend;
  end
    end
    else
    begin
      select first 1 servicos.codigoserv from servicos
      where ((servicos.tabela = (select tabhon from convenio where convenio = :convenio)) or
      (servicos.tabela = (select tabtaxa from convenio where convenio = :convenio))) and (servicos.a_codamb = :codigoamb)
      into :codigoserv;
      suspend;
    end
  end
  if ((pacote <> 114) or (pacote is null)) then
  for select cps2.indice, cps2.codigoserv, cps2.codigoamb, cps2.codigoamb1, cps2.a_medicos, cps2.quantidade, cps2.valor, cps2.co, cps2.a_filme, cps2.glosa, cps2.glosarecebida, cps2.glosadata, cps2.glosatipo, cps2.representa, cps2.glosadefinitiva, cps2.data, cps2.hora, cps2.dhe, cps2.via, cps2.cobrar, cps2.unidadenegocio, cps2.senha, cps2.glosaresponsavel from cps2
  inner join servicos on (servicos.codigoserv = cps2.codigoserv)
  Where codigocps2 = :codigocps and (servicos.a_tipo in ('T','D','G','N','A') OR SERVICOS.PACOTE = 'S') and (SERVICOS.PACOTE <> 'N' OR SERVICOS.PACOTE IS NULL)
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    suspend;
  end
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  for select indice, codigomm, data , hora, quantidade, total, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if ((codigoamb = '72000000') or (codigoamb = '72000002') or (codigoamb = '72000001')) then
    begin
      if (codigoamb = '72000000') then
        select codesp from convenio where convenio = :convenio into :codigoamb;
     else if (codigoamb = '72000001') then
       select codcontr from convenio where convenio = :convenio into :codigoamb;
      else
        select codmed from convenio where convenio = :convenio into :codigoamb;
       if (a_medicos is null) then
       begin
          select a_medicos from matmed where codigomm = :codigoserv into :a_medicos;
          if (a_medicos is null) then
            a_medicos = medresp;
       end
       suspend;
    end
  end
end
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa from cpsint ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa do
begin
  for select inter3.inter3no, inter3.codigoserv, inter3.codigoamb, inter3.codigoamb1, inter3.a_medicos, inter3.quantidade, inter3.valor, inter3.co, inter3.a_filme, inter3.glosa, inter3.glosarecebida, inter3.glosadata, inter3.glosatipo, inter3.representa, inter3.glosadefinitiva, inter3.a_data, inter3.a_hora, inter3.dhe, 0, inter3.cobrar, inter3.unidadenegocio, inter3.senha, inter3.glosaresponsavel from inter3
inner join servicos on servicos.codigoserv = inter3.codigoserv
  where inter3.codigoint = :codigocps and inter3.tratamento = :tratamento and (servicos.a_tipo in ('A','T','G','D','S','N') OR (SERVICOS.PACOTE1 = 'S') ) and (SERVICOS.PACOTE1 <> 'N' OR SERVICOS.PACOTE1 IS NULL)
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    suspend;
  end
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel from inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if ((codigoamb = '72000000') OR (codigoamb = '72000002') OR (codigoamb = '72000001')) then
    begin
      if (codigoamb = '72000000') then
        select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
        select codcontr from convenio where convenio = :convenio into :codigoamb;
      else
        select codmed from convenio where convenio = :convenio into :codigoamb;
       if (a_medicos is null) then
       Begin
         select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
         if (a_medicos is null) then
  	    a_medicos = medresp;
       end
       suspend;
    end
  end
end
end
 ^


ALTER PROCEDURE "CPSPROC" 
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER
)
RETURNS
(
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1)
)
AS
begin
for select codigoserv, codigoamb, a_medicos, quantidade, valor, a_filme, glosa, data, hora, dhe, via from cps2 Where codigocps2 = :codigocps
into :codigoserv, :codigoamb, :a_medicos, :quantidade, :valor, :a_filme, :glosa, :data, :hora, :dhe, :via do
  suspend;
for select codigoserv, codigoamb, a_medicos, quantidade, valor, a_filme, glosa, a_data, a_hora, dhe,0    from inter3 where codigoint = :codigocps and tratamento = :tratamento
into :codigoserv, :codigoamb, :a_medicos, :quantidade, :valor, :a_filme, :glosa, :data, :hora, :dhe, :via do
  suspend;
end
 ^


ALTER PROCEDURE "CPSTEMP" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1)
)
AS
begin
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa do
begin
  for select indice, codigoserv, codigoamb, a_medicos, quantidade, valor, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, data, hora, dhe, via, cobrar from cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :a_medicos, :quantidade, :valor, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    suspend;
  end
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  cobrar = 'S';
  for select indice, codigomm, data , hora, quantidade, total, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if (codigoamb = '72140011') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72140046') then
       select codmat from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000000') then
       select codesp from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000001') then
       select codcontr from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000002') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000008') then
       select codortprot from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000009') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else
       select codmed from convenio where convenio = :convenio into :codigoamb;
    if (a_medicos is null) then
      a_medicos = medresp;
    suspend;
  end
end
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa from cpsint ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa do
begin
  for select inter3no, codigoserv, codigoamb, a_medicos, quantidade, valor, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, :glosadefinitiva, a_data, a_hora, dhe,0, cobrar    from inter3 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :codigoamb, :a_medicos, :quantidade, :valor, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    suspend;
  end
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  cobrar = 'S';
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos from inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos do
  begin
    select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
    if (codigoamb = '72140011') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72140046') then
       select codmat from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000000') then
       select codesp from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000001') then
       select codcontr from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000002') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000008') then
       select codortprot from convenio where convenio = :convenio into :codigoamb;
    else if (codigoamb = '72000009') then
       select codmed from convenio where convenio = :convenio into :codigoamb;
    else
       select codmed from convenio where convenio = :convenio into :codigoamb;
    if (a_medicos is null) then
      a_medicos = medresp;
    suspend;
  end
end
end
 ^


ALTER PROCEDURE "CPSTIPO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TIPO" VARCHAR(40),
  "TOTAL" DOUBLE PRECISION
)
AS
declare variable tiposerv varchar(40);
declare variable tipomm varchar(40);
declare variable valor double precision;
declare variable hm double precision;
declare variable ex double precision;
declare variable lab double precision;
declare variable dt double precision;
declare variable out double precision;
declare variable med double precision;
declare variable mat double precision;
declare variable opm double precision;
declare variable cons double precision;
begin
  hm = 0; ex = 0; lab = 0; dt = 0; out = 0; med = 0; mat = 0; opm = 0; cons = 0;
  for select servicos.a_tipo, matmed.a_codamb, sum(cps.valor) from cps(:consulta)
      left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
      left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
      where cobrar = 'S' or cobrar is null
      group by 1,2
      into :tiposerv, :tipomm, :valor do
  begin
    if ((tiposerv = 'H') or (tiposerv = 'C') or (tiposerv = 'V')) then
      hm = hm + valor;
    else if (tiposerv = 'B') then
      cons = cons + valor;
    else if ((tiposerv = 'U') or (tiposerv = 'R') or (tiposerv = 'Q') or (tiposerv = 'M') or (tiposerv = 'O') or (tiposerv = 'P')) then
      ex = ex + valor;
    else if (tiposerv = 'E') then
      lab = lab + valor;
    else if ((tiposerv = 'D') or (tiposerv = 'T')) then
      dt = dt + valor;
    else if (tipomm is null) then
      lab = lab + valor;
    else if ((tipomm = '72140011') or (tipomm = '72000002')) then
      med = med + valor;
    else if ((tipomm = '72000008') or (tipomm = '72000009')) then
      opm = opm + :valor;
    else if (tipomm is not null) then
      mat = mat + :valor;
  end
  If (hm > 0) then
  begin
    tipo = 'Honorrios Mdicos';
    total = hm;
    suspend;
  end
  if (cons > 0) then
  begin
     tipo = 'Consulta';
     total = cons;
     suspend;
  end
  If (ex > 0) then
  begin
    tipo = 'Exames';
    total = ex;
    suspend;
  end
  If (lab > 0) then
  begin
    tipo = 'Laboratrio';
    total = lab;
    suspend;
  end
  If (dt > 0) then
  begin
    tipo = 'Dirias e Taxas';
    total = dt;
    suspend;
  end
  If (out > 0) then
  begin
    tipo = 'Outros Servios';
    total = out;
    suspend;
  end
  If (med > 0) then
  begin
    tipo = 'Medicamento';
    total = med;
    suspend;
  end
  If (mat > 0) then
  begin
    tipo = 'Material';
    total = mat;
    suspend;
  end
  If (opm > 0) then
  begin
    tipo = 'OPME';
    total = opm;
    suspend;
  end
end
 ^


ALTER PROCEDURE "CPSTISS" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER
)
AS
declare variable hontipo integer;
declare variable totalrecibo double precision;
declare variable valorrecibo double precision;
declare variable auxvalor double precision;
declare variable auxco double precision;
declare variable auxfilme double precision;
declare variable auxglosa double precision;
declare variable vencaux timestamp;
begin
select gen_id(gen_hontipo,0) from rdb$database into :hontipo;
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, cast(solcremeb as char(8)), cast(solesp1 as char(2)), principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, a_guia from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :a_guia do
begin
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select indice, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, data, hora, dhe, via, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, horasaida, cremebsol, gruposus, datasinc, justificativa, MNM, glosacerta, dataglosa, xmlid from cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :horafinal, :cremebsolitem, :gruposus, :datasinc, :justificativaglosa, :MNM, :glosacerta, :dataglosa, :xmlid do
  begin
    codespitem = especialidade;
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem = 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
  cremebsolitem = null;
  tecnica = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select indice, codigomm, data , hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null) then
    begin
        select a_medicos from matmed where codigomm = :codigoserv into :a_medicos;
        if (a_medicos is null) then
          a_medicos = medresp;
    end
    horafinal = hora;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
end
cremebsolitem = null;
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, cast(solesp1 as char(2)), principal, especialidade, cast(empresa as smallint), fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, tipoguia, tipofatura, a_guia from cpsint25 ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :tipoguia, :tipofatura, :a_guia do
begin
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select inter3no, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_data, a_hora, dhe, 0, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, porte, horafinal,codesp, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid from inter3 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :porte, :horafinal, :codespitem, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
  tecnica = null;
  porte = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = null;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, datasinc, justificativa, glosacerta, dataglosa, xmlid from inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null) then
    Begin
        select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
        if (a_medicos is null) then
  	  a_medicos = medresp;
    end
    horafinal = hora;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
end
end
 ^


ALTER PROCEDURE "CPS_CONTROLE_FATURAMENTO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" VARCHAR(100),
  "VALORTOTAL" DOUBLE PRECISION,
  "VALORABERTAS" DOUBLE PRECISION,
  "VALORCONFERIDAS" DOUBLE PRECISION,
  "VALORPENDENTES" DOUBLE PRECISION,
  "VALORFECHADAS" DOUBLE PRECISION,
  "CPS" INTEGER,
  "CODCONV" INTEGER
)
AS
declare variable conferido integer;
declare variable situacao integer;
declare variable fatura integer;
declare variable valor double precision;
begin
    for select CPS1.convenio, convenio.a_nome, codigocps, conferido, a_situacao, cps1.liquido, fatura from cps1
     left join convenio on cps1.convenio = convenio.convenio
     Where a_datafat between :inicio and :final
     order by 1
    into :codconv, :convenio, :cps, :conferido, :situacao, :valor, :fatura do
    BEGIN
    valorAbertas = 0;
    valorConferidas = 0;
    valorPendentes = 0;
    valorFechadas = 0;
    valorTotal = 0;
        if (fatura = 0)  Then valorAbertas     = valorAbertas + valor;
        if ((conferido = 1) and (fatura = 0)) Then valorConferidas = valorConferidas + valor;
        if ((situacao  = 1) and (fatura = 0)) Then valorPendentes  = valorPendentes + valor;
        if (fatura > 0) Then valorFechadas  = valorFechadas + valor;
        valortotal  = valortotal + valor;
        SUSPEND;
    END
end
 ^


ALTER PROCEDURE "CPS_CONTROLE_FATURAMENTO2" 
(
  "CONSULTA" VARCHAR(5000)
)
RETURNS
(
  "CONVENIO" VARCHAR(100),
  "VALORTOTAL" NUMERIC(15, 2),
  "VALORABERTAS" NUMERIC(15, 2),
  "VALORCONFERIDAS" NUMERIC(15, 2),
  "VALORPENDENTES" NUMERIC(15, 2),
  "VALORFECHADAS" NUMERIC(15, 2),
  "CPS" INTEGER,
  "CODCONV" INTEGER,
  "A_MEDICOS" INTEGER,
  "VALORRECEBIDO" NUMERIC(15, 2),
  "VALORGLOSADO" NUMERIC(15, 2)
)
AS
declare variable conferido integer;
declare variable situacao integer;
declare variable fatura integer;
declare variable valor double precision;
declare variable datareceb timestamp;
declare variable glosa double precision;
begin
 datareceb = null;
    for select CPS.convenio, convenio.a_nome, codigocps, conferido, a_situacao, cps.valor, fatura, cps.a_medicos,  DATARECEBIMENTO, glosa
    from cps(:consulta)
     left join convenio on cps.convenio = convenio.convenio
     order by 1
    into :codconv, :convenio, :cps, :conferido, :situacao, :valor, :fatura, :a_medicos, :datareceb, :glosa do
    BEGIN
    valorAbertas = 0;
    valorConferidas = 0;
    valorPendentes = 0;
    valorFechadas = 0;
    valorTotal = 0;
    VALORGLOSADO = 0;
    VALORRECEBIDO = 0;
        if ((conferido = 1) and (fatura = 0)) Then valorConferidas = valorConferidas + valor;
       if (exists(select * from buscaconfiguracao('SYSHOSP','VALORABERTOTOTAL') where valor = 'S')) then
            if (fatura = 0)  Then valorAbertas     = valorAbertas + valor;
        if (not exists(select * from buscaconfiguracao('SYSHOSP','VALORABERTOTOTAL') where valor = 'S')) then
            if (fatura = 0)  Then valorAbertas     = valorAbertas + valor - valorConferidas ;
        if ((situacao  = 1) and (fatura = 0)) Then valorPendentes  = valorPendentes + valor;
        if (fatura > 0) Then valorFechadas  = valorFechadas + valor;
        if (datareceb is not null) Then VALORRECEBIDO = VALORRECEBIDO + valor - glosa;
        if (glosa > 0 ) Then VALORGLOSADO = VALORGLOSADO + glosa;
        valortotal  = valortotal + valor;
        SUSPEND;
    END
end
 ^


ALTER PROCEDURE "CPS_CPC_082019" 
(
  "CONSULTA" VARCHAR(10000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "CODIGOPLA" SMALLINT,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "DATAREPRESENTA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "CONVENIO" INTEGER,
  "MEDRESP" INTEGER,
  "A_DATA" TIMESTAMP,
  "A_SITUACAO" CHAR(1),
  "DATASAIDA" TIMESTAMP,
  "HORASAIDA" TIMESTAMP,
  "SOLCREMEB" CHAR(8),
  "SOLESP1" CHAR(2),
  "PRINCIPAL" CHAR(8),
  "ESPECIALIDADE" CHAR(2),
  "EMPRESA" SMALLINT,
  "FATURA" FLOAT,
  "INDICE" FLOAT,
  "CODIGOSERV" FLOAT,
  "CODIGOAMB" CHAR(8),
  "A_MEDICOS" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "CUSTO" FLOAT,
  "CO" FLOAT,
  "A_FILME" FLOAT,
  "GLOSA" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSADATA" TIMESTAMP,
  "GLOSATIPO" SMALLINT,
  "GLOSADEFINITIVA" CHAR(1),
  "REPRESENTA" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "DHE" CHAR(1),
  "VIA" CHAR(1),
  "CODIGO" INTEGER,
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER,
  "COBRAR" CHAR(1),
  "UNIDADENEGOCIO" INTEGER,
  "SENHA" VARCHAR(20),
  "CODIGOAMB1" CHAR(8),
  "GLOSARESPONSAVEL" INTEGER,
  "A_CID" VARCHAR(4),
  "CONFERIDO" CHAR(1),
  "SITUACAOITEM" VARCHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "TECNICA" CHAR(1),
  "PORTE" VARCHAR(4),
  "HORAFINAL" TIMESTAMP,
  "CODESPITEM" CHAR(2),
  "CREMEBSOLITEM" CHAR(6),
  "DATASINC" TIMESTAMP,
  "GRUPOSUS" VARCHAR(2),
  "JUSTIFICATIVAGLOSA" VARCHAR(5000),
  "MNM" VARCHAR(10),
  "TIPOGUIA" CHAR(1),
  "TIPOFATURA" CHAR(1),
  "UNNEG" INTEGER,
  "GLOSACERTA" CHAR(1),
  "ORIGEM" CHAR(1),
  "DATAGLOSA" TIMESTAMP,
  "A_GUIA" VARCHAR(30),
  "XMLID" INTEGER,
  "NOTAFISCAL" VARCHAR(1),
  "NUMEROGUIAOPERADORA" VARCHAR(30)
)
AS
declare variable hontipo integer;
declare variable totalrecibo double precision;
declare variable valorrecibo double precision;
declare variable auxvalor double precision;
declare variable auxco double precision;
declare variable auxfilme double precision;
declare variable auxglosa double precision;
declare variable vencaux timestamp;
begin
select gen_id(gen_hontipo,0) from rdb$database into :hontipo;
for execute statement 'select codigocps, tratamento, cast(parcela as smallint), codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, cast(solcremeb as char(8)), cast(solesp1 as char(2)), principal, especialidade, empresa, fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, a_guia, numeroguiaoperadora from cpsamb ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :a_guia, :numeroguiaoperadora do
begin
  NOTAFISCAL = NULL;
  SELECT NOTA_FISCAL FROM CPS1_COMPL WHERE CODIGOCPS = :CODIGOCPS INTO NOTAFISCAL;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select indice, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, data, hora, dhe, via, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, horasaida, cremebsol, gruposus, datasinc, justificativa, MNM, glosacerta, dataglosa, xmlid from cps2 Where codigocps2 = :codigocps
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :horafinal, :cremebsolitem, :gruposus, :datasinc, :justificativaglosa, :MNM, :glosacerta, :dataglosa, :xmlid do
  begin
    codespitem = especialidade;
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    --if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
    --  glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem = 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
  cremebsolitem = null;
  tecnica = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = 0;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select indice, codigomm, data , hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid from cps3 where codigocps = :codigocps
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null or a_medicos = 0 ) then
    Begin
        select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
        if (a_medicos is null or a_medicos = 0) then
           a_medicos = gen_id( gen_medico_hosp, 0 );
        if ( a_medicos is null or a_medicos = 0 ) then
           a_medicos = medresp;
    end
    horafinal = hora;
   -- if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
   --   glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
end
cremebsolitem = null;
for execute statement 'select codigocps, tratamento, parcela, codigopla, codigopac, a_datafat, a_hora, datarepresenta, matricula, convenio, medresp, a_data, a_situacao, datasaida, horasaida, solcremeb, cast(solesp1 as char(2)), principal, especialidade, cast(empresa as smallint), fatura, codigo, datarecebimento, faturaglosa, a_cid, conferido, tipoguia, tipofatura, a_guia, numeroguiaoperadora from cpsint25 ' || consulta
into :codigocps, :tratamento, :parcela, :codigopla, :codigopac, :a_datafat, :a_hora, :datarepresenta, :matricula, :convenio, :medresp, :a_data, :a_situacao, :datasaida, :horasaida, :solcremeb, :solesp1, :principal, :especialidade, :empresa, :fatura, :codigo, :datarecebimento, :faturaglosa, :a_cid, :conferido, :tipoguia, :tipofatura, :a_guia, :numeroguiaoperadora do
begin
  NOTAFISCAL = NULL;
  SELECT NOTA_FISCAL FROM CPS1_COMPL WHERE CODIGOCPS = :CODIGOCPS INTO NOTAFISCAL;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select inter3no, codigoserv, codigoamb, codigoamb1, a_medicos, quantidade, valor, custo, co, a_filme, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_data, a_hora, dhe, 0, cobrar, unidadenegocio, senha, glosaresponsavel, a_situacao, grauparticipacao, tecnica, porte, horafinal,codesp, gruposus, datasinc, justificativa, glosacerta, dataglosa, xmlid from inter3 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :codigoamb, :codigoamb1, :a_medicos, :quantidade, :valor, :custo, :co, :a_filme, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :data, :hora, :dhe, :via, :cobrar, :unidadenegocio, :senha, :glosaresponsavel, :situacaoitem, :grauparticipacao, :tecnica, :porte, :horafinal, :codespitem, :gruposus, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    if (glosa is null) then
      glosa = 0;
    if (a_filme is null) then
      a_filme = 0;
    if (dhe is null) then
      dhe = 'N';
    if (horafinal is null) then
      horafinal = hora;
    --if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
    --  glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
  tecnica = null;
  porte = null;
  grauparticipacao = null;
  a_medicos = medresp;
  codigoamb = null;
  a_filme = 0;
  dhe = 'M';
  via = 0;
  co = 0;
  senha = null;
  situacaoitem = null;
  codespitem = null;
  if ((a_situacao <> '5') or (a_situacao is null)) then
  for select inter3no, codigomm, a_data, a_hora, quantidade, total, custo, glosa, glosarecebida, glosadata, glosatipo, representa, glosadefinitiva, a_medicos, unidadenegocio, cobrar, glosaresponsavel, datasinc, justificativa, glosacerta, dataglosa, xmlid from inter32 where codigoint = :codigocps and tratamento = :tratamento
  into :indice, :codigoserv, :data , :hora, :quantidade, :valor, :custo, :glosa, :glosarecebida, :glosadata, :glosatipo, :representa, :glosadefinitiva, :a_medicos, :unidadenegocio, :cobrar,:glosaresponsavel, :datasinc, :justificativaglosa, :glosacerta, :dataglosa, :xmlid do
  begin
    codigoamb = null;
    select first 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :convenio into codigoamb;
    if (codigoamb is null) then
    begin
      select a_codamb from matmed where codigomm = :codigoserv into :codigoamb;
      if (codigoamb = '72140011') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72140046') then
         select codmat from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000000') then
         select codesp from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000001') then
         select codcontr from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000002') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000008') then
         select codortprot from convenio where convenio = :convenio into :codigoamb;
      else if (codigoamb = '72000009') then
         select codmed from convenio where convenio = :convenio into :codigoamb;
      else
         select codmed from convenio where convenio = :convenio into :codigoamb;
    end
    if (a_medicos is null or a_medicos = 0 ) then
    Begin
        select a_medicos from matmed where codigomm = :codigoserv into a_medicos;
        if (a_medicos is null or a_medicos = 0) then
           a_medicos = gen_id( gen_medico_hosp, 0 );
        if ( a_medicos is null or a_medicos = 0 ) then
           a_medicos = medresp;
    end
    horafinal = hora;
   -- if ((glosa <> 0) and (glosatipo > 0) and (exists(select administrativa from motivoglosa where numero = :glosatipo and administrativa = 'S'))) then
   --   glosa = 0;
    if ((hontipo = 3) and (exists(select * from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento)) )then
    begin
      auxvalor = valor;
      auxco = co;
      auxfilme = a_filme;
      auxglosa = glosa;
      for select databaixa,vencimento,parcela,total from cpsrateio where cps = cast(:codigocps as integer) and tratamento = :tratamento into data, vencaux, valorrecibo, totalrecibo do
      begin
        situacaoitem = null;
        if (data is null) then
        begin
         data = vencaux;
         situacaoitem= 'A';
        end
        valor = auxvalor*valorrecibo/totalrecibo;
        co = auxco*valorrecibo/totalrecibo;
        a_filme = auxfilme*valorrecibo/totalrecibo;
        glosa = auxglosa*valorrecibo/totalrecibo;
        suspend;
      end
    end
    else
      suspend;
  end
end
end
 ^


ALTER PROCEDURE "CPS_DETALHAMENTOFATURA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "QTD" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "VALOR" DOUBLE PRECISION
)
AS
declare variable a_tipo char(1);
declare variable a_codamb varchar(8);
declare variable codigopla smallint;
declare variable codigoamb varchar(8);
BEGIN
  for select servicos.a_tipo, matmed.a_codamb, cps.codigopla, cps.codigoamb, cps.quantidade, cps.valor from cps(:consulta)
      left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
      left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
      where (cps.cobrar = 'S') or (cps.cobrar is null)
      into :a_tipo, :a_codamb, :codigopla, :codigoamb, :qtd, :valor
      do
  begin
    descricao = null;
    if ((a_tipo = 'B') or (codigoamb = '00010014')or (codigoamb = '10101012')) then descricao = 'Consulta';
    else if ((codigoamb >= '34000000' and codigoamb <= '34999999') or (codigoamb >= '41001001' and codigoamb <= '41099001')) then descricao = 'Tomografia Computadorizada';
    else if ((codigoamb >= '36000000' and codigoamb <= '36999999') or (codigoamb >= '41101006' and codigoamb <= '41199006')) then descricao = 'Ressonncia Magntica';
    else if (a_tipo = 'U') then descricao = 'Ultrassonografia';
    else if ((codigoamb >= '32000000' and codigoamb <= '32999999') or (codigoamb >= '40801004' and codigoamb <= '40899999')) then descricao = 'Raios-X';
    else if ((codigoamb >= '20010044' and codigoamb <= '20010079') or (codigoamb >= '40103170' and codigoamb <= '40103196')) then descricao = 'EEG';
    else if ((codigoamb >= '23010029' and codigoamb <= '23010029') or (codigoamb >= '40201082' and codigoamb <= '40202666')) then descricao = 'Colonoscopia';
    else if (a_tipo = 'H') then descricao = 'Honorrio Mdico';
    else if ((codigopla <> 3) and ((a_tipo = 'D') or (a_tipo = 'T') or (a_tipo = 'A') or (a_tipo = 'N'))) then descricao = 'Taxas e Dirias';
    else if (a_tipo = 'S') then descricao = 'Fisioterapia';
    else if ((codigopla = 3) and ((a_tipo = 'D') or (a_tipo = 'T') or (a_tipo = 'A') or (a_tipo = 'N'))) then descricao = 'Internamento (Dirias e Taxas)';
    else if ((a_codamb = '72140011') or (a_codamb = '72000002')) then descricao = 'Medicamento';
    else if (a_codamb is not null) then descricao = 'Material';
    if (descricao is null) then descricao = 'Outros';
    suspend;
  end
END
 ^


ALTER PROCEDURE "CPS_DETALHAMENTOFATURAGERAL" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "QTD" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "VALOR" DOUBLE PRECISION,
  "CONVENIO" INTEGER
)
AS
declare variable a_tipo char(1);
declare variable a_codamb varchar(8);
declare variable codigopla smallint;
declare variable codigoamb varchar(8);
BEGIN
  for select CPS.CONVENIO, servicos.a_tipo, matmed.a_codamb, cps.codigopla, cps.codigoamb, cps.quantidade, cps.valor from cps(:consulta)
      left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
      left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
      where (cps.cobrar = 'S') or (cps.cobrar is null)
      into :convenio ,:a_tipo, :a_codamb, :codigopla, :codigoamb, :qtd, :valor
      do
  begin
    descricao = null;
    if ((a_tipo = 'B') or (codigoamb = '00010014')or (codigoamb = '10101012')) then descricao = 'Consulta';
    else if (a_tipo = 'A' ) then descricao = 'Aparelhos Especiais';
    else if (a_tipo = 'C' ) then descricao = 'Procedimentos Especiais';
    else if (a_tipo = 'D' ) then descricao = 'Diarias';
    else if (a_tipo = 'E' ) then descricao = 'Exame Laboratrio';
    else if (a_tipo = 'G' ) then descricao = 'Gasoterapia';
    else if (a_tipo = 'H' ) then descricao = 'Honorrio Mdico';
    else if (a_tipo = 'M' ) then descricao = 'Mamografia';
    else if (a_tipo = 'N' ) then descricao = 'Nebulizao';
    else if (a_tipo = 'O' ) then descricao = 'Hemoterapia';
    else if (a_tipo = 'P' ) then descricao = 'Exames Especiais';
    else if (a_tipo = 'Q' ) then descricao = 'Tomografia/Ressonncia';
    else if (a_tipo = 'R' ) then descricao = 'Raios-X';
    else if (a_tipo = 'S' ) then descricao = 'Fisioterapia';
    else if (a_tipo = 'T' ) then descricao = 'Taxas';
    else if (a_tipo = 'U' ) then descricao = 'Ultrassom';
    else if (a_tipo = 'V' ) then descricao = 'Avaliaes Assistenciais';
    else if (a_tipo = 'X' ) then descricao = 'Pacote';
    else if ((a_codamb = '72140011') or (a_codamb = '72000002')) then descricao = 'Medicamento';
    else if (a_codamb is not null) then descricao = 'Material';
    if (descricao is null) then descricao = 'Outros';
    suspend;
  end
END
 ^


ALTER PROCEDURE "CPS_SEM_RECIBO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "CPS" INTEGER
)
AS
DECLARE VARIABLE VCPS INTeGER;
begin
    FOR SELECT CODIGOCPS FROM CPS1 WHERE liquido >0 and A_DATAFAT BETWEEN :INICIO AND :FIM
     ORDER BY CODIGOCPS INTO :VCPS do
   if (not exists( select CPS from RECIBO where cps = :VCPS)) Then
   begin
     CPS = :VCPS;
     suspend;
   end
end
 ^


ALTER PROCEDURE "CRIAPEDIDOLAUDO" 
(
  "CPS" FLOAT,
  "PRESCRICAO" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
declare variable codigopla integer;
declare variable data timestamp;
declare variable codigoserv integer;
declare variable auxLaudoPadrao varchar(60);
declare variable auxMnm varchar(10);
declare variable auxCodigoamb varchar(10);
begin
        insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status, user1, tipo)
        select first 1 codigopac, convenio, 'now', a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :usuario , :tipoExame from cps1
        where codigocps = :cps;
        select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :numerolaudo;
        insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao, mnm, quebra, qtdelinha) select :numerolaudo, cps6.codigoserv,cps6.datasinc, cps6.datasinc, (SELECT LAUDO FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT MNM FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QUEBRA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QTDLINHA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)) from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps AND prescricao = :prescricao and ( cps6.confirmado = 'N' or cps6.confirmado is null or cps6.numerolaudo is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
       update cps6 set confirmado = 'S', numerolaudo = :numerolaudo where sequencia in ( select cps6.sequencia from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps AND prescricao = :prescricao and ( cps6.confirmado = 'N' or cps6.confirmado is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null )) ;
  suspend;
end
 ^


ALTER PROCEDURE "CRIAPEDIDOLAUDOCPC" 
(
  "CPS" FLOAT,
  "PRESCRICAO" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
declare variable codigopla integer;
declare variable data timestamp;
declare variable codigoserv integer;
declare variable auxLaudoPadrao varchar(60);
declare variable auxMnm varchar(10);
declare variable auxCodigoamb varchar(10);
begin
        insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status, user1, tipo)
        select first 1 codigopac, convenio, 'now', a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :usuario , :tipoExame from cps1
        where codigocps = :cps;
        select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :numerolaudo;
        insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao, mnm, quebra, qtdelinha) select :numerolaudo, cps6.codigoserv,cps6.datasinc, cps6.datasinc, (SELECT LAUDO FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT MNM FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QUEBRA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QTDLINHA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)) from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps AND prescricao = :prescricao and ( cps6.confirmado = 'N' or cps6.confirmado is null or cps6.numerolaudo is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
       update cps6 set confirmado = 'S', numerolaudo = :numerolaudo where sequencia in ( select cps6.sequencia from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps AND prescricao = :prescricao and ( cps6.confirmado = 'N' or cps6.confirmado is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null )) ;
  suspend;
end
 ^


ALTER PROCEDURE "CRIAPEDIDOLAUDOCPS_HCC" 
(
  "CPS" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
declare variable codigopla integer;
declare variable data timestamp;
declare variable codigoserv integer;
declare variable auxLaudoPadrao varchar(60);
declare variable auxcodigocps2 integer;
declare variable auxcodigoserv integer;
declare variable auxCodigoamb varchar(10);
declare variable auxMnm varchar(10);
declare variable auxServNome varchar(250);
declare variable auxIndiceCPS6 integer;
begin
    NumeroLaudo =null;
    if ( not exists( select codigocps from cpslaudo1 where numeroorigem =:cps)) then
    begin
        insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status, user1, tipo,LAUDOPOREXAME, SOLDATA, SOLCREMEB, SOLCNPJ)
        select first 1 codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :usuario , :tipoExame,'S',SOLDATA, SOLCREMEB, SOLCNPJ from cps1
        where codigocps = :cps;
        select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :numerolaudo;
        FOR select cps2.codigocps2, cps2.codigoserv, cps2.codigoamb, CPS2.MNM, servicos.a_nome from cps2
            inner join servicos on (servicos.codigoserv = cps2.codigoserv)
        where cps2.codigocps2 = :cps and a_tipo = 'E'
        into :auxcodigocps2, :auxcodigoserv, :auxcodigoamb, :auxMNM, :auxServNome do
        if (auxcodigoserv > 0) then
        begin
             INSERT INTO CPS6 (CODIGOCPS6, CODIGOSERV, CODIGOAMB, PROCEDIMENTO,  SELECAO, TIPO, QTDE) values
             (:auxcodigocps2, :auxcodigoserv, :auxcodigoamb, :auxServNome, 'S', 'I', 1  );
             select gen_id( gen_cps6,0) from RDB$DATABASE INTO :auxIndiceCPS6;
             if (auxIndiceCPS6 > 0 ) then
             begin
                    insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao, mnm, QTDELINHA, QUEBRA, ORDEM) values
                   ( :numerolaudo, :auxcodigoserv ,'now', 'now', (SELECT LAUDO FROM SP_LAUDOPADRAO_MNM(:auxMNM,0)), :auxMNM, (SELECT QTDLINHA FROM SP_LAUDOPADRAO_MNM(:auxMNM,0)), (SELECT QUEBRA FROM SP_LAUDOPADRAO_MNM(:auxMNM,0)), (SELECT ORDEM FROM SP_LAUDOPADRAO_MNM(:auxMNM,0)) );
                    update cps6 set confirmado = 'S', numerolaudo = :numerolaudo
                   where sequencia = :auxIndiceCPS6;
             end
        end
    end
    else if ( exists( select codigocps from cpslaudo1 where numeroorigem =:cps)) then
    begin
        select codigocps from cpslaudo1 where numeroorigem =:cps into :numerolaudo;
    end
    suspend;
end
 ^


ALTER PROCEDURE "CRIAPEDIDOLAUDOID" 
(
  "CPS" FLOAT,
  "ID" FLOAT,
  "USUARIO" INTEGER,
  "TIPOEXAME" VARCHAR(1)
)
RETURNS
(
  "NUMEROLAUDO" INTEGER
)
AS
declare variable codigopla integer;
declare variable tipocps integer;
declare variable tratamento integer;
declare variable indiceitem integer;
declare variable codigoitem integer;
declare variable aux_pedido integer;
declare variable indicepv3 integer;
declare variable data timestamp;
declare variable codigoserv integer;
declare variable auxLaudoPadrao varchar(60);
declare variable descricao varchar(360);
declare variable auxMnm varchar(10);
declare variable auxCodigoamb varchar(10);
declare variable quantidade double precision;
begin
    select codigopla from cps1 where codigocps = :cps into :tipocps;
    if (:tipocps <>  1) Then  -- nao lanar laudo pelo pedido sapi quando for ambulatorio
    begin
        insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status, user1, tipo)
        select first 1 codigopac, convenio, cast('now' as date) , a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :usuario , :tipoExame from cps1
        where codigocps = :cps;
        select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :numerolaudo;
        insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao, mnm, quebra, qtdelinha) select :numerolaudo, cps6.codigoserv,cps6.datasinc, cps6.datasinc, (SELECT LAUDO FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT MNM FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QUEBRA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QTDLINHA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)) from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps and id = :id AND (not cps6.classe in ('Pacotes','MatMed')) and ( cps6.confirmado = 'N' or cps6.confirmado is null or cps6.numerolaudo is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
       update cps6 set confirmado = 'S', numerolaudo = :numerolaudo where sequencia in ( select cps6.sequencia from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps AND id = :id and (cps6.numerolaudo is null) and servicos.a_tipo = :tipoExame );
       if (exists(select id from cps6 where codigocps6 = :cps AND (cps6.classe in ('Pacotes','MatMed')) and id = :id )) then
       begin
         select first 1 tratamento from cps6 where codigocps6 = :cps AND (cps6.classe in ('Pacotes','MatMed')) and id = :id into tratamento;
         If (tratamento is null) then tratamento = 0;
         execute statement 'SELECT PEDIDO FROM CRIAPEDIDOESTOQUE(' || :CPS || ',' || :tratamento || ',' || 502 ||',' || 3 || ',' || :usuario ||' )'
         on external 'localhost:almoxa'
         as user current_user
         password 'ajuda' into :aux_pedido;
         for select cps6.sequencia, codigoamb, procedimento,qtde from cps6
             where codigocps6 = :cps and id = :id AND cps6.classe in ('Pacotes') and indice_pedido is null
             into indiceitem,:codigoitem, :descricao, :quantidade do
             begin
               execute statement 'select indice from CRIAPEDIDOITEMESTOQUE(' || :aux_pedido || ',' ||  :codigoitem || ',''' || :descricao||''',' || cast(quantidade as integer) || ')' on external 'localhost:almoxa' as user current_user password 'ajuda' into :indicepv3;
               update cps6 set confirmado = 'S',indice_pedido = :indicepv3 where sequencia = :indiceitem;
             end
         for select cps6.sequencia, codigoamb, qtde from cps6
             where codigocps6 = :cps and id = :id AND cps6.classe in ('MatMed') and indice_pedido is null
             into indiceitem,:codigoitem, :quantidade do
             begin
               execute statement 'select indice from CRIAPEDIDOITEMESTOQUEPROD(' || :aux_pedido || ',' ||  :codigoitem || ',' || cast(quantidade as integer) || ')' on external 'localhost:almoxa' as user current_user password 'ajuda' into :indicepv3;
               update cps6 set confirmado = 'S', indice_pedido = :indicepv3 where sequencia = :indiceitem;
             end
       end
       if (exists(select cps6.codigoserv from cps6 inner join servicos on (servicos.codigoserv = cps6.codigoserv)
                   where codigocps6 = :cps and id = :id AND (not cps6.classe in ('Pacotes','MatMed')) and ( cps6.confirmado = 'N' or cps6.confirmado is null or cps6.numerolaudo is null) and servicos.a_tipo = 'U' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ))) then
       begin
        tipoexame = 'U';
        insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status, user1, tipo)
        select first 1 codigopac, convenio, cast('now' as date), a_hora, Matricula, a_cid, 3603, codigocps,'CPS','N', 0, :usuario , :tipoExame from cps1
        where codigocps = :cps;
        select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :numerolaudo;
        insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao, mnm, quebra, qtdelinha) select :numerolaudo, cps6.codigoserv,cps6.datasinc, cps6.datasinc, (SELECT LAUDO FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT MNM FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QUEBRA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)), (SELECT QTDLINHA FROM SP_LAUDOPADRAO_CODSERV(cps6.codigoserv)) from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps and id = :id AND (not cps6.classe in ('Pacotes','MatMed')) and ( cps6.confirmado = 'N' or cps6.confirmado is null or cps6.numerolaudo is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
        update cps6 set confirmado = 'S', numerolaudo = :numerolaudo where sequencia in ( select cps6.sequencia from cps6
               inner join servicos on (servicos.codigoserv = cps6.codigoserv)
               where codigocps6 = :cps AND id = :id and ( cps6.confirmado = 'N' or cps6.confirmado is null) and servicos.a_tipo = :tipoExame and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ));
       end
  update cps6 set confirmado = 'S' where codigocps6 = :cps and id = :id;
  suspend;
    end
end
 ^


ALTER PROCEDURE "CULTURAPAC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TITULO1" VARCHAR(250),
  "TITULO2" VARCHAR(250),
  "TITULO3" VARCHAR(250),
  "TITULO4" VARCHAR(250),
  "TITULO5" VARCHAR(250),
  "TEXTO1" BLOB,
  "TEXTO2" BLOB,
  "TEXTO3" BLOB,
  "TEXTO4" BLOB,
  "TEXTO5" BLOB
)
AS
declare variable texto blob;
declare variable titulo varchar(250);
begin
  for select first 5 'Laudo: ' || extract(day from cpslaudo1.A_DATAFAT) || '/' || extract(month from cpslaudo1.A_DATAFAT) || '/' || extract(year from cpslaudo1.A_DATAFAT) || ' Liberado: ' || extract(day from cpslaudo2.DATA2) || '/' || extract(month from cpslaudo2.DATA2) || '/' || extract(year from cpslaudo2.DATA2) || ' Cd ' || cast(cpslaudo1.codigocps as integer),  cpslaudo2.laudo FROM CPSLAUDO1
      INNER JOIN CPSLAUDO2 ON (cpslaudo1.numeroorigem = :codigocps and CPSLAUDO2.CODIGOCPS2 = CPSLAUDO1.CODIGOCPS)
      inner join laudopadrx on (laudopadrx.laudo = cpslaudo2.LAUDOPADRAO)
      WHERE liberado is not null and matcoleta = '1' and (cpslaudo2.STATUS = 'C' or cpslaudo2.status is null) and cpslaudo2.laudo is not null and (UPPER(cpslaudo2.LAUDOPADRAO) containing 'CULTURA')
      order by cpslaudo2.DATA2 desc into titulo, texto do
  begin
    if (texto1 is null) then begin texto1 = texto; titulo1 = titulo; end
    else if (texto2 is null) then begin texto2 = texto; titulo2 = titulo; end
    else if (texto3 is null) then begin texto3 = texto; titulo3 = titulo; end
    else if (texto4 is null) then begin texto4 = texto; titulo4 = titulo; end
    else if (texto5 is null) then begin texto5 = texto; titulo5 = titulo; end
  end
  suspend;
end
 ^


ALTER PROCEDURE "DATAENTRE" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "INTINICIO" TIMESTAMP,
  "INTFIM" TIMESTAMP
)
RETURNS
(
  "QTDEDENTRO" DOUBLE PRECISION,
  "QTDEFORA" DOUBLE PRECISION,
  "DENTRO" CHAR(1)
)
AS
declare variable tempo double precision;
BEGIN
  tempo = intfim -intinicio;
  if ((:intinicio <= :inicio) and (:intfiM >= :fim)) then
  begin
    qtdedentro = fim - inicio;
    qtdefora = (intfim - intinicio) - qtdedentro ;
  end
  else if ((:intinicio >= :inicio) and (:intfiM <= :fim)) then
  begin
    qtdedentro = intfim - intinicio;
    qtdefora = (fim - inicio) - qtdedentro;
  end
  else if ((:intinicio between :inicio and :fim) and (:intfiM >= :fim)) then
  begin
    qtdedentro = fim - intinicio;
    qtdefora = (intfim - fim);
  end
  else if ((:intfim between :inicio and :fim) and (:intinicio <= :inicio)) then
  begin
    qtdedentro = intfim - inicio;
    qtdefora = (fim - intfim);
  end
  else if (:intinicio > fim) then
  begin
    qtdedentro = 0;
    qtdefora = (intfim - intinicio);
  end
  else if (:intfim < inicio) then
  begin
    qtdedentro = 0;
    qtdefora = (intfim - intinicio);
  end
  IF (QTDEDENTRO >= (:tempo/2)) THEN
    DENTRO = 'S';
  else
    DENTRO = 'N';
  suspend;
END
 ^


ALTER PROCEDURE "DATASLIVRES" 
(
  "TIPO" CHAR(1),
  "COD" VARCHAR(20)
)
RETURNS
(
  "DESCRICAO" VARCHAR(50)
)
AS
begin
  If (tipo = 'M') then
  begin
    for select distinct extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data) from marcacao
    where data > 'now' and a_medicos = :cod  and paciente is null
    order by data into descricao do
    begin
     descricao = cast(substr(descricao,1,10) as varchar(10));
     suspend;
    end
  end
  else
  Begin
    for select distinct extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data) from marcacao
    inner join medicos on (medicos.a_medicos = marcacao.a_medicos)
    inner join defprof1 on (defprof1.a_medicos = medicos.a_medicos)
    inner join especialidade on (defprof1.especialidade = especialidade.codesp)
    where marcacao.data > 'now' and defprof1.especialidade = :cod  and paciente is null
    order by data into descricao do
    begin
     descricao = cast(substr(descricao,1,10) as varchar(10));
     suspend;
    end
  end
end
 ^


ALTER PROCEDURE "DECISIONCENARIO_COPIA" 
(
  "DE" INTEGER,
  "PARA" VARCHAR(50)
)
AS
DECLARE VARIABLE NOVO INTEGER;
 begin
insert into decisioncenario
  (DECISIONCENARIO_DESCRICAO, DECISIONCENARIO_FOCO, DECISIONCENARIO_ORDEM)
SELECT :PARA, DECISIONCENARIO_FOCO, DECISIONCENARIO_ORDEM FROM DECISIONCENARIO WHERE DECISIONCENARIO_CODIGO = :DE;
SELECT GEN_ID(GEN_DECISIONCENARIO,0) FROM RDB$DATABASE INTO :NOVO;
insert into DECISIONFILTRO
  (DECISIONFILTRO_CODIGO, DECISIONFILTRO_VALOR1, DECISIONFILTRO_VALOR2,
   DECISIONFILTRO_VALOR3, DECISIONFILTRO_OPERADOR, DECISIONFILTRO_NOT,
   DECISION_CODIGO, DECISIONFILTRO_LIGACAO, DECISIONFILTRO_ORDEM, DECISIONFILTRO_NIVEL,
   DECISIONCENARIO_CODIGO)
SELECT DECISIONFILTRO_CODIGO, DECISIONFILTRO_VALOR1, DECISIONFILTRO_VALOR2,
       DECISIONFILTRO_VALOR3, DECISIONFILTRO_OPERADOR, DECISIONFILTRO_NOT,
       DECISION_CODIGO, DECISIONFILTRO_LIGACAO, DECISIONFILTRO_ORDEM, DECISIONFILTRO_NIVEL,
       :NOVO FROM DECISIONFILTRO WHERE DECISIONCENARIO_CODIGO = :DE;
end
 ^


ALTER PROCEDURE "DECISION_COPIA" 
(
  "DE" INTEGER,
  "PARA" VARCHAR(50)
)
AS
DECLARE VARIABLE NOVO INTEGER;
 begin
insert into DECISION
  (DECISION_DESCRICAO, DECISION_FOCO, DECISION_STATUS, DECISION_PAI, DECISION_ORDEM,
   DECISIONCENARIO_CODIGO)
SELECT :PARA, DECISION_FOCO, DECISION_STATUS, DECISION_PAI,
   DECISION_ORDEM, DECISIONCENARIO_CODIGO FROM DECISION WHERE DECISION_CODIGO = :DE;
SELECT GEN_ID(GEN_DECISION,0) FROM RDB$DATABASE INTO :NOVO;
insert into DECISIONITEM
  (DECISIONITEM_DESCRICAO, DECISIONITEM_CAMPO, DECISIONITEM_ORDEM, DECISIONITEM_FORMULA,
   DECISIONITEM_TOTAL, DECISIONITEM_TAMANHO, DECISIONITEM_TITULO, DECISIONITEM_MASCARA,
   DECISIONITEM_ALINHAMENTO, DECISION_CODIGO, DECISIONITEM_ATIVO, DECISIONITEM_GRUPO,
   DECISIONITEM_TIPO)
SELECT
   DECISIONITEM_DESCRICAO, DECISIONITEM_CAMPO, DECISIONITEM_ORDEM, DECISIONITEM_FORMULA,
   DECISIONITEM_TOTAL, DECISIONITEM_TAMANHO, DECISIONITEM_TITULO, DECISIONITEM_MASCARA,
   DECISIONITEM_ALINHAMENTO, :NOVO, DECISIONITEM_ATIVO, DECISIONITEM_GRUPO,
   DECISIONITEM_TIPO FROM DECISIONITEM WHERE DECISION_CODIGO = :DE;
insert into DECISIONGRAF
  (DECISIONGRAF_CODIGO, DECISIONGRAF_EIXOX, DECISIONGRAF_EIXOY, DECISIONGRAF_TIPO,
   DECISIONGRAF_ORDEM, DECISIONGRAF_MARCA, DECISION_CODIGO, DECISIONGRAF_QTDEMAX)
SELECT
  DECISIONGRAF_CODIGO, DECISIONGRAF_EIXOX, DECISIONGRAF_EIXOY, DECISIONGRAF_TIPO,
  DECISIONGRAF_ORDEM, DECISIONGRAF_MARCA, :NOVO, DECISIONGRAF_QTDEMAX FROM DECISIONGRAF WHERE DECISION_CODIGO = :DE;
end
 ^


ALTER PROCEDURE "DEPTORESUMO" 
(
  "CONSULTA" VARCHAR(1000)
)
RETURNS
(
  "CODIGOAMB" CHAR(8),
  "DESCRICAO" VARCHAR(100),
  "DEPTO" SMALLINT,
  "VALOR" DOUBLE PRECISION
)
AS
declare variable matmed char(8);
begin
for execute statement 'select usuarios.depto, cps2.codigoamb, sum(cps2.valor) from cps2
inner join cps1 on cps1.codigocps = cps2.codigocps2
inner join usuarios on usuarios.codigo = cps1.codigo ' || consulta ||
' group by usuarios.depto, cps2.codigoamb
order by cps2.codigoamb, usuarios.depto'
into :depto, :codigoamb, :valor do
begin
execute statement 'select first 1 servicos.a_nome from cps2
inner join cps1 on cps1.codigocps = cps2.codigocps2
left join servicos on servicos.codigoserv = cps2.codigoserv ' || consulta into :descricao;
  suspend;
end
for execute statement 'select usuarios.depto, matmed.a_nome, cast(matmed.a_codamb as char(8)), sum(cps3.total) from cps3
inner join matmed on matmed.codigomm = cps3.codigomm
inner join cps1 on cps1.codigocps = cps3.codigocps
inner join usuarios on usuarios.codigo = cps1.codigo ' || consulta ||
' group by usuarios.depto, matmed.a_nome, matmed.a_codamb
order by matmed.a_codamb, usuarios.depto'
into :depto, :descricao, :codigoamb, :valor do
begin
if (:codigoamb = '72140000') then
  execute statement 'select first 1 convenio.codesp from cps3
  inner join matmed on matmed.codigomm = cps3.codigomm
  inner join cps1 on cps1.codigocps = cps3.codigocps
  inner join convenio on cps1.convenio = convenio.convenio ' || consulta into :codigoamb;
if (:codigoamb = '72140046') then
  execute statement 'select first 1 cast(convenio.codmat as char(8)) from cps3
  inner join matmed on matmed.codigomm = cps3.codigomm
  inner join cps1 on cps1.codigocps = cps3.codigocps
  inner join convenio on cps1.convenio = convenio.convenio ' || consulta into :codigoamb;
if (:codigoamb = '72000001') then
  execute statement 'select first 1 cast(convenio.codcontr as char(8)) from cps3
  inner join matmed on matmed.codigomm = cps3.codigomm
  inner join cps1 on cps1.codigocps = cps3.codigocps
  inner join convenio on cps1.convenio = convenio.convenio ' || consulta into :codigoamb;
if (:codigoamb = '72140011') then
  execute statement 'select first 1 cast(convenio.codmed as char(8)) from cps3
  inner join matmed on matmed.codigomm = cps3.codigomm
  inner join cps1 on cps1.codigocps = cps3.codigocps
  inner join convenio on cps1.convenio = convenio.convenio ' || consulta into :codigoamb;
if (:codigoamb = '72140002') then
  execute statement 'select first 1 cast(convenio.codmed as char(8)) from cps3
  inner join matmed on matmed.codigomm = cps3.codigomm
  inner join cps1 on cps1.codigocps = cps3.codigocps
  inner join convenio on cps1.convenio = convenio.convenio ' || consulta into :codigoamb;
suspend;
end
end
 ^


ALTER PROCEDURE "DHE" 
(
  "DATA" TIMESTAMP,
  "CONVENIO" INTEGER
)
RETURNS
(
  "ATIVO" CHAR(1)
)
AS
declare variable feriado integer;
declare variable semana integer;
declare variable horalimite timestamp;
begin
  ativo = 'N';
  select first 1 codigo from feriado where cast(a_data as date) = cast(:data as date) into :feriado;
  if (feriado > 0) then
    ativo = 'S';
  else
  begin
   if (extract(weekday from :data) = 0) then
     ativo = 'S';
   else
   begin
     if (extract(weekday from :data) = 6) then
     begin
       select sabado1 from convenio where convenio =:convenio into horalimite;
       if (cast(:data as time) >= cast(:horalimite as time)) then
         ativo = 'S';
       else
       begin
         select normal2 from convenio where convenio =:convenio into horalimite;
         if (cast(:data as time) <= cast(:horalimite as time)) then
           ativo = 'S';
       end
     end
     else
     begin
       select normal1 from convenio where convenio =:convenio into horalimite;
       if (cast(:data as time) >= cast(:horalimite as time)) then
         ativo = 'S';
       else
       begin
         select normal2 from convenio where convenio =:convenio into horalimite;
         if (cast(:data as time) <= cast(:horalimite as time)) then
           ativo = 'S';
       end
     end
   end
  end
  suspend;
end
 ^


ALTER PROCEDURE "DIARIAINTERNADO" 
(
  "DTINICIO" TIMESTAMP,
  "DTFIM" TIMESTAMP
)
RETURNS
(
  "PACIENTE" VARCHAR(50),
  "CONVENIO" VARCHAR(40),
  "DATA" TIMESTAMP,
  "DIARIA" SMALLINT,
  "PRORROGA" SMALLINT,
  "CPS" INTEGER,
  "CODIGOPAC" INTEGER
)
AS
BEGIN
FOR SELECT CPS1.CODIGOCPS, CPS1.A_DATAFAT, CPS1.DIARIA, CPS1.PRORROGA, CPS1.CODIGOPAC, Convenio.A_NOME, Paciente.A_NOME
      FROM CPS1 Cps1
      LEFT JOIN CONVENIO Convenio ON ( CPS1.CONVENIO  = CONVENIO.CONVENIO )
      LEFT JOIN PACIENTE Paciente ON ( CPS1.CODIGOPAC = PACIENTE.CODIGOPAC )
      WHERE ( CPS1.CODIGOPLA = 3) and ( CPS1.A_DATAFAT + COALESCE( DIARIA, NULL, 0) + COALESCE( PRORROGA,NULL,0))
            BETWEEN :DTINICIO AND :DTFIM AND CPS1.DATASAIDA IS NULL
      INTO CPS, DATA, DIARIA, PRORROGA, CODIGOPAC, CONVENIO, PACIENTE DO
  SUSPEND;
END
 ^


ALTER PROCEDURE "DIASMARCACIRURGIA" 
(
  "MEDICO" INTEGER,
  "MES" SMALLINT,
  "ANO" SMALLINT
)
RETURNS
(
  "DIA" SMALLINT
)
AS
begin
for select distinct extract(day from data) from marcacirurgia
where (a_medicos = :medico) and (extract(month from data) = :mes) and (extract(YEAR from data) = :ano)
into dia do
suspend;
end
 ^


ALTER PROCEDURE "DIASUSO" 
(
  "PRESCRICAO" INTEGER,
  "DESCRICAO" VARCHAR(2500)
)
RETURNS
(
  "DIASUSO" INTEGER,
  "DATAFINAL" TIMESTAMP
)
AS
begin
  SELECT first 1 datediff(day from  CAST(ccih.datainicio AS DATE) to current_date), datafinal  FROM NOTAMED2
      inner join ccih on (A_NOTAMED = :prescricao) and (SUSPENSO IS NULL OR suspenso <> 'S') and notamed2.a_notamed = ccih.prescricao
      and :DESCRICAO = ccih.antimicrobiano order by indice desc
       into :Diasuso, :datafinal;
  suspend;
end
 ^


ALTER PROCEDURE "DIASUSO3" 
(
  "PRESCRICAO" INTEGER,
  "CODIGOCCIH" VARCHAR(2500)
)
RETURNS
(
  "DIASUSO" INTEGER,
  "DATAFINAL" TIMESTAMP,
  "TEXTO" VARCHAR(30)
)
AS
begin
  SELECT first 1 datediff(day from  CAST(ccih.datainicio AS DATE) to current_date), datafinal  FROM NOTAMED2
      inner join ccih on (A_NOTAMED = :prescricao) and (SUSPENSO IS NULL OR suspenso <> 'S') and notamed2.a_notamed = ccih.prescricao
      and :codigoccih = ccih.codigomed order by indice desc
       into :Diasuso, :datafinal;
       TEXTO = '(D:' || CAST((:Diasuso) as varchar(5)) || ', Data Fim:'  || extract( day from datafinal) || '/' || extract( month from datafinal) || '/' || extract( year from datafinal) ||')' ;
  suspend;
end
 ^


ALTER PROCEDURE "DIASUTEIS" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "DIAS" INTEGER,
  "DOMINGO" INTEGER,
  "SABADO" INTEGER,
  "FERIADO" INTEGER
)
AS
declare variable data timestamp;
declare variable dia integer;
begin
 dias = 0;
 domingo = 0;
 sabado=0;
 feriado=0;
 data = inicio;
 while (data <= final) do
 begin
   dia = extract(weekday from data);
   if (dia between 1 and 5) then
   begin
     if (not exists(select * from feriado where a_data = :data)) then
       dias = dias + 1;
     else
       feriado = feriado + 1;
   end
   if (dia = 0) then
    domingo = domingo + 1;
   if (dia = 6) then
    sabado = sabado + 1;
   data = data +1;
 end
 suspend;
end
 ^


ALTER PROCEDURE "DIASUTEIS2" 
(
  "DATA" DATE,
  "TEMPO" INTEGER,
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "DIAUTIL" DATE
)
AS
declare variable dias integer;
begin
dias = 0;
if (tempo <= 0) then tempo = 1;
diautil = data +tempo-1;
data =data +1;
while (dias < tempo) do
begin
   diautil = diautil + 1;
   select dias from diasuteis(:data,:diautil) into :dias;
end
suspend;
end
 ^


ALTER PROCEDURE "DIETAETIQ" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "DIETAETQ" VARCHAR(200)
)
AS
declare variable vdieta varchar(100);
declare variable vcaract varchar(100);
declare variable vadoc varchar(100);
declare variable vcod integer;
begin
    select first 1  dieta.descricao, DIETA_CARACTE.codigo,
    CASE
       WHEN tipo_adocamento = '1' THEN 'Aucar'
       WHEN tipo_adocamento = '2' THEN  'Adoante'
       ELSE ''
    end
   from cpsnut
   left join dieta on dieta.codigo = cpsnut.dieta
   left join  DIETA_CARACTE on cpsnut.CARATERISTICA = DIETA_CARACTE.CODIGO
   where codigocps = :CODIGOCPS
    order by cpsnut.datasinc desc
   into :vdieta, vcod, vadoc;
   if (:vcod > 0) Then
   begin
       select DIETA_CARACTE.descricao from  DIETA_CARACTE where codigo = :vcod into :vcaract;
       if (:vcaract is not null ) Then
           DIETAETQ = :vdieta || ' - ' ||  :vcaract || ' - ' ||  vadoc;
       else
           DIETAETQ = :vdieta || ' - ' ||  vadoc;
   end
   else
           DIETAETQ = :vdieta || ' - ' ||  vadoc;
   suspend;
end
 ^


ALTER PROCEDURE "DIGITABANCADA" 
(
  "CONSULTA" VARCHAR(5000),
  "BANCADA1" INTEGER,
  "BANCADA2" INTEGER,
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "HORAINICIO" TIMESTAMP,
  "HORAFIM" TIMESTAMP,
  "USUARIO" INTEGER
)
RETURNS
(
  "BANCADANOME" VARCHAR(70),
  "BANCADA" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "CODIGOPLA" SMALLINT,
  "CODLAUDO" FLOAT,
  "LAUDOMANUAL" CHAR(1),
  "CODIGOSERV" INTEGER,
  "PROCEDIMENTOS" VARCHAR(1000),
  "LAUDOPADRAO" VARCHAR(60),
  "MNM" VARCHAR(10),
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "STATUS" INTEGER,
  "VAR01" VARCHAR(600),
  "VAR02" VARCHAR(600),
  "VAR03" VARCHAR(600),
  "VAR04" VARCHAR(600),
  "VAR05" VARCHAR(600),
  "VAR06" VARCHAR(600),
  "VAR07" VARCHAR(600),
  "VAR08" VARCHAR(600),
  "VAR09" VARCHAR(600),
  "VAR10" VARCHAR(600),
  "VAR11" VARCHAR(600),
  "VAR12" VARCHAR(600),
  "VAR13" VARCHAR(600),
  "VAR14" VARCHAR(600),
  "VAR15" VARCHAR(600),
  "VAR16" VARCHAR(600),
  "VAR17" VARCHAR(600),
  "VAR18" VARCHAR(600),
  "VAR19" VARCHAR(600),
  "VAR20" VARCHAR(600),
  "VAR21" VARCHAR(600),
  "VAR22" VARCHAR(600),
  "VAR23" VARCHAR(600),
  "VAR24" VARCHAR(600),
  "VAR25" VARCHAR(600),
  "VAR26" VARCHAR(600),
  "VAR27" VARCHAR(600),
  "VAR28" VARCHAR(600),
  "VAR29" VARCHAR(600),
  "VAR30" VARCHAR(600),
  "VAR31" VARCHAR(600),
  "VAR32" VARCHAR(600),
  "VAR33" VARCHAR(600),
  "VAR34" VARCHAR(600),
  "TVAR01" VARCHAR(30),
  "TVAR02" VARCHAR(30),
  "TVAR03" VARCHAR(30),
  "TVAR04" VARCHAR(30),
  "TVAR05" VARCHAR(30),
  "TVAR06" VARCHAR(30),
  "TVAR07" VARCHAR(30),
  "TVAR08" VARCHAR(30),
  "TVAR09" VARCHAR(30),
  "TVAR10" VARCHAR(30),
  "TVAR11" VARCHAR(30),
  "TVAR12" VARCHAR(30),
  "TVAR13" VARCHAR(30),
  "TVAR14" VARCHAR(30),
  "TVAR15" VARCHAR(30),
  "TVAR16" VARCHAR(30),
  "TVAR17" VARCHAR(30),
  "TVAR18" VARCHAR(30),
  "TVAR19" VARCHAR(30),
  "TVAR20" VARCHAR(30),
  "TVAR21" VARCHAR(30),
  "TVAR22" VARCHAR(30),
  "TVAR23" VARCHAR(30),
  "TVAR24" VARCHAR(30),
  "TVAR25" VARCHAR(30),
  "TVAR26" VARCHAR(30),
  "TVAR27" VARCHAR(30),
  "TVAR28" VARCHAR(30),
  "TVAR29" VARCHAR(30),
  "TVAR30" VARCHAR(30),
  "TVAR31" VARCHAR(30),
  "TVAR32" VARCHAR(30),
  "TVAR33" VARCHAR(30),
  "TVAR34" VARCHAR(30)
)
AS
DECLARE VARIABLE CONT INTEGER;
DECLARE VARIABLE TVARX VARCHAR(30);
DECLARE VARIABLE VARX VARCHAR(600);
DECLARE VARIABLE INDICE INTEGER;
DECLARE VARIABLE AUX VARCHAR(100);
DECLARE VARIABLE ORDEM INTEGER;
DECLARE VARIABLE TipoDigBancada INTEGER;
DECLARE VARIABLE auxCodigoServ INTEGER;
DECLARE VARIABLE auxA_codamb varchar(8);
DECLARE VARIABLE auxCodigocps Float;
DECLARE VARIABLE auxMNM varchar(10);
DECLARE VARIABLE auxLaudoPadrao varchar(60);
BEGIN
  select gen_id(GEN_TIPODIGBANCADA, 0) from rdb$database
  into TipoDigBancada;
  IF ( TipoDigBancada = 0 ) then
  begin
      FOR SELECT distinct bancada_descricao, cps.codigopla, cps.data, cps.codigoserv, cps.codigocps, cps.codigopac, bancada.bancada_codigo,
             CPS.DATA, CPS.HORA from CPS(:CONSULTA)
      inner join bancadaexame on (bancadaexame.codigoamb = cps.codigoamb)
      inner join bancada on ((BANCADA.BANCADA_CODIGO BETWEEN :BANCADA1 AND :BANCADA2) and (bancadaexame.cod_bancada = bancada.bancada_codigo))
      inner join servicos on ( ( servicos.codigoserv = cps.codigoserv ) and ( cps.dhe <> 'M' ) and ( servicos.a_tipo = 'E' ) and ( (servicos.TIPOPROC <> 'E' ) or ( servicos.TIPOPROC is null ) ) )
      where (cps.data between :DATAINICIO AND :DATAFIM) AND (CPS.HORA >= :HORAINICIO AND CPS.HORA <= :HORAFIM)
      INTO :BANCADANOME, :CODIGOPLA, :A_DATAFAT, :CODIGOSERV, :CODIGOCPS,:CODIGOPAC, :BANCADA, :DATA, :HORA DO
      BEGIN
          CODLAUDO = NULL;
          IF (CODIGOPLA <> 3) THEN
              SELECT FIRST 1 CODIGOCPS, LAUDOMANUAL,STATUS FROM CPSLAUDO1 WHERE NUMEROORIGEM = :CODIGOCPS and TIPO = 'E' INTO :CODLAUDO, :LAUDOMANUAL, :STATUS;
          ELSE
              SELECT FIRST 1 CODIGOCPS, LAUDOMANUAL,STATUS FROM CPSLAUDO1 WHERE NUMEROORIGEM = :CODIGOCPS AND DATAIMPORTACAO = :A_DATAFAT AND TIPO = 'E' INTO :CODLAUDO, :LAUDOMANUAL, :STATUS;
        if (codlaudo is null) then
        begin
          LAUDOMANUAL = 'N';
          if (:codigopla <> 3) then
          begin
            insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status, user1, tipo)
              select first 1 codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :USUARIO,'E' from cps1
              where codigocps = :codigocps;
          end
          else
          begin
              insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, numeroorigem, origem,dataimportacao, laudomanual,status, user1, tipo)
              select first 1 codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, codigocps,'CPSINT', :a_datafat, 'N', 0, :USUARIO, 'E' from cps1
              where codigocps = :codigocps;
          end
          select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :CODLAUDO;
          if (codigopla <> 3) then
          begin
            insert into cpslaudo2 (codigocps2,codigoserv,data,hora) select :codlaudo,cps2.codigoserv,cps2.data, cps2.hora from cps2
                                                                    inner join servicos on (servicos.codigoserv = cps2.codigoserv)
                                                                    where codigocps2 = :codigocps and servicos.a_tipo = 'E' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
          end
          else
          begin
            insert into cpslaudo2 (codigocps2,codigoserv,data,hora) select :codlaudo,inter3.codigoserv,inter3.a_data,inter3.a_hora from inter3
                                                                    inner join servicos on (servicos.codigoserv = inter3.codigoserv)
                                                                    where codigoint = :codigocps and a_data = :a_datafat and servicos.a_tipo = 'E' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
          end
        end
        else
        begin
             if (codigopla <> 3) then
             begin
                   insert into cpslaudo2 (codigocps2,codigoserv,data,hora)
                   select :CODLAUDO, cps2.codigoserv,cps2.data,cps2.hora
                   from cps2
                   left join cpslaudo2 on ( ( cpslaudo2.codigocps2 = :codlaudo ) AND ( cpslaudo2.codigoserv = cps2.codigoserv ) )
                   inner join servicos on ( servicos.codigoserv = cps2.codigoserv )
                   where ( cps2.codigocps2 = :codigocps ) and (servicos.a_tipo = 'E' ) and cpslaudo2.codigoserv IS NULL and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
             end
             else
             begin
                   insert into cpslaudo2 (codigocps2,codigoserv,data,hora)
                   select :codlaudo,inter3.codigoserv,inter3.a_data,inter3.a_hora
                   from inter3
                   left join cpslaudo2 on ( ( cpslaudo2.codigocps2 = :codlaudo ) AND
                                            ( cpslaudo2.codigoserv = inter3.codigoserv )  and (cpslaudo2.hora = inter3.a_hora))
                   inner join servicos on (servicos.codigoserv = inter3.codigoserv)
                   where ( codigoint = :codigocps ) and ( a_data = :a_datafat ) and ( servicos.a_tipo = 'E' ) and cpslaudo2.codigoserv IS NULL and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
             end
        end
        SELECT FIRST 1 LAUDOPADRAO FROM CPSLAUDO2 WHERE CODIGOCPS2 = :CODLAUDO AND CODIGOSERV = :CODIGOSERV and hora = :hora INTO :LAUDOPADRAO;
        CONT = 0;
        var01 = null; var02 = null; var03 = null; var04 = null; var05 = null;
        var06 = null; var07 = null; var08 = null; var09 = null; var10 = null;
        var11 = null; var12 = null; var13 = null; var14 = null; var15 = null;
        var16 = null; var17 = null; var18 = null; var19 = null; var20 = null;
        var21 = null; var22 = null; var23 = null; var24 = null; var25 = null;
        var26 = null; var27 = null; var28 = null; var29 = null; var30 = null;
        var31 = null; var32 = null; var33 = null; var34 = null;
        tvar01 = null; tvar02 = null; tvar03 = null; tvar04 = null; tvar05 = null;
        tvar06 = null; tvar07 = null; tvar08 = null; tvar09 = null; tvar10 = null;
        tvar11 = null; tvar12 = null; tvar13 = null; tvar14 = null; tvar15 = null;
        tvar16 = null; tvar17 = null; tvar18 = null; tvar19 = null; tvar20 = null;
        tvar21 = null; tvar22 = null; tvar23 = null; tvar24 = null; tvar25 = null;
        tvar26 = null; tvar27 = null; tvar28 = null; tvar29 = null; tvar30 = null;
        tvar31 = null; tvar32 = null; tvar33 = null; tvar34 = null;
        FOR select distinct laudovar.descricao,(select first 1 cpslaudovar.valor from cpslaudovar where codigocps = :codlaudo and cpslaudovar.descricao = laudovar.descricao AND ( CPSLAUDOVAR.DATA =:DATA AND CPSLAUDOVAR.HORA =:HORA )) from laudovar
            inner join cpslaudo2 on (laudovar.laudo = :laudopadrao and cpslaudo2.codigocps2 = :codlaudo and cpslaudo2.laudopadrao = laudovar.laudo)
            left join cpslaudocal on (cpslaudocal.descricao = laudovar.descricao)
            where (cpslaudocal.descricao is null) and (not laudovar.descricao like 'HIST_%')
            order by laudovar.ordem
            INTO :TVARX, :VARX DO
            BEGIN
              indice = null;
              select first 1 cpslaudovar.indice from cpslaudovar where cpslaudovar.codigocps = :codlaudo and cpslaudovar.descricao = :tvarx AND cpslaudovar.data = :data and cpslaudovar.hora =:hora into :indice;
              if ( indice is null ) then insert into cpslaudovar (descricao,codigocps,cps, data, hora) values (:tvarx,:codlaudo,:codigocps, :data, :hora);
              CONT = CONT + 1;
              IF (CONT = 1)  THEN BEGIN TVAR01 = TVARX; VAR01 = VARX; END
              IF (CONT = 2)  THEN BEGIN TVAR02 = TVARX; VAR02 = VARX; END
              IF (CONT = 3)  THEN BEGIN TVAR03 = TVARX; VAR03 = VARX; END
              IF (CONT = 4)  THEN BEGIN TVAR04 = TVARX; VAR04 = VARX; END
              IF (CONT = 5)  THEN BEGIN TVAR05 = TVARX; VAR05 = VARX; END
              IF (CONT = 6)  THEN BEGIN TVAR06 = TVARX; VAR06 = VARX; END
              IF (CONT = 7)  THEN BEGIN TVAR07 = TVARX; VAR07 = VARX; END
              IF (CONT = 8)  THEN BEGIN TVAR08 = TVARX; VAR08 = VARX; END
              IF (CONT = 9)  THEN BEGIN TVAR09 = TVARX; VAR09 = VARX; END
              IF (CONT = 10) THEN BEGIN TVAR10 = TVARX; VAR10 = VARX; END
              IF (CONT = 11) THEN BEGIN TVAR11 = TVARX; VAR11 = VARX; END
              IF (CONT = 12) THEN BEGIN TVAR12 = TVARX; VAR12 = VARX; END
              IF (CONT = 13) THEN BEGIN TVAR13 = TVARX; VAR13 = VARX; END
              IF (CONT = 14) THEN BEGIN TVAR14 = TVARX; VAR14 = VARX; END
              IF (CONT = 15) THEN BEGIN TVAR15 = TVARX; VAR15 = VARX; END
              IF (CONT = 16) THEN BEGIN TVAR16 = TVARX; VAR16 = VARX; END
              IF (CONT = 17) THEN BEGIN TVAR17 = TVARX; VAR17 = VARX; END
              IF (CONT = 18) THEN BEGIN TVAR18 = TVARX; VAR18 = VARX; END
              IF (CONT = 19) THEN BEGIN TVAR19 = TVARX; VAR19 = VARX; END
              IF (CONT = 20) THEN BEGIN TVAR20 = TVARX; VAR20 = VARX; END
              IF (CONT = 21) THEN BEGIN TVAR21 = TVARX; VAR21 = VARX; END
              IF (CONT = 22) THEN BEGIN TVAR22 = TVARX; VAR22 = VARX; END
              IF (CONT = 23) THEN BEGIN TVAR23 = TVARX; VAR23 = VARX; END
              IF (CONT = 24) THEN BEGIN TVAR24 = TVARX; VAR24 = VARX; END
              IF (CONT = 25) THEN BEGIN TVAR25 = TVARX; VAR25 = VARX; END
              IF (CONT = 26) THEN BEGIN TVAR26 = TVARX; VAR26 = VARX; END
              IF (CONT = 27) THEN BEGIN TVAR27 = TVARX; VAR27 = VARX; END
              IF (CONT = 28) THEN BEGIN TVAR28 = TVARX; VAR28 = VARX; END
              IF (CONT = 29) THEN BEGIN TVAR29 = TVARX; VAR29 = VARX; END
              IF (CONT = 30) THEN BEGIN TVAR30 = TVARX; VAR30 = VARX; END
              IF (CONT = 31) THEN BEGIN TVAR31 = TVARX; VAR31 = VARX; END
              IF (CONT = 32) THEN BEGIN TVAR32 = TVARX; VAR32 = VARX; END
              IF (CONT = 33) THEN BEGIN TVAR33 = TVARX; VAR33 = VARX; END
              IF (CONT = 34) THEN BEGIN TVAR34 = TVARX; VAR34 = VARX; END
            END
            select laudomanual from laudopadrx where laudo = :laudopadrao into :laudomanual;
        SUSPEND;
      END
  end
  else if ( TipoDigBancada = 1 ) then
  begin
      FOR SELECT distinct bancada_descricao, cps.codigopla, cps.data, cps.codigoserv, cps.codigocps, cps.codigopac, bancada.bancada_codigo, CPS.DATA, CPS.HORA from CPS(:CONSULTA)
      left join laudopadrx on (laudopadrx.mnm = cps.mnm)
      inner join bancada on ((BANCADA.BANCADA_CODIGO BETWEEN :BANCADA1 AND :BANCADA2) and (laudopadrx.cod_bancada = bancada.bancada_codigo))
      inner join servicos on ( ( servicos.codigoserv = cps.codigoserv ) and ( cps.dhe <> 'M' ) and ( servicos.a_tipo = 'E' ) and ( (servicos.TIPOPROC <> 'E' ) or ( servicos.TIPOPROC is null ) ) )
      where (cps.data between :DATAINICIO AND :DATAFIM) AND (CPS.HORA >=:HORAINICIO AND CPS.HORA <= :HORAFIM)
      INTO :BANCADANOME, :CODIGOPLA, :A_DATAFAT, :CODIGOSERV,:CODIGOCPS,:CODIGOPAC, :BANCADA, :DATA, :HORA DO
      BEGIN
          CODLAUDO = NULL;
          IF (CODIGOPLA <> 3) THEN
              SELECT FIRST 1 CODIGOCPS, LAUDOMANUAL,STATUS FROM CPSLAUDO1 WHERE NUMEROORIGEM = :CODIGOCPS and TIPO = 'E' INTO :CODLAUDO,:LAUDOMANUAL, :STATUS;
          ELSE
              SELECT FIRST 1 CODIGOCPS, LAUDOMANUAL,STATUS FROM CPSLAUDO1 WHERE NUMEROORIGEM = :CODIGOCPS AND DATAIMPORTACAO = :A_DATAFAT AND TIPO ='E' INTO :CODLAUDO, :LAUDOMANUAL, :STATUS;
        if (codlaudo is null) then
        begin
          LAUDOMANUAL = 'N';
          if (:codigopla <> 3) then
          begin
            insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora,Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status,user1, tipo)
              select first 1 codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :USUARIO,'E' from cps1
              where codigocps = :codigocps;
          end
          else
          begin
              insert into cpslaudo1 (codigopac, convenio, a_datafat,a_hora, Matricula, a_cid, medresp, numeroorigem, origem,dataimportacao,laudomanual,status, user1, tipo)
              select first 1 codigopac, convenio, a_datafat, a_hora,Matricula, a_cid, medresp, codigocps,'CPSINT', :a_datafat, 'N', 0,:USUARIO, 'E' from cps1
              where codigocps = :codigocps;
          end
          select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :CODLAUDO;
          if (codigopla <> 3) then
          begin
            insert into cpslaudo2 (codigocps2,codigoserv,data,hora,laudopadrao) select :codlaudo,cps2.codigoserv,cps2.data,cps2.hora,laudopadrx.laudo
                                                                    from cps2
                                                                    inner join servicos on (servicos.codigoserv = cps2.codigoserv)
                                                                    left join laudopadrx on (laudopadrx.mnm = cps2.mnm)
                                                                    where codigocps2 = :codigocps and servicos.a_tipo = 'E' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
          end
          else
          begin
            insert into cpslaudo2 (codigocps2,codigoserv,data,hora) select :codlaudo,inter3.codigoserv,inter3.a_data,inter3.a_hora
                                                                    from inter3
                                                                    inner join servicos on (servicos.codigoserv = inter3.codigoserv)
                                                                    where codigoint = :codigocps and a_data = :a_datafat and servicos.a_tipo = 'E' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
          end
        end
        else
        begin
             if (codigopla <> 3) then
             begin
                   insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao)
                   select :CODLAUDO, cps2.codigoserv,cps2.data,cps2.hora, laudopadrx.laudo
                   from cps2
                   left join cpslaudo2 on ( ( cpslaudo2.codigocps2 = :codlaudo ) AND
                                            ( cpslaudo2.codigoserv = cps2.codigoserv ) )
                   inner join servicos on ( servicos.codigoserv = cps2.codigoserv )
                   left join laudopadrx on (laudopadrx.mnm = cps2.mnm)
                   where ( cps2.codigocps2 = :codigocps ) and ( servicos.a_tipo = 'E' ) and cpslaudo2.codigoserv IS NULL and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
             end
             else
             begin
                   insert into cpslaudo2 (codigocps2,codigoserv,data,hora)
                   select :codlaudo,inter3.codigoserv,inter3.a_data,inter3.a_hora
                   from inter3
                   left join cpslaudo2 on ( ( cpslaudo2.codigocps2 = :codlaudo ) AND
                                            ( cpslaudo2.codigoserv = inter3.codigoserv )  and (cpslaudo2.hora = inter3.a_hora))
                   inner join servicos on (servicos.codigoserv = inter3.codigoserv)
                   where ( codigoint = :codigocps ) and ( a_data = :a_datafat ) and ( servicos.a_tipo = 'E' ) and cpslaudo2.codigoserv IS NULL and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
             end
        end
        SELECT FIRST 1 LAUDOPADRAO FROM CPSLAUDO2 WHERE CODIGOCPS2 = :CODLAUDO AND CODIGOSERV = :CODIGOSERV and hora = :hora INTO :LAUDOPADRAO;
        CONT = 0;
        var01 = null; var02 = null; var03 = null; var04 = null; var05 = null;
        var06 = null; var07 = null; var08 = null; var09 = null; var10 = null;
        var11 = null; var12 = null; var13 = null; var14 = null; var15 = null;
        var16 = null; var17 = null; var18 = null; var19 = null; var20 = null;
        var21 = null; var22 = null; var23 = null; var24 = null; var25 = null;
        var26 = null; var27 = null; var28 = null; var29 = null; var30 = null;
        var31 = null; var32 = null; var33 = null; var34 = null;
        tvar01 = null; tvar02 = null; tvar03 = null; tvar04 = null; tvar05 = null;
        tvar06 = null; tvar07 = null; tvar08 = null; tvar09 = null; tvar10 = null;
        tvar11 = null; tvar12 = null; tvar13 = null; tvar14 = null; tvar15 = null;
        tvar16 = null; tvar17 = null; tvar18 = null; tvar19 = null; tvar20 = null;
        tvar21 = null; tvar22 = null; tvar23 = null; tvar24 = null; tvar25 = null;
        tvar26 = null; tvar27 = null; tvar28 = null; tvar29 = null; tvar30 = null;
        tvar31 = null; tvar32 = null; tvar33 = null; tvar34 = null;
        FOR select distinct laudovar.descricao,(select first 1 cpslaudovar.valor from cpslaudovar where codigocps = :codlaudo and cpslaudovar.descricao = laudovar.descricao AND ( CPSLAUDOVAR.DATA =:DATA AND CPSLAUDOVAR.HORA =:HORA )) from laudovar
            inner join cpslaudo2 on (laudovar.laudo = :laudopadrao and cpslaudo2.codigocps2 = :codlaudo and cpslaudo2.laudopadrao = laudovar.laudo)
            left join cpslaudocal on (cpslaudocal.descricao = laudovar.descricao)
            where (cpslaudocal.descricao is null) and (not laudovar.descricao like 'HIST_%')
            order by laudovar.ordem
            INTO :TVARX, :VARX DO
            BEGIN
              indice = null;
              select first 1 cpslaudovar.indice from cpslaudovar where cpslaudovar.codigocps = :codlaudo and cpslaudovar.descricao = :tvarx AND cpslaudovar.data = :data and cpslaudovar.hora =:hora into :indice;
              if ( indice is null ) then insert into cpslaudovar (descricao,codigocps,cps, data, hora) values (:tvarx,:codlaudo,:codigocps, :data, :hora);
              CONT = CONT + 1;
              IF (CONT = 1)  THEN BEGIN TVAR01 = TVARX; VAR01 = VARX; END
              IF (CONT = 2)  THEN BEGIN TVAR02 = TVARX; VAR02 = VARX; END
              IF (CONT = 3)  THEN BEGIN TVAR03 = TVARX; VAR03 = VARX; END
              IF (CONT = 4)  THEN BEGIN TVAR04 = TVARX; VAR04 = VARX; END
              IF (CONT = 5)  THEN BEGIN TVAR05 = TVARX; VAR05 = VARX; END
              IF (CONT = 6)  THEN BEGIN TVAR06 = TVARX; VAR06 = VARX; END
              IF (CONT = 7)  THEN BEGIN TVAR07 = TVARX; VAR07 = VARX; END
              IF (CONT = 8)  THEN BEGIN TVAR08 = TVARX; VAR08 = VARX; END
              IF (CONT = 9)  THEN BEGIN TVAR09 = TVARX; VAR09 = VARX; END
              IF (CONT = 10) THEN BEGIN TVAR10 = TVARX; VAR10 = VARX; END
              IF (CONT = 11) THEN BEGIN TVAR11 = TVARX; VAR11 = VARX; END
              IF (CONT = 12) THEN BEGIN TVAR12 = TVARX; VAR12 = VARX; END
              IF (CONT = 13) THEN BEGIN TVAR13 = TVARX; VAR13 = VARX; END
              IF (CONT = 14) THEN BEGIN TVAR14 = TVARX; VAR14 = VARX; END
              IF (CONT = 15) THEN BEGIN TVAR15 = TVARX; VAR15 = VARX; END
              IF (CONT = 16) THEN BEGIN TVAR16 = TVARX; VAR16 = VARX; END
              IF (CONT = 17) THEN BEGIN TVAR17 = TVARX; VAR17 = VARX; END
              IF (CONT = 18) THEN BEGIN TVAR18 = TVARX; VAR18 = VARX; END
              IF (CONT = 19) THEN BEGIN TVAR19 = TVARX; VAR19 = VARX; END
              IF (CONT = 20) THEN BEGIN TVAR20 = TVARX; VAR20 = VARX; END
              IF (CONT = 21) THEN BEGIN TVAR21 = TVARX; VAR21 = VARX; END
              IF (CONT = 22) THEN BEGIN TVAR22 = TVARX; VAR22 = VARX; END
              IF (CONT = 23) THEN BEGIN TVAR23 = TVARX; VAR23 = VARX; END
              IF (CONT = 24) THEN BEGIN TVAR24 = TVARX; VAR24 = VARX; END
              IF (CONT = 25) THEN BEGIN TVAR25 = TVARX; VAR25 = VARX; END
              IF (CONT = 26) THEN BEGIN TVAR26 = TVARX; VAR26 = VARX; END
              IF (CONT = 27) THEN BEGIN TVAR27 = TVARX; VAR27 = VARX; END
              IF (CONT = 28) THEN BEGIN TVAR28 = TVARX; VAR28 = VARX; END
              IF (CONT = 29) THEN BEGIN TVAR29 = TVARX; VAR29 = VARX; END
              IF (CONT = 30) THEN BEGIN TVAR30 = TVARX; VAR30 = VARX; END
              IF (CONT = 31) THEN BEGIN TVAR31 = TVARX; VAR31 = VARX; END
              IF (CONT = 32) THEN BEGIN TVAR32 = TVARX; VAR32 = VARX; END
              IF (CONT = 33) THEN BEGIN TVAR33 = TVARX; VAR33 = VARX; END
              IF (CONT = 34) THEN BEGIN TVAR34 = TVARX; VAR34 = VARX; END
            END
            select laudomanual from laudopadrx where laudo = :laudopadrao into :laudomanual;
        SUSPEND;
      END
  end
  else if ( TipoDigBancada = 2 ) then
  begin
      FOR SELECT distinct bancada_descricao, cps.codigopla, cps.data, cps.codigoserv, cps.codigocps, cps.codigopac, bancada.bancada_codigo, CPS.DATA, CPS.HORA, CPS.MNM from CPS(:CONSULTA)
      left join laudopadrx on (laudopadrx.mnm = cps.mnm)
      inner join bancada on ((BANCADA.BANCADA_CODIGO BETWEEN :BANCADA1 AND :BANCADA2) and (laudopadrx.cod_bancada = bancada.bancada_codigo))
      inner join servicos on ( ( servicos.codigoserv = cps.codigoserv ) and ( cps.dhe <> 'M' ) and ( servicos.a_tipo = 'E' ) and ( (servicos.TIPOPROC <> 'E' ) or ( servicos.TIPOPROC is null ) ) )
      where (cps.data between :DATAINICIO AND :DATAFIM) AND (CPS.HORA >=:HORAINICIO AND CPS.HORA <= :HORAFIM)
      INTO :BANCADANOME, :CODIGOPLA, :A_DATAFAT, :CODIGOSERV,:CODIGOCPS,:CODIGOPAC, :BANCADA, :DATA, :HORA, :MNM DO
      BEGIN
          CODLAUDO = NULL;
          IF (CODIGOPLA <> 3) THEN
              SELECT FIRST 1 CODIGOCPS, LAUDOMANUAL,STATUS FROM CPSLAUDO1 WHERE NUMEROORIGEM = :CODIGOCPS and TIPO = 'E' INTO :CODLAUDO,:LAUDOMANUAL, :STATUS;
          ELSE
              SELECT FIRST 1 CODIGOCPS, LAUDOMANUAL,STATUS FROM CPSLAUDO1 WHERE NUMEROORIGEM = :CODIGOCPS AND DATAIMPORTACAO = :A_DATAFAT AND TIPO ='E' INTO :CODLAUDO, :LAUDOMANUAL, :STATUS;
        if (codlaudo is null) then
        begin
          LAUDOMANUAL = 'N';
          if (:codigopla <> 3) then
          begin
            insert into cpslaudo1 (codigopac, convenio, a_datafat, a_hora,Matricula, a_cid, medresp, numeroorigem, origem, laudomanual, status,user1, tipo, tratamento)
              select first 1 codigopac, convenio, a_datafat, a_hora, Matricula, a_cid, medresp, codigocps,'CPS','N', 0, :USUARIO,'E', 0 from cps1
              where codigocps = :codigocps;
          end
          else
          begin
              insert into cpslaudo1 (codigopac, convenio, a_datafat,a_hora, Matricula, a_cid, medresp, numeroorigem, origem,dataimportacao,laudomanual,status, user1, tipo, tratamento)
              select first 1 codigopac, convenio, a_datafat, a_hora,Matricula, a_cid, medresp, codigocps,'CPSINT', :a_datafat, 'N', 0,:USUARIO, 'E', 0 from cps1
              where codigocps = :codigocps;
          end
          select gen_id(gen_cpslaudo1,0) from RDB$DATABASE INTO :CODLAUDO;
          if (codigopla <> 3) then
          begin
            insert into cpslaudo2 (codigocps2,codigoserv,data,hora,laudopadrao, MNM, status, faturar, ordem, quebra, qtdelinha) select :codlaudo,cps2.codigoserv,cps2.data,cps2.hora,laudopadrx.laudo, laudopadrx.mnm, 'C', 'S', laudopadrx.ordem, laudopadrx.quebra, laudopadrx.qtdelinha
                                                                    from cps2
                                                                    inner join servicos on (servicos.codigoserv = cps2.codigoserv)
                                                                    left join laudopadrx on (laudopadrx.mnm = cps2.mnm)
                                                                    where codigocps2 = :codigocps and servicos.a_tipo = 'E' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
          end
          else
          begin
            insert into cpslaudo2 (codigocps2,codigoserv,data,hora, status, faturar) select :codlaudo,inter3.codigoserv,inter3.a_data,inter3.a_hora, 'C', 'S'
                                                                    from inter3
                                                                    inner join servicos on (servicos.codigoserv = inter3.codigoserv)
                                                                    where codigoint = :codigocps and a_data = :a_datafat and servicos.a_tipo = 'E' and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
          end
        end
        else
        begin
             if (codigopla <> 3) then
             begin
                   insert into cpslaudo2 (codigocps2,codigoserv,data,hora, laudopadrao, mnm, status, faturar, ordem, quebra, qtdelinha)
                   select :CODLAUDO, cps2.codigoserv,cps2.data,cps2.hora, laudopadrx.laudo, laudopadrx.mnm, 'C','S', laudopadrx.ordem , laudopadrx.quebra, laudopadrx.qtdelinha
                   from cps2
                   left join cpslaudo2 on ( ( cpslaudo2.codigocps2 = :codlaudo ) AND
                                            ( cpslaudo2.codigoserv = cps2.codigoserv ) )
                   inner join servicos on ( servicos.codigoserv = cps2.codigoserv )
                   left join laudopadrx on (laudopadrx.mnm = cps2.mnm)
                   where ( cps2.codigocps2 = :codigocps ) and ( servicos.a_tipo = 'E' ) and cpslaudo2.codigoserv IS NULL and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
             end
             else
             begin
                   insert into cpslaudo2 (codigocps2,codigoserv,data,hora, status, faturar)
                   select :codlaudo,inter3.codigoserv,inter3.a_data,inter3.a_hora, 'C', 'S'
                   from inter3
                   left join cpslaudo2 on ( ( cpslaudo2.codigocps2 = :codlaudo ) AND
                                            ( cpslaudo2.codigoserv = inter3.codigoserv )  and (cpslaudo2.hora = inter3.a_hora))
                   inner join servicos on (servicos.codigoserv = inter3.codigoserv)
                   where ( codigoint = :codigocps ) and ( a_data = :a_datafat ) and ( servicos.a_tipo = 'E' ) and cpslaudo2.codigoserv IS NULL and (servicos.TIPOPROC <> 'E' or servicos.TIPOPROC is null ) ;
             end
        end
        SELECT FIRST 1 LAUDOPADRAO FROM CPSLAUDO2 WHERE CODIGOCPS2 = :CODLAUDO AND CODIGOSERV = :CODIGOSERV and hora = :hora INTO :LAUDOPADRAO;
        CONT = 0;
        var01 = null; var02 = null; var03 = null; var04 = null; var05 = null;
        var06 = null; var07 = null; var08 = null; var09 = null; var10 = null;
        var11 = null; var12 = null; var13 = null; var14 = null; var15 = null;
        var16 = null; var17 = null; var18 = null; var19 = null; var20 = null;
        var21 = null; var22 = null; var23 = null; var24 = null; var25 = null;
        var26 = null; var27 = null; var28 = null; var29 = null; var30 = null;
        var31 = null; var32 = null; var33 = null; var34 = null;
        tvar01 = null; tvar02 = null; tvar03 = null; tvar04 = null; tvar05 = null;
        tvar06 = null; tvar07 = null; tvar08 = null; tvar09 = null; tvar10 = null;
        tvar11 = null; tvar12 = null; tvar13 = null; tvar14 = null; tvar15 = null;
        tvar16 = null; tvar17 = null; tvar18 = null; tvar19 = null; tvar20 = null;
        tvar21 = null; tvar22 = null; tvar23 = null; tvar24 = null; tvar25 = null;
        tvar26 = null; tvar27 = null; tvar28 = null; tvar29 = null; tvar30 = null;
        tvar31 = null; tvar32 = null; tvar33 = null; tvar34 = null;
        FOR select distinct laudovar.descricao,(select first 1 cpslaudovar.valor from cpslaudovar where codigocps = :codlaudo and cpslaudovar.descricao = laudovar.descricao AND ( CPSLAUDOVAR.DATA =:DATA AND CPSLAUDOVAR.HORA =:HORA )) from laudovar
            inner join cpslaudo2 on (laudovar.laudo = :laudopadrao and cpslaudo2.codigocps2 = :codlaudo and cpslaudo2.laudopadrao = laudovar.laudo)
            left join cpslaudocal on (cpslaudocal.descricao = laudovar.descricao)
            where (cpslaudocal.descricao is null) and (not laudovar.descricao like 'HIST_%')
            order by laudovar.ordem
            INTO :TVARX, :VARX DO
            BEGIN
              indice = null;
              select first 1 cpslaudovar.indice from cpslaudovar where cpslaudovar.codigocps = :codlaudo and cpslaudovar.descricao = :tvarx AND cpslaudovar.data = :data and cpslaudovar.hora =:hora into :indice;
              if ( indice is null ) then insert into cpslaudovar (descricao,codigocps,cps, data, hora) values (:tvarx,:codlaudo,:codigocps, :data, :hora);
              CONT = CONT + 1;
              IF (CONT = 1)  THEN BEGIN TVAR01 = TVARX; VAR01 = VARX; END
              IF (CONT = 2)  THEN BEGIN TVAR02 = TVARX; VAR02 = VARX; END
              IF (CONT = 3)  THEN BEGIN TVAR03 = TVARX; VAR03 = VARX; END
              IF (CONT = 4)  THEN BEGIN TVAR04 = TVARX; VAR04 = VARX; END
              IF (CONT = 5)  THEN BEGIN TVAR05 = TVARX; VAR05 = VARX; END
              IF (CONT = 6)  THEN BEGIN TVAR06 = TVARX; VAR06 = VARX; END
              IF (CONT = 7)  THEN BEGIN TVAR07 = TVARX; VAR07 = VARX; END
              IF (CONT = 8)  THEN BEGIN TVAR08 = TVARX; VAR08 = VARX; END
              IF (CONT = 9)  THEN BEGIN TVAR09 = TVARX; VAR09 = VARX; END
              IF (CONT = 10) THEN BEGIN TVAR10 = TVARX; VAR10 = VARX; END
              IF (CONT = 11) THEN BEGIN TVAR11 = TVARX; VAR11 = VARX; END
              IF (CONT = 12) THEN BEGIN TVAR12 = TVARX; VAR12 = VARX; END
              IF (CONT = 13) THEN BEGIN TVAR13 = TVARX; VAR13 = VARX; END
              IF (CONT = 14) THEN BEGIN TVAR14 = TVARX; VAR14 = VARX; END
              IF (CONT = 15) THEN BEGIN TVAR15 = TVARX; VAR15 = VARX; END
              IF (CONT = 16) THEN BEGIN TVAR16 = TVARX; VAR16 = VARX; END
              IF (CONT = 17) THEN BEGIN TVAR17 = TVARX; VAR17 = VARX; END
              IF (CONT = 18) THEN BEGIN TVAR18 = TVARX; VAR18 = VARX; END
              IF (CONT = 19) THEN BEGIN TVAR19 = TVARX; VAR19 = VARX; END
              IF (CONT = 20) THEN BEGIN TVAR20 = TVARX; VAR20 = VARX; END
              IF (CONT = 21) THEN BEGIN TVAR21 = TVARX; VAR21 = VARX; END
              IF (CONT = 22) THEN BEGIN TVAR22 = TVARX; VAR22 = VARX; END
              IF (CONT = 23) THEN BEGIN TVAR23 = TVARX; VAR23 = VARX; END
              IF (CONT = 24) THEN BEGIN TVAR24 = TVARX; VAR24 = VARX; END
              IF (CONT = 25) THEN BEGIN TVAR25 = TVARX; VAR25 = VARX; END
              IF (CONT = 26) THEN BEGIN TVAR26 = TVARX; VAR26 = VARX; END
              IF (CONT = 27) THEN BEGIN TVAR27 = TVARX; VAR27 = VARX; END
              IF (CONT = 28) THEN BEGIN TVAR28 = TVARX; VAR28 = VARX; END
              IF (CONT = 29) THEN BEGIN TVAR29 = TVARX; VAR29 = VARX; END
              IF (CONT = 30) THEN BEGIN TVAR30 = TVARX; VAR30 = VARX; END
              IF (CONT = 31) THEN BEGIN TVAR31 = TVARX; VAR31 = VARX; END
              IF (CONT = 32) THEN BEGIN TVAR32 = TVARX; VAR32 = VARX; END
              IF (CONT = 33) THEN BEGIN TVAR33 = TVARX; VAR33 = VARX; END
              IF (CONT = 34) THEN BEGIN TVAR34 = TVARX; VAR34 = VARX; END
            END
            select laudomanual from laudopadrx where laudo = :laudopadrao into :laudomanual;
        SUSPEND;
      END
  end
END
 ^


ALTER PROCEDURE "DISCOBPA" 
(
  "CONSULTA" VARCHAR(6000),
  "TIPOCONSULTAESP" INTEGER,
  "COM_BPA_I" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "FOLHA" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "CBO" VARCHAR(6),
  "TIPO" CHAR(2),
  "GRUPO" CHAR(2),
  "IDADE" INTEGER,
  "QTDE" INTEGER,
  "TIPOBPA" CHAR(1),
  "A_DATAFAT" TIMESTAMP,
  "CNS_MEDICO" VARCHAR(15),
  "MATRICULA" VARCHAR(30),
  "SEXO" VARCHAR(1),
  "CID10" VARCHAR(4),
  "NOMEPACIENTE" VARCHAR(50),
  "NASCIMENTO" TIMESTAMP,
  "RACACOR" CHAR(2),
  "UF" VARCHAR(4),
  "CIDADE" VARCHAR(100),
  "NACIONALIDADE" CHAR(3),
  "CARTAO" VARCHAR(20),
  "CEP" VARCHAR(8),
  "CODLOG" VARCHAR(3),
  "ENDERECO" VARCHAR(50),
  "ENDERECO_COMP" VARCHAR(20),
  "ENDERECO_NUM" VARCHAR(8),
  "BAIRRO" VARCHAR(20),
  "TELEFONE" VARCHAR(11),
  "EMAIL" VARCHAR(60),
  "ETNIA" VARCHAR(10)
)
AS
declare variable cont integer;
begin
folha = 1;
cont = 0;
for select codigoamb, cbo, tipo, grupo, idade, TIPOBPA,A_DATAFAT, CNS_MEDICO, MATRICULA, SEXO, CID10, NOMEPACIENTE, CARTAO, NASCIMENTO,RACACOR, NACIONALIDADE ,UF, CIDADE, CEP, ENDERECO, ENDERECO_COMP, ENDERECO_NUM, BAIRRO, TELEFONE, EMAIL, CODLOG, ETNIA,sum(qtde) from bpa(:CONSULTA, :TIPOCONSULTAESP, :COM_BPA_I)
  group by codigoamb, CBO, tipo, grupo, IDADE, TIPOBPA,A_DATAFAT, CNS_MEDICO, MATRICULA, SEXO, CID10, NOMEPACIENTE, CARTAO, NASCIMENTO,RACACOR, NACIONALIDADE ,UF, CIDADE, CEP, ENDERECO, ENDERECO_COMP, ENDERECO_NUM, BAIRRO, TELEFONE, EMAIL, CODLOG, ETNIA
  into :codigoamb, :cbo, :tipo, :grupo, :idade, :TIPOBPA,:A_DATAFAT, :CNS_MEDICO, :MATRICULA, :SEXO, :CID10, :NOMEPACIENTE, :CARTAO, :NASCIMENTO,:RACACOR, :NACIONALIDADE,:UF, :CIDADE, :CEP, :ENDERECO, :ENDERECO_COMP, :ENDERECO_NUM, :BAIRRO, :TELEFONE, :EMAIL, :CODLOG,:ETNIA,:qtde do
   begin
    cont = cont + 1;
      if (gen_id(GEN_FORMATO_BPA_QTDE_FOLHA,0) = 99) THEN
      begin
          if (cont > 99) Then
          begin
     --      exception exc_dinamica 'teste formaro folha 99';  eduardo 11/11/2019 cleiton samir olhou portaria sus
              folha = folha + 1;
              cont = 0;
          end
     end
     else
     begin
          if (cont > 20) Then
          begin
     --       exception exc_dinamica 'teste formaro folha 20';  eduardo 11/11/2019 cleiton samir olhou portaria sus
               folha = folha + 1;
               cont = 0;
          end
     end
    suspend;
  end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO" VARCHAR(4)
)
RETURNS
(
  "IDENTIFICADOR" CHAR(1),
  "EMBRANCO1" CHAR(1),
  "MATRICULA" CHAR(9),
  "EMBRANCO2" CHAR(5),
  "NOME" CHAR(28),
  "COD_REGISTRO" CHAR(1),
  "COD_VERBA" CHAR(5),
  "INDICE" CHAR(2),
  "EMBRANCO3" CHAR(2),
  "VALOR" VARCHAR(10),
  "EMBRANCO4" CHAR(11),
  "DATA_FIM" CHAR(4),
  "DATA_INICIO_REF" CHAR(4),
  "DATA_TERMINO_REF" CHAR(4),
  "EMBRANCO5" CHAR(30),
  "TIPO_REGISTRO" VARCHAR(1),
  "CONSTANTE" CHAR(1),
  "IDENT_CONSIG" CHAR(3),
  "EMBRANCO6" CHAR(14),
  "CPF" CHAR(14),
  "LINHA" VARCHAR(250)
)
AS
declare variable codigopac float;
declare variable residuo double precision;
declare variable valorcps double precision;
begin
  -- LINHA = 'A               0217                                                                                                                    1';
     LINHA = 'A               '||:TIPO||'                                                                                                                ';
     SUSPEND;
   LINHA = '';
   for Select paciente.codigopac, 'L', '',substr(paciente.matricula,1,9), '', substr(paciente.a_nome,1,27), '5', '47648',
   '01', ' ', '', '    ', '    ','    ', ' ',
   'I',  'A', 'CCF', '', '           ',
   sum(-valor)  from pacientecpr
   inner join paciente on ((PACIENTECPR.DATAVENC BETWEEN :INICIO AND :FIM) and pacientecpr.tipo IN ('P')
    and (pacientecpr.codigopac = paciente.codigopac)) and paciente.ativo <> 'N'
  GROUP BY 1,2,3,4,5, 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20
   order by 12
   asc
   into
   :codigopac, :IDENTIFICADOR, :EMBRANCO1, :MATRICULA, :EMBRANCO2, :NOME, :COD_REGISTRO, :COD_VERBA,
   :INDICE, :EMBRANCO3,  :EMBRANCO4, :DATA_FIM, :DATA_INICIO_REF, :DATA_TERMINO_REF, :EMBRANCO5,
   :TIPO_REGISTRO, :CONSTANTE, :IDENT_CONSIG, :EMBRANCO6, :CPF,
   :VALORcps do
   begin
   valorcps = cast(valorcps*100 as numeric(15,0));
    valor = lpad (cast(cast(valorcps as integer) as varchar(10)), 10, '0');
     suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_CPC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO" VARCHAR(4)
)
RETURNS
(
  "IDENTIFICADOR" CHAR(1),
  "EMBRANCO1" CHAR(1),
  "MATRICULA" CHAR(9),
  "EMBRANCO2" CHAR(5),
  "NOME" CHAR(28),
  "COD_REGISTRO" CHAR(1),
  "COD_VERBA" CHAR(5),
  "INDICE" CHAR(2),
  "EMBRANCO3" CHAR(2),
  "VALOR" VARCHAR(10),
  "EMBRANCO4" CHAR(11),
  "DATA_FIM" CHAR(4),
  "DATA_INICIO_REF" CHAR(4),
  "DATA_TERMINO_REF" CHAR(4),
  "EMBRANCO5" CHAR(30),
  "TIPO_REGISTRO" VARCHAR(1),
  "CONSTANTE" CHAR(1),
  "IDENT_CONSIG" CHAR(3),
  "EMBRANCO6" CHAR(14),
  "CPF" CHAR(14),
  "LINHA" VARCHAR(250)
)
AS
declare variable codigopac float;
declare variable residuo double precision;
declare variable valorcps double precision;
begin
  -- LINHA = 'A               0217                                                                                                                    1';
     LINHA = 'A               '||:TIPO||'                                                                                                                ';
     SUSPEND;
   LINHA = '';
   for Select paciente.codigopac, 'L', '',substr(paciente.matricula,1,9), '', substr(paciente.a_nome,1,27), '5', '47648',
   '01', ' ', '', '    ', '    ','    ', ' ',
   'I',  'A', 'CCF', '', '           ',
   sum(-valor)  from pacientecpr
   inner join paciente on ((PACIENTECPR.DATAVENC BETWEEN :INICIO AND :FIM) and pacientecpr.tipo IN ('P')
    and (pacientecpr.codigopac = paciente.codigopac)) and paciente.ativo <> 'N'
  GROUP BY 1,2,3,4,5, 6,7,8,9,10,11,12,13,14,15,16,17,18,19,20
   order by 12
   asc
   into
   :codigopac, :IDENTIFICADOR, :EMBRANCO1, :MATRICULA, :EMBRANCO2, :NOME, :COD_REGISTRO, :COD_VERBA,
   :INDICE, :EMBRANCO3,  :EMBRANCO4, :DATA_FIM, :DATA_INICIO_REF, :DATA_TERMINO_REF, :EMBRANCO5,
   :TIPO_REGISTRO, :CONSTANTE, :IDENT_CONSIG, :EMBRANCO6, :CPF,
   :VALORcps do
   begin
   valorcps = cast(valorcps*100 as numeric(15,0));
    valor = lpad (cast(cast(valorcps as integer) as varchar(10)), 10, '0');
     suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO" 
(
  "TITULAR" CHAR(20),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "SOLDO" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "RESIDUO" NUMERIC(15, 2),
  "NIPPACIENTE" VARCHAR(20),
  "NOME" VARCHAR(70),
  "NIP" VARCHAR(20),
  "CPS" INTEGER,
  "DT_ATD" DATE,
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(120),
  "VALOR" NUMERIC(15, 2),
  "ORIGEM" VARCHAR(20),
  "FOLHA" INTEGER,
  "QTDE" INTEGER,
  "DT_FAT" DATE
)
AS
declare variable codigopac integer;
begin
   select first 1 paciente.matricula, paciente.a_nome, POSTO_IMH.SOLDO, (POSTO_IMH.SOLDO * 0.05) margem , pacientecpr.valor  from paciente
   inner join POSTO_IMH on paciente.posto = POSTO_IMH.COD
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where niptitular = :TITULAR and matricula = :TITULAR into :niptitular, :nometit, :soldo, :margem, :residuo;
 --  suspend;
   ORIGEM = 'IMH';
   for select codigopac, a_nome, niptitular, matricula from paciente
   where niptitular = :TITULAR into :codigopac, :nome, :nip, :nippaciente do
   begin
      for select cps1.codigocps, cast(cps1.a_datafat as date), servicos.a_codamb,servicos.a_nome,  cps2.valor, FATURA, cps2.quantidade, a_data from cps1
      inner join cps2 on cps1.codigocps = cps2.codigocps2
      inner join servicos on cps2.codigoserv = servicos.codigoserv
       where fatura <> 0 and  codigopac = :codigopac and cps2.valor > 0 and cps1.a_data between :inicio and :final
       order by 2
       into :cps, dt_atd, codigoamb, :procedimento, valor, folha, qtde, :Dt_FAT do
         suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_CPC" 
(
  "TITULAR" CHAR(20),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "SOLDO" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "RESIDUO" NUMERIC(15, 2),
  "NIPPACIENTE" VARCHAR(20),
  "NOME" VARCHAR(70),
  "NIP" VARCHAR(20),
  "CPS" INTEGER,
  "DT_ATD" DATE,
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(500),
  "VALOR" NUMERIC(15, 2),
  "ORIGEM" VARCHAR(20),
  "FOLHA" INTEGER,
  "QTDE" INTEGER,
  "DT_FAT" DATE
)
AS
declare variable codigopac integer;
begin
   select first 1 cast(paciente.matricula as varchar(20)), paciente.a_nome, POSTO_IMH.SOLDO, (POSTO_IMH.SOLDO * 0.05) margem , pacientecpr.valor  from paciente
   inner join POSTO_IMH on paciente.posto = POSTO_IMH.COD
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where niptitular = :TITULAR and matricula = :TITULAR into :niptitular , :nometit, :soldo, :margem, :residuo;
 --  suspend;
   ORIGEM = 'IMH';
   for select codigopac, a_nome, niptitular, matricula from paciente
   where niptitular = :TITULAR  into :codigopac, :nome, :nip, :nippaciente do
   begin
   for  select cps.codigocps, cast(cps.a_datafat as date), servicos.a_codamb, iif(cps.dhe= 'M', MATMED.A_NOME, servicos.a_nome) a_nome,
        cps.valor valor, cps.FATURA, cps.quantidade, cps.a_data from cps('WHERE codigopac =' || :codigopac || '')
    --  inner join cps1 on cps.codigocps = cps1.codigocps
    --  inner join cps2 on cps.codigocps = cps2.codigocps2
        left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
        left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M' )
        where cps.fatura <> 0  AND (cps.valor > 0  and CPS.COBRAR <> 'N')
        and cps.a_data between :inicio and :final
        into :cps, dt_atd, codigoamb, :procedimento, :valor, folha, qtde, :Dt_FAT do
         suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_FAT_CPC" 
(
  "TITULAR" CHAR(20),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "SOLDO" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "RESIDUO" NUMERIC(15, 2),
  "NIPPACIENTE" VARCHAR(20),
  "NOME" VARCHAR(70),
  "NIP" VARCHAR(20),
  "CPS" INTEGER,
  "DT_ATD" DATE,
  "CODIGOAMB" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(120),
  "VALOR" NUMERIC(15, 2),
  "ORIGEM" VARCHAR(20),
  "FOLHA" INTEGER,
  "QTDE" INTEGER,
  "DT_FAT" DATE
)
AS
declare variable codigopac integer;
begin
   select first 1 cast(paciente.matricula as varchar(20)), paciente.a_nome, POSTO_IMH.SOLDO, (POSTO_IMH.SOLDO * 0.05) margem , pacientecpr.valor  from paciente
   inner join POSTO_IMH on paciente.posto = POSTO_IMH.COD
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where niptitular = :TITULAR and matricula = :TITULAR into :niptitular , :nometit, :soldo, :margem, :residuo;
 --  suspend;
   ORIGEM = 'IMH';
   for select codigopac, a_nome, niptitular, matricula from paciente
   where niptitular = :TITULAR  into :codigopac, :nome, :nip, :nippaciente do
   begin
      for select cps1.codigocps, cast(cps1.a_datafat as date), servicos.a_codamb,servicos.a_nome,  cps2.valor, FATURA, cps2.quantidade, a_data from cps1
      inner join cps2 on cps1.codigocps = cps2.codigocps2
      inner join servicos on cps2.codigoserv = servicos.codigoserv
       where fatura = 0 and  codigopac = :codigopac and cps2.valor > 0 and cps1.a_data between :inicio and :final
       order by 2
       into :cps, dt_atd, codigoamb, :procedimento, valor, folha, qtde, :Dt_FAT do
         suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_PAPEM" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "TEXTO" VARCHAR(100),
  "VALOR" NUMERIC(15, 2),
  "NOMETIT" VARCHAR(70)
)
AS
declare variable codigopac integer;
declare variable databaixa varchar(20);
begin
  for select   paciente.a_nome,  pacientecpr.valor, cast(cast(pacientecpr.dataatend as date) as varchar(15))  from paciente
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where matricula = :TITULAR AND tipo ='P'
   ORDER by 3
   into  :nometit,  :valor, :databaixa do
   begin
   texto = 'VALOR TOTAL REPASSADO PARA PAPEM  - INHOS-HNSA PERODO DE ' || :databaixa ;
   suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_PAPEM_CPC" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "TEXTO" VARCHAR(100),
  "VALOR" NUMERIC(15, 2),
  "NOMETIT" VARCHAR(70),
  "OBS" VARCHAR(50)
)
AS
declare variable codigopac integer;
declare variable databaixa varchar(20);
begin
  for select   paciente.a_nome,  pacientecpr.valor, cast(cast(pacientecpr.dataatend as date) as varchar(15)), obs  from paciente
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where matricula = :TITULAR AND tipo ='P'
   ORDER by 3
   into  :nometit,  :valor, :databaixa, :OBS do
   begin
   texto = 'VALOR TOTAL REPASSADO PARA PAPEM  - INHOS-HNSA PERODO DE ' || :databaixa;
   suspend;
   end
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_TOTAL" 
(
  "TITULAR" CHAR(20),
  "TIPOTOTAL" CHAR(1)
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "VALORAPAGAR" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "PARCELAS" DOUBLE PRECISION,
  "SOLDO" NUMERIC(15, 2),
  "TOTALP" NUMERIC(15, 2),
  "TOTALR" NUMERIC(15, 2)
)
AS
declare variable codigopac integer;
declare variable resto double precision;
declare variable div double precision;
begin
 soldo  = 0;
 margem = 0;
 totalr = 0;
 totalp = 0;
     select  SUM(pacientecpr.valor)  from paciente
      inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
      where matricula = :TITULAR AND tipo ='R' into :totalr;
      If (:tipototal = 'F') Then
      begin
        select  SUM(pacientecpr.valor)  from paciente
        inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
        where matricula = :TITULAR AND tipo ='P'  into :totalp;
      end
      else
      begin
        Select sum (cps1.liquido) from cps1
        inner join paciente on cps1.codigopac = paciente.codigopac
        Where paciente.NIPTITULAR =  :TITULAR AND fatura =0 --and a_datafat between '01.01.2018' and  '04.07.2018'
        and cps1.liquido > 0 into :totalp;
      end
      if (totalp is null) Then totalp = 0;
      if (totalr is null) Then totalr = 0;
      VALORAPAGAR = (totalr) + (1 * totalp);
      -- if (totalp < 0) Then  totalp =(1 * totalp);
       --   VALORAPAGAR = totalp -(totalr);
    select FIRST 1  paciente.matricula, paciente.a_nome, POSTO_IMH.SOLDO, (POSTO_IMH.SOLDO * 0.05)   from paciente
    inner join POSTO_IMH on (paciente.posto = POSTO_IMH.COD)
    left join pacientecpr on paciente.codigopac = pacientecpr.codigopac
    where matricula =  :TITULAR
    ORDER BY paciente.CODIGOPAC DESC
    into :NIPTITULAR, :NOMETIT,  :soldo,  :margem;
    PARCELAS =0;
    if (VALORAPAGAR > 0) Then
       PARCELAS = VALORAPAGAR / MARGEM;
    DIV = round(parcelas,0);
    IF (DIV > 0)  tHEN
      RESTO = PARCELAS/div;
    if (resto > 0.01) then
    begin
         PARCELAS = round(parcelas,0) +1;
    end
    if (parcelas > 0.01 and parcelas < 1) Then
        parcelas = 1;
   suspend;
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_TOTAL_CPC" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "VALORAPAGAR" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "PARCELAS" DOUBLE PRECISION,
  "SOLDO" NUMERIC(15, 2),
  "TOTALP" NUMERIC(15, 2),
  "TOTALR" NUMERIC(15, 2)
)
AS
declare variable codigopac integer;
declare variable resto double precision;
declare variable div double precision;
begin
 soldo  = 0;
 margem = 0;
 totalr = 0;
 totalp = 0;
     select  SUM(pacientecpr.valor)  from paciente
      inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
      where matricula = :TITULAR AND tipo ='R' into :totalr;
        select  SUM(pacientecpr.valor)  from paciente
        inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
        where matricula = :TITULAR AND tipo ='P'  into :totalp;
      if (totalp is null) Then totalp = 0;
      if (totalr is null) Then totalr = 0;
         VALORAPAGAR = (totalr) - (-1 * totalp);
    select FIRST 1  paciente.matricula, paciente.a_nome, POSTO_IMH.SOLDO, (POSTO_IMH.SOLDO * 0.05)   from paciente
    inner join POSTO_IMH on (paciente.posto = POSTO_IMH.COD)
    left join pacientecpr on paciente.codigopac = pacientecpr.codigopac
    where matricula =  :TITULAR
    ORDER BY paciente.CODIGOPAC DESC
    into :NIPTITULAR, :NOMETIT,  :soldo,  :margem;
    PARCELAS =0;
    resto =0;
    if (VALORAPAGAR > 0) Then
       PARCELAS = VALORAPAGAR / MARGEM;
    DIV = round(parcelas,0);
    IF (DIV > 0)  tHEN
      RESTO = PARCELAS/div;
    if (resto > 0.01) then
    begin
         PARCELAS = round(parcelas,0) +1;
    end
    if (parcelas > 0.01 and parcelas < 1) Then
        parcelas = 1;
   suspend;
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_EXTRATO_TOTAL_OLD" 
(
  "TITULAR" CHAR(20)
)
RETURNS
(
  "NIPTITULAR" VARCHAR(20),
  "NOMETIT" VARCHAR(70),
  "VALORAPAGAR" NUMERIC(15, 2),
  "MARGEM" NUMERIC(15, 2),
  "PARCELAS" INTEGER,
  "SOLDO" NUMERIC(15, 2),
  "TOTALP" NUMERIC(15, 2),
  "TOTALR" NUMERIC(15, 2)
)
AS
declare variable codigopac integer;
begin
 soldo  = 0;
 margem = 0;
 totalr = 0;
 totalp = 0;
  select  SUM(pacientecpr.valor)  from paciente
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where matricula = :TITULAR AND tipo ='R' into :totalr;
  select  SUM(pacientecpr.valor)  from paciente
   inner join pacientecpr on paciente.codigopac = pacientecpr.codigopac
   where matricula = :TITULAR AND tipo ='P'  into :totalp;
 if (totalp is null) Then totalp = 0;
 if (totalr is null) Then totalr = 0;
-- if (totalp < 0) Then  totalp =(1 * totalp);
  VALORAPAGAR = (totalr) + (1 * totalp);
--   VALORAPAGAR = totalp -(totalr);
 select FIRST 1  paciente.matricula, paciente.a_nome, POSTO_IMH.SOLDO, (POSTO_IMH.SOLDO * 0.05)   from paciente
    inner join POSTO_IMH on (paciente.posto = POSTO_IMH.COD)
    left join pacientecpr on paciente.codigopac = pacientecpr.codigopac
    where matricula =  :TITULAR
    ORDER BY paciente.CODIGOPAC DESC
    into :NIPTITULAR, :NOMETIT,  :soldo,  :margem;
    PARCELAS =0;
    PARCELAS = VALORAPAGAR / MARGEM;
   suspend;
end
 ^


ALTER PROCEDURE "DISCO_NAVAL_INTEGRIDADE" 
(
  "DATA" TIMESTAMP,
  "DESCRICAO" VARCHAR(2500)
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "TEXTO" VARCHAR(250)
)
AS
declare variable convenio integer;
declare variable qtde integer;
declare variable matricula varchar(50); declare variable niptit varchar(50);
begin
   convenio = 0;
  FOR SELECT paciente.CODIGOPAC, paciente.convenio, paciente.matricula, paciente.niptitular FROM PACIENTECPR
  inner join paciente on PACIENTECPR.codigopac = paciente.codigopac
       into :CODIGOPAC, :CONVENIO, :matricula, :niptit  DO
  begin
      if (:matricula <> :niptit)  Then
      begin
          texto = 'ERRO Nip x NIp Titular: verf paciente nao  o titular?? ' || :codigopac;
          suspend;
       end
  end
--  suspend;
end
 ^


ALTER PROCEDURE "DMED" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CPF" VARCHAR(15),
  "NASC" TIMESTAMP,
  "NOME" VARCHAR(150),
  "VALOR" DOUBLE PRECISION
)
AS
begin
for select paciente.a_cpf cpf, paciente.nasc, paciente.a_nome nome, sum(cps.valor) valor from cps(:consulta)
    left join paciente on (paciente.codigopac = cps.codigopac)
    where ((cps.cobrar = 'S') or (cps.cobrar is null))
    group by 1,2,3
    order by 1 into cpf, nasc, nome, valor do
begin
  if (cpf is not null) then
    select first 1 nasc, a_nome from paciente where a_cpf = :cpf order by nasc into nasc, nome;
  suspend;
end
end
 ^


ALTER PROCEDURE "ESCALABRADEN_SCORE" 
(
  "CPS" INTEGER
)
RETURNS
(
  "VALOR" INTEGER
)
AS
BEGin
  select ESCALABRADEN.PERCEPCAO  + ESCALABRADEN.HUMILDADE  + ESCALABRADEN.ATIVIDADE  + ESCALABRADEN.MOBILIDADE
  + ESCALABRADEN.NUTRICAO  + ESCALABRADEN.FRICCAO + ESCALABRADEN.OXIGENACAO  FROM ESCALABRADEN WHERE CODIGOCPS = :CPS
  ORDER BY DATA DESC into :valor;
   suspend;
end
 ^


ALTER PROCEDURE "ESCALAFUGULIN_SCORE" 
(
  "CPS" INTEGER
)
RETURNS
(
  "VALOR" INTEGER
)
AS
BEGin
  select first 1 (coalesce(ESCALAFUGULIN.MENTE, 0)  + coalesce(ESCALAFUGULIN.OXIG, 0)  + coalesce(ESCALAFUGULIN.SV, 0)  + coalesce(ESCALAFUGULIN.MOTILIDADE, 0)  +
  coalesce(ESCALAFUGULIN.DEAMBULACAO, 0)  + coalesce(ESCALAFUGULIN.ALIMENTACAO, 0)  + coalesce(ESCALAFUGULIN.CC, 0)  + coalesce(ESCALAFUGULIN.ELIMINACAO, 0)
 + coalesce(ESCALAFUGULIN.TERAPEUTICA, 0)) from escalafugulin where codigocps = :cps order by data desc into :valor;
   suspend;
end
 ^


ALTER PROCEDURE "ESCALATISS_SCORE" 
(
  "CPS" INTEGER
)
RETURNS
(
  "VALOR" INTEGER
)
AS
BEGin
  select  first 1 (MONITORIZACAO_BASICA + LABORATORIO + MEDICACAO_UNICA + MEDICACAO_INTRAVENOSA + CUIDADOS_ROTINA + CUIDADOS_FREQUENTES +
  DRENO + PIC + VENTILACAO_MECANICA + SUPORTE_VENTILATORIO + CUIDADOS_VIAS_AEREAS + FISIO_ASPIRACAO  + DVA + DVA_MULTIPLAS + VOLEMICA + PAM
   + SWAN_GANS + CVC + PCR + DIALISE + DIURESE + DIURETICO + ALCALOSE + NUTRICAO + ENTERAL + INTERVENCAO_SIMPLES + INTERVENCAO_MULTIPLA  +
   CIRURGIA)  from uti_tiss28 where codigocps = :cps order by data desc into :valor;
   suspend;
end;
 ^


ALTER PROCEDURE "ESPECIALIDADEANALISE" 
(
  "CONSULTA" VARCHAR(6000),
  "CONSULTAHON" VARCHAR(6000)
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(2),
  "ATENDIMENTO" INTEGER,
  "PROCEDIMENTO" DOUBLE PRECISION,
  "GLOSADO" DOUBLE PRECISION,
  "HONORARIO" DOUBLE PRECISION,
  "MATMED" DOUBLE PRECISION,
  "MATMEDCUSTO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "FILMECUSTO" DOUBLE PRECISION,
  "FILMEMETRO" DOUBLE PRECISION
)
AS
declare variable codigocps float;
begin
for select especialidade, sum(valor), sum(a_filme), sum(glosa) from cps(:consulta)
    where (dhe <> 'M') or (dhe is null)
    group by especialidade into :especialidade, :procedimento, :filme, :glosado do
    begin
      atendimento = 0;
      for select distinct codigocps from cps(:consulta || ' and especialidade =' || :especialidade) into :codigocps do
          atendimento = atendimento + 1;
      procedimento = procedimento - filme;
      select sum(cps.valor), sum(matmed.cmu*cps.quantidade) from cps(:consulta || ' and especialidade =' || :especialidade)
      inner join matmed on (matmed.codigomm = cps.codigoserv) where (dhe = 'M') into :matmed, :matmedcusto;
      select sum(procmed) from honorario(:consultahon,0)
      inner join cps1 on cps1.codigocps = honorario.codigocps where cps1.especialidade = :especialidade into :honorario;
      select sum(servicos.a_filme) from cps(:consulta || ' and especialidade =' || :especialidade)
      inner join servicos on servicos.codigoserv = cps.codigoserv where (cps.dhe <> 'M') into :filmemetro;
      if (matmedcusto is null) then matmedcusto = 0;
      if (matmed is null) then matmed = 0;
      if (filme is null) then filme = 0;
      if (filmemetro is null) then filmemetro = 0;
      if (procedimento is null) then procedimento = 0;
      if (honorario is null) then honorario = 0;
      if (glosado is null) then glosado = 0;
      filmecusto = filmemetro*gen_id(gen_filmemetro,0);
      suspend;
    end
end
 ^


ALTER PROCEDURE "EST2_ALTAS_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPODEDATA = 0 )  then
    begin
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( a_datafat between :inicio and :final )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata )
        GROUP BY ESPECIALIDADE, extract( month from a_datafat)
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    END
    ELSE
    BEGIN
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( datasaida between :inicio and :final )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY ESPECIALIDADE, extract( month from datasaida)
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    END
end
 ^


ALTER PROCEDURE "EST2_ALTAS_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPODEDATA = 0 )  then
    begin
        FOR SELECT CONVENIO,
        CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( a_datafat between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata ) and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY convenio, extract( month from a_datafat)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    end
    else
    begin
        FOR SELECT CONVENIO,
        CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( datasaida between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata ) and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY convenio, extract( month from datasaida)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    end
end
 ^


ALTER PROCEDURE "ESTATFATURATIPO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TIPO" VARCHAR(30),
  "VALOR" DOUBLE PRECISION
)
AS
declare variable a_tipo char(1);
declare variable a_codamb varchar(8);
 begin
 for select servicos.a_tipo, matmed.a_codamb, SUM(cps.valor) from cps(:consulta)
     left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
     left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe='M')
     where (cps.cobrar = 'S') or (cps.cobrar is null) group by 1, 2
     order by 1,2 into : a_tipo, :a_codamb, :valor do
     begin
      if (a_tipo = 'B') then tipo = 'A-Aparelhos Especiais';
      else if (a_tipo = 'B') then tipo = 'B-Consultas';
      else if (a_tipo = 'C') then tipo = 'C-Procedimentos Especiais';
      else if (a_tipo = 'D') then tipo = 'D-Diarias';
      else if (a_tipo = 'E') then tipo = 'E-Exame Laboratrio';
      else if (a_tipo = 'G') then tipo = 'G-Gasoterapia';
      else if (a_tipo = 'H') then tipo = 'H-Honorrio Mdico';
      else if (a_tipo = 'M') then tipo = 'M-Mamografia';
      else if (a_tipo = 'N') then tipo = 'N-Nebulizao';
      else if (a_tipo = 'O') then tipo = 'O-Hemoterapia';
      else if (a_tipo = 'P') then tipo = 'P-Exames Especiais';
      else if (a_tipo = 'Q') then tipo = 'Q-Tomografia/Resonncia';
      else if (a_tipo = 'R') then tipo = 'R-Raio-X';
      else if (a_tipo = 'S') then tipo = 'S-Fisioterapia';
      else if (a_tipo = 'T') then tipo = 'T-Taxas';
      else if (a_tipo = 'U') then tipo = 'U-Ultrasom';
      else if (a_tipo = 'V') then tipo = 'V-Avaliaes Assistenciais';
      else if (a_tipo = 'X') then tipo = 'X-Pacote';
      else if (a_codamb = '72140011') then tipo = 'Medicamento';
      else if (a_codamb = '72140046') then tipo = 'Material';
      else if (a_codamb = '72000000') then tipo = 'Mat. Especial';
      else if (a_codamb = '72000001') then tipo = 'Contraste';
      else if (a_codamb = '72000002') then tipo = 'Med. Especial';
      else if (a_codamb = '72000008') then tipo = 'Ortese/Protese';
      else if (a_codamb = '72000009') then tipo = 'Sintese/Especial';
      else tipo = 'No classificado';
      suspend;
     end
end
 ^


ALTER PROCEDURE "ESTATISTICADEPTO" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOAMB" CHAR(8),
  "DESCRICAO" VARCHAR(250),
  "DEPTO" SMALLINT,
  "CONVENIO" INTEGER,
  "QTDE" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "GLOSAREPRESENTA" DOUBLE PRECISION
)
AS
declare variable matmed char(8);
declare variable procedimento varchar(250);
declare variable material     varchar(70);
declare variable tabela integer;
begin
  for execute statement 'select usuarios.depto, cps.convenio, cps.codigoamb, cast(sum(cps.quantidade) as integer), sum(cps.glosa), sum(cps.glosarecebida), sum(cps.representa), sum(cps.valor), servicos.a_nome, matmed.a_nome
  from cps' || :consulta ||
  ' where ((cobrar = ''S'') or (cobrar is null))
  group by usuarios.depto, cps.convenio, cps.codigoamb, servicos.a_nome, matmed.a_nome
  order by cps.codigoamb, usuarios.depto'
  into :depto, :convenio, :codigoamb, :qtde, :glosa, :glosarecebida, :glosarepresenta, :valor, :procedimento, :material do
  begin
    if (procedimento is null) then
      descricao = material;
    else
      descricao = procedimento;
    suspend;
  end
end
 ^


ALTER PROCEDURE "ESTATISTICAODONTO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(2),
  "MA" INTEGER,
  "MI" INTEGER,
  "CV" INTEGER,
  "DEP" INTEGER,
  "PENS" INTEGER,
  "EXCOMB" INTEGER,
  "OUTROS" INTEGER
)
AS
declare variable convenio integer;
declare variable matricula varchar(30);
declare variable niptitular varchar(30);
declare variable situacao varchar(2);
 begin
  for select cps1.convenio, cps1.matricula, paciente.niptitular, cps1.especialidade, paciente.situacao from cps1
  inner join paciente on (paciente.codigopac = cps1.codigopac)
  where cps1.a_datafat between :inicio and :final and cps1.especialidade in (85,72,60,56,74,62,73,75)
  into :convenio, :matricula, :niptitular, :especialidade, :situacao
   do
  begin
    ma = 0; mi =0; cv = 0; dep = 0; pens = 0; excomb = 0; outros = 0;
    if (convenio <> 1) then outros = 1;
    else if (situacao = 'AT') then ma = 1;
    else if (situacao = 'IN') then mi = 1;
    else if (situacao = 'CI') then cv = 1;
    else if ((situacao = 'EX') OR (situacao = 'AN')) then excomb = 1;
    else if ((situacao = 'PC') or (situacao = 'PE') or (situacao = 'PM')) then pens = 1;
    else outros = 1;
    suspend;
  end
end
 ^


ALTER PROCEDURE "ESTATISTICA_FECHAMENTO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "NOMECONVENIO" VARCHAR(40),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
BEGIN EXIT; END
 ^


ALTER PROCEDURE "ESTEMGMARINHA" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFINAL" TIMESTAMP
)
RETURNS
(
  "DESCRICAO" VARCHAR(50),
  "SAE" INTEGER,
  "SPA" INTEGER
)
AS
declare variable data timestamp;
declare variable feriado integer;
declare variable hora timestamp;
declare variable mm double precision;
declare variable semana integer;
begin
  for select situacao2.nome, cps1.a_datafat, extract(weekday from cps1.a_datafat),cps1.a_hora, cps1.totalmatmed from cps1
      inner join paciente on (cps1.a_datafat between :datainicio and :datafinal and cps1.codigopla = 2 and paciente.codigopac = cps1.codigopac and paciente.matricula = paciente.niptitular)
      left join situacao2 on (situacao2.codigo = paciente.situacao)
      where cps1.convenio = 1
      order by totalmatmed desc, a_hora desc, cps1.a_datafat  into :descricao, :data, :semana,:hora, :mm do
  begin
    spa = 0;
    sae = 0;
    if ((mm > 0) or (cast(hora as time) >= cast('13:00' as time)) or (semana = 0) or (semana = 6)) then
      spa = 1;
    else
    begin
      feriado = 0;
      select first 1 codigo from feriado where a_data = :data into :feriado;
      If (feriado > 0) then
        spa = 1;
      else
        sae = 1;
    end
    suspend;
  end
end
 ^


ALTER PROCEDURE "EST_ALTAS_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPODEDATA = 0 )  then
    begin
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.ESPECIALIDADE ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.ESPECIALIDADE ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.ESPECIALIDADE ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.ESPECIALIDADE ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.ESPECIALIDADE ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.ESPECIALIDADE ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.ESPECIALIDADE ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( a_datafat between :inicio and :final )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY ESPECIALIDADE, extract( month from a_datafat)
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    END
    ELSE
    BEGIN
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.ESPECIALIDADE ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.ESPECIALIDADE ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.ESPECIALIDADE ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.ESPECIALIDADE ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.ESPECIALIDADE ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.ESPECIALIDADE ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.ESPECIALIDADE ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( datasaida between :inicio and :final )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY ESPECIALIDADE, extract( month from datasaida)
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    END
end
 ^


ALTER PROCEDURE "EST_ALTAS_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPODEDATA = 0 )  then
    begin
        FOR SELECT CONVENIO,
        CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( a_datafat between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata ) and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY convenio, extract( month from a_datafat)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    end
    else
    begin
        FOR SELECT CONVENIO,
        CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( datasaida between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MOTIVO = :tipodedata ) and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY convenio, extract( month from datasaida)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    end
end
 ^


ALTER PROCEDURE "EST_ATEND_ANUAL_CID" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCID" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
         FOR SELECT A_CID,
         CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.A_CID ) END AS JANEIRO,
         CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.A_CID ) END AS FEVEREIRO,
         CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.A_CID ) END AS MARCO,
         CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.A_CID ) END AS ABRIL,
         CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.A_CID ) END AS MAIO,
         CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.A_CID ) END AS JUNHO,
         CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.A_CID ) END AS JULHO,
         CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.A_CID ) END AS AGOSTO,
         CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.A_CID ) END AS SETEMBRO,
         CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.A_CID ) END AS OUTUBRO,
         CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.A_CID ) END AS NOVEMBRO,
         CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.A_CID ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  a_datafat between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         GROUP BY A_CID, extract( month from a_datafat)
         INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
         BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
         END
      END
      ELSE
      BEGIN
         FOR SELECT A_CID,
         CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.A_CID ) END AS JANEIRO,
         CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.A_CID ) END AS FEVEREIRO,
         CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.A_CID ) END AS MARCO,
         CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.A_CID ) END AS ABRIL,
         CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.A_CID ) END AS MAIO,
         CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.A_CID ) END AS JUNHO,
         CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.A_CID ) END AS JULHO,
         CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.A_CID ) END AS AGOSTO,
         CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.A_CID ) END AS SETEMBRO,
         CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.A_CID ) END AS OUTUBRO,
         CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.A_CID ) END AS NOVEMBRO,
         CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.A_CID ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  datasaida between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         GROUP BY A_CID, extract( month from datasaida)
         INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
         BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
         END
      end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
         FOR SELECT A_CID,
         CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.A_CID ) END AS JANEIRO,
         CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.A_CID ) END AS FEVEREIRO,
         CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.A_CID ) END AS MARCO,
         CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.A_CID ) END AS ABRIL,
         CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.A_CID ) END AS MAIO,
         CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.A_CID ) END AS JUNHO,
         CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.A_CID ) END AS JULHO,
         CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.A_CID ) END AS AGOSTO,
         CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.A_CID ) END AS SETEMBRO,
         CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.A_CID ) END AS OUTUBRO,
         CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.A_CID ) END AS NOVEMBRO,
         CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.A_CID ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  a_datafat between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
         GROUP BY A_CID, extract( month from a_datafat)
         INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
         BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
         END
      END
      ELSE
      BEGIN
         FOR SELECT A_CID,
         CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.A_CID ) END AS JANEIRO,
         CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.A_CID ) END AS FEVEREIRO,
         CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.A_CID ) END AS MARCO,
         CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.A_CID ) END AS ABRIL,
         CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.A_CID ) END AS MAIO,
         CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.A_CID ) END AS JUNHO,
         CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.A_CID ) END AS JULHO,
         CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.A_CID ) END AS AGOSTO,
         CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.A_CID ) END AS SETEMBRO,
         CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.A_CID ) END AS OUTUBRO,
         CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.A_CID ) END AS NOVEMBRO,
         CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.A_CID ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  datasaida between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
         GROUP BY A_CID, extract( month from datasaida)
         INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
         BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
         END
      end
    END
end
 ^


ALTER PROCEDURE "EST_ATEND_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.ESPECIALIDADE ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.ESPECIALIDADE ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.ESPECIALIDADE ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.ESPECIALIDADE ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.ESPECIALIDADE ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.ESPECIALIDADE ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.ESPECIALIDADE ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  a_datafat between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY ESPECIALIDADE, extract( month from a_datafat)
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    end
    else
    begin
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.ESPECIALIDADE ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.ESPECIALIDADE ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.ESPECIALIDADE ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.ESPECIALIDADE ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.ESPECIALIDADE ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.ESPECIALIDADE ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.ESPECIALIDADE ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  datasaida between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY ESPECIALIDADE, extract( month from datasaida )
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
     end
   END
   ELSE
   BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.ESPECIALIDADE ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.ESPECIALIDADE ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.ESPECIALIDADE ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.ESPECIALIDADE ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.ESPECIALIDADE ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.ESPECIALIDADE ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.ESPECIALIDADE ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  a_datafat between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY ESPECIALIDADE, extract( month from a_datafat)
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
    end
    else
    begin
        FOR SELECT ESPECIALIDADE,
        CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.ESPECIALIDADE ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.ESPECIALIDADE ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.ESPECIALIDADE ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.ESPECIALIDADE ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.ESPECIALIDADE ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.ESPECIALIDADE ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.ESPECIALIDADE ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.ESPECIALIDADE ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.ESPECIALIDADE ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  datasaida between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY ESPECIALIDADE, extract( month from datasaida )
        INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
     end
   END
end
 ^


ALTER PROCEDURE "EST_ATEND_ANUAL_MEDRESP" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODMEDRESP" VARCHAR(8),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
          FOR SELECT MEDRESP,
             CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.MEDRESP ) END AS JANEIRO,
             CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.MEDRESP ) END AS FEVEREIRO,
             CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.MEDRESP ) END AS MARCO,
             CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.MEDRESP ) END AS ABRIL,
             CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.MEDRESP ) END AS MAIO,
             CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.MEDRESP ) END AS JUNHO,
             CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.MEDRESP ) END AS JULHO,
             CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.MEDRESP ) END AS AGOSTO,
             CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.MEDRESP ) END AS SETEMBRO,
             CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.MEDRESP ) END AS OUTUBRO,
             CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.MEDRESP ) END AS NOVEMBRO,
             CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.MEDRESP ) END AS DEZEMBRO
             FROM CPS1
             WHERE (  a_datafat between :inicio and :final )
             and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
             and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
             and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
             GROUP BY medresp, extract( month from a_datafat)
             INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
                  :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
             BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
             END
      end
      else
      begin
        FOR SELECT MEDRESP,
        CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.MEDRESP ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.MEDRESP ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.MEDRESP ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.MEDRESP ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.MEDRESP ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.MEDRESP ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.MEDRESP ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.MEDRESP ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.MEDRESP ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.MEDRESP ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.MEDRESP ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.MEDRESP ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  datasaida between :inicio and :final )
           and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
           and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
           and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY medresp, extract( month from datasaida)
        INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
            BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
        end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
          FOR SELECT MEDRESP,
             CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.MEDRESP ) END AS JANEIRO,
             CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.MEDRESP ) END AS FEVEREIRO,
             CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.MEDRESP ) END AS MARCO,
             CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.MEDRESP ) END AS ABRIL,
             CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.MEDRESP ) END AS MAIO,
             CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.MEDRESP ) END AS JUNHO,
             CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.MEDRESP ) END AS JULHO,
             CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.MEDRESP ) END AS AGOSTO,
             CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.MEDRESP ) END AS SETEMBRO,
             CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.MEDRESP ) END AS OUTUBRO,
             CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.MEDRESP ) END AS NOVEMBRO,
             CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.MEDRESP ) END AS DEZEMBRO
             FROM CPS1
             WHERE (  a_datafat between :inicio and :final )
             and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
             and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
             and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
             and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
             GROUP BY medresp, extract( month from a_datafat)
             INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
                  :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
             BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
             END
      end
      else
      begin
        FOR SELECT MEDRESP,
        CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.MEDRESP ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.MEDRESP ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.MEDRESP ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.MEDRESP ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.MEDRESP ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.MEDRESP ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.MEDRESP ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.MEDRESP ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.MEDRESP ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.MEDRESP ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.MEDRESP ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.MEDRESP ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  datasaida between :inicio and :final )
           and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
           and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
           and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
           and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY medresp, extract( month from datasaida)
        INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
            BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
        end
    END
end
 ^


ALTER PROCEDURE "EST_ATEND_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT CONVENIO,
          CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  a_datafat between :inicio and :final )
          and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
          and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
          and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY convenio, extract( month from a_datafat)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
      else
      begin
        FOR SELECT CONVENIO,
          CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO,
          CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO,
          CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO,
          CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL,
          CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO,
          CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO,
          CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO,
          CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO,
          CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO,
          CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO,
          CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO,
          CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( datasaida between :inicio and :final )
            and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
            and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
            and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY convenio, extract( month from datasaida)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT CONVENIO,
          CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  a_datafat between :inicio and :final )
          and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
          and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
          and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
          and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY convenio, extract( month from a_datafat)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
      else
      begin
        FOR SELECT CONVENIO,
          CASE WHEN extract( month from datasaida) =  1 THEN COUNT( CPS1.CONVENIO ) END AS JANEIRO,
          CASE WHEN extract( month from datasaida) =  2 THEN COUNT( CPS1.CONVENIO ) END AS FEVEREIRO,
          CASE WHEN extract( month from datasaida) =  3 THEN COUNT( CPS1.CONVENIO ) END AS MARCO,
          CASE WHEN extract( month from datasaida) =  4 THEN COUNT( CPS1.CONVENIO ) END AS ABRIL,
          CASE WHEN extract( month from datasaida) =  5 THEN COUNT( CPS1.CONVENIO ) END AS MAIO,
          CASE WHEN extract( month from datasaida) =  6 THEN COUNT( CPS1.CONVENIO ) END AS JUNHO,
          CASE WHEN extract( month from datasaida) =  7 THEN COUNT( CPS1.CONVENIO ) END AS JULHO,
          CASE WHEN extract( month from datasaida) =  8 THEN COUNT( CPS1.CONVENIO ) END AS AGOSTO,
          CASE WHEN extract( month from datasaida) =  9 THEN COUNT( CPS1.CONVENIO ) END AS SETEMBRO,
          CASE WHEN extract( month from datasaida) = 10 THEN COUNT( CPS1.CONVENIO ) END AS OUTUBRO,
          CASE WHEN extract( month from datasaida) = 11 THEN COUNT( CPS1.CONVENIO ) END AS NOVEMBRO,
          CASE WHEN extract( month from datasaida) = 12 THEN COUNT( CPS1.CONVENIO ) END AS DEZEMBRO
        FROM CPS1
        WHERE ( datasaida between :inicio and :final )
            and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
            and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
            and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
            and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY convenio, extract( month from datasaida)
        INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
    END
end
 ^


ALTER PROCEDURE "EST_ATEND_ANUAL_QTDE_CODAMB" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODAMB" VARCHAR(10),
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT CPS2.CODIGOSERV,
          CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS2.CODIGOSERV ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS2.CODIGOSERV ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS2.CODIGOSERV ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS2.CODIGOSERV ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS2.CODIGOSERV ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS2.CODIGOSERV ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS2.CODIGOSERV ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS2.CODIGOSERV ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS2.CODIGOSERV ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS2.CODIGOSERV ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS2.CODIGOSERV ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS2.CODIGOSERV ) END AS DEZEMBRO
        FROM CPS1
        LEFT JOIN CPS2 ON (CPS1.CODIGOCPS=CPS2.CODIGOCPS2)
        WHERE ( CPS1.A_DATAFAT BETWEEN :inicio AND :final )
          AND ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
          AND ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
          AND ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY CPS2.CODIGOSERV, EXTRACT( month from CPS1.A_DATAFAT)
        INTO :CODAMB, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      END
      ELSE
      BEGIN
        FOR SELECT CPS2.CODIGOSERV,
          CASE WHEN extract( month from CPS1.datasaida) =  1 THEN COUNT( CPS2.CODIGOSERV ) END AS JANEIRO,
          CASE WHEN extract( month from CPS1.datasaida) =  2 THEN COUNT( CPS2.CODIGOSERV ) END AS FEVEREIRO,
          CASE WHEN extract( month from CPS1.datasaida) =  3 THEN COUNT( CPS2.CODIGOSERV ) END AS MARCO,
          CASE WHEN extract( month from CPS1.datasaida) =  4 THEN COUNT( CPS2.CODIGOSERV ) END AS ABRIL,
          CASE WHEN extract( month from CPS1.datasaida) =  5 THEN COUNT( CPS2.CODIGOSERV ) END AS MAIO,
          CASE WHEN extract( month from CPS1.datasaida) =  6 THEN COUNT( CPS2.CODIGOSERV ) END AS JUNHO,
          CASE WHEN extract( month from CPS1.datasaida) =  7 THEN COUNT( CPS2.CODIGOSERV ) END AS JULHO,
          CASE WHEN extract( month from CPS1.datasaida) =  8 THEN COUNT( CPS2.CODIGOSERV ) END AS AGOSTO,
          CASE WHEN extract( month from CPS1.datasaida) =  9 THEN COUNT( CPS2.CODIGOSERV ) END AS SETEMBRO,
          CASE WHEN extract( month from CPS1.datasaida) = 10 THEN COUNT( CPS2.CODIGOSERV ) END AS OUTUBRO,
          CASE WHEN extract( month from CPS1.datasaida) = 11 THEN COUNT( CPS2.CODIGOSERV ) END AS NOVEMBRO,
          CASE WHEN extract( month from CPS1.datasaida) = 12 THEN COUNT( CPS2.CODIGOSERV ) END AS DEZEMBRO
        FROM CPS1
        LEFT JOIN CPS2 ON (CPS1.CODIGOCPS=CPS2.CODIGOCPS2)
        WHERE ( CPS1.DATASAIDA between :inicio and :final )
            and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
            and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
            and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY CPS2.CODIGOSERV, extract( month from CPS1.DATASAIDA)
        INTO :CODAMB, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT CPS2.CODIGOSERV,
          CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS2.CODIGOSERV ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS2.CODIGOSERV ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS2.CODIGOSERV ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS2.CODIGOSERV ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS2.CODIGOSERV ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS2.CODIGOSERV ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS2.CODIGOSERV ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS2.CODIGOSERV ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS2.CODIGOSERV ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS2.CODIGOSERV ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS2.CODIGOSERV ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS2.CODIGOSERV ) END AS DEZEMBRO
        FROM CPS1
        LEFT JOIN CPS2 ON (CPS1.CODIGOCPS=CPS2.CODIGOCPS2)
        WHERE ( CPS1.A_DATAFAT between :inicio and :final )
          and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
          and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
          and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
          and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY CPS2.CODIGOSERV, extract( month from CPS1.A_DATAFAT)
        INTO :CODAMB, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
      else
      begin
        FOR SELECT CPS2.CODIGOSERV,
          CASE WHEN extract( month from CPS1.datasaida) =  1 THEN COUNT( CPS2.CODIGOSERV ) END AS JANEIRO,
          CASE WHEN extract( month from CPS1.datasaida) =  2 THEN COUNT( CPS2.CODIGOSERV ) END AS FEVEREIRO,
          CASE WHEN extract( month from CPS1.datasaida) =  3 THEN COUNT( CPS2.CODIGOSERV ) END AS MARCO,
          CASE WHEN extract( month from CPS1.datasaida) =  4 THEN COUNT( CPS2.CODIGOSERV ) END AS ABRIL,
          CASE WHEN extract( month from CPS1.datasaida) =  5 THEN COUNT( CPS2.CODIGOSERV ) END AS MAIO,
          CASE WHEN extract( month from CPS1.datasaida) =  6 THEN COUNT( CPS2.CODIGOSERV ) END AS JUNHO,
          CASE WHEN extract( month from CPS1.datasaida) =  7 THEN COUNT( CPS2.CODIGOSERV ) END AS JULHO,
          CASE WHEN extract( month from CPS1.datasaida) =  8 THEN COUNT( CPS2.CODIGOSERV ) END AS AGOSTO,
          CASE WHEN extract( month from CPS1.datasaida) =  9 THEN COUNT( CPS2.CODIGOSERV ) END AS SETEMBRO,
          CASE WHEN extract( month from CPS1.datasaida) = 10 THEN COUNT( CPS2.CODIGOSERV ) END AS OUTUBRO,
          CASE WHEN extract( month from CPS1.datasaida) = 11 THEN COUNT( CPS2.CODIGOSERV ) END AS NOVEMBRO,
          CASE WHEN extract( month from CPS1.datasaida) = 12 THEN COUNT( CPS2.CODIGOSERV ) END AS DEZEMBRO
        FROM CPS1
        LEFT JOIN CPS2 ON (CPS1.CODIGOCPS=CPS2.CODIGOCPS2)
        WHERE ( CPS1.DATASAIDA between :inicio and :final )
            and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
            and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
            and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
            and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY CPS2.CODIGOSERV, extract( month from CPS1.DATASAIDA)
        INTO :CODAMB, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
      BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
    END
end
 ^


ALTER PROCEDURE "EST_FAT_ANUAL_CID" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCID" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT A_CID,
        CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  a_datafat between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY A_CID, extract( month from a_datafat)
        INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
            :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
      END
      ELSE
      BEGIN
        FOR SELECT A_CID,
        CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  datasaida between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        GROUP BY A_CID, extract( month from datasaida)
        INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
      end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
        FOR SELECT A_CID,
        CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  a_datafat between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY A_CID, extract( month from a_datafat)
        INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
            :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
      END
      ELSE
      BEGIN
        FOR SELECT A_CID,
        CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
        CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
        CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
        CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
        CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
        CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
        CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
        CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
        CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
        CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
        CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
        CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
        FROM CPS1
        WHERE (  datasaida between :inicio and :final )
        and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
        and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
        and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
        GROUP BY A_CID, extract( month from datasaida)
        INTO :CODCID, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
        END
      end
    END
end
 ^


ALTER PROCEDURE "EST_FAT_ANUAL_ESPECIALIDADE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODESPECIALIDADE" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
         FOR SELECT ESPECIALIDADE,
         CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
         CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
         CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
         CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
         CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
         CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
         CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
         CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
         CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
         CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
         CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
         CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  a_datafat between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         GROUP BY ESPECIALIDADE, extract( month from a_datafat)
         INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
      end
      else
      begin
         FOR SELECT ESPECIALIDADE,
         CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
         CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
         CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
         CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
         CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
         CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
         CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
         CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
         CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
         CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
         CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
         CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  datasaida between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         GROUP BY ESPECIALIDADE, extract( month from datasaida )
         INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
      end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
         FOR SELECT ESPECIALIDADE,
         CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
         CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
         CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
         CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
         CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
         CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
         CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
         CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
         CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
         CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
         CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
         CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  a_datafat between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
         GROUP BY ESPECIALIDADE, extract( month from a_datafat)
         INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
      end
      else
      begin
         FOR SELECT ESPECIALIDADE,
         CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
         CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
         CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
         CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
         CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
         CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
         CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
         CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
         CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
         CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
         CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
         CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
         FROM CPS1
         WHERE (  datasaida between :inicio and :final )
         and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
         and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
         and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
         and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
         GROUP BY ESPECIALIDADE, extract( month from datasaida )
         INTO :CODESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
      end
    END
end
 ^


ALTER PROCEDURE "EST_FAT_ANUAL_MEDRESP" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODMEDRESP" VARCHAR(8),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
          FOR SELECT MEDRESP,
          CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
          FROM CPS1
          WHERE (  a_datafat between :inicio and :final )
              and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
              and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
              and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
          GROUP BY medresp, extract( month from a_datafat)
          INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
               :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
      end
      else
      begin
          FOR SELECT MEDRESP,
            CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
            CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
            CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
            CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
            CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
            CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
            CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
            CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
            CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
            CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
            CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
            CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
          FROM CPS1
          WHERE (  datasaida between :inicio and :final )
              and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
              and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
              and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
          GROUP BY medresp, extract( month from datasaida)
          INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
               :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
       end
     END
     BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
          FOR SELECT MEDRESP,
          CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
          FROM CPS1
          WHERE (  a_datafat between :inicio and :final )
              and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
              and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
              and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
              and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
          GROUP BY medresp, extract( month from a_datafat)
          INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
               :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
      end
      else
      begin
          FOR SELECT MEDRESP,
            CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
            CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
            CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
            CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
            CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
            CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
            CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
            CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
            CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
            CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
            CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
            CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
          FROM CPS1
          WHERE (  datasaida between :inicio and :final )
              and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
              and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
              and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
              and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
          GROUP BY medresp, extract( month from datasaida)
          INTO :CODMEDRESP, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
               :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
          END
       end
     END
end
 ^


ALTER PROCEDURE "EST_FAT_ANUAL_QTDE" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "TIPO1" INTEGER,
  "TIPO2" INTEGER,
  "TIPO3" INTEGER,
  "TIPODEDATA" INTEGER,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER,
  "TIPOPROCEDIMENTO" INTEGER
)
RETURNS
(
  "CODCONVENIO" VARCHAR(4),
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    if ( TIPOPROCEDIMENTO <> 1 )  then
    begin
      if ( TIPODEDATA = 0 )  then
      begin
         FOR SELECT CONVENIO,
            CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
            CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
            CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
            CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
            CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
            CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
            CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
            CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
            CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
            CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
            CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
            CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
            FROM CPS1 cps1
            WHERE (  a_datafat between :inicio and :final )
             and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
             and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
             and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
             GROUP BY convenio, extract( month from a_datafat)
             INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
                  :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
            BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
      else
      begin
         FOR SELECT CONVENIO,
            CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
            CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
            CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
            CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
            CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
            CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
            CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
            CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
            CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
            CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
            CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
            CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
            FROM CPS1 Cps1
            WHERE ( datasaida between :inicio and :final )
            and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
            and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
            and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
            GROUP BY convenio, extract( month from datasaida)
            INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
                 :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
            BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
    END
    ELSE
    BEGIN
      if ( TIPODEDATA = 0 )  then
      begin
         FOR SELECT CONVENIO,
            CASE WHEN extract( month from a_datafat) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
            CASE WHEN extract( month from a_datafat) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
            CASE WHEN extract( month from a_datafat) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
            CASE WHEN extract( month from a_datafat) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
            CASE WHEN extract( month from a_datafat) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
            CASE WHEN extract( month from a_datafat) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
            CASE WHEN extract( month from a_datafat) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
            CASE WHEN extract( month from a_datafat) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
            CASE WHEN extract( month from a_datafat) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
            CASE WHEN extract( month from a_datafat) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
            CASE WHEN extract( month from a_datafat) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
            CASE WHEN extract( month from a_datafat) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
            FROM CPS1 cps1
            WHERE (  a_datafat between :inicio and :final )
             and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
             and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
             and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
             and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
             GROUP BY convenio, extract( month from a_datafat)
             INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
                  :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
            BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
      else
      begin
         FOR SELECT CONVENIO,
            CASE WHEN extract( month from datasaida) =  1 THEN SUM( CPS1.LIQUIDO ) END AS JANEIRO,
            CASE WHEN extract( month from datasaida) =  2 THEN SUM( CPS1.LIQUIDO ) END AS FEVEREIRO,
            CASE WHEN extract( month from datasaida) =  3 THEN SUM( CPS1.LIQUIDO ) END AS MARCO,
            CASE WHEN extract( month from datasaida) =  4 THEN SUM( CPS1.LIQUIDO ) END AS ABRIL,
            CASE WHEN extract( month from datasaida) =  5 THEN SUM( CPS1.LIQUIDO ) END AS MAIO,
            CASE WHEN extract( month from datasaida) =  6 THEN SUM( CPS1.LIQUIDO ) END AS JUNHO,
            CASE WHEN extract( month from datasaida) =  7 THEN SUM( CPS1.LIQUIDO ) END AS JULHO,
            CASE WHEN extract( month from datasaida) =  8 THEN SUM( CPS1.LIQUIDO ) END AS AGOSTO,
            CASE WHEN extract( month from datasaida) =  9 THEN SUM( CPS1.LIQUIDO ) END AS SETEMBRO,
            CASE WHEN extract( month from datasaida) = 10 THEN SUM( CPS1.LIQUIDO ) END AS OUTUBRO,
            CASE WHEN extract( month from datasaida) = 11 THEN SUM( CPS1.LIQUIDO ) END AS NOVEMBRO,
            CASE WHEN extract( month from datasaida) = 12 THEN SUM( CPS1.LIQUIDO ) END AS DEZEMBRO
            FROM CPS1 Cps1
            WHERE ( datasaida between :inicio and :final )
            and ( CPS1.CODIGOPLA = :tipo1 OR CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3 )
            and ( CPS1.CONVENIO BETWEEN :CONVENIO1 AND :CONVENIO2 )
            and ( CPS1.MEDRESP BETWEEN :MEDICO1 AND :MEDICO2 )
            and ( CPS1.PRINCIPAL = '00010014' OR CPS1.PRINCIPAL = '00010022' OR CPS1.PRINCIPAL = '10101012' OR CPS1.PRINCIPAL = '10101020' OR CPS1.PRINCIPAL = '10101039' )
            GROUP BY convenio, extract( month from datasaida)
            INTO :CODCONVENIO, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
                 :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
            BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
            END
      end
    END
end
 ^


ALTER PROCEDURE "EST_PACTUACAO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CODAMB" VARCHAR(10),
  "CODSERV" INTEGER,
  "JANEIRO" INTEGER,
  "FEVEREIRO" INTEGER,
  "MARCO" INTEGER,
  "ABRIL" INTEGER,
  "MAIO" INTEGER,
  "JUNHO" INTEGER,
  "JULHO" INTEGER,
  "AGOSTO" INTEGER,
  "SETEMBRO" INTEGER,
  "OUTUBRO" INTEGER,
  "NOVEMBRO" INTEGER,
  "DEZEMBRO" INTEGER,
  "TOTAL" INTEGER,
  "GRUPOSUS" INTEGER,
  "ESPECIALIDADE" INTEGER
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
      BEGIN
        FOR SELECT CPS2.GRUPOSUS, CPS2.GRUPOSUS || CPS2.CODIGOAMB, CPS2.CODIGOSERV, CPS2.ESPECIALIDADE,
          CASE WHEN extract( month from a_datafat) =  1 THEN COUNT( CPS2.CODIGOSERV ) END AS JANEIRO,
          CASE WHEN extract( month from a_datafat) =  2 THEN COUNT( CPS2.CODIGOSERV ) END AS FEVEREIRO,
          CASE WHEN extract( month from a_datafat) =  3 THEN COUNT( CPS2.CODIGOSERV ) END AS MARCO,
          CASE WHEN extract( month from a_datafat) =  4 THEN COUNT( CPS2.CODIGOSERV ) END AS ABRIL,
          CASE WHEN extract( month from a_datafat) =  5 THEN COUNT( CPS2.CODIGOSERV ) END AS MAIO,
          CASE WHEN extract( month from a_datafat) =  6 THEN COUNT( CPS2.CODIGOSERV ) END AS JUNHO,
          CASE WHEN extract( month from a_datafat) =  7 THEN COUNT( CPS2.CODIGOSERV ) END AS JULHO,
          CASE WHEN extract( month from a_datafat) =  8 THEN COUNT( CPS2.CODIGOSERV ) END AS AGOSTO,
          CASE WHEN extract( month from a_datafat) =  9 THEN COUNT( CPS2.CODIGOSERV ) END AS SETEMBRO,
          CASE WHEN extract( month from a_datafat) = 10 THEN COUNT( CPS2.CODIGOSERV ) END AS OUTUBRO,
          CASE WHEN extract( month from a_datafat) = 11 THEN COUNT( CPS2.CODIGOSERV ) END AS NOVEMBRO,
          CASE WHEN extract( month from a_datafat) = 12 THEN COUNT( CPS2.CODIGOSERV ) END AS DEZEMBRO
        FROM CPS1
        LEFT JOIN CPS2 ON (CPS1.CODIGOCPS=CPS2.CODIGOCPS2)
        WHERE ( CPS1.A_DATAFAT BETWEEN :inicio AND :final )
        GROUP BY 1, 2, 3, 4, EXTRACT( month from CPS1.A_DATAFAT)
        INTO :GRUPOSUS, :CODAMB, :CODSERV, :ESPECIALIDADE, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
             :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
        BEGIN
                IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
                IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
                IF ( MARCO     IS NULL ) THEN MARCO     = 0;
                IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
                IF ( MAIO      IS NULL ) THEN MAIO      = 0;
                IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
                IF ( JULHO     IS NULL ) THEN JULHO     = 0;
                IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
                IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
                IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
                IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
                IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
                TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                        AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
                SUSPEND;
        END
      END
end
 ^


ALTER PROCEDURE "EST_SERVICOS" 
(
  "CODIGOAMB" VARCHAR(8),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "JANEIRO" DOUBLE PRECISION,
  "FEVEREIRO" DOUBLE PRECISION,
  "MARCO" DOUBLE PRECISION,
  "ABRIL" DOUBLE PRECISION,
  "MAIO" DOUBLE PRECISION,
  "JUNHO" DOUBLE PRECISION,
  "JULHO" DOUBLE PRECISION,
  "AGOSTO" DOUBLE PRECISION,
  "SETEMBRO" DOUBLE PRECISION,
  "OUTUBRO" DOUBLE PRECISION,
  "NOVEMBRO" DOUBLE PRECISION,
  "DEZEMBRO" DOUBLE PRECISION,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
    JANEIRO = 0;
    FEVEREIRO = 0;
    MARCO = 0;
    ABRIL = 0;
    MAIO = 0;
    JUNHO = 0;
    JULHO = 0;
    AGOSTO = 0;
    SETEMBRO = 0;
    OUTUBRO = 0;
    NOVEMBRO = 0;
    DEZEMBRO = 0;
    TOTAL = 0;
    FOR SELECT CODIGOAMB,
         CASE WHEN extract( month from data) =  1 THEN SUM( CPS2.VALOR ) END AS JANEIRO,
         CASE WHEN extract( month from data) =  2 THEN SUM( CPS2.VALOR ) END AS FEVEREIRO,
         CASE WHEN extract( month from data) =  3 THEN SUM( CPS2.VALOR ) END AS MARCO,
         CASE WHEN extract( month from data) =  4 THEN SUM( CPS2.VALOR ) END AS ABRIL,
         CASE WHEN extract( month from data) =  5 THEN SUM( CPS2.VALOR ) END AS MAIO,
         CASE WHEN extract( month from data) =  6 THEN SUM( CPS2.VALOR ) END AS JUNHO,
         CASE WHEN extract( month from data) =  7 THEN SUM( CPS2.VALOR ) END AS JULHO,
         CASE WHEN extract( month from data) =  8 THEN SUM( CPS2.VALOR ) END AS AGOSTO,
         CASE WHEN extract( month from data) =  9 THEN SUM( CPS2.VALOR ) END AS SETEMBRO,
         CASE WHEN extract( month from data) = 10 THEN SUM( CPS2.VALOR ) END AS OUTUBRO,
         CASE WHEN extract( month from data) = 11 THEN SUM( CPS2.VALOR ) END AS NOVEMBRO,
         CASE WHEN extract( month from data) = 12 THEN SUM( CPS2.VALOR ) END AS DEZEMBRO
         FROM CPS2
         WHERE CODIGOAMB = :CODIGOAMB AND (  data between :inicio and :final )
         GROUP BY CODIGOAMB, extract( month from data )
         INTO :CODIGOAMB, :JANEIRO, :FEVEREIRO, :MARCO, :ABRIL, :MAIO, :JUNHO, :JULHO,
              :AGOSTO, :SETEMBRO, :OUTUBRO, :NOVEMBRO, :DEZEMBRO DO
          BEGIN
              IF ( JANEIRO   IS NULL ) THEN JANEIRO   = 0;
              IF ( FEVEREIRO IS NULL ) THEN FEVEREIRO = 0;
              IF ( MARCO     IS NULL ) THEN MARCO     = 0;
              IF ( ABRIL     IS NULL ) THEN ABRIL     = 0;
              IF ( MAIO      IS NULL ) THEN MAIO      = 0;
              IF ( JUNHO     IS NULL ) THEN JUNHO     = 0;
              IF ( JULHO     IS NULL ) THEN JULHO     = 0;
              IF ( AGOSTO    IS NULL ) THEN AGOSTO    = 0;
              IF ( SETEMBRO  IS NULL ) THEN SETEMBRO  = 0;
              IF ( OUTUBRO   IS NULL ) THEN OUTUBRO   = 0;
              IF ( NOVEMBRO  IS NULL ) THEN NOVEMBRO  = 0;
              IF ( DEZEMBRO  IS NULL ) THEN DEZEMBRO  = 0;
              TOTAL = JANEIRO + FEVEREIRO + MARCO + ABRIL + MAIO + JUNHO + JULHO +
                      AGOSTO + SETEMBRO + OUTUBRO + NOVEMBRO + DEZEMBRO;
              SUSPEND;
         END
end
 ^


ALTER PROCEDURE "ETARIA" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "TIPO1" CHAR(1),
  "TIPO2" CHAR(1),
  "TIPO3" CHAR(1),
  "TIPO4" CHAR(1),
  "TIPO5" CHAR(1),
  "TIPO6" CHAR(1),
  "TIPO7" CHAR(1),
  "INTERVALO" SMALLINT,
  "CONV" INTEGER
)
RETURNS
(
  "QTDE" INTEGER,
  "IDADE" VARCHAR(10)
)
AS
declare variable cont integer;
declare variable zero integer;
begin
zero = 0;
cont = 0;
   if (:conv >0)  Then
   begin
    while ((intervalo*cont) <= 100) do
    begin
        select count(extract(year from a_datafat) - extract(year from nasc)) from cps1
        left join paciente on ( cps1.codigopac = paciente.codigopac )
        where (extract(year from a_datafat) - extract(year from nasc)) between (((:intervalo*:cont)+1)*:zero) and (:intervalo*(:cont+1))
        and a_datafat between :inicio and :fim and ( CPS1.CODIGOPLA = :tipo1 OR
        CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3  OR CPS1.CODIGOPLA = :tipo4  OR CPS1.CODIGOPLA = :tipo5  OR CPS1.CODIGOPLA = :tipo6  OR CPS1.CODIGOPLA = :tipo7   )
        and cps1.convenio = :conv
        into qtde;
        idade = (((intervalo*cont)+1)*zero) || ' - ' || (intervalo*(cont+1));
        suspend;
        cont = cont + 1;
        zero = 1;
     end
   end
   else
   begin
    while ((intervalo*cont) <= 100) do
    begin
        select count(extract(year from a_datafat) - extract(year from nasc)) from cps1
        left join paciente on ( cps1.codigopac = paciente.codigopac )
        where (extract(year from a_datafat) - extract(year from nasc)) between (((:intervalo*:cont)+1)*:zero) and (:intervalo*(:cont+1))
        and a_datafat between :inicio and :fim and ( CPS1.CODIGOPLA = :tipo1 OR
        CPS1.CODIGOPLA = :tipo2 OR CPS1.CODIGOPLA = :tipo3  OR CPS1.CODIGOPLA = :tipo4  OR CPS1.CODIGOPLA = :tipo5  OR CPS1.CODIGOPLA = :tipo6  OR CPS1.CODIGOPLA = :tipo7   )
        into qtde;
        idade = (((intervalo*cont)+1)*zero) || ' - ' || (intervalo*(cont+1));
        suspend;
        cont = cont + 1;
        zero = 1;
     end
   end
end
 ^


ALTER PROCEDURE "EVOLUCAONOVA" 
(
  "CPS" INTEGER,
  "MEDICO" INTEGER,
  "TIPOIN" VARCHAR(2)
)
RETURNS
(
  "DESCRICAO" VARCHAR(250),
  "EVOLUCAO" INTEGER,
  "TIPO" CHAR(1)
)
AS
declare variable data timestamp;
declare variable usuario integer;
declare variable aux varchar(50);
begin
  descricao = 'Nova';
  evolucao = 0;
  tipo = '0';
  suspend;
  for select first 10 evolucao, datahora,user1 from evolucaoenf where codigocps = :cps and tipo = :tipoin order by datahora desc into evolucao, data, usuario do
  begin
    descricao = 'Copia ' || cast(evolucao as integer) || ' ' || extract(day from data) || '/' || extract(month from data) || ' ' || extract(hour from data) || ':' || extract(minute from data);
    aux = '';
    if (:cps = 872124) then
      select first 1 tipoconselho || ' ' || a_cremeb from medicos inner join usuarios on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = :usuario into aux;
    if (aux <> '') then
      descricao = descricao || ' ' || aux;
--    if (:cps = 872124) then
--      descricao = aux;
    Tipo = '1';
    suspend;
  end
  for select indice, descricao, 'now' from memorando where tipo = :tipoin order by descricao into evolucao, descricao, data do
  begin
/*    descricao = 'Copia Evol/Adm de ' || cast(evolucao as integer) || ' ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data) || ' ' || extract(hour from data) || ':' || extract(minute from data);*/
    Tipo = '2';
    suspend;
  end
end
 ^


ALTER PROCEDURE "EVOLUCAO_MODELO" 
(
  "EVOLUCAO" INTEGER,
  "CODIGOCPS" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER
)
AS
begin
  INSERT INTO EVOLUCAOENF(CODIGOCPS, DATAHORA, CONTEUDO, IMPRESSO,  USER1,    USER2,  DATA1,                   DATA2,
  TIPO,DATASINC,                OBSERVACAO, PLANO_CONDUTA, PROBLEMAS, HISTORIA_ADMISSAO, DATA_ADMISSAO, TURNO, SUSP_DIAGNOSTICA, PROCEDIMENTOS)
  Select :CODIGOCPS,  CAST('NOW' AS TIMESTAMP), texto, null, :USUARIO,:USUARIO,CAST('NOW' AS TIMESTAMP),CAST('NOW' AS TIMESTAMP),
  tipo,CAST('NOW' AS TIMESTAMP), null, null,null, null, null, 'Diurno', null, null from memorando
  where indice = :evolucao;
  indice = gen_id(GEN_EVOLUCAO,0);
/*  if (exists(select cps1.codigocps from evolucaoenf inner join cps1 on (cps1.codigocps = evolucaoenf.codigocps) where evolucaoenf.evolucao = :indice and cps1.codigopla <> 2)) then
  insert into altaitem (alta,codigoamb, codigoserv,descricao,inicio,fim,observacao,classe) select :indice, codigoamb, codigoserv,descricao,inicio,fim,observacao,classe from altaitem where alta = :evolucao;*/
  suspend;
end
 ^


ALTER PROCEDURE "EXTFATURA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "DATA" TIMESTAMP,
  "QTDE" INTEGER,
  "TIPO" VARCHAR(40),
  "VALOR" NUMERIC(18, 2),
  "GLOSA" NUMERIC(18, 2),
  "IMPOSTO" NUMERIC(18, 2),
  "FATURA" INTEGER
)
AS
DECLARE VARIABLE PARCIAL CHAR(1);
DECLARE VARIABLE AUX NUMERIC(18,2);
BEGIN
tipo= 'Fatura Enviada';
for SELECT fechamento.sequencia, fechamento.parcial, fechamento.pagmedico, count(cps.codigocps), sum(cps.valor- cps.glosa), sum(cps.glosa), sum(h_irrf + h_pis + h_cofins + h_iss + h_cls + h_desconto)/count(cps.codigocps) from cps(:consulta)
  inner join fechamento on fechamento.sequencia = cps.fatura
  where (cobrar is null) or (cobrar = 'S')
  group by fechamento.sequencia, fechamento.parcial, fechamento.pagmedico into :fatura, :parcial, :data, :qtde, :valor, :glosa, :imposto do
  begin
    valor = valor - imposto;
    if (parcial is null) then parcial = 'N';
    if (parcial = 'S') then
    begin
      for SELECT cps.datarecebimento, count(cps.codigocps), sum(cps.valor - cps.glosa), sum(cps.glosa), sum(h_irrf + h_pis + h_cofins + h_iss + h_cls + h_desconto)/count(cps.codigocps) from cps(:consulta)
      inner join fechamento on fechamento.sequencia = cps.fatura
      group by cps.datarecebimento into :data, :qtde, :valor, :imposto, :glosa do
      begin
        if (data is not null) then tipo = 'Fatura Recebida Parcialmente';
        suspend;
      end
    end
    else
    begin
     if (data is not null) then
       tipo = 'Fatura Recebida';
      suspend;
    end
  end
imposto = 0;
glosa = 0;
tipo = 'Reapresentao';
for SELECT fechamento.sequencia, Datarepresenta, count(codigocps), sum(representa) from cps(:consulta)
  inner join fechamento on fechamento.sequencia = cps.fatura
  where representa > 0 and faturaglosa > 0
  group by fechamento.sequencia, datarepresenta into :fatura, :data, :qtde, :valor do
  suspend;
tipo = 'Glosa no Reapresentada';
data = null;
for SELECT count(codigocps), sum(glosa) from cps(:consulta)
  where (glosa > 0 and ((representa is null) or (representa = 0)) and ((glosadefinitiva is null) or (glosadefinitiva = 'N')))
  or (representa > 0 and ((faturaglosa = 0) or (faturaglosa is null)))
  into :qtde, :valor do
  suspend;
tipo = 'Glosa Recebida';
for SELECT glosadata, count(codigocps), sum(glosarecebida) from cps(:consulta)
  where glosarecebida >0
  group by glosadata into :data, :qtde, :valor do
  begin
  suspend;
  end
tipo = 'Glosa Definitiva';
for SELECT glosadata, count(codigocps),  sum( glosa ), sum( glosarecebida ) from cps(:consulta)
  where glosadefinitiva = 'S'
  group by glosadata
  having sum(glosa) - sum(glosarecebida) > 0
  into :data, :qtde, :aux, :valor do
  begin
    if (aux is null) then aux = 0;
    if (valor is null) then valor = 0;
    valor = aux - valor;
    suspend;
  end
END
 ^


ALTER PROCEDURE "FAIXAETARIA" 
(
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "FAIXAETARIA" VARCHAR(50)
)
AS
declare variable nasc date;
declare variable ano integer;
begin
   ano = 0;
   select nasc from paciente where codigopac = :codigopac into nasc;
  select ano from idade_calc(:nasc,'now') into ano;
   if (ano <= 11) Then
      FAIXAETARIA = '0 a 11 anos';
   if ((ano > 11) AND (ano <= 21)) Then
      FAIXAETARIA = '11 a 21 anos';
   if ((ano > 21) AND (ano <= 31) ) Then
      FAIXAETARIA = '21 a 31 anos';
   if ((ano > 31) AND (ano <= 41))  Then
      FAIXAETARIA = '31 a 41 anos';
   if ((ano > 41) AND (ano <= 51) ) Then
      FAIXAETARIA = '41 a 51 anos';
   if ((ano > 51) AND (ano <= 61) ) Then
      FAIXAETARIA = '51 a 61 anos';
   if ((ano > 61) AND (ano <= 71) ) Then
      FAIXAETARIA = '61 a 71 anos';
   if ((ano > 71) AND (ano <= 81) ) Then
      FAIXAETARIA = '51 a 61 anos';
   if (ano > 81) Then
      FAIXAETARIA = 'MAIOR 81 anos';
 suspend;
end
 ^


ALTER PROCEDURE "FATURACPSRECEBIDA" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "FATURA" INTEGER
)
AS
begin
  for select distinct fatura from cps1 where datarecebimento between :inicio and :final into :fatura do
  begin
    if (fatura > 0) then
      suspend;
  end
  for select distinct faturano from inter2 where datarecebimento between :inicio and :final into :fatura do
  begin
    if (fatura > 0) then
      suspend;
  end
end
 ^


ALTER PROCEDURE "FATURAGLOSARECEBIDA" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "FATURA" INTEGER
)
AS
begin
  for select distinct fatura from cps3 left join cps1 on (cps1.codigocps = cps3.codigocps) where cps3.glosadata between :inicio and :final into :fatura do
  begin
    if (fatura > 0) then
      suspend;
  end
  for select distinct fatura from cps2 left join cps1 on (cps1.codigocps = cps2.codigocps2) where cps2.glosadata between :inicio and :final into :fatura do
  begin
    if (fatura > 0) then
      suspend;
  end
  for select distinct faturano from inter3 left join inter2 on (inter2.codigoint = inter3.codigoint and inter2.tratamento =inter3.tratamento) where inter3.glosadata between :inicio and :final into :fatura do
  begin
    if (fatura > 0) then
      suspend;
  end
  for select distinct faturano from inter32 left join inter2 on (inter2.codigoint = inter32.codigoint and inter2.tratamento =inter32.tratamento) where inter32.glosadata between :inicio and :final into :fatura do
  begin
    if (fatura > 0) then
      suspend;
  end
end
 ^


ALTER PROCEDURE "FATURAMENTOTOTAL" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER
)
RETURNS
(
  "CONVENIO" VARCHAR(40),
  "AMBULATORIO" DOUBLE PRECISION,
  "EMERGENCIA" DOUBLE PRECISION,
  "INTERNAMENTO" DOUBLE PRECISION,
  "UTI" DOUBLE PRECISION,
  "SEMI" DOUBLE PRECISION,
  "SEQUENCIA" INTEGER,
  "TOTAL" DOUBLE PRECISION
)
AS
begin
    FOR SELECT FECHAMENTO.SEQUENCIA, Convenio.A_NOME
        FROM FECHAMENTO
        INNER JOIN CONVENIO Convenio ON ( Convenio.CONVENIO = Fechamento.CONVENIO )
        WHERE ( FECHAMENTO.DATA between :inicio and :fim )  AND ( FECHAMENTO.CONVENIO between :convenio1 and :convenio2 )
        GROUP BY Fechamento.SEQUENCIA, CONVENIO.A_NOME
        ORDER BY  Fechamento.SEQUENCIA, Convenio.A_NOME ASC
        INTO :SEQUENCIA, :CONVENIO
    DO
    BEGIN
      SELECT SUM( CPS.VALOR ) FROM CPS('WHERE FATURA = ' || Cast(:sequencia as varchar(15)) || ' AND CODIGOPLA = 1') WHERE COBRAR = 'S' or COBRAR IS NULL INTO :AMBULATORIO;
      SELECT SUM( CPS.VALOR ) FROM CPS('WHERE FATURA = ' || Cast(:sequencia as varchar(15)) || ' AND CODIGOPLA = 2') WHERE COBRAR = 'S' or COBRAR IS NULL INTO :EMERGENCIA;
      SELECT SUM( CPS.VALOR ) FROM CPS('WHERE FATURA = ' || Cast(:sequencia as varchar(15)) || ' AND CODIGOPLA = 3 AND (TIPOFATURA IN (''1'',''5''))') WHERE COBRAR = 'S' or COBRAR IS NULL INTO :INTERNAMENTO;
      SELECT SUM( CPS.VALOR ) FROM CPS('WHERE FATURA = ' || Cast(:sequencia as varchar(15)) || ' AND CODIGOPLA = 3 AND (TIPOFATURA IN (''2'',''4''))') WHERE COBRAR = 'S' or COBRAR IS NULL INTO :UTI;
      SELECT SUM( CPS.VALOR ) FROM CPS('WHERE FATURA = ' || Cast(:sequencia as varchar(15)) || ' AND CODIGOPLA = 3 AND (TIPOFATURA = ''3'')') WHERE COBRAR = 'S' or COBRAR IS NULL INTO :SEMI;
      if ( AMBULATORIO is Null ) THEN AMBULATORIO = 0;
      if ( EMERGENCIA is Null ) THEN EMERGENCIA = 0;
      if ( INTERNAMENTO is Null ) THEN INTERNAMENTO = 0;
      if ( UTI is Null ) THEN UTI = 0;
      if ( SEMI is Null ) THEN SEMI = 0;
      TOTAL = AMBULATORIO + EMERGENCIA + INTERNAMENTO + UTI + SEMI;
      SUSPEND;
    END
end
 ^


ALTER PROCEDURE "FECHAMENTOVALOR" 
(
  "SEQUENCIA" INTEGER
)
RETURNS
(
  "RECEBIDO" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "A_RECEBER" DOUBLE PRECISION
)
AS
declare variable datarecebido timestamp;
begin
select pagmedico, coalesce(sum(valor),0) recebido,coalesce(sum(cps.glosa),0) glosa from cps ('where fatura = ' || :sequencia)
inner join fechamento on cps.fatura = fechamento.sequencia
where cobrar ='S'
group by 1
into  :datarecebido, :recebido,:glosa;
begin
  a_receber = (:recebido - :glosa);
  if (:datarecebido is not null) Then
    a_receber = 0;
end
suspend;
end
 ^


ALTER PROCEDURE "FICHAGASTO" 
(
  "CPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PACOTE" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CODTRATAMENTO" INTEGER,
  "CODPACOTE" INTEGER,
  "CODUSUARIO" INTEGER,
  "CODIGOMM" INTEGER,
  "QTDEPADRAO" INTEGER,
  "QTDE" INTEGER
)
AS
begin
  CODIGOCPS = CPS;
  CODTRATAMENTO = TRATAMENTO;
  CODPACOTE = PACOTE;
  CODUSUARIO = USUARIO;
  for select codigo, quantidade from pacote2 where pacote = :pacote into :codigomm, :qtdepadrao do
  begin
    if (tratamento = 0) then
      select quantidade from cps3 where codigocps = :cps and codigomm = :codigomm and pacote = :pacote into :qtde;
    else
      select quantidade from inter32 where codigoint = :cps and tratamento = :tratamento and codigomm = :codigomm and pacote = :pacote into :qtde;
    suspend;
  end
end
 ^


ALTER PROCEDURE "FICHAGASTOUPDATE" 
(
  "CODIGOCPS" INTEGER,
  "CODTRATAMENTO" INTEGER,
  "CODPACOTE" INTEGER,
  "CODUSUARIO" INTEGER,
  "CODIGOMM" INTEGER,
  "QTDE" INTEGER
)
AS
declare variable qtdeatual integer;
begin
    if (CODTRATAMENTO = 0) then
      select quantidade from cps3 where codigocps = :codigocps and codigomm = :codigomm and PACOTE = :CODPACOTE into :qtdeatual;
    else
      select quantidade from inter32 where codigoint = :codigocps and TRATAMENTO = :CODTRATAMENTO and codigomm = :codigomm and PACOTE = :CODPACOTE into :qtdeatual;
    if ((qtdeatual is null) and (qtde > 0)) then
    begin
      if (CODTRATAMENTO = 0 ) then
        insert into cps3 (codigocps, data, hora, codigomm, quantidade, cobrar, unitario, total, PACOTE, user1) values (:codigocps, cast('now' as date), cast('now' as time),:codigomm,:qtde,'S',0,0,:CODPACOTE, :CODUSUARIO);
      else
        insert into inter32 (codigoint, TRATAMENTO, a_data, a_hora, codigomm, quantidade, cobrar, valor, PACOTE, user1) values (:codigocps, :CODTRATAMENTO, cast('now' as date), cast('now' as time), :codigomm, :qtde, 'S', 0, :CODPACOTE, :CODUSUARIO);
    end
    else if (qtde > 0) then
    begin
      if (CODTRATAMENTO = 0 ) then
        update cps3 set quantidade = :qtde, user2 = :CODUSUARIO where codigocps = :codigocps and codigomm = :codigomm and PACOTE = :CODPACOTE;
      else
        update inter32 set quantidade = :qtde, user2 = :CODUSUARIO where codigoint = :codigocps and TRATAMENTO = :CODTRATAMENTO and codigomm = :codigomm and PACOTE = :CODPACOTE;
    end
    else
    begin
      if (CODTRATAMENTO = 0 ) then
        delete from cps3 where codigocps = :codigocps and codigomm = :codigomm and PACOTE = :CODPACOTE;
      else
        delete from inter32 where codigoint = :codigocps and TRATAMENTO = :CODTRATAMENTO and codigomm = :codigomm and PACOTE = :CODPACOTE;
    end
end
 ^


ALTER PROCEDURE "FINGER_CAD" 
(
  "DIGITAL" BLOB,
  "REGISTRO" FLOAT,
  "TABELA" VARCHAR(40),
  "DEDO" SMALLINT
)
RETURNS
(
  "CODIGO" FLOAT
)
AS
begin
  insert into finger(template,vinculacao, tabela, dedo) values (:digital, :registro, :tabela, :dedo);
  codigo = gen_id(gen_finger,0);
  suspend;
end
 ^


ALTER PROCEDURE "GESTAO_LEITOS_REL" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CPS" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIME,
  "NOME" VARCHAR(70),
  "CIDADE" VARCHAR(30),
  "RISCO" VARCHAR(20),
  "MEDICO" VARCHAR(70),
  "ESPECIALIDADE" VARCHAR(140),
  "CID" VARCHAR(10),
  "AIH" VARCHAR(10),
  "REGULACAO" VARCHAR(80),
  "CODMEDICO" INTEGER
)
AS
declare variable medresp integer;
declare variable codrisco integer;
declare variable codpac integer;
declare variable cpsint integer;
begin
   for select codigocps, paciente.a_nome, paciente.cidade,
    medresp, cast(a_datafat as date), cast(a_hora as time), espec,  a_cid, cps1.codigopac, diaria
   from cps1
   left join paciente on cps1.codigopac = paciente.codigopac
 --  inner join regulacao on cps1.diaria = regulacao.codigo
   where a_datafat between :data1 and :data2 and codigopla = 2
   order by 5,6
   into
   :cps, :nome, :cidade, :medresp, :data, :hora, :especialidade, :cid, :codpac, :regulacao do
   begin
   codrisco = 0;
   select first 1 risco from cpsmanchester where codigocps= :cps into :codrisco;
   if (:codrisco = 5) Then
        risco = 'Vermelho';
   if (:codrisco = 4) Then
        risco = 'Laranja';
   if (:codrisco = 3) Then
        risco = 'Amarelo';
   if (:codrisco = 2) Then
        risco = 'Verde';
   if (:codrisco = 1) Then
        risco = 'Azul';
   medico = 'Sem consulta';
   select first 1 medicos.a_nome,  especialidade.nome, medicos.a_medicos from cps2
   left join medicos on cps2.a_medicos = medicos.a_medicos
   left join especialidade on medicos.especial = especialidade.codesp
    where codigocps2=:cps and cps2.codigoamb = '01060061' into :medico, :especialidade, :codmedico;
   aih = 'No';
   cpsint = 0;
   select first 1 codigocps  from cps1 where codigocps > :cps and cps1.codigopac = :codpac and codigopla = 7 into :cpsint;
   if (:cpsint > 0) Then
        aih = 'Sim';
   suspend;
   end
end
 ^


ALTER PROCEDURE "GLOSA_TOTALGLOSA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TOTALGLOSA" DOUBLE PRECISION,
  "TOTALREPRESENTA" DOUBLE PRECISION,
  "MAT" DOUBLE PRECISION,
  "MED" DOUBLE PRECISION,
  "TOTALRECEBIDO" DOUBLE PRECISION
)
AS
DECLARE VARIABLE AUX_GLOSA DOUBLE PRECISION;
DECLARE VARIABLE AUX_VALOR DOUBLE PRECISION;
DECLARE VARIABLE A_CODAMB VARCHAR(10);
DECLARE VARIABLE AUX_REPRESENTA DOUBLE PRECISION;
DECLARE VARIABLE AUX_RECEBIDO DOUBLE PRECISION;
BEGIN
   TOTALGLOSA = 0;
   TOTALREPRESENTA = 0;
   TOTALRECEBIDO = 0;
   MAT = 0;
   MED = 0;
   FOR SELECT VALOR,GLOSA, REPRESENTA, glosarecebida, MATMED.A_CODAMB FROM CPS(:CONSULTA)
   LEFT JOIN MATMED ON (MATMED.CODIGOMM = CPS.CODIGOSERV AND DHE = 'M')
   INTO :AUX_VALOR,:AUX_GLOSA, :AUX_REPRESENTA, aux_recebido, A_CODAMB  DO
   BEGIN
       if ( aux_glosa is null ) then
          aux_glosa =0;
       TOTALGLOSA = TOTALGLOSA + AUX_GLOSA;
       if ( aux_representa is null ) then
          aux_representa =0;
       if ( aux_recebido is null ) then
          aux_recebido =0;
       TOTALREPRESENTA = TOTALREPRESENTA + AUX_REPRESENTA;
       TOTALRECEBIDO = TOTALRECEBIDO + AUX_RECEBIDO;
       if (a_codamb in ('72140011','72000002')) then
         MED = MED + AUX_VALOR;
       else if (a_codamb is not null) then
         MAT = MAT + AUX_VALOR;
   END
   suspend;
END
 ^


ALTER PROCEDURE "GLOSA_TOTALREPRESENTA" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "TOTALREPRESENTA" DOUBLE PRECISION
)
AS
DECLARE VARIABLE AUX_REPRESENTA DOUBLE PRECISION;
BEGIN
   TOTALREPRESENTA = 0;
   FOR SELECT REPRESENTA FROM CPS(:CONSULTA)
   INTO :AUX_REPRESENTA DO
   BEGIN
       if ( aux_representa is null ) then
          aux_representa =0;
       TOTALREPRESENTA = TOTALREPRESENTA + AUX_REPRESENTA;
   END
   suspend;
END
 ^


ALTER PROCEDURE "GRAFICOVIEW" 
(
  "DESCRICAO" VARCHAR(250),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "VALOR" DOUBLE PRECISION
)
AS
begin
  for select datahora, valor from cpscontrolepac
      where codigocps = rdb$get_context('USER_SESSION','CPS') AND TIPO = :DESCRICAO AND DATAHORA BETWEEN :INICIO AND :FINAL
      INTO data, valor do
      suspend;
end
 ^


ALTER PROCEDURE "HISTORICOPAC" 
(
  "PACIENTE" FLOAT
)
RETURNS
(
  "DIAGNOSTICO" BLOB,
  "OBSERVACAO" BLOB,
  "EXAME" BLOB,
  "ATENDIMENTO" BLOB,
  "TRATAMENTO" BLOB,
  "ANTECEDENTE" BLOB,
  "RESULTADO" BLOB,
  "A_DATAFAT" TIMESTAMP,
  "A_CID" VARCHAR(100),
  "MEDICO" VARCHAR(250),
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "MARCACAO" FLOAT
)
AS
declare variable auxGEN_CPC_BUSCANIP integer;
declare variable vmatricula varchar(30);
declare variable vcodpac integer;
declare variable  vcodigopac2 integer;
begin
  codigopac = paciente;
  for select CPS1.DIAGNOSTICO, CPS1.OBSERVACAO, CPS1.EXAME, CPS1.ATENDIMENTO,CPS1.TRATAMENTO, CPS1.ANTECEDENTE,
  CPS1.RESULTADO, CPS1.A_DATAFAT, CPS1.A_CID, MEDICOS.A_NOME MEDICO, CPS1.CODIGOCPS, cps1.marcacao
  FROM CPS1
  INNER JOIN MEDICOS ON (MEDICOS.A_MEDICOS = CPS1.MEDRESP)
  WHERE CPS1.CODIGOPAC = :paciente
  into diagnostico, observacao, exame, atendimento, tratamento, antecedente, resultado, a_datafat, a_cid, medico, codigocps, marcacao do
  begin
    suspend;
  end
  resultado = null;
  for select evolucaoenf.SUSP_DIAGNOSTICA, evolucaoenf.OBSERVACAO, evolucaoenf.problemas, evolucaoenf.CONTEUDO, evolucaoenf.PLANO_CONDUTA, evolucaoenf.historia_admissao,
  evolucaoenf.DATAHORA, CPS1.A_CID, MEDICOS.A_NOME MEDICO, CPS1.CODIGOCPS, cps1.marcacao
  FROM evolucaoenf
  inner join cps1 on (cps1.codigocps = evolucaoenf.codigocps)
  INNER JOIN USUARIOS ON (USUARIOS.CODIGO = EVOLUCAOENF.USER1)
  INNER JOIN MEDICOS ON (MEDICOS.A_MEDICOS = USUARIOS.MEDICO)
  WHERE CPS1.CODIGOPAC = :paciente and codigopla <=2
  into diagnostico, observacao, exame, atendimento, tratamento, antecedente, a_datafat, a_cid, medico, codigocps, marcacao do
  begin
    suspend;
  end
 vmatricula = '';
  select gen_id( GEN_CPC_BUSCANIP, 0 ) from rdb$database into :auxGEN_CPC_BUSCANIP;
  select matricula from paciente where codigopac = :PACIENTE into :vmatricula;
  IF ( auxGEN_CPC_BUSCANIP = 1 ) then
  begin
       for select codigopac from paciente where matricula = :vmatricula into :vcodpac do
       begin
          if ((:vcodpac > 0) and (:vcodpac <> :PACIENTE)) Then
          begin
         --  exception exc_dinamica 'teste';
           CODIGOPAC = :vcodpac;
           vcodigopac2 = :vcodpac;
           for select CPS1.DIAGNOSTICO, CPS1.OBSERVACAO, CPS1.EXAME, CPS1.ATENDIMENTO,CPS1.TRATAMENTO, CPS1.ANTECEDENTE,
           CPS1.RESULTADO, CPS1.A_DATAFAT, CPS1.A_CID, MEDICOS.A_NOME MEDICO, CPS1.CODIGOCPS, cps1.marcacao
             FROM CPS1
             INNER JOIN MEDICOS ON (MEDICOS.A_MEDICOS = CPS1.MEDRESP)
             WHERE CPS1.CODIGOPAC = :vcodigopac2
             into diagnostico, observacao, exame, atendimento, tratamento, antecedente, resultado, a_datafat, a_cid, medico, codigocps, marcacao do
             begin
               medico =  medico || ' #CPS UNIFICADO PELO NIP';
               suspend;
             end
             resultado = null;
             for select evolucaoenf.SUSP_DIAGNOSTICA, evolucaoenf.OBSERVACAO, evolucaoenf.problemas, evolucaoenf.CONTEUDO, evolucaoenf.PLANO_CONDUTA, evolucaoenf.historia_admissao,
             evolucaoenf.DATAHORA, CPS1.A_CID, MEDICOS.A_NOME MEDICO, CPS1.CODIGOCPS, cps1.marcacao
             FROM evolucaoenf
             inner join cps1 on (cps1.codigocps = evolucaoenf.codigocps)
             INNER JOIN USUARIOS ON (USUARIOS.CODIGO = EVOLUCAOENF.USER1)
             INNER JOIN MEDICOS ON (MEDICOS.A_MEDICOS = USUARIOS.MEDICO)
             WHERE CPS1.CODIGOPAC = :vcodigopac2 and codigopla <=2
             into diagnostico, observacao, exame, atendimento, tratamento, antecedente, a_datafat, a_cid, medico, codigocps, marcacao do
             begin
               medico =  medico || ' #CPS UNIFICADO PELO NIP';
               suspend;
             end
          end
       end
  end
end
 ^


ALTER PROCEDURE "HONMEDICO" 
(
  "CONVENIO" INTEGER,
  "MEDICO" INTEGER,
  "CODIGOAMB" VARCHAR(9),
  "VALOR" DOUBLE PRECISION,
  "VALORFILME" DOUBLE PRECISION,
  "VALORCO" DOUBLE PRECISION,
  "GLOSATOTAL" DOUBLE PRECISION,
  "DHE" CHAR(1),
  "CODIGOPLA" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "QTDE" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "PROCMED" DOUBLE PRECISION,
  "PROC" DOUBLE PRECISION,
  "FILMEMED" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION
)
AS
declare variable parceiroperc double precision;
declare variable percentual double precision;
declare variable percentual1 double precision;
declare variable filmeparceiro double precision;
declare variable percentualfilme double precision;
declare variable particular char(1);
declare variable grupo integer;
declare variable co char(1);
declare variable convenioporfora char(1);
begin
      if (glosatotal is null) then
         glosatotal = 0;
      if (valorfilme is null) then
         valorfilme = 0;
      select a_grupom from medicos where a_medicos = :medico into :grupo;
      select first 1 valorfixo,parceiro, parceiroperc, percentual, percentual1, filme, co, filmeparceiro from defprof where ((a_medicos = :medico) or (grupo = :grupo)) and (a_codamb1 <= :codigoamb and a_codamb2 >= :codigoamb) and
      (convenio = :convenio or convenio=0 or convenio is null) and (unidadenegocio = :unidadenegocio or unidadenegocio=0 or unidadenegocio is null) and ( defprof.vencimento is null or defprof.vencimento >= :data) order by a_medicos desc, vencimento nulls last, convenio desc, unidadenegocio desc into :procmed, :parceiro, :parceiroperc, :percentual, :percentual1, :percentualfilme, :co, :filmeparceiro;
      if (percentual is null) then
      begin
         if ((codigopla = 1) and ((codigoamb= '00010014') or (codigoamb= '01010014') or (codigoamb= '10101012') or
            (codigoamb= '10101039') or (codigoamb= '10101020'))) then
         begin
             SELECT first 1 CONSULTA FROM grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                         (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
             INTO :percentual;
             percentual1 = percentual;
         end
         if ( ( ( codigopla = 1 ) and ( ( codigoamb <> '00010014' ) and ( codigoamb <> '01010014' ) and ( codigoamb <> '10101012' ) and
            ( codigoamb <> '10101039') and (codigoamb <> '10101020'))) or (codigopla = 2)) then
         begin
             percentual = null;
             if ((codigopla = 2) and ((codigoamb= '00010014') or (codigoamb= '01010014') or (codigoamb= '10101012') or
                 (codigoamb= '10101039') or (codigoamb= '10101020'))) then
                select first 1 consultaemergencia from grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                         (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
                into :percentual;
             else if (codigopla = 2) then
                select first 1 emergencia from grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                         (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
                into :percentual;
             if (percentual is null) then
                select first 1 a_rete from grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                         (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
                into :percentual;
             if ((codigoamb= '01010014') or (codigoamb= '10101012') or
                (codigoamb= '10101039') or (codigoamb= '10101020')) then
                 SELECT first 1 CONSULTAEMERGENCIA FROM grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                         (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
                 INTO :percentual;
             percentual1 = percentual;
         end
         if ((codigopla in (3,7)) and ((codigoamb= '00020010') or (codigoamb= '10102019'))) then
         begin
             select first 1 visita from grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                       (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
             into :percentual;
             percentual1 = percentual;
         end
         if ((codigopla in (3,7)) and ((codigoamb <> '00020010') and (codigoamb <> '10102019'))) then
         begin
             select first 1 a_reti from grupomed WHERE (a_grupom = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico)) or
                                                         (a_grupomvinc = ( SELECT a_grupom FROM medicos WHERE a_medicos = :medico) and vencimento >= :data) order by vencimento nulls last
             into :percentual;
             percentual1 = percentual;
         end
      end
      if (percentualfilme is null) then
      begin
        If (((codigoamb >= '33000000') and (codigoamb <= '33999999')) or ((codigoamb >= '40901017') and (codigoamb <= '40902999'))) then
           select filmepercus from medicos where a_medicos = :medico into :percentualfilme;
        else
           select filmeperc from medicos where a_medicos = :medico into :percentualfilme;
      end
      glosamed = 0;
      glosa    = 0;
      if (glosatotal <> 0) then
      begin
        if (dhe = 'S')then
           glosamed=glosatotal*(percentual1/100);
        else
           glosamed=glosatotal*(percentual/100);
        if ((percentualfilme = 0 ) and (valorfilme > 0)) then
           glosamed=glosamed - (valorfilme*(percentual/100));
        valor = valor - glosatotal;
        if ((valor < 0) and (valorfilme > 0)) then
        begin
           valorfilme = valorfilme + valor;
           valor = 0;
        end
        if (valor < 0 ) Then
          valor = 0;
        if (valorfilme < 0 ) Then
          valorfilme = 0;
        glosa = glosatotal - glosamed;
      end
      if ((co = 'N') and (valorco > 0) and (valor > valorco)) then
        valor = valor - valorco;
      if (parceiro>0) then
      begin
         parceiro=valor*(parceiroperc/100);
      end
      if (filmeparceiro > 0) Then
      begin
        parceiro = parceiro + valorfilme*(filmeparceiro/100);
      end
      if (procmed > 0) Then
        procmed = procmed*qtde;
      if (procmed=0 or procmed is null) then
      if (dhe = 'S')then
         procmed=valor*(percentual1/100);
      else
         procmed=valor*(percentual/100);
      if (procmed is null) then
         procmed = 0;
      if ((valorfilme > 0 ) and (percentualfilme > 0)) then
      begin
         filmemed = valorfilme*(percentualfilme/100);
      end
      if (filmemed is null) then
         filmemed = 0;
      filme = valorfilme - filmemed;
      proc=valor-procmed;
      if (parceiro is null) then
        parceiro = 0;
      if ((glosatotal > 0 ) and ((percentualfilme = 0) or (percentualfilme is null))) then
      begin
        glosatotal = glosatotal - valorfilme;
      end
      suspend;
end
 ^


ALTER PROCEDURE "HONMEDICORESUMO" 
(
  "CONSULTA" VARCHAR(3000),
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "MEDREF" INTEGER,
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN
END
 ^


ALTER PROCEDURE "HONOCALCCUSTO" 
(
  "FATURA" VARCHAR(30)
)
RETURNS
(
  "STATUS" VARCHAR(50)
)
AS
declare variable codigopla smallint;
declare variable dhe char(1);
declare variable indice float;
declare variable codigocps float;
declare variable valor float;
begin
  for select codigopla,dhe, indice, codigocps,sum(procmed+filmemed) from honorario('(''where fatura= ' || :fatura || ''')',0)
  group by 1,2,3,4 into codigopla, dhe, indice, codigocps, :valor do
  begin
    if ((codigopla = 3) and (dhe = 'M')) then
      update inter32 set custo = :valor where inter3no = :indice and codigoint = :codigocps and custo is null;
    if ((codigopla = 3) and (dhe <> 'M')) then
      update inter3 set custo = :valor where inter3no = :indice and codigoint = :codigocps;
    if ((codigopla <> 3) and (dhe = 'M')) then
      update cps3 set custo = :valor where indice = :indice and codigocps = :codigocps and custo is null;
    if ((codigopla <> 3) and (dhe <> 'M')) then
      update cps2 set custo = :valor where indice = :indice and codigocps2 = :codigocps;
  end
  status = 'Custo Atualizado';
  suspend;
end
 ^


ALTER PROCEDURE "HONORARIO" 
(
  "CONSULTA" VARCHAR(6000),
  "HONGLOSA" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "EMPRESA" SMALLINT,
  "UNIDADENEGOCIO" INTEGER,
  "CODIGOPLA" INTEGER,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CONVENIO" INTEGER,
  "CODIGOAMB" CHAR(8),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "MEDRESP" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "A_FILME" FLOAT,
  "GLOSATOTAL" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DHE" CHAR(1),
  "PROCMED" DOUBLE PRECISION,
  "PROC" DOUBLE PRECISION,
  "FILMEMED" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION,
  "TIPO" VARCHAR(30),
  "GLOSATIPO" SMALLINT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "INDICE" FLOAT,
  "FATURA" INTEGER,
  "GLOSADEFINITIVA" CHAR(1),
  "A_SITUACAO" CHAR(1),
  "CODIGOAMB1" CHAR(8),
  "COBRAR" CHAR(1),
  "DATARECEBIMENTO" TIMESTAMP,
  "FATURAGLOSA" INTEGER
)
AS
declare variable matmed char(1);
declare variable particular char(1);
declare variable tipoglosa char(1);
declare variable convenioporfora char(1);
declare variable impostonafonte double precision;
declare variable filmeparceiro double precision;
declare variable co double precision;
declare variable solicite double precision;
declare variable local varchar(40);
declare variable pacote char(1);
declare variable desconto char(1);
declare variable glosaadm char(1);
declare variable solcremeb char(8);
declare variable cremebsolitem char(6);
declare variable situacaoitem varchar(1);
declare variable comedico char(1);
declare variable solporcentagem double precision;
declare variable medicosol integer;
declare variable hontipo integer;
declare variable grupo integer;
begin
select gen_id(gen_hontipo,0) from rdb$database into :hontipo;
for execute statement 'select cps.codigocps, cps.tratamento, cps.parcela, cps.empresa, cast(cps.codigopla as integer), cps.codigopac, cps.a_datafat, cps.a_hora, cps.convenio, cps.codigoamb, cps.codigoserv, cps.medresp, cps.a_medicos, cps.quantidade, cps.valor, cast(cps.co as double precision), cps.a_filme, cps.glosa, cps.glosarecebida, cps.glosatipo, cps.dhe, cps.cobrar, cps.data, cps.hora, cps.indice, cast( cps.fatura as integer ), cast( cps.faturaglosa as integer ), cps.glosadefinitiva, cps.unidadenegocio, cps.a_situacao, cps.codigoamb1, cps.situacaoitem, cps.solcremeb, cps.cremebsolitem ,cps.datarecebimento from cps' || :consulta
into :codigocps, :tratamento, :parcela, :empresa, :codigopla, :codigopac, :a_datafat, :a_hora, :convenio, :codigoamb, :codigoserv, :medresp, :a_medicos, :quantidade, :valor, :co, :a_filme, :glosatotal, :glosarecebida, :glosatipo, :dhe, :cobrar, :data, :hora, :indice, :fatura, :faturaglosa, :glosadefinitiva, :unidadenegocio, :a_situacao, :codigoamb1, :situacaoitem, :solcremeb, :cremebsolitem, :datarecebimento do
begin
  if (exists(select valor from buscaconfiguracao('syshosp','HIHONORARIONORMAL') WHERE VALOR = 'S')) then
    cobrar = 'S';
  comedico = null;
  select a_grupom, co from medicos where a_medicos = :a_medicos into :grupo, comedico;
  if ((co > 0) and (comedico = 'N')) then
  begin
    valor = valor - co;
    co = 0;
  end
  if (unidadenegocio is null) then
    unidadenegocio = 0;
  if (glosatotal is null) then
    glosatotal = 0;
  if (cobrar is null) then
    cobrar = 'S';
  tipoglosa = '';
  if (glosatipo > 0) then
    select first 1 administrativa from motivoglosa where numero = :glosatipo into :tipoglosa;
  if (tipoglosa = 'S') then
    glosatotal = 0;
  if (honglosa = 1) then
  begin
     valor = glosarecebida;
     glosatotal = 0;
  end
  if (honglosa = 2) then
  begin
     if (((valor - glosatotal) >= -0.1) and ((valor - glosatotal) <= 0.1)) then
     a_filme = 0;
     valor = glosatotal;
     glosatotal = 0;
  end
  if (codigopla = 1) then
  begin
      select impostonafonte , pacoteamb from convenio where convenio =:convenio into :impostonafonte, :pacote;
  end
  else if (codigopla = 2) then
  begin
      select impostonafonte , pacoteemg from convenio where convenio =:convenio into :impostonafonte, :pacote;
  end
  else if (codigopla = 3) then
  begin
      select impostonafonte , pacoteint from convenio where convenio =:convenio into :impostonafonte, :pacote;
  end
  if (impostonafonte > 0) then
  begin
    valor      = valor*(1-impostonafonte/100);
    a_filme    = a_filme*(1-impostonafonte/100);
    glosatotal = glosatotal*(1-impostonafonte/100);
  end
  if (a_filme > 0) then
    valor = valor - a_filme;
  if (dhe <> 'M') then
  begin
    select ativo from dhe(cast(:a_datafat as date) + cast(:a_hora as time),:convenio) into :dhe;
    select PROCMED, PROC, FILMEMED, FILME, GLOSA, GLOSAMED, PARCEIRO
    from HONMEDICO(:CONVENIO, :A_MEDICOS, :CODIGOAMB, :VALOR, :A_FILME, :CO, :GLOSATOTAL, :DHE, :codigopla, :unidadenegocio, :quantidade, :data)
    into :PROCMED, :PROC, :FILMEMED, :FILME, :GLOSA, :GLOSAMED, :PARCEIRO;
    if (situacaoitem = 'T') then
    begin
      procmed = valor - glosatotal;
      if (procmed < 0) then
        procmed = 0;
      proc = 0;
    end
    Tipo = '1 - Honorario Medico';
    particular = 'N';
    if (codigopla = 1) then
      select particular from medicos where a_medicos = :a_medicos into :particular;
    if (codigopla = 2) then
      select particular1 from medicos where a_medicos = :a_medicos into :particular;
    if (codigopla = 3) then
      select particular2 from medicos where a_medicos = :a_medicos into :particular;
    if (particular = 'S') then
    begin
      particular = 'N';
      select particular, pacote from convenio where convenio = :convenio into :particular, :desconto;
      if (particular = 'S') then
      begin
        particular = 'N';
        select somentehonorario from medicos where a_medicos = :a_medicos into :particular;
        if (particular = 'S') then
        begin
          Tipo = '4 - Honorario Adiantado';
        end
        else
        begin
          Tipo = '2 - Fatura Part. Adiantada';
          procmed = procmed - valor;
          if (glosatotal < 0) then
            procmed = procmed + glosatotal;
          filmemed = filmemed - a_filme;
        end
      end
    end
    particular = 'N';
    if (codigopla = 1) then
      select  first 1 amb from defprof4 where a_medicos = :a_medicos and convenio = :convenio and ((:data between inicio and fim) or (inicio is null and fim is null)) order by fim desc into :particular;
    if (codigopla = 2) then
      select first 1 eme from defprof4 where a_medicos = :a_medicos and convenio = :convenio and ((:data between inicio and fim) or (inicio is null and fim is null)) order by fim desc into :particular;
    if (codigopla = 3) then
      select first 1 inter from defprof4 where a_medicos = :a_medicos and convenio = :convenio and ((:data between inicio and fim) or (inicio is null and fim is null)) order by fim desc into :particular;
    if (particular = 'S') then
    begin
      select first 1 desconto, enviadopara from defprof4 where a_medicos = :a_medicos and convenio = :convenio and ((:data between inicio and fim) or (inicio is null and fim is null)) into :particular, :local;
      if ((cobrar = 'S') and (hontipo = 1)) then
        particular = 'N';
      if ((particular is null) or (particular = 'S')) then
      begin
        Tipo = '3 - Honor. Pagam. Externo';
        If ((desconto <> 'D') or (desconto is null)) Then
          procmed = valor - procmed;
        If (filmemed > 0) Then
            filmemed = a_filme - filmemed;
        filmemed = -1*filmemed;
        procmed = -1*procmed;
        filmemed = -1*filmemed;
      end
      else if (particular = 'N') then
        Tipo = '1 - Honorario Medico';
      else
        Tipo = '5 - Honor. Pagam. Externo';
    end
    if (((cobrar = 'N') or (cobrar = 'H')) and ((pacote <> 'S') or (pacote is null))and (Tipo <> '3 - Honor. Pagam. Externo')) then
      Tipo = '5 - Honor. Pagam. Externo';
    solicite = null;
    medicosol = null;
    select first 1 a_medicos from medicos where a_cremeb = :solcremeb and a_medicos <> :a_medicos into :medicosol;
    select first 1 porcentagem, descontamedico from defprofsol where a_medicos = :medicosol and codigoamb1 <= :codigoamb and codigoamb2 >= :codigoamb and (:data between inicio and final) into :solicite, :particular;
    if ((solicite > 0) and (particular = 'S')) then
      procmed = procmed - valor*solicite/200;
  end
  if ((dhe = 'M')) then
  begin
    parceiro = 0;
    Tipo = '1 - Honorario Medico';
    particular = 'N';
    if (codigopla = 1) then
      select particular from medicos where a_medicos = :a_medicos into :particular;
    if (codigopla = 2) then
      select particular1 from medicos where a_medicos = :a_medicos into :particular;
    if (codigopla in (3,7)) then
      select particular2 from medicos where a_medicos = :a_medicos into :particular;
    if (particular = 'S') then
    begin
      particular = 'N';
      select particular, pacote from convenio where convenio = :convenio into :particular, :desconto;
      if (particular = 'S') then
      begin
        particular = 'N';
        select somentehonorario from medicos where a_medicos = :a_medicos into :particular;
        if (particular = 'S') then
        begin
          Tipo = '4 - Honorario Adiantado';
        end
        else
        begin
          Tipo = '2 - Fatura Part. Adiantada';
          procmed = procmed - valor;
          if (glosatotal < 0) then
            procmed = procmed + glosatotal;
        end
      end
    end
    if (((cobrar = 'N') or (cobrar = 'H')) and ((pacote <> 'S') or (pacote is null))and (Tipo <> '3 - Honor. Pagam. Externo')) then
      Tipo = '5 - Honor. Pagam. Externo';
    select matmed from medicos where a_medicos = :a_medicos into :matmed;
    if ((matmed = 'N') and (gen_id(honmatmedmedico,0) = 0)) then
    begin
      if (codigopla <> 3) then
      select first 1 cps2.a_medicos from cps2
      inner join medicos on (medicos.a_medicos = cps2.a_medicos) AND (medicos.matmed in ('S','P'))
      where codigocps2 = :codigocps order by medicos.matmed desc into :a_medicos;
      else
      select first 1 inter3.a_medicos from inter3
      inner join medicos on (medicos.a_medicos = inter3.a_medicos) AND (medicos.matmed in ('S','P'))
      where codigoint = :codigocps order by medicos.matmed desc into :a_medicos;
      select matmed from medicos where a_medicos = :a_medicos into :matmed;
    end
    if (matmed <> 'N') then
      select   MMMED, MM, 0,0,GLOSA,GLOSAMED, PARCEIRO
      from MMMEDICO(:A_MEDICOS, cast(:CODIGOSERV as integer), :VALOR, :GLOSATOTAL, :CONVENIO, :UNIDADENEGOCIO, :DATA)
      into :PROCMED, :PROC, :FILMEMED, :FILME, :GLOSA, :GLOSAMED, :PARCEIRO;
    else
      procmed = 0;
  end
  if (situacaoitem = 'P') then
    Tipo = '4 - Honorario Adiantado';
  if (situacaoitem = 'H') then
    Tipo = '6 - Honor. Pagam. Fixo';
  if (situacaoitem = 'A') then
    Tipo = '7 - Honor. Pagam. Em Aberto';
  if (((valor > 0) or ((valor = 0 ) and (gen_id(gen_honzerado,0) = 1))) and ((dhe <> 'M') or ((dhe = 'M') and (( procmed > 0 ) or (glosamed > 0)and (Tipo < '5')) and (matmed <> 'N')))) then
  begin
    if (honglosa >= 1) then
      select administrativa from motivoglosa where numero = :glosatipo into :glosaadm;
    if (glosaadm is null) then
      glosaadm = 'N';
    if (((glosaadm = 'N') and (honglosa = 1)) or (honglosa = 0)) then
    begin
      if (tipoglosa = 'M') then procmed = procmed - glosa;
      suspend;
    end
  end
  if (parceiro > 0)  then
  begin
    If (Tipo = '2 - Fatura Part. Adiantada') Then
      parceiro = 0;
    glosamed = 0;
    procmed = parceiro;
    filmeparceiro = null;
    filmemed = 0;
    if (dhe <> 'M') then
    begin
        select first 1 parceiro, filmeparceiro
        from defprof
        where ((a_medicos = :a_medicos) or (grupo = :grupo)) and (a_codamb1 <= :codigoamb and a_codamb2 >= :codigoamb) and
        (convenio = :convenio or convenio=0 or convenio is null) and (unidadenegocio = :unidadenegocio or unidadenegocio=0 or unidadenegocio is null)
        and ( defprof.vencimento is null or defprof.vencimento >= :data)
        order by a_medicos desc, vencimento, convenio desc, unidadenegocio desc
        into :a_medicos, :filmeparceiro;
        if (cremebsolitem is not null) then
          select first 1 a_medicos from medicos where a_cremeb = :cremebsolitem into :a_medicos;
    end
    else
      select first 1 parceiro,0 from defprofmm where (a_medicos = :a_medicos) and ((codigomm = :codigoserv) or (a_codamb1 <= :codigoamb and a_codamb2 >= :codigoamb)) into :a_medicos, :filmeparceiro;
    if (filmeparceiro > 0) then
    begin
      filmemed = filmeparceiro*a_filme/100;
      procmed = procmed - filmemed;
    end
    if (honglosa >= 1) then
      select administrativa from motivoglosa where numero = :glosatipo into :glosaadm;
    if (glosaadm is null) then
      glosaadm = 'N';
    parceiro = -1;
    if (((glosaadm = 'N') and (honglosa >= 1)) or (honglosa = 0)) then
      suspend;
  end
  if ((valor > 0) and ((dhe <> 'M') or ((dhe = 'M') and (( procmed > 0 ) or (glosamed > 0)and (Tipo < '5')) and (matmed <> 'N')))) then
  begin
    solporcentagem = null;
    select first 1 a_medicos, solporcentagem from medicos where a_cremeb = :solcremeb and solporcentagem > 0 and a_medicos <> :a_medicos into :a_medicos, solporcentagem;
    if (solporcentagem > 0) then
    begin
      procmed = valor*solporcentagem/100;
      filmemed = 0;
      suspend;
    end
    if ( solicite > 0 ) then
    begin
      procmed = valor*solicite/100;
      procmed = valor*(1-glosatotal/valor)*solicite/100;
      glosamed = glosatotal*(1-glosatotal/valor);
      filmemed = 0;
      a_medicos = medicosol;
      suspend;
    end
  end
end
end
 ^


ALTER PROCEDURE "HONORARIOCOMIMPOSTO" 
(
  "CONSULTA" VARCHAR(6000),
  "HONGLOSA" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "PARCELA" SMALLINT,
  "EMPRESA" SMALLINT,
  "CODIGOPLA" INTEGER,
  "CODIGOPAC" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "CONVENIO" INTEGER,
  "CODIGOAMB" CHAR(8),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "MEDRESP" INTEGER,
  "QUANTIDADE" INTEGER,
  "VALOR" FLOAT,
  "A_FILME" FLOAT,
  "GLOSATOTAL" FLOAT,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DHE" CHAR(1),
  "PROCMED" DOUBLE PRECISION,
  "PROC" DOUBLE PRECISION,
  "FILMEMED" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION,
  "TIPO" VARCHAR(30),
  "GLOSATIPO" SMALLINT,
  "IRRF" DOUBLE PRECISION,
  "PIS" DOUBLE PRECISION,
  "ISS" DOUBLE PRECISION,
  "CSL" DOUBLE PRECISION,
  "COFINS" DOUBLE PRECISION
)
AS
declare variable H_IRRF DOUBLE PRECISION;
  declare variable H_PIS DOUBLE PRECISION;
  declare variable H_ISS DOUBLE PRECISION;
  declare variable H_CSL DOUBLE PRECISION;
  declare variable H_COFINS DOUBLE PRECISION;
BEGIN
  for Select   CODIGOCPS, TRATAMENTO, PARCELA, EMPRESA, CODIGOPLA, CODIGOPAC, A_DATAFAT, A_HORA,
  CONVENIO, CODIGOAMB, CODIGOSERV, A_MEDICOS, MEDRESP, QUANTIDADE, VALOR, A_FILME, GLOSATOTAL,
  GLOSARECEBIDA, DHE, PROCMED, PROC, FILMEMED, FILME, GLOSA, GLOSAMED, PARCEIRO, TIPO, GLOSATIPO
 from honorario(:consulta,:honglosa) into :CODIGOCPS, :TRATAMENTO, :PARCELA, :EMPRESA, :CODIGOPLA,
  :CODIGOPAC, :A_DATAFAT, :A_HORA, :CONVENIO, :CODIGOAMB, :CODIGOSERV, :A_MEDICOS, :MEDRESP, :QUANTIDADE,
  :VALOR, :A_FILME, :GLOSATOTAL, :GLOSARECEBIDA, :DHE, :PROCMED, :PROC, :FILMEMED, :FILME, :GLOSA, :GLOSAMED,
  :PARCEIRO, :TIPO, :GLOSATIPO do
  BEGIN
    select h_irrf,h_pis,h_cofins, h_cls, h_iss from convenio where convenio = :convenio into :h_irrf, :h_pis, :h_cofins, :h_csl, :h_iss;
    if (h_irrf > 0) then
      irrf = procmed*h_irrf/100;
    if (h_pis > 0) then
      pis = procmed*h_pis/100;
    if (h_cofins > 0) then
     cofins = procmed*h_cofins/100;
    if (h_csl > 0) then
      csl = procmed*h_csl/100;
    if (h_iss > 0) then
      iss = procmed*h_iss/100;
    if (irrf is null) then
      irrf =0;
    if (pis is null) then
      pis=0;
    if (cofins is null) then
      cofins=0;
    if (csl is null) then
      csl=0;
    if (iss is null) then
      iss=0;
    suspend;
  end
end
 ^


ALTER PROCEDURE "HONORARIODEPTORESUMO" 
(
  "CONSULTA" VARCHAR(6000),
  "GLOSA" INTEGER
)
RETURNS
(
  "DEPTO" INTEGER,
  "A_MEDICOS" INTEGER,
  "HONORARIO" DOUBLE PRECISION,
  "IRRF" DOUBLE PRECISION,
  "PIS" DOUBLE PRECISION,
  "ISS" DOUBLE PRECISION,
  "CSL" DOUBLE PRECISION,
  "COFINS" DOUBLE PRECISION
)
AS
begin
for select usuarios.depto, honorariocomimposto.a_medicos, sum(procmed+filmemed),
           sum(irrf), sum(pis), sum(iss), sum(csl), sum(cofins)  from honorariocomimposto(:consulta,:GLOSA)
    inner join cps1 on cps1.codigocps = honorariocomimposto.codigocps
    left join usuarios on usuarios.codigo = cps1.codigo
    where honorariocomimposto.tipo < '4'
    group by usuarios.depto, honorariocomimposto.a_medicos
    having sum(procmed+filmemed) <> 0 order by 1,2 into :depto, :a_medicos, :honorario,
    :irrf, :pis, :iss , :csl, :cofins do
    suspend;
end
 ^


ALTER PROCEDURE "HORARIOSLIVRES" 
(
  "TIPO" CHAR(1),
  "COD" VARCHAR(20),
  "DATA" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(50),
  "GRUPO" VARCHAR(100)
)
AS
begin
  grupo = '';
  If (tipo = 'M') then
  begin
    for select numero, cast(cast(hora as time) as varchar(20)) from marcacao where data = :data and a_medicos = :cod  and paciente is null order by hora into indice, descricao do
    begin
     descricao = cast(substr(descricao,1,5) as varchar(10));
     suspend;
    end
  end
  else
  begin
    for select distinct numero, cast(cast(hora as time) as varchar(20)), medicos.a_nome from marcacao
    inner join medicos on (medicos.a_medicos = marcacao.a_medicos)
    inner join defprof1 on (defprof1.a_medicos = medicos.a_medicos)
    inner join especialidade on (defprof1.especialidade = especialidade.codesp)
    where marcacao.data = :data and defprof1.especialidade = :cod  and paciente is null
    order by data into indice, descricao, grupo do
    begin
     descricao = cast(substr(descricao,1,5) as varchar(10));
     suspend;
    end
  end
end
 ^


ALTER PROCEDURE "IDADE_CALC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "ANO" INTEGER,
  "MES1" INTEGER,
  "MES2" INTEGER
)
AS
begin
  ano = extract(year from data2) - extract(year from data1);
  mes1 = extract(month from data1)*100 + extract(day from data1);
  mes2 = extract(month from data2)*100 + extract(day from data2);
  if ((mes1 > mes2) and (ano > 0)) then
    ano = ano - 1;
  suspend;
end
 ^


ALTER PROCEDURE "IMPORTALVARO_DEFAULT" 
(
  "ID" VARCHAR(200),
  "VARIAVEL" VARCHAR(200),
  "VALOR" VARCHAR(200),
  "DATA" TIMESTAMP
)
RETURNS
(
  "STATUS" VARCHAR(30)
)
AS
begin
  status = 'OK';
  suspend;
end
 ^


ALTER PROCEDURE "IMPORTPARDINI" 
(
  "ID" VARCHAR(150),
  "VARIAVEL" VARCHAR(150),
  "VALOR" VARCHAR(150),
  "DATA" VARCHAR(150)
)
RETURNS
(
  "STATUS" VARCHAR(20)
)
AS
BEGIN EXIT; END
 ^


ALTER PROCEDURE "IMPRESSOLISTA" 
(
  "USUARIO" INTEGER
)
RETURNS
(
  "TITULO" VARCHAR(250),
  "DESCRICAO" BLOB,
  "TIPO" VARCHAR(250),
  "A_MEDICOS" INTEGER,
  "PARAMETRO" BLOB
)
AS
begin
  for SELECT titulo, descricao, tipo, a_medicos, parametro FROM RECEITA
  where a_medicos = 0
      into titulo, descricao, tipo, a_medicos, parametro do
  begin
    if (descricao is not null) then
    suspend;
  end
end
 ^


ALTER PROCEDURE "INCIDENCIACID" 
(
  "DATAINI" DATE,
  "DATAFIM" DATE,
  "CID" VARCHAR(4)
)
RETURNS
(
  "PRONTUARIO" INTEGER,
  "NOMEPAC" VARCHAR(50),
  "DATA" DATE,
  "MES" SMALLINT,
  "ANO" SMALLINT,
  "NUMEROCPS" INTEGER,
  "A_CID" VARCHAR(4)
)
AS
DECLARE VARIABLE PACIENTE INTEGER;
DECLARE VARIABLE NUMEROPAC INTEGER;
DECLARE VARIABLE DATALAN DATE;
DECLARE VARIABLE CODIGOCPS INTEGER;
BEGIN
  PACIENTE = 0;
  FOR SELECT CODIGOPAC, A_DATA, CODIGOCPS, A_CID FROM CPS1 WHERE CPS1.A_CID = :CID AND A_DATAFAT BETWEEN :DATAINI AND :DATAFIM ORDER BY CODIGOPAC, A_DATAFAT INTO :NUMEROPAC, :DATALAN, :CODIGOCPS, :A_CID DO
  BEGIN
   IF ( PACIENTE = 0 ) THEN
   BEGIN
     PACIENTE = NUMEROPAC;
     PRONTUARIO = NUMEROPAC;
     NUMEROCPS = CODIGOCPS;
     DATA  = DATALAN;
     SELECT A_NOME FROM  PACIENTE WHERE CODIGOPAC = :NUMEROPAC INTO NOMEPAC;
     ANO = EXTRACT(YEAR FROM :DATA);
     MES = EXTRACT(MONTH FROM :DATA);
     SUSPEND;
   END
     ELSE
       IF ( PACIENTE <> NUMEROPAC) THEN
       BEGIN
         PACIENTE = NUMEROPAC;
         PRONTUARIO = NUMEROPAC;
         NUMEROCPS = CODIGOCPS;
         DATA  = DATALAN;
         SELECT A_NOME FROM  PACIENTE WHERE CODIGOPAC = :NUMEROPAC INTO NOMEPAC;
         ANO = EXTRACT(YEAR FROM :DATA);
         MES = EXTRACT(MONTH FROM :DATA);
         SUSPEND ;
       END
  END
END
 ^


ALTER PROCEDURE "INCLUIR_MARCACAO" 
(
  "CODIGOCPS" INTEGER,
  "MEDICOS" INTEGER
)
RETURNS
(
  "RESPOSTA" VARCHAR(50)
)
AS
declare variable auxPaciente varchar(50);
declare variable auxCodigopac integer;
declare variable auxConvenio integer;
declare variable auxA_DataFat TimeStamp;
declare variable auxA_Hora TimeStamp;
declare variable auxA_medico Integer;
declare variable auxProcedimento varchar(8);
declare variable auxCodigo integer;
declare variable auxIP varchar(16);
declare variable auxVersao varchar(20);
declare variable auxIndiceMarc integer;
begin
   auxPaciente = '';
   auxCodigopac = 0;
   auxConvenio = 0;
   auxA_DataFat = null;
   auxA_Hora = null;
   auxA_medico = 0;
   auxProcedimento = '';
   auxIP = '';
   auxVersao = '';
   auxIndiceMarc = 0;
   Resposta = 'No Cadastrado';
   if (codigocps > 0 ) then
   begin
          select paciente.a_nome, cps1.codigopac, cps1.convenio, cps1.a_datafat, cps1.a_hora, cps1.MedResp, cps1.principal, cps1.codigo, cps1.ip, cps1.versao  from cps1
          inner join paciente on (cps1.codigopac = paciente.codigopac)
          where cps1.codigocps = :codigocps
          into :auxPaciente, :auxCodigoPac, :auxConvenio, :auxA_DataFat, :auxA_Hora, :auxA_medico, :auxProcedimento, :auxCodigo, :auxIP, :auxVersao;
          if (medicos > 0 ) then
            auxA_medico = medicos;
          select marcacao.numero from marcacao
          where marcacao.codigocps = :codigocps and Cast( marcacao.data as date )= cast(:auxA_dataFat as date)
          into :auxIndiceMarc;
          if ( (auxIndiceMarc is null ) or (auxIndiceMarc = 0 ) ) then
          begin
             insert into marcacao (numero,status,codigo, codigocps ,paciente, codigopac, convenio, data, hora, a_medicos, codigoamb, ip, versao)
             values(1,2,:auxCodigo,:codigocps , :auxPaciente, :auxCodigoPac, :auxConvenio, :auxA_DataFat, :auxA_Hora, :auxA_medico, :auxProcedimento, :auxIp, :AuxVersao );
             Resposta = 'Cadastrado com Sucesso';
          end
          else
             Resposta = 'No foi cadastrado, pois registrado anteriormente';
      suspend;
   end
end
 ^


ALTER PROCEDURE "INSERTLOG" 
(
  "TABELA" VARCHAR(50),
  "CAMPO" VARCHAR(50),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "INDICE" VARCHAR(50)
)
AS
begin
  insert into logsapi(tabela,campo, tipo) values
  (:tabela,:campo,:tipo) returning indice into indice;
  suspend;
end
 ^


ALTER PROCEDURE "INSERTLOGITEM" 
(
  "INDICE" VARCHAR(50),
  "CAMPO" VARCHAR(50),
  "VALOROLD" BLOB,
  "VALORNEW" BLOB
)
AS
begin
 insert into logsapiitem(logsapi,campo,valorold,valornew) values (:indice,:campo,:valorold,:valornew);
end
 ^


ALTER PROCEDURE "INSERTMARCACAO" 
(
  "NOME" VARCHAR(50),
  "MAE" VARCHAR(50),
  "NASC" TIMESTAMP,
  "CPF" VARCHAR(11),
  "RG" VARCHAR(15),
  "CEP" VARCHAR(8),
  "CIDADE" VARCHAR(20),
  "BAIRRO" VARCHAR(20),
  "ENDERECO" VARCHAR(50),
  "TELEFONE" VARCHAR(11),
  "CELULAR" VARCHAR(11),
  "CONVENIO" INTEGER,
  "EMAIL" VARCHAR(60),
  "TIPOMARC" CHAR(1),
  "COD" VARCHAR(20),
  "DATA" TIMESTAMP,
  "HORA" INTEGER,
  "TIPO" CHAR(1),
  "CRM" VARCHAR(10),
  "EXAME" VARCHAR(60)
)
RETURNS
(
  "STATUS" VARCHAR(1000),
  "INDICE" INTEGER
)
AS
begin
indice = gen_id(gen_solmarcacao,1);
insert into solmarcacao (INDICE, NOME, MAE, NASC, CPF, RG, CEP, CIDADE, BAIRRO, ENDERECO, TELEFONE, CELULAR, CONVENIO, EMAIL, TIPOMARC, COD, DATA, HORA, TIPO, CRM, EXAME)
values (:indice, :NOME, :MAE, :NASC, :CPF, :RG, :CEP, :CIDADE, :BAIRRO, :ENDERECO, :TELEFONE, :CELULAR, :CONVENIO, :EMAIL, :TIPOMARC, :COD, :DATA, :HORA, :TIPO, :CRM, :EXAME);
suspend;
end
 ^


ALTER PROCEDURE "INSERT_BRASINDICE1" 
(
  "MED_CODI" VARCHAR(5),
  "MED_DESC" VARCHAR(200)
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
begin
  if (not exists(select * from brasindice1 where med_codi = :med_codi)) then
    insert into brasindice1 (med_codi,med_desc) values (:med_codi, :med_desc);
  suspend;
end
 ^


ALTER PROCEDURE "INSERT_BRASINDICE2" 
(
  "APR_CODI" VARCHAR(4),
  "APR_DESC" VARCHAR(200)
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
begin
  if (not exists(select * from brasindice2 where apr_codi = :apr_codi)) then
    insert into brasindice2 (apr_codi,apr_desc) values (:apr_codi, :apr_desc);
  suspend;
end
 ^


ALTER PROCEDURE "INSERT_LABORATORIO_BRAS" 
(
  "COD" VARCHAR(20),
  "DESCRICAO" VARCHAR(200)
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
begin
  if (not exists(select * from labora where lab_codi = :cod)) then
    insert into labora (lab_codi,lab_desc) values (:cod, :descricao);
  suspend;
end
 ^


ALTER PROCEDURE "INS_ENCAMINHAMENTOS" 
(
  "CPS" INTEGER,
  "USUARIO" INTEGER,
  "CHECKUP" INTEGER,
  "DATA" DATE
)
RETURNS
(
  "OK" VARCHAR(10)
)
AS
begin
    INSERT INTO CHECKUP_ESPEC (DATA, CODCHECKUP, ESPECIALIDADE, USUARIO, CODIGOCPS) VALUES (:data, :checkup, '39', :usuario, :cps); -- afgio
    INSERT INTO CHECKUP_ESPEC (DATA, CODCHECKUP, ESPECIALIDADE, USUARIO, CODIGOCPS) VALUES (:data, :checkup, '42', :usuario, :cps); -- dermato
    INSERT INTO CHECKUP_ESPEC (DATA, CODCHECKUP, ESPECIALIDADE, USUARIO, CODIGOCPS) VALUES (:data, :checkup, '07', :usuario, :cps);  -- hemato
    INSERT INTO CHECKUP_ESPEC (DATA, CODCHECKUP, ESPECIALIDADE, USUARIO, CODIGOCPS) VALUES (:data, :checkup, '63', :usuario, :cps); -- fisio
    INSERT INTO CHECKUP_ESPEC (DATA, CODCHECKUP, ESPECIALIDADE, USUARIO, CODIGOCPS) VALUES (:data, :checkup, '03', :usuario, :cps); -- endocr
    INSERT INTO CHECKUP_ESPEC (DATA, CODCHECKUP, ESPECIALIDADE, USUARIO, CODIGOCPS) VALUES (:data, :checkup, '62', :usuario, :cps); -- nutricao
    suspend;
end
 ^


ALTER PROCEDURE "INS_MONLOGCOMP" 
(
  "COMPUTADOR" VARCHAR(30),
  "SISTEMA" VARCHAR(30),
  "VERSAO" VARCHAR(15),
  "CODUSER" INTEGER,
  "ENTRADA" TIMESTAMP
)
RETURNS
(
  "INDICE" INTEGER
)
AS
BEGIN
    IF ( ( COMPUTADOR IS NOT NULL ) AND ( SISTEMA IS NOT NULL ) AND ( VERSAO IS NOT NULL ) AND ( CODUSER IS NOT NULL ) AND ( ENTRADA IS NOT NULL ) ) THEN
    BEGIN
      INSERT INTO MONLOGCOMP (COMPUTADOR, SISTEMA, VERSAO, CODUSER, ENTRADA) VALUES (:COMPUTADOR, :SISTEMA, :VERSAO, :CODUSER, :ENTRADA );
    END
   select gen_id(GEN_MONLOGCOMP, 0) from rdb$database
   into :INDICE;
   SUSPEND;
END
 ^


ALTER PROCEDURE "INS_PACOTECONVENIONOVO" 
(
  "CONVENIO" INTEGER
)
RETURNS
(
  "PACOTE" INTEGER,
  "CODIGOAMB" VARCHAR(8),
  "QUANTIDADE" INTEGER
)
AS
declare variable valor float;
declare variable codigoserv float;
declare variable pacoteduplo integer;
begin
for select distinct pacote, codigoamb, quantidade from pacote3 order by pacote into :pacote, :codigoamb, :quantidade do
begin
  valor = 0;
  select valor from valoramb(:codigoamb, :convenio,'N',cast('now' as timestamp),1,0) into :valor;
  if (valor > 0) then
  begin
    codigoserv = 0;
    select first 1 pacote from pacote3 where pacote = :pacote and convenio = :convenio and codigoamb = :codigoamb and quantidade =:quantidade into :codigoserv;
    if ((codigoserv <= 0) or (codigoserv is null)) then
    begin
      codigoserv = 0;
      select first 1 codigoserv from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio) into :codigoserv;
      if ((codigoserv <= 0) or (codigoserv is null)) then
        select first 1 codigoserv from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabhon from convenio where convenio = :convenio) into :codigoserv;
      if ((codigoserv <= 0) or (codigoserv is null)) then
        select first 1 codigoserv from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabtaxa from convenio where convenio = :convenio) into :codigoserv;
      pacoteduplo = null;
      select pacote from pacote3 where pacote = :pacote and quantidade = :quantidade and codigoamb = :codigoamb and convenio = :convenio into :pacoteduplo;
      if (pacoteduplo is null) then
        insert into pacote3 (pacote,quantidade,codigoamb,convenio,codigoserv) values (:pacote,:quantidade,:codigoamb,:convenio, :codigoserv);
      suspend;
    end
  end
end
end
 ^


ALTER PROCEDURE "INTERNAMENTOANALISE" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMENTO" INTEGER
)
RETURNS
(
  "TRATAMENTO" INTEGER,
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "CUSTO" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT
)
AS
declare variable a_tipo char(1);
declare variable pacote1 char(1);
declare variable cobrar  char(1);
declare variable valor float;
declare variable custoaux float;
declare variable porteaux integer;
begin
  for select Inter2.CODIGOINT, cps1.codigopac, inter2.convenio, inter2.tratamento, inter2.a_data data from inter2
  inner join tratamento on (tratamento.tratamento = inter2.tratamento)
  inner join cps1 on (cps1.codigocps = inter2.codigoint)
  where (inter2.a_data between :data1 and :data2) and
         (inter2.convenio between :convenio1 and :convenio2) and
         ((:tipo > 0 and inter2.fatura = :tipo) or (:tipo = 0)) and
         ((:codtratamento > 0 and inter2.tratamento = :codtratamento) or (:codtratamento = 0))
  into :codigocps, :codigopac, :convenio, :tratamento, :data do
  begin
    procedimento = 0;
    dtx = 0;
    gaso = 0;
    exames = 0;
    pacote = 0;
    mm = 0;
    custo = 0;
    cobrado = 0;
    ncobrado = 0;
    porte = 0;
   for select servicos.pacote1, servicos.a_tipo, servicos.a_porte, cps.cobrar, sum(cps.valor), sum(cps.custo) from cps('where codigocps =' || cast(:codigocps as integer) || ' and tratamento =' || :tratamento)
       left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
       where (:unidadenegocio > 0 and cps.unidadenegocio = :unidadenegocio) or (:unidadenegocio = 0)
       group by 1,2,3,4 into :pacote1, :a_tipo, :porteaux, :cobrar, :valor, :custoaux do
   begin
     if (porte < porteaux) then
       porte = porteaux;
     if (a_tipo = 'X') then pacote = pacote + valor;
     else if ((a_tipo = 'H') OR (a_tipo = 'C') or (a_tipo = 'V')) then procedimento = procedimento + valor;
     else if ((a_tipo = 'D') OR (a_tipo = 'T') or (a_tipo = 'A') or (a_tipo = 'N')) then dtx = dtx + valor;
     else if (a_tipo = 'G') then gaso = gaso + valor;
     else if ((a_tipo = 'R') OR (a_tipo = 'E') or (a_tipo = 'S') or (a_tipo = 'M') or (a_tipo = 'U') or (a_tipo = 'O') or (a_tipo = 'P') or (a_tipo = 'Q')) then exames = exames + valor;
     else if (a_tipo is null) then mm = mm + valor;
     if ((cobrar is null) or (cobrar = 'S') or (cobrar = '')) then cobrado  = cobrado + valor;
     else ncobrado  = ncobrado + valor;
          custo = custo + custoaux;
   end
   if (unidadenegocio = 0) then
     select sum(procmed + filmemed) from honorario('(''where codigocps = ' || cast(:codigocps as integer) || ' and tratamento = ' || :tratamento || ''' )',0)
     inner join medicos on (medicos.a_medicos = honorario.a_medicos)
     where (honorario.tipo < '3') and (Medicos.honorario = 'S' or Medicos.honorario is null) into :honorario;
   else
     select sum(procmed + filmemed) from honorario('(''where codigocps = ' || cast(:codigocps as integer) || ' and tratamento = ' || :tratamento || ''' ) where unidadenegocio = ' || :unidadenegocio,0)
     inner join medicos on (medicos.a_medicos = honorario.a_medicos)
     where (honorario.tipo < '3') and (Medicos.honorario = 'S' or Medicos.honorario is null) into :honorario;
   suspend;
  end
end
 ^


ALTER PROCEDURE "INTERNAMENTOANALISECODAMB" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMB" CHAR(8)
)
RETURNS
(
  "TRATAMENTO" INTEGER,
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "PORTE" INTEGER,
  "PROCEDIMENTO" FLOAT,
  "DTX" FLOAT,
  "GASO" FLOAT,
  "EXAMES" FLOAT,
  "PACOTE" FLOAT,
  "MM" FLOAT,
  "CUSTO" FLOAT,
  "HONORARIO" FLOAT,
  "COBRADO" FLOAT,
  "NCOBRADO" FLOAT,
  "TRATACODAMB" CHAR(8)
)
AS
declare variable a_tipo char(1);
declare variable pacote1 char(1);
declare variable cobrar  char(1);
declare variable valor float;
declare variable custoaux float;
declare variable porteaux integer;
declare variable sqlCodTrat varchar(200);
declare variable sqlGeral varchar(1500);
begin
sqlCodTrat = '';
if ((codtratamb is not null) and (codtratamb <> '0') )then
   sqlCodTrat = ' and ( tratamento.a_codamb ='''||:codtratamb || ''')';
else if (codtratamb = '0') then
   sqlCodTrat = ' and (tratamento.a_codamb between ''00000000'' and ''99999999'') ';
  for execute statement      'select Inter2.CODIGOINT, cps1.codigopac, inter2.convenio, inter2.tratamento, inter2.a_data data, TRATAMENTO.A_CODAMB from inter2 ' ||
                        'inner join tratamento on (tratamento.tratamento = inter2.tratamento) '||
                        'inner join cps1 on (cps1.codigocps = inter2.codigoint)' ||
                        'where (inter2.a_data between ''' || cast(:data1 as date) ||''' and '''|| cast(:data2 as date) || ''') and '||
                        '(inter2.convenio between '||:convenio1||' and '||:convenio2 ||') and ' ||
                        '(('||:tipo ||' > 0 and inter2.fatura ='|| :tipo ||') or ('||:tipo ||'= 0))' || sqlCodTrat
  into :codigocps, :codigopac, :convenio, :tratamento, :data, :TRATACODAMB do
  begin
    procedimento = 0;
    dtx = 0;
    gaso = 0;
    exames = 0;
    pacote = 0;
    mm = 0;
    custo = 0;
    cobrado = 0;
    ncobrado = 0;
    porte = 0;
   for select servicos.pacote1, servicos.a_tipo, servicos.a_porte, cps.cobrar, sum(cps.valor), sum(cps.custo) from cps('where codigocps =' || cast(:codigocps as integer) || ' and tratamento =' || :tratamento)
       left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
       where (:unidadenegocio > 0 and cps.unidadenegocio = :unidadenegocio) or (:unidadenegocio = 0)
       group by 1,2,3,4 into :pacote1, :a_tipo, :porteaux, :cobrar, :valor, :custoaux do
   begin
     if (porte < porteaux) then
       porte = porteaux;
     if (a_tipo = 'X') then pacote = pacote + valor;
     else if ((a_tipo = 'H') OR (a_tipo = 'C') or (a_tipo = 'V')) then procedimento = procedimento + valor;
     else if ((a_tipo = 'D') OR (a_tipo = 'T') or (a_tipo = 'A') or (a_tipo = 'N')) then dtx = dtx + valor;
     else if (a_tipo = 'G') then gaso = gaso + valor;
     else if ((a_tipo = 'R') OR (a_tipo = 'E') or (a_tipo = 'S') or (a_tipo = 'M') or (a_tipo = 'U') or (a_tipo = 'O') or (a_tipo = 'P') or (a_tipo = 'Q')) then exames = exames + valor;
     else if (a_tipo is null) then mm = mm + valor;
     if ((cobrar is null) or (cobrar = 'S') or (cobrar = '')) then cobrado  = cobrado + valor;
     else ncobrado  = ncobrado + valor;
          custo = custo + custoaux;
   end
   if (unidadenegocio = 0) then
     select sum(procmed + filmemed) from honorario('(''where codigocps = ' || cast(:codigocps as integer) || ' and tratamento = ' || :tratamento || ''' )',0)
     inner join medicos on (medicos.a_medicos = honorario.a_medicos)
     where (honorario.tipo < '3') and (Medicos.honorario = 'S' or Medicos.honorario is null) into :honorario;
   else
     select sum(procmed + filmemed) from honorario('(''where codigocps = ' || cast(:codigocps as integer) || ' and tratamento = ' || :tratamento || ''' ) where unidadenegocio = ' || :unidadenegocio,0)
     inner join medicos on (medicos.a_medicos = honorario.a_medicos)
     where (honorario.tipo < '3') and (Medicos.honorario = 'S' or Medicos.honorario is null) into :honorario;
   suspend;
  end
end
 ^


ALTER PROCEDURE "INTERNAMENTOANALISEMM" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "CONVENIO1" INTEGER,
  "CONVENIO2" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "TIPO" INTEGER,
  "CODTRATAMENTO" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "CODIGOCPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "MEDRESP" INTEGER,
  "TRATAMENTO" INTEGER,
  "DATA" TIMESTAMP,
  "DATASAIDA" TIMESTAMP,
  "DATAENVIO" TIMESTAMP,
  "DATARECEBIDO" TIMESTAMP,
  "TAXA" FLOAT,
  "OPME" FLOAT,
  "MAT" FLOAT,
  "MED" FLOAT,
  "OUTROS" FLOAT,
  "CUSTOOPME" FLOAT,
  "CUSTOMAT" FLOAT,
  "CUSTOMED" FLOAT
)
AS
declare variable a_tipo char(1);
declare variable a_codamb  char(8);
declare variable valor float;
declare variable custoaux float;
begin
  for select Inter2.CODIGOINT, cps1.codigopac, inter2.convenio, inter2.tratamento, cps1.a_datafat,
  cps1.datasaida, fechamento.data, fechamento.pagmedico from inter2
  inner join tratamento on (tratamento.tratamento = inter2.tratamento)
  inner join cps1 on (cps1.codigocps = inter2.codigoint)
  left join fechamento on (fechamento.sequencia = inter2.faturano)
  where (inter2.a_data between :data1 and :data2) and
         (inter2.convenio between :convenio1 and :convenio2) and
         ((:tipo > 0 and inter2.fatura = :tipo) or (:tipo = 0)) and
         ((:codtratamento > 0 and inter2.tratamento = :codtratamento) or (:codtratamento = 0))
  into :codigocps, :codigopac, :convenio, :tratamento, :data, :datasaida, : dataenvio, :datarecebido do
  begin
    taxa = 0;
    mat = 0;
    med = 0;
    opme = 0;
    outros = 0;
    customat = 0;
    customed = 0;
    custoopme = 0;
   for select servicos.a_tipo,  matmed.a_codamb, sum(cps.valor), sum(cps.custo) from cps('where codigocps =' || cast(:codigocps as integer) || ' and tratamento =' || :tratamento)
       left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
       left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
       where ((:unidadenegocio > 0 and cps.unidadenegocio = :unidadenegocio) or (:unidadenegocio = 0)) and (cobrar = 'S' or cobrar is null)
       group by 1,2 into :a_tipo, :a_codamb, :valor, :custoaux do
   begin
     if (a_tipo = 'T') then taxa = taxa + valor;
     else if (a_tipo is not null) then outros = outros + valor;
     else if (a_codamb = '72140011') then
     begin
       med = med + valor;
       customed = customed + custoaux;
     end
     else if ((a_codamb = '72140046') or (a_codamb = '72000001')) then
     begin
       mat = mat + valor;
       customat = customat + custoaux;
     end
     else if (a_tipo is null) then
     begin
       opme = opme + valor;
       custoopme = custoopme + custoaux;
     end
   end
   If ((taxa > 0) or (mat > 0) or (med > 0) or (opme > 0) or (outros > 0)) then
     suspend;
  end
end
 ^


ALTER PROCEDURE "INTER_ESTCON" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CONVENIO" INTEGER,
  "TOTALCLINICO" DOUBLE PRECISION,
  "QTDECLINICO" INTEGER,
  "TOTALUTI" DOUBLE PRECISION,
  "QTDEUTI" INTEGER,
  "TOTALCIRURGICO" DOUBLE PRECISION,
  "QTDECIRURGICO" INTEGER
)
AS
declare variable AuxCodInt float;
declare variable AuxFatura char(1);
declare variable AuxTotal double precision;
begin
  totalClinico = 0; totalUTI = 0; totalCirurgico = 0;
  qtdeClinico = 0; qtdeUTI = 0; qtdeCirurgico = 0;
  for execute statement 'select codigoint, convenio, fatura, total from inter2 ' || consulta
      into :AuxCodInt, :Convenio, :AuxFatura, :AuxTotal do
  begin
      if (AuxFatura = '1' ) then
      begin
          totalClinico = totalClinico + Auxtotal;
          qtdeClinico = qtdeClinico + 1;
      end
      if (AuxFatura = '5' ) then
      begin
          totalCirurgico = totalCirurgico + Auxtotal;
          qtdeCirurgico = qtdeCirurgico + 1;
      end
      if ( (AuxFatura = '2') or (AuxFatura = '3') or (AuxFatura = '4') )  then
      begin
          totalUTI = totalUTI + Auxtotal;
          qtdeUTI = qtdeUTI + 1;
      end
     suspend;
  end
end
 ^


ALTER PROCEDURE "ITENSEXCLUIDOS" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "TIPOATEND" VARCHAR(30),
  "CODIGOCPS" FLOAT,
  "TIPOPROC" VARCHAR(15),
  "DATAMODALT" TIMESTAMP,
  "CODUSUARIO" INTEGER,
  "CODIGOAMB" VARCHAR(10),
  "QUANTIDADE" FLOAT
)
AS
declare variable codigopla integer;
begin
  codigopla = null;
  for select codigocps, codigopla from cps1 where a_datafat between :datainicio and :datafim order by codigocps asc
     into :codigocps, :codigopla do
     begin
        if (codigocps is not null and codigocps > 0) then
        begin
           if ( codigopla is not null and codigopla = 1 ) then
               TIPOATEND = 'Ambulatrio';
           else if ( codigopla is not null and codigopla =2 ) then
               TIPOATEND = 'Emergncia';
           else if ( codigopla is not null and codigopla =3 ) then
               TIPOATEND = 'Internamento';
           else
               TIPOATEND = 'Outros';
           if (codigopla > 0 and codigopla <> 7) then
           begin
               for select data2, user2, codigoamb,quantidade, 'Procedimento' from x_cps2 where x_cps2.codigocps2 = :codigocps
               into :datamodalt,:codUsuario, :codigoamb, :quantidade, :tipoProc do
               begin
                  if ( codigoamb is not null ) then
                    suspend;
               end
               for select data2, user2, codigomm,quantidade, 'MatMed' from x_cps3 where x_cps3.codigocps = :codigocps
               into :datamodalt,:codUsuario, :codigoamb, :quantidade, :tipoProc do
               begin
                  if ( codigoamb is not null ) then
                    suspend;
               end
           end
        end
     end
end
 ^


ALTER PROCEDURE "LAUDOVIEW" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "DATAHORA" TIMESTAMP,
  "LAUDO" BLOB,
  "DICOM" BLOB,
  "SITUACAO" BLOB,
  "TIPO" VARCHAR(250),
  "DESCRICAO" VARCHAR(250),
  "CPSLAUDO2" FLOAT,
  "DATAHORARES" TIMESTAMP
)
AS
declare variable sitaux varchar(200);
declare variable laudoaux blob;
declare variable a_medicos integer;
declare variable vtipoatd integer;
declare variable vcdpac integer;
declare variable vcpsemerg integer;
begin
 for select cpslaudo1.a_datafat,cpslaudo2.laudo,cpslaudo2.situacao, servicos.a_nome, servicos.a_tipo,cpslaudo1.laudo, cpslaudo2.indice, cpslaudo2.A_MEDICOS, cpslaudo2.DATA from cpslaudo1
    inner join cpslaudo2 on (cpslaudo1.codigocps = cpslaudo2.codigocps2)
    inner join servicos on (servicos.codigoserv = cpslaudo2.codigoserv)
    where numeroorigem = :codigocps order by 1 desc,5 into datahora,laudo,sitaux, descricao,tipo,
    laudoaux, cpslaudo2, a_medicos, DATAHORARES  do
 begin
  if ((laudo is null) and (laudoaux is not null)) then
    laudo = laudoaux;
  if ((tipo = 'E') and (coalesce(a_medicos,0) = 0)) then
    --laudo = null;
  if (tipo = 'E') then
    tipo = 'Laboratorio';
  if (tipo = 'P') then
    tipo = 'Exames Especiais';
  if (tipo = 'Q') then
    tipo = 'TC/RM';
  if (tipo = 'R') then
    tipo = 'Raios-X';
  if (tipo = 'U') then
    tipo = 'Ultrassom';
  if (laudo is not null) then
  suspend;
  end
   select codigopla, codigopac from cps1 where codigocps = :codigocps into :vtipoatd, :vcdpac;
 if (:vtipoatd > 2) Then
 begin
    vcpsemerg = 0;
    select first 1 codigocps from cps1 where codigopac = :vcdpac and codigopla = 2 order by a_datafat desc
    into :vcpsemerg;
    if (:vcpsemerg > 0) Then
    begin
        for select cpslaudo1.a_datafat,cpslaudo2.laudo,cpslaudo2.situacao, servicos.a_nome, servicos.a_tipo,cpslaudo1.laudo, cpslaudo2.indice, cpslaudo2.A_MEDICOS, cpslaudo2.DATA from cpslaudo1
        inner join cpslaudo2 on (cpslaudo1.codigocps = cpslaudo2.codigocps2)
        inner join servicos on (servicos.codigoserv = cpslaudo2.codigoserv)
        where numeroorigem = :vcpsemerg order by 1 desc,5 into datahora,laudo,sitaux, descricao,tipo,
        laudoaux, cpslaudo2, a_medicos, DATAHORARES  do
        begin
        if ((laudo is null) and (laudoaux is not null)) then
          laudo = laudoaux;
        if ((tipo = 'E') and (coalesce(a_medicos,0) = 0)) then
         --laudo = null;
        if (tipo = 'E') then
           tipo = 'Laboratorio - CPS Emerg.';
        if (tipo = 'P') then
           tipo = 'Exames Especiais - CPS Emerg.';
        if (tipo = 'Q') then
           tipo = 'TC/RM - CPS Emerg.';
        if (tipo = 'R') then
          tipo = 'Raios-X - CPS Emerg.';
        if (tipo = 'U') then
         tipo = 'Ultrassom - CPS Emerg.';
        if (laudo is not null) then
         suspend;
     end
    end
 end
end
 ^


ALTER PROCEDURE "LAUDO_AIH_SUS_SAPI" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CPF" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20)
)
AS
DECLARE VARIABLE COD_USUARIO INTEGER;
begin
  --cast(datahora as date),cast(datahora as TIME)
  SELECT cast(datahora as date), cast(datahora as TIME) , 'Hospital Regional de Irece', 'Hospital Regional de Irec', '4026896',
  paciente.a_nome, paciente.apelido,
paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
paciente.telefone, paciente.UF_NASC, PACIENTE.NACIONALIDADE, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,
 paciente.NATURALIDADE,  paciente.cep, paciente.CIDADE,
'', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  '', '','',
EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
'', '', '','',
'', '',
medicos.a_nome, medicos.a_cpf, medicos.a_cremeb, CPS1.CODIGOCPS,
CPS1.CODIGOPAC, evolucaoenf.user1, cps1.a_datafat
FROM EVOLUCAOENF
LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
left join usuarios on evolucaoenf.user1 = usuarios.codigo
left join medicos on usuarios.medico = medicos.a_medicos
--LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
where evolucaoenf.evolucao = :codigo
INTO
 :DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :PACIENTE, :APELIDO,
 :PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
 :TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO,
 :MUNICIPIO, :CEP, :CIDADE,
 :IBGE, :COMPLEMENTO, :IDENTIDADE, :UF_RES, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
 :HISTORIA_ADMISSAO, :SUSP_DIAGNOSTICA, :PROBLEMAS,
 :CID1,  :CID1_NOME, :CID2, :CID2_NOME,
 :PROCEDIMENTO, :PROC_CODIGO,
 :PROF_SOL, :PROF_CPF, :PROF_CREMEB, :CODIGOCPS,
 :CODIGOPAC, :COD_USUARIO, :DTAUTORIZACAO;
   if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
  if (sexo ='F') then
    sexo = 'Feminino';
  else
    sexo = 'Masculino';
  DIRETOR_CLINICO = 'DR WALTERVAN LUIZ VIEIRA JUNIOR';
  DIRETOR_CRMEB ='26178';
  DIRETOR_CPF = '64147339115';

 --DTAUTORIZACAO = DTEMISSAO;
  CODEMISSOR = 'M292840602';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid' into :cid2, :cid2_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  suspend;
end
 ^


ALTER PROCEDURE "LAUDO_AIH_SUS_SAPI2018" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "CNES2" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(2),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(2),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3)
)
AS
DECLARE VARIABLE COD_USUARIO INTEGER;
begin
  --cast(datahora as date),cast(datahora as TIME)
  SELECT cast(datahora as date), cast(datahora as TIME) , 'Hospital Regional de Irece', 'Hospital Regional de Irece', '4026896', '4026896',
  paciente.a_nome, paciente.apelido,
paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
paciente.celular, paciente.UF, PACIENTE.cidade, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,
paciente.NATURALIDADE,  paciente.cep, paciente.CIDADE,
'', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  '', '','',
EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
'', '', '','',
'', '',
medicos.a_nome, medicos.sus, medicos.a_cremeb, CPS1.CODIGOCPS,
CPS1.CODIGOPAC, evolucaoenf.user1, cps1.a_datafat
FROM EVOLUCAOENF
LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
left join usuarios on evolucaoenf.user1 = usuarios.codigo
left join medicos on usuarios.medico = medicos.a_medicos
--LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
where evolucaoenf.evolucao = :codigo
INTO
:DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :CNES2, :PACIENTE, :APELIDO,
:PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
:TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO,
:MUNICIPIO, :CEP, :CIDADE,
:IBGE, :COMPLEMENTO, :IDENTIDADE, :UF_RES, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
:HISTORIA_ADMISSAO, :SUSP_DIAGNOSTICA, :PROBLEMAS,
:CID1,  :CID1_NOME, :CID2, :CID2_NOME,
:PROCEDIMENTO, :PROC_CODIGO,
:PROF_SOL, :PROF_CNES, :PROF_CREMEB, :CODIGOCPS,
:CODIGOPAC, :COD_USUARIO, :DTAUTORIZACAO;
   if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
/* if (sexo ='F') then
    sexo = 'Feminino';
  else
    sexo = 'Masculino'; */
  select  sUBSTR(telefone,1,3) from paciente where codigopac = :codigopac into :ddd;
  telefone = sUBSTR(telefone,4,12);
  DIRETOR_CLINICO = '';
  DIRETOR_CRMEB ='';
  DIRETOR_CPF = '';
 /* If (COD_USUARIO = 79) Then
  begin
    PROF_AUTORIZADOR = 'Reginaldo Gomes Santos';
    DOC_AUTORIZADOR  = '210171052610004';
   -- DOC_AUTORIZADOR  = '346.327.863-49';
    CONS_AUTORIZADOR = '25882';
  end
  else
  begin
    PROF_AUTORIZADOR = 'Ivana Maria Lima Albuquerque Barbosa';
     DOC_AUTORIZADOR  = '170377062890000';
  --  DOC_AUTORIZADOR  = '383.435.924-68';
    CONS_AUTORIZADOR = '19459';
  end*/
  select  sUBSTR(telefone,1,3) from paciente where codigopac = :codigopac into :ddd;
  --telefone = sUBSTR(telefone,4,12);
  SELECT FIRST 1 CadMun.MUNCOD FROM Cadmun INNER JOIN CAduf Caduf ON ( Cadmun.UFCOD = Caduf.UFCOD)
  WHERE  Caduf.UFSIGLA = :UF AND Cadmun.MUNNOMEX starting with TRIM (:CIDADE)  into :IBGE;
--DTAUTORIZACAO = DTEMISSAO;
  CODEMISSOR = 'M292840602';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid' into :cid2, :cid2_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  suspend;
end
 ^


ALTER PROCEDURE "LAUDO_AIH_SUS_SAPI2018_CPC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(5),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(5),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3)
)
AS
DECLARE VARIABLE COD_USUARIO INTEGER;
begin
  --cast(datahora as date),cast(datahora as TIME)
  SELECT cast(datahora as date), cast(datahora as TIME) , 'Hospital do Oeste', 'Hospital do Oeste', '3972925', paciente.a_nome, paciente.apelido,
  paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
  paciente.telefone, paciente.UF_NASC, PACIENTE.NACIONALIDADE, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,
  paciente.NATURALIDADE,  paciente.cep, paciente.CIDADE,
  '', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  '', '','',
  EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
  '', '', '','',
  '', '',
  medicos.a_nome, medicos.sus, medicos.a_cremeb, CPS1.CODIGOCPS,
  CPS1.CODIGOPAC, evolucaoenf.user1
  FROM EVOLUCAOENF
  LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
  LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
  left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
  left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
  left join usuarios on evolucaoenf.user1 = usuarios.codigo
  left join medicos on usuarios.medico = medicos.a_medicos
  --LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
  where evolucaoenf.evolucao = :codigo
  INTO
 :DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :PACIENTE, :APELIDO,
 :PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
 :TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO,
 :MUNICIPIO, :CEP, :CIDADE,
 :IBGE, :COMPLEMENTO, :IDENTIDADE, :UF_RES, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
 :HISTORIA_ADMISSAO, :SUSP_DIAGNOSTICA, :PROBLEMAS,
 :CID1,  :CID1_NOME, :CID2, :CID2_NOME,
 :PROCEDIMENTO, :PROC_CODIGO,
 :PROF_SOL, :PROF_CNES, :PROF_CREMEB, :CODIGOCPS,
 :CODIGOPAC, :COD_USUARIO;
   if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
  DIRETOR_CLINICO = 'DR LUCIEN AZEVEDO ZANON';
  DIRETOR_CRMEB ='21290';
  DIRETOR_CPF = '07945983740';
  If (COD_USUARIO = 134) Then
  begin
        PROF_SOL = 'HUMBERTO TAKIZAWA BERNER';
        PROF_CNES = '201567193760005';
        PROF_CREMEB =  '21352';
  end
  PROF_AUTORIZADOR = 'DR LUIS FERNANDO DA CUNHA LOPES REIS';
   DOC_AUTORIZADOR  = '210175072540005';
  --DOC_AUTORIZADOR  = '763.642.160-72';
  CONS_AUTORIZADOR = '19041-BA';
 -- TIPO_DOC_AUTORIZADOR = '( )CNS   (X)CPF';
  select  sUBSTR(telefone,1,3) from paciente where codigopac = :codigopac into :ddd;
  telefone = sUBSTR(telefone,4,12);
  --PROF_SOL = '';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid' into :cid2, :cid2_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO2, :PROCEDIMENTO2;
  suspend;
end
 ^


ALTER PROCEDURE "LAUDO_APAC_SUS_SAPI2018" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(5),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(5),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3),
  "CELULAR" VARCHAR(20),
  "SERVICO" VARCHAR(20),
  "CLASSIFICACAO" VARCHAR(20),
  "QUANTIDADE" VARCHAR(2)
)
AS
DECLARE VARIABLE COD_USUARIO INTEGER;
begin
  --cast(datahora as date),cast(datahora as TIME)
  SELECT cast(datahora as date), cast(datahora as TIME) , 'Hospital Regional de Irece', 'Hospital Regional de Irece', '4026896',
   paciente.a_nome, paciente.apelido,
  paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
  paciente.telefone, paciente.UF_NASC, PACIENTE.NACIONALIDADE, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,
  paciente.NATURALIDADE,  paciente.cep, paciente.CIDADE,
  '', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  '', '','',
  EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
  '', '', '','',
  '', '',
  medicos.a_nome, medicos.sus, medicos.a_cremeb, CPS1.CODIGOCPS,
  CPS1.CODIGOPAC, evolucaoenf.user1, paciente.celular
  FROM EVOLUCAOENF
  LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
  LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
  left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
  left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
  left join usuarios on evolucaoenf.user1 = usuarios.codigo
  left join medicos on usuarios.medico = medicos.a_medicos
  --LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
  where evolucaoenf.evolucao = :codigo
  INTO
 :DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :PACIENTE, :APELIDO,
 :PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
 :TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO,
 :MUNICIPIO, :CEP, :CIDADE,
 :IBGE, :COMPLEMENTO, :IDENTIDADE, :UF_RES, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
 :HISTORIA_ADMISSAO, :SUSP_DIAGNOSTICA, :PROBLEMAS,
 :CID1,  :CID1_NOME, :CID2, :CID2_NOME,
 :PROCEDIMENTO, :PROC_CODIGO,
 :PROF_SOL, :PROF_CNES, :PROF_CREMEB, :CODIGOCPS,
 :CODIGOPAC, :COD_USUARIO, :CELULAR;
   if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
 /* if (sexo ='F') then
    sexo = 'Feminino';
  else
    sexo = 'Masculino';  */

  DIRETOR_CLINICO = '';
  DIRETOR_CRMEB ='';
  DIRETOR_CPF = '';

  /*If (COD_USUARIO = 134) Then
  begin
        PROF_SOL = 'HUMBERTO TAKIZAWA BERNER';
        PROF_CNES = '201567193760005';
        PROF_CREMEB =  '21352';
  end*/
  PROF_AUTORIZADOR = '';
   DOC_AUTORIZADOR  = '';
  --DOC_AUTORIZADOR  = '763.642.160-72';
  CONS_AUTORIZADOR = '';
 -- TIPO_DOC_AUTORIZADOR = '( )CNS   (X)CPF';
  select  sUBSTR(telefone,1,3) from paciente where codigopac = :codigopac into :ddd;
  telefone = sUBSTR(telefone,4,12);
  celular = sUBSTR(celular,4,12);
  --PROF_SOL = '';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid' into :cid2, :cid2_nome;
  --SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
--  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
 -- SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
 SELECT first 1  codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  IF (:UF IS NULL) Then
  uf = uf_res;
  SELECT CadMun.MUNCOD FROM Cadmun
  INNER JOIN CAduf Caduf ON ( Cadmun.UFCOD = Caduf.UFCOD)
  WHERE  Caduf.UFSIGLA = :UF AND Cadmun.MUNNOMEX starting with TRIM (:CIDADE)
  INTO :IBGE;
  suspend;
end
 ^


ALTER PROCEDURE "LAUDO_APAC_SUS_SAPI2018__CPC" 
(
  "CODIGO" INTEGER
)
RETURNS
(
  "DTEMISSAO" DATE,
  "HORA" TIME,
  "ESTABELECIMENTO_SOL" VARCHAR(100),
  "ESTABELECIMENTO_EXEC" VARCHAR(100),
  "CNES" INTEGER,
  "PACIENTE" VARCHAR(150),
  "APELIDO" VARCHAR(150),
  "PRONTUARIO" FLOAT,
  "CNS" VARCHAR(150),
  "NASC" DATE,
  "SEXO" VARCHAR(20),
  "RACA" VARCHAR(100),
  "ETNIA" VARCHAR(100),
  "MAE" VARCHAR(100),
  "RESPONSAVEL" VARCHAR(100),
  "TELEFONE" VARCHAR(20),
  "UF" VARCHAR(5),
  "NACIONALIDADE" VARCHAR(100),
  "ENDERECO" VARCHAR(200),
  "LOGRADOURO" VARCHAR(100),
  "NUMERO" VARCHAR(20),
  "BAIRRO" VARCHAR(200),
  "MUNICIPIO" VARCHAR(100),
  "CEP" VARCHAR(20),
  "CIDADE" VARCHAR(200),
  "IBGE" VARCHAR(20),
  "UF_RES" VARCHAR(5),
  "COMPLEMENTO" VARCHAR(200),
  "IDENTIDADE" VARCHAR(20),
  "CPF" VARCHAR(20),
  "DIRETOR_CLINICO" VARCHAR(100),
  "DIRETOR_CRMEB" VARCHAR(100),
  "DIRETOR_CPF" VARCHAR(100),
  "HISTORIA_ADMISSAO" BLOB,
  "PROBLEMAS" BLOB,
  "SUSP_DIAGNOSTICA" BLOB,
  "CID1" VARCHAR(20),
  "CID1_NOME" VARCHAR(200),
  "CID2" VARCHAR(20),
  "CID2_NOME" VARCHAR(200),
  "PROCEDIMENTO" VARCHAR(200),
  "PROC_CODIGO" VARCHAR(20),
  "PROCEDIMENTO2" VARCHAR(200),
  "PROC_CODIGO2" VARCHAR(20),
  "PROF_SOL" VARCHAR(250),
  "PROF_CNES" VARCHAR(20),
  "PROF_CREMEB" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "PROF_AUTORIZADOR" VARCHAR(100),
  "DOC_AUTORIZADOR" VARCHAR(20),
  "DTAUTORIZACAO" TIMESTAMP,
  "CODEMISSOR" VARCHAR(20),
  "CONS_AUTORIZADOR" VARCHAR(20),
  "DDD" VARCHAR(3)
)
AS
DECLARE VARIABLE COD_USUARIO INTEGER;
begin
  --cast(datahora as date),cast(datahora as TIME)
  SELECT cast(datahora as date), cast(datahora as TIME) , 'Hospital do Oeste', 'Hospital do Oeste', '3972925', paciente.a_nome, paciente.apelido,
  paciente.codigopac, paciente.matricula, paciente.nasc, paciente.sexo, paciente.cor, tb_etnia.etnia_descricao, paciente.mae, paciente.SEGURADO,
  paciente.telefone, paciente.UF_NASC, PACIENTE.NACIONALIDADE, paciente.endereco, TISS11.DESCRICAO, paciente.numero,Paciente.bairro,
  paciente.NATURALIDADE,  paciente.cep, paciente.CIDADE,
  '', PACIENTE.COMPLEMENTO, PACIENTE.IDENTIDADE, paciente.UF, PACIENTE.A_CPF,  '', '','',
  EVOLUCAOENF.HISTORIA_ADMISSAO, EVOLUCAOENF.PROBLEMAS, EVOLUCAOENF.SUSP_DIAGNOSTICA,
  '', '', '','',
  '', '',
  medicos.a_nome, medicos.sus, medicos.a_cremeb, CPS1.CODIGOCPS,
  CPS1.CODIGOPAC, evolucaoenf.user1
  FROM EVOLUCAOENF
  LEFT JOIN CPS1 ON EVOLUCAOENF.CODIGOCPS = CPS1.CODIGOCPS
  LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
  left join tb_etnia on paciente.ETNIA = tb_etnia.etnia_codigo
  left join tiss11 on paciente.COD_LOGRADOURO = TISS11.codigo
  left join usuarios on evolucaoenf.user1 = usuarios.codigo
  left join medicos on usuarios.medico = medicos.a_medicos
  --LEFT JOIN ALTAITEM on evolucaoenf.evolucao = altaitem.ALTA and altaitem.classe='Cid'
  where evolucaoenf.evolucao = :codigo
  INTO
 :DTEMISSAO , :HORA, :ESTABELECIMENTO_SOL, :ESTABELECIMENTO_EXEC, :CNES , :PACIENTE, :APELIDO,
 :PRONTUARIO ,  :CNS , :NASC , :SEXO, :RACA, :ETNIA, :MAE, :RESPONSAVEL,
 :TELEFONE,  :UF, :NACIONALIDADE, :ENDERECO, :LOGRADOURO, :NUMERO, :BAIRRO,
 :MUNICIPIO, :CEP, :CIDADE,
 :IBGE, :COMPLEMENTO, :IDENTIDADE, :UF_RES, :CPF, :DIRETOR_CLINICO, :DIRETOR_CRMEB, :DIRETOR_CPF ,
 :HISTORIA_ADMISSAO, :SUSP_DIAGNOSTICA, :PROBLEMAS,
 :CID1,  :CID1_NOME, :CID2, :CID2_NOME,
 :PROCEDIMENTO, :PROC_CODIGO,
 :PROF_SOL, :PROF_CNES, :PROF_CREMEB, :CODIGOCPS,
 :CODIGOPAC, :COD_USUARIO;
   if (RACA = '1') then
    RACA = 'Branco';
   else if (RACA = '2') then
    RACA = 'Negro';
   else if (RACA = '3') then
    RACA = 'Parda';
   else if (RACA = 'B') then
    RACA = 'Branco';
   else if (RACA = 'N') then
    RACA = 'Negro';
   else if (RACA = 'P') then
    RACA = 'Parda';
  DIRETOR_CLINICO = 'DR LUCIEN AZEVEDO ZANON';
  DIRETOR_CRMEB ='21290';
  DIRETOR_CPF = '07945983740';
  PROF_AUTORIZADOR = 'DR LUIS FERNANDO DA CUNHA LOPES REIS';
   DOC_AUTORIZADOR  = '210175072540005';
  --DOC_AUTORIZADOR  = '763.642.160-72';
  CONS_AUTORIZADOR = '19041-BA';
 -- TIPO_DOC_AUTORIZADOR = '( )CNS   (X)CPF';
  select  sUBSTR(telefone,1,3) from paciente where codigopac = :codigopac into :ddd;
  telefone = sUBSTR(telefone,4,12);
  --PROF_SOL = '';
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid'
  order by ALTAITEM.INDICE asc  into :cid1, :cid1_nome;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Cid' into :cid2, :cid2_nome;
  SELECT first 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO, :PROCEDIMENTO;
  SELECT first 1 skip 1 codigoamb, descricao FROM ALTAITEM WHERE ALTA = :CODIGO and classe='Procedimentos'
  order by ALTAITEM.INDICE asc  into :PROC_CODIGO2, :PROCEDIMENTO2;
  suspend;
end
 ^


ALTER PROCEDURE "LAYOUTAIH" 
(
  "CONSULTA" VARCHAR(20000),
  "ESPECIALIDADE" VARCHAR(10),
  "LOTE" VARCHAR(30),
  "APRESENTACAO" VARCHAR(6),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "CAMPO1" VARCHAR(100),
  "CAMPO2" VARCHAR(100),
  "CAMPO3" VARCHAR(100),
  "CAMPO4" VARCHAR(100),
  "CAMPO5" VARCHAR(100),
  "CAMPO6" VARCHAR(100),
  "CAMPO7" VARCHAR(100),
  "CAMPO8" VARCHAR(100),
  "CAMPO9" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" VARCHAR(100),
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "CAMPO54" VARCHAR(100),
  "CAMPO55" VARCHAR(100),
  "CAMPO56" VARCHAR(100),
  "CAMPO57" VARCHAR(100),
  "CAMPO58" VARCHAR(100),
  "CAMPO59" VARCHAR(100),
  "CAMPO60" VARCHAR(100),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(100),
  "CAMPO63" VARCHAR(100),
  "CAMPO64" VARCHAR(100),
  "CAMPO65" VARCHAR(100),
  "CAMPO66" VARCHAR(100),
  "CAMPO67" VARCHAR(100),
  "CAMPO68" VARCHAR(100),
  "CAMPO69" VARCHAR(100),
  "CAMPO70" VARCHAR(100),
  "CAMPO71" VARCHAR(100),
  "CAMPO72" VARCHAR(100),
  "CAMPO73" VARCHAR(100),
  "CAMPO74" VARCHAR(100),
  "CAMPO75" VARCHAR(100),
  "CAMPO76" VARCHAR(100),
  "CAMPO77" VARCHAR(100),
  "CAMPO78" VARCHAR(100),
  "CAMPO79" VARCHAR(100),
  "CAMPO80" VARCHAR(100),
  "CAMPO81" VARCHAR(100),
  "CAMPO82" VARCHAR(100),
  "CAMPO83" VARCHAR(100),
  "CAMPO84" VARCHAR(100),
  "CAMPO85" VARCHAR(100),
  "CAMPO86" VARCHAR(100),
  "CAMPO87" VARCHAR(100),
  "CAMPO88" VARCHAR(100),
  "CAMPO89" VARCHAR(100),
  "CAMPO90" VARCHAR(100),
  "CAMPO91" VARCHAR(100),
  "CAMPO92" VARCHAR(100),
  "CAMPO93" VARCHAR(100),
  "CAMPO94" VARCHAR(100),
  "CAMPO95" VARCHAR(100),
  "CAMPO96" VARCHAR(100),
  "CAMPO97" VARCHAR(100),
  "CAMPO98" VARCHAR(100),
  "CAMPO99" VARCHAR(100),
  "CAMPO100" VARCHAR(100),
  "CAMPO101" VARCHAR(100),
  "CAMPO102" VARCHAR(100),
  "CAMPO103" VARCHAR(100),
  "CAMPO104" VARCHAR(100),
  "CAMPO105" VARCHAR(100),
  "CAMPO106" VARCHAR(100),
  "CAMPO107" VARCHAR(100),
  "CAMPO108" VARCHAR(100),
  "CAMPO109" VARCHAR(100),
  "CAMPO110" VARCHAR(100),
  "CAMPO111" VARCHAR(100),
  "CAMPO112" VARCHAR(100),
  "CAMPO113" VARCHAR(100),
  "CAMPO114" VARCHAR(100),
  "CAMPO115" VARCHAR(100),
  "CAMPO116" VARCHAR(100),
  "CAMPO117" VARCHAR(100),
  "CAMPO118" VARCHAR(100),
  "CAMPO119" VARCHAR(100),
  "CAMPO120" VARCHAR(100),
  "CAMPO121" VARCHAR(100),
  "CAMPO122" VARCHAR(100),
  "CAMPO123" VARCHAR(100),
  "CAMPO124" VARCHAR(100),
  "CAMPO125" VARCHAR(100),
  "CAMPO126" VARCHAR(100),
  "CAMPO127" VARCHAR(100),
  "CAMPO128" VARCHAR(100),
  "CAMPO129" VARCHAR(100),
  "CAMPO130" VARCHAR(100),
  "CAMPO131" VARCHAR(100),
  "CAMPO132" VARCHAR(100),
  "CAMPO133" VARCHAR(100),
  "CAMPO134" VARCHAR(100),
  "CAMPO135" VARCHAR(100),
  "CAMPO136" VARCHAR(100),
  "CAMPO137" VARCHAR(100),
  "CAMPO138" VARCHAR(100),
  "CAMPO139" VARCHAR(100),
  "CAMPO140" VARCHAR(100),
  "CAMPO141" VARCHAR(100),
  "CAMPO142" VARCHAR(100),
  "CAMPO143" VARCHAR(100),
  "CAMPO144" VARCHAR(100),
  "CAMPO145" VARCHAR(100),
  "CAMPO146" VARCHAR(100),
  "CAMPO147" VARCHAR(100),
  "CAMPO148" VARCHAR(100),
  "CAMPO149" VARCHAR(100),
  "CAMPO150" VARCHAR(100),
  "CAMPO151" VARCHAR(100),
  "CAMPO152" VARCHAR(100),
  "CAMPO153" VARCHAR(100),
  "CAMPO154" VARCHAR(100),
  "CAMPO155" VARCHAR(100),
  "CAMPO156" VARCHAR(100),
  "CAMPO157" VARCHAR(100),
  "CAMPO158" VARCHAR(100),
  "CAMPO159" VARCHAR(100),
  "CAMPO160" VARCHAR(100),
  "CAMPO161" VARCHAR(100),
  "CAMPO162" VARCHAR(100),
  "CAMPO163" VARCHAR(100),
  "CAMPO164" VARCHAR(100),
  "CAMPO165" VARCHAR(100),
  "CAMPO166" VARCHAR(100),
  "CAMPO167" VARCHAR(100),
  "CAMPO168" VARCHAR(100),
  "CAMPO169" VARCHAR(100),
  "CAMPO170" VARCHAR(100),
  "CAMPO171" VARCHAR(100),
  "CAMPO172" VARCHAR(100),
  "CAMPO173" VARCHAR(100),
  "CAMPO174" VARCHAR(100),
  "CAMPO175" VARCHAR(100),
  "CAMPO176" VARCHAR(100),
  "CAMPO177" VARCHAR(100),
  "CAMPO178" VARCHAR(100),
  "CAMPO179" VARCHAR(100),
  "CAMPO180" VARCHAR(100),
  "CAMPO181" VARCHAR(100),
  "CAMPO182" VARCHAR(100),
  "CAMPO183" VARCHAR(100),
  "CAMPO184" VARCHAR(100),
  "CAMPO185" VARCHAR(100),
  "CAMPO186" VARCHAR(100),
  "CAMPO187" VARCHAR(100),
  "CAMPO188" VARCHAR(100),
  "CAMPO189" VARCHAR(100),
  "CAMPO190" VARCHAR(100),
  "CAMPO191" VARCHAR(100),
  "CAMPO192" VARCHAR(100),
  "CAMPO193" VARCHAR(100),
  "CAMPO194" VARCHAR(100),
  "CAMPO195" VARCHAR(100),
  "CAMPO196" VARCHAR(100),
  "CAMPO197" VARCHAR(100),
  "CAMPO198" VARCHAR(100),
  "CAMPO199" VARCHAR(100),
  "CAMPO200" VARCHAR(100),
  "CAMPO201" VARCHAR(100),
  "CAMPO202" VARCHAR(100),
  "CAMPO203" VARCHAR(100)
)
AS
declare variable cnpj       varchar(20);
declare variable qtde       integer;
declare variable cps  integer;
declare variable codigopac  integer;
declare variable tratamento integer;
declare variable aih varchar(30);
declare variable medcns varchar(30);
declare variable cbo varchar(30);
declare variable procedimento varchar(30);
declare variable grauparticipacao varchar(30);
declare variable qtdeproc integer;
begin
  campo1 = lote;
  campo2 = '0';
  campo3 = apresentacao;
  campo4 = '0';
  select first 1 valor from empresaconfig where parametro like 'OrgaoEmissorSUS' into campo5;
  select first 1 cnes, cidadeibge, cpfdiretor, cnpj from empresas into campo6, campo7, campo29, cnpj;
  select first 1 sus from medicos where a_cpf = :campo29 into campo29;
  campo10 = especialidade;
  campo11 = '0';
  campo12 = '02';
  campo13 = '000';
  campo24 = '2';
  campo26 = '2';
  campo28 = '2';
  campo30 = '2';
  campo36 = '0';
  campo44 = '0000';
  campo46 = '0';
  campo74 = '0';
  campo87 = '0';
  campo202 = '';
  campo203 = '0';
  campo60 = '2';
  campo67 = '2';
  campo73 = '2';
  campo80 = '2';
  campo86 = '2';
  campo93 = '2';
  campo99 = '2';
  campo106 = '2';
  campo112 = '2';
  campo119 = '2';
  campo125 = '2';
  campo132 = '2';
  campo138 = '2';
  campo145 = '2';
  campo151 = '2';
  campo158 = '2';
  campo64	= '3';
  campo65	= cnpj;
  campo77	= '3';
  campo78	= cnpj;
  campo90	= '3';
  campo91	= cnpj;
  campo103	= '3';
  campo104	= cnpj;
  campo116	= '3';
  campo117	= cnpj;
  campo129	= '3';
  campo130	= cnpj;
  campo142	= '3';
  campo143	= cnpj;
  campo155	= '3';
  campo156	= cnpj;
  aih = '';
  for select distinct cps.codigopac, cps.codigocps, cps.a_guia
             from cps(:consulta)
      where ((cps.cobrar = 'S') or (cps.cobrar is null)) and cps.dhe <> 'M' and cps.a_guia <> ''
      order by cps.a_guia
      into codigopac, cps, campo8 do
  begin
    if ((aih = '') or (aih <> campo8)) then
    begin
      aih = campo8;
      qtde = 0;
    end
    qtde = qtde + 1;
    CAMPO9 = '01';
    SELECT first 1 AIH_MODALIDADE, AIH_AIH_POS, AIH_AIH_ANT,AIH_DT_EMISS, AIH_DT_INT, AIH_DT_SAI, AIH_PROC_SOLIC,AIH_MUDANCA_PROC,
           AIH_PROC_REA, AIH_CAR_INT, AIH_MOT_COB, AIH_DOC_MED_SOLIC, AIH_DOC_MED_RESP, AIH_DOC_MED_AUTORIZADOR,
           AIH_CID_PRI, AIH_CID_SEC,AIH_CID_C_ASS, AIH_CID_MOR,
           AIH_PAC_NOME, AIH_PAC_DT_NASC, AIH_PAC_SEXO, AIH_PAC_RACA_COR, AIH_PAC_NOME_MAE, AIH_NOME_RESP, AIH_PAC_TIPO_DOC, AIH_COD_AUT,
           AIH_PAC_CNS, AIH_PAC_NACIO, AIH_PAC_COD_LOGR, AIH_PAC_LOGR, AIH_PAC_NUMERO, AIH_PAC_COMPL, AIH_PAC_BAIRRO, AIH_PAC_MUNICIPIO,
           AIH_PAC_UF, AIH_PAC_CEP,
           AIH_PAC_DOC,AIH_PAC_TELEFONE, AIH_PAC_TELEFONE
           FROM CPSSUSAIH WHERE AIH_NUM_AIH = :CAMPO8 AND CODIGOCPS =:CPS
    INTO :campo12, campo14, campo15, campo16, campo17, campo18, campo19,campo20,
         :campo21, campo22,campo23, campo25,campo27, campo31,
         campo32,campo33,campo34,campo35,
         campo37, campo38, campo39, campo40, campo41, campo42, campo43, campo45,
         campo47, campo48, campo49, campo50, campo51, campo52, campo53, campo54,
         campo55, campo56,
         campo199, campo200, campo201;
    select dayhospital from cps1 where codigocps = :cps into campo12;
    if ((campo12 is null) or (campo12 <> 'S')) then
      campo12 = '02';
    else
      campo12 = '03';
    qtde = 0;
    for select medicos.sus, especialidade.cbosus, cps.gruposus || cps.codigoamb, cps.quantidade, cps.grauparticipacao
               from cps('where codigocps = ' || :cps || ' and a_guia = ''' || :campo8 || '''')
        inner join medicos on (medicos.a_medicos = cps.a_medicos)
        inner join especialidade on (especialidade.codesp = cps.codespitem)
        where ((cps.cobrar = 'S') or (cps.cobrar is null)) and cps.dhe <> 'M' and cps.a_guia <> ''
        order by cps.a_guia
        into medcns, cbo, procedimento, qtdeproc, grauparticipacao do
    begin
      qtde = qtde + 1;
      if (qtde = 1) then
      begin
        campo61=medcns;
        campo62=cbo;
        campo64='0';
        if (grauparticipacao <> '') then
          campo64 =grauparticipacao;
        campo68=procedimento;
        campo69=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo70, campo71, campo72;
      end
      if (qtde = 2) then
      begin
        campo74=medcns;
        campo75=cbo;
        campo77='0';
        if (grauparticipacao <> '') then
          campo77 =grauparticipacao;
        campo81=procedimento;
        campo82=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo83, campo84, campo85;
      end
      if (qtde = 3) then
      begin
        campo87=medcns;
        campo88=cbo;
        campo90='0';
        if (grauparticipacao <> '') then
          campo90 =grauparticipacao;
        campo94=procedimento;
        campo95=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo96, campo97, campo98;
      end
      if (qtde = 4) then
      begin
        campo100=medcns;
        campo101=cbo;
        campo103='0';
        if (grauparticipacao <> '') then
          campo103 =grauparticipacao;
        campo107=procedimento;
        campo108=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo109, campo110, campo111;
      end
      if (qtde = 5) then
      begin
        campo113=medcns;
        campo114=cbo;
        campo116='0';
        if (grauparticipacao <> '') then
          campo116 =grauparticipacao;
        campo120=procedimento;
        campo121=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo122, campo123, campo124;
      end
      if (qtde = 6) then
      begin
        campo126=medcns;
        campo127=cbo;
        campo129='0';
        if (grauparticipacao <> '') then
          campo129 =grauparticipacao;
        campo133=procedimento;
        campo134=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo135, campo136, campo137;
      end
      if (qtde = 7) then
      begin
        campo139=medcns;
        campo140=cbo;
        campo142='0';
        if (grauparticipacao <> '') then
          campo142 =grauparticipacao;
        campo146=procedimento;
        campo147=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo148, campo149, campo150;
      end
      if (qtde = 8) then
      begin
        campo152=medcns;
        campo153=cbo;
        campo155='0';
        if (grauparticipacao <> '') then
          campo155 =grauparticipacao;
        campo159=procedimento;
        campo160=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo161, campo162, campo163;
      end
      if (qtde >=8) then
      begin
       qtde = 0;
       suspend;
       campo61 = null;  campo62 = null; campo64 = null; campo68 = null; campo69 = null; campo70 = null; campo71 = null; campo72 = null;
       campo74 = null;  campo75 = null; campo77 = null; campo81 = null; campo82 = null; campo83 = null; campo84 = null; campo85 = null;
       campo87 = null;  campo88 = null; campo90 = null; campo94 = null; campo95 = null; campo96 = null; campo97 = null; campo98 = null;
       campo100 = null; campo101 = null; campo103 = null; campo107 = null; campo108 = null; campo109 = null; campo110 = null; campo111 = null;
       campo113 = null; campo114 = null; campo116 = null; campo120 = null; campo121 = null; campo122 = null; campo123 = null; campo124 = null;
       campo126 = null; campo127 = null; campo129 = null; campo133 = null; campo134 = null; campo135 = null; campo136 = null; campo137 = null;
       campo139 = null; campo140 = null; campo142 = null; campo146 = null; campo147 = null; campo148 = null; campo149 = null; campo150 = null;
       campo152 = null; campo153 = null; campo155 = null; campo159 = null; campo160 = null; campo161 = null; campo162 = null; campo163 = null;
       campo9 = '03';
      end
    end
    if (qtde > 0) then
      suspend;
  end
end
 ^


ALTER PROCEDURE "LAYOUTAIH_CPC" 
(
  "CONSULTA" VARCHAR(20000),
  "ESPECIALIDADE" VARCHAR(10),
  "LOTE" VARCHAR(30),
  "APRESENTACAO" VARCHAR(6),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "CAMPO1" VARCHAR(100),
  "CAMPO2" VARCHAR(100),
  "CAMPO3" VARCHAR(100),
  "CAMPO4" VARCHAR(100),
  "CAMPO5" VARCHAR(100),
  "CAMPO6" VARCHAR(100),
  "CAMPO7" VARCHAR(100),
  "CAMPO8" VARCHAR(100),
  "CAMPO9" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" VARCHAR(100),
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "CAMPO54" VARCHAR(100),
  "CAMPO55" VARCHAR(100),
  "CAMPO56" VARCHAR(100),
  "CAMPO57" VARCHAR(100),
  "CAMPO58" VARCHAR(100),
  "CAMPO59" VARCHAR(100),
  "CAMPO60" VARCHAR(100),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(100),
  "CAMPO63" VARCHAR(100),
  "CAMPO64" VARCHAR(100),
  "CAMPO65" VARCHAR(100),
  "CAMPO66" VARCHAR(100),
  "CAMPO67" VARCHAR(100),
  "CAMPO68" VARCHAR(100),
  "CAMPO69" VARCHAR(100),
  "CAMPO70" VARCHAR(100),
  "CAMPO71" VARCHAR(100),
  "CAMPO72" VARCHAR(100),
  "CAMPO73" VARCHAR(100),
  "CAMPO74" VARCHAR(100),
  "CAMPO75" VARCHAR(100),
  "CAMPO76" VARCHAR(100),
  "CAMPO77" VARCHAR(100),
  "CAMPO78" VARCHAR(100),
  "CAMPO79" VARCHAR(100),
  "CAMPO80" VARCHAR(100),
  "CAMPO81" VARCHAR(100),
  "CAMPO82" VARCHAR(100),
  "CAMPO83" VARCHAR(100),
  "CAMPO84" VARCHAR(100),
  "CAMPO85" VARCHAR(100),
  "CAMPO86" VARCHAR(100),
  "CAMPO87" VARCHAR(100),
  "CAMPO88" VARCHAR(100),
  "CAMPO89" VARCHAR(100),
  "CAMPO90" VARCHAR(100),
  "CAMPO91" VARCHAR(100),
  "CAMPO92" VARCHAR(100),
  "CAMPO93" VARCHAR(100),
  "CAMPO94" VARCHAR(100),
  "CAMPO95" VARCHAR(100),
  "CAMPO96" VARCHAR(100),
  "CAMPO97" VARCHAR(100),
  "CAMPO98" VARCHAR(100),
  "CAMPO99" VARCHAR(100),
  "CAMPO100" VARCHAR(100),
  "CAMPO101" VARCHAR(100),
  "CAMPO102" VARCHAR(100),
  "CAMPO103" VARCHAR(100),
  "CAMPO104" VARCHAR(100),
  "CAMPO105" VARCHAR(100),
  "CAMPO106" VARCHAR(100),
  "CAMPO107" VARCHAR(100),
  "CAMPO108" VARCHAR(100),
  "CAMPO109" VARCHAR(100),
  "CAMPO110" VARCHAR(100),
  "CAMPO111" VARCHAR(100),
  "CAMPO112" VARCHAR(100),
  "CAMPO113" VARCHAR(100),
  "CAMPO114" VARCHAR(100),
  "CAMPO115" VARCHAR(100),
  "CAMPO116" VARCHAR(100),
  "CAMPO117" VARCHAR(100),
  "CAMPO118" VARCHAR(100),
  "CAMPO119" VARCHAR(100),
  "CAMPO120" VARCHAR(100),
  "CAMPO121" VARCHAR(100),
  "CAMPO122" VARCHAR(100),
  "CAMPO123" VARCHAR(100),
  "CAMPO124" VARCHAR(100),
  "CAMPO125" VARCHAR(100),
  "CAMPO126" VARCHAR(100),
  "CAMPO127" VARCHAR(100),
  "CAMPO128" VARCHAR(100),
  "CAMPO129" VARCHAR(100),
  "CAMPO130" VARCHAR(100),
  "CAMPO131" VARCHAR(100),
  "CAMPO132" VARCHAR(100),
  "CAMPO133" VARCHAR(100),
  "CAMPO134" VARCHAR(100),
  "CAMPO135" VARCHAR(100),
  "CAMPO136" VARCHAR(100),
  "CAMPO137" VARCHAR(100),
  "CAMPO138" VARCHAR(100),
  "CAMPO139" VARCHAR(100),
  "CAMPO140" VARCHAR(100),
  "CAMPO141" VARCHAR(100),
  "CAMPO142" VARCHAR(100),
  "CAMPO143" VARCHAR(100),
  "CAMPO144" VARCHAR(100),
  "CAMPO145" VARCHAR(100),
  "CAMPO146" VARCHAR(100),
  "CAMPO147" VARCHAR(100),
  "CAMPO148" VARCHAR(100),
  "CAMPO149" VARCHAR(100),
  "CAMPO150" VARCHAR(100),
  "CAMPO151" VARCHAR(100),
  "CAMPO152" VARCHAR(100),
  "CAMPO153" VARCHAR(100),
  "CAMPO154" VARCHAR(100),
  "CAMPO155" VARCHAR(100),
  "CAMPO156" VARCHAR(100),
  "CAMPO157" VARCHAR(100),
  "CAMPO158" VARCHAR(100),
  "CAMPO159" VARCHAR(100),
  "CAMPO160" VARCHAR(100),
  "CAMPO161" VARCHAR(100),
  "CAMPO162" VARCHAR(100),
  "CAMPO163" VARCHAR(100),
  "CAMPO164" VARCHAR(100),
  "CAMPO165" VARCHAR(100),
  "CAMPO166" VARCHAR(100),
  "CAMPO167" VARCHAR(100),
  "CAMPO168" VARCHAR(100),
  "CAMPO169" VARCHAR(100),
  "CAMPO170" VARCHAR(100),
  "CAMPO171" VARCHAR(100),
  "CAMPO172" VARCHAR(100),
  "CAMPO173" VARCHAR(100),
  "CAMPO174" VARCHAR(100),
  "CAMPO175" VARCHAR(100),
  "CAMPO176" VARCHAR(100),
  "CAMPO177" VARCHAR(100),
  "CAMPO178" VARCHAR(100),
  "CAMPO179" VARCHAR(100),
  "CAMPO180" VARCHAR(100),
  "CAMPO181" VARCHAR(100),
  "CAMPO182" VARCHAR(100),
  "CAMPO183" VARCHAR(100),
  "CAMPO184" VARCHAR(100),
  "CAMPO185" VARCHAR(100),
  "CAMPO186" VARCHAR(100),
  "CAMPO187" VARCHAR(100),
  "CAMPO188" VARCHAR(100),
  "CAMPO189" VARCHAR(100),
  "CAMPO190" VARCHAR(100),
  "CAMPO191" VARCHAR(100),
  "CAMPO192" VARCHAR(100),
  "CAMPO193" VARCHAR(100),
  "CAMPO194" VARCHAR(100),
  "CAMPO195" VARCHAR(100),
  "CAMPO196" VARCHAR(100),
  "CAMPO197" VARCHAR(100),
  "CAMPO198" VARCHAR(100),
  "CAMPO199" VARCHAR(100),
  "CAMPO200" VARCHAR(100),
  "CAMPO201" VARCHAR(100),
  "CAMPO202" VARCHAR(100),
  "CAMPO203" VARCHAR(100)
)
AS
declare variable cnpj       varchar(20);
declare variable qtde       integer;
declare variable cps  integer;
declare variable codigopac  integer;
declare variable tratamento integer;
declare variable aih varchar(30);
declare variable medcns varchar(30);
declare variable cbo varchar(30);
declare variable procedimento varchar(30);
declare variable grauparticipacao varchar(30);
declare variable qtdeproc integer;
declare variable convenio integer;
declare variable auxApres varchar(6);
begin
  campo1 = lote;
  campo2 = '0';
  campo3 = apresentacao;
  campo4 = '0';
  select first 1 valor from empresaconfig where parametro like 'OrgaoEmissorSUS' into campo5;
  select first 1 cnes, cidadeibge, cpfdiretor, cnpj from empresas into campo6, campo7, campo29, cnpj;
  select first 1 sus from medicos where a_cpf = :campo29 and sus is not null into campo29;
  campo10 = especialidade;
  campo11 = '0';
  campo12 = '02';
  campo13 = '000';
  campo24 = '2';
  campo26 = '2';
  campo28 = '2';
  campo30 = '2';
  campo36 = '0';
  campo44 = '0000';
  campo46 = '0';
  campo74 = '0';
  campo87 = '0';
  campo202 = '';
  campo203 = '0';
  campo60 = '2';
  campo67 = '2';
  campo73 = '2';
  campo80 = '2';
  campo86 = '2';
  campo93 = '2';
  campo99 = '2';
  campo106 = '2';
  campo112 = '2';
  campo119 = '2';
  campo125 = '2';
  campo132 = '2';
  campo138 = '2';
  campo145 = '2';
  campo151 = '2';
  campo158 = '2';
  campo64	= '3';
  campo65	= cnpj;
  campo77	= '3';
  campo78	= cnpj;
  campo90	= '3';
  campo91	= cnpj;
  campo103	= '3';
  campo104	= cnpj;
  campo116	= '3';
  campo117	= cnpj;
  campo129	= '3';
  campo130	= cnpj;
  campo142	= '3';
  campo143	= cnpj;
  campo155	= '3';
  campo156	= cnpj;
  aih = '';
  for select distinct cps.codigopac, cps.codigocps, cps.a_guia, cps.tratamento, cps.convenio
             from cps(:consulta)
      where ((cps.cobrar = 'S') or (cps.cobrar is null)) and cps.dhe <> 'M' and cps.codigopla in (3,7)
      order by cps.a_guia
      into codigopac, cps, campo8, tratamento, convenio do
  begin
   -- select first 1 a_guia from inter2 where codigoint = :cps and a_guia is not null into : campo8;
    if ((aih = '') or (aih <> campo8)) then
    begin
      aih = campo8;
      qtde = 0;
    end
--    suspend;
    qtde = qtde + 1;
    CAMPO9 = '01';
    AUXAPRES = NULL;
      SELECT first 1 AIH_MODALIDADE, AIH_AIH_POS, AIH_AIH_ANT,AIH_DT_EMISS, AIH_DT_INT, AIH_DT_SAI, AIH_PROC_SOLIC,AIH_MUDANCA_PROC,
           AIH_PROC_REA, AIH_CAR_INT, AIH_MOT_COB, AIH_DOC_MED_SOLIC, AIH_DOC_MED_RESP, AIH_DOC_MED_AUTORIZADOR,
           AIH_CID_PRI, AIH_CID_SEC,AIH_CID_C_ASS, AIH_CID_MOR,
           AIH_PAC_NOME, AIH_PAC_DT_NASC, AIH_PAC_SEXO, AIH_PAC_RACA_COR, AIH_PAC_NOME_MAE, AIH_NOME_RESP, AIH_PAC_TIPO_DOC, AIH_COD_AUT,
           AIH_PAC_CNS, AIH_PAC_NACIO, AIH_PAC_COD_LOGR, AIH_PAC_LOGR, AIH_PAC_NUMERO, AIH_PAC_COMPL, AIH_PAC_BAIRRO, AIH_PAC_MUNICIPIO,
           AIH_PAC_UF, AIH_PAC_CEP, AIH_PRONT,
           AIH_PAC_DOC, AIH_PAC_TELEFONE, AIH_PAC_TELEFONE, AIH_APRES
           FROM CPSSUSAIH WHERE AIH_NUM_AIH = :CAMPO8 AND CODIGOCPS =:CPS
    INTO :campo12, campo14, campo15, campo16, campo17, campo18, campo19,campo20,
         :campo21, campo22,campo23, campo25,campo27, campo31,
         campo32,campo33,campo34,campo35,
         campo37, campo38, campo39, campo40, campo41, campo42, campo43, campo45,
         campo47, campo48, campo49, campo50, campo51, campo52, campo53, campo54,
         campo55, campo56, campo57,
         campo199, campo200, campo201, AUXAPRES;
    select dayhospital from cps1 where codigocps = :cps into campo12;
    if ((campo12 is null) or (campo12 <> 'S')) then
      campo12 = '02';
    else
      campo12 = '03';
    qtde = 0;
    auxapres = substr( auxapres, 3, 10) || substr(auxapres, 1,2);
    campo200 = substr(campo200, 2,3);
    campo201 = substr(campo201, 4,20);
      for select medcns, cbo, procedimento, qtdeproc, grauparticipacao
               from sp_aih_procedimento('where codigocps = ' || :cps || ' and a_guia = ''' || :campo8 || '''')
        into medcns, cbo, procedimento, qtdeproc, grauparticipacao do
    begin
      qtde = qtde + 1;
      if (qtde = 1) then
      begin
        campo61=medcns;
        campo62=cbo;
        campo64='0';
        if (grauparticipacao <> '') then
          campo64 =grauparticipacao;
        campo68=procedimento;
        campo69=qtdeproc;
        campo70 = null; campo71 = null; campo72 = null;
        CAMPO70 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo71, campo72;
      end
      if (qtde = 2) then
      begin
        campo74=medcns;
        campo75=cbo;
        campo77='0';
        if (grauparticipacao <> '') then
          campo77 =grauparticipacao;
        campo81=procedimento;
        campo82=qtdeproc;
      --  select first 1 competencia, cod_servico, cod_class from conv_susclass into campo83, campo84, campo85;
        campo83 = null; campo84 = null; campo85 = null;
        CAMPO83 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo84, campo85;
      end
      if (qtde = 3) then
      begin
        campo87=medcns;
        campo88=cbo;
        campo90='0';
        if (grauparticipacao <> '') then
          campo90 =grauparticipacao;
        campo94=procedimento;
        campo95=qtdeproc;
        --select first 1 competencia, cod_servico, cod_class from conv_susclass into campo96, campo97, campo98;
        campo96 = null; campo97 = null; campo98 = null;
        CAMPO96 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo97, campo98;
      end
      if (qtde = 4) then
      begin
        campo100=medcns;
        campo101=cbo;
        campo103='0';
        if (grauparticipacao <> '') then
          campo103 =grauparticipacao;
        campo107=procedimento;
        campo108=qtdeproc;
        --select first 1 competencia, cod_servico, cod_class from conv_susclass into campo109, campo110, campo111;
        campo109 = null; campo110 = null; campo111 = null;
        CAMPO109 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo110, campo111;
      end
      if (qtde = 5) then
      begin
        campo113=medcns;
        campo114=cbo;
        campo116='0';
        if (grauparticipacao <> '') then
          campo116 =grauparticipacao;
        campo120=procedimento;
        campo121=qtdeproc;
      --  select first 1 competencia, cod_servico, cod_class from conv_susclass into campo122, campo123, campo124;
        campo122 = null; campo123 = null; campo124 = null;
        CAMPO122 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo123, campo124;
      end
      if (qtde = 6) then
      begin
        campo126=medcns;
        campo127=cbo;
        campo129='0';
        if (grauparticipacao <> '') then
          campo129 =grauparticipacao;
        campo133=procedimento;
        campo134=qtdeproc;
      --  select first 1 competencia, cod_servico, cod_class from conv_susclass into campo135, campo136, campo137;
        campo135 = null; campo136 = null; campo137 = null;
        CAMPO135 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo136, campo137;
      end
      if (qtde = 7) then
      begin
        campo139=medcns;
        campo140=cbo;
        campo142='0';
        if (grauparticipacao <> '') then
          campo142 =grauparticipacao;
        campo146=procedimento;
        campo147=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo148, campo149, campo150;
        campo148 = null; campo149 = null; campo150 = null;
        CAMPO148 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo149, campo150;
      end
      if (qtde = 8) then
      begin
        campo152=medcns;
        campo153=cbo;
        campo155='0';
        if (grauparticipacao <> '') then
          campo155 =grauparticipacao;
        campo159=procedimento;
        campo160=qtdeproc;
        select first 1 competencia, cod_servico, cod_class from conv_susclass into campo161, campo162, campo163;
        campo161 = null; campo162 = null; campo163 = null;
        CAMPO161 = AUXAPRES;
        select first 1 cod_servico, cod_class from conv_susclass
        where procedimento = :procedimento and convenio = :convenio and competencia = :auxapres
        order by competencia desc
        into campo162, campo163;
      end
      if (qtde >=8) then
      begin
       qtde = 0;
       suspend;
       campo61 = null;  campo62 = null; campo64 = null; campo68 = null; campo69 = null; campo70 = null; campo71 = null; campo72 = null;
       campo74 = null;  campo75 = null; campo77 = null; campo81 = null; campo82 = null; campo83 = null; campo84 = null; campo85 = null;
       campo87 = null;  campo88 = null; campo90 = null; campo94 = null; campo95 = null; campo96 = null; campo97 = null; campo98 = null;
       campo100 = null; campo101 = null; campo103 = null; campo107 = null; campo108 = null; campo109 = null; campo110 = null; campo111 = null;
       campo113 = null; campo114 = null; campo116 = null; campo120 = null; campo121 = null; campo122 = null; campo123 = null; campo124 = null;
       campo126 = null; campo127 = null; campo129 = null; campo133 = null; campo134 = null; campo135 = null; campo136 = null; campo137 = null;
       campo139 = null; campo140 = null; campo142 = null; campo146 = null; campo147 = null; campo148 = null; campo149 = null; campo150 = null;
       campo152 = null; campo153 = null; campo155 = null; campo159 = null; campo160 = null; campo161 = null; campo162 = null; campo163 = null;
       campo9 = '03';
      end
    end
    if (qtde > 0) then
      suspend;
  end
end
 ^


ALTER PROCEDURE "LAYOUTAPAC" 
(
  "CONSULTA" VARCHAR(20000),
  "ESPECIALIDADE" VARCHAR(10),
  "LOTE" VARCHAR(30),
  "APRESENTACAO" VARCHAR(6),
  "TIPO" VARCHAR(20)
)
RETURNS
(
  "CAMPO1" VARCHAR(100),
  "CAMPO2" VARCHAR(100),
  "CAMPO3" VARCHAR(100),
  "CAMPO4" VARCHAR(100),
  "CAMPO5" VARCHAR(100),
  "CAMPO6" VARCHAR(100),
  "CAMPO7" VARCHAR(100),
  "CAMPO8" VARCHAR(100),
  "CAMPO9" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" VARCHAR(100),
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100)
)
AS
BEGIN EXIT; END
 ^


ALTER PROCEDURE "LEITOATUAL" 
(
  "CPS" INTEGER
)
RETURNS
(
  "ALA" INTEGER,
  "LEITO" INTEGER,
  "UN" INTEGER
)
AS
BEGIN
     select first 1  alas.a_ala, leitos.leito, alas.unidadenegocio from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = :cps order by data desc, hora desc
          into
          ala, leito, un;
          suspend;
END
 ^


ALTER PROCEDURE "LEITOSATIVOS" 
(
  "ALA1" INTEGER,
  "ALA2" INTEGER
)
RETURNS
(
  "LEITOSATIVOS" INTEGER
)
AS
begin
   SELECT COUNT( LEITO ) AS ATIVOS FROM LEITOS
   WHERE ( A_GRUPO BETWEEN :ALA1 AND :ALA2 ) AND ( A_ATIVO = 'S' )
   INTO LEITOSATIVOS;
   SUSPEND;
end
 ^


ALTER PROCEDURE "LEITOSATIVOS2" 
(
  "ALA1" INTEGER,
  "ALA2" INTEGER
)
RETURNS
(
  "LEITOSATIVOS" INTEGER
)
AS
begin
   SELECT COUNT( LEITO ) AS ATIVOS
   FROM LEITOS
   WHERE ( A_GRUPO BETWEEN :ALA1 AND :ALA2 ) AND ( A_ATIVO = 'S' ) AND (CONTAR = 'S')
   INTO LEITOSATIVOS;
   SUSPEND;
end
 ^


ALTER PROCEDURE "LIMITADORAGENDA" 
(
  "MARCACAO" INTEGER
)
RETURNS
(
  "QTDEMARC" INTEGER,
  "QTDE" INTEGER,
  "TEXTO" VARCHAR(250)
)
AS
declare variable data timestamp;
declare variable inicio timestamp;
declare variable final timestamp;
declare variable hora timestamp;
declare variable horarioinicio timestamp;
declare variable horariofinal timestamp;
declare variable periodo integer;
declare variable convenio integer;
declare variable a_medicos integer;
declare variable codigoamb varchar(10);
declare variable codigoambaux varchar(10);
declare variable procedimento varchar(250);
declare variable procaux varchar(250);
declare variable conveniolimite integer;
declare variable a_medicoslimite integer;
declare variable valor double precision;
declare variable valormarc double precision;
begin
  texto = '';
  periodo = null;
  select first 1 marcacao.data, marcacao.hora, marcacao.a_medicos, marcacao.convenio, servicos.a_nome, servicos.a_codamb from marcacao
  left join convenio on (convenio.convenio = marcacao.convenio)
  left join servicos on (servicos.codigoserv = marcacao.codigoproc)
  where marcacao.numero = :marcacao and convenio.particular <> 'S'
  into data, hora, a_medicos, convenio, procaux,codigoambaux ;
  select first 1 periodo,valor, qtde,codigoamb,procedimento,convenio,a_medicos, horarioinicio, horariofinal from marcacaolimite
  where :data between inicio and final and (convenio = :convenio or convenio = 0) and (a_medicos = :a_medicos or a_medicos is null) and  (:procaux containing procedimento or procedimento is null) and ((codigoamb = :codigoambaux) or (codigoamb is null))
  and (cast(:hora as time) between cast(horarioinicio as time) and cast(horariofinal as time))
  and
  (
  ((extract(weekday from :data) = 0) and (domingo = 'S')) or
  ((extract(weekday from :data) = 1) and (segunda = 'S')) or
  ((extract(weekday from :data) = 2) and (terca = 'S')) or
  ((extract(weekday from :data) = 3) and (quarta = 'S')) or
  ((extract(weekday from :data) = 4) and (quinta = 'S')) or
  ((extract(weekday from :data) = 5) and (sexta = 'S')) or
  ((extract(weekday from :data) = 6) and (sabado = 'S'))
  )
  order by convenio desc nulls last, a_medicos desc nulls last, procedimento  desc nulls last
  into periodo,valor,qtde, codigoamb,procedimento, conveniolimite,a_medicoslimite, horarioinicio, horariofinal;
  if (valor is null) then valor = -1;
  if (qtde is null) then qtde = -1;
  if (periodo = 1) then
  begin
    inicio = :data;
    final = :data;
  end
  if (periodo = 30) then
  begin
    inicio = '1.' || extract(month from :data) || '.' || extract(year from :data);
    final = addmonth(:inicio,1) -1;
  end
  begin
    begin
      if ((conveniolimite > 0) and (a_medicoslimite >0) and (codigoamb <> '') ) then
        select count(*), sum(valor) from marcacao where data between :inicio and :final and convenio = :conveniolimite and a_medicos = :a_medicoslimite and codigoamb = :codigoamb and paciente <> '' and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite > 0) and (a_medicoslimite is null) and (codigoamb <> '')) then
        select count(*), sum(valor) from marcacao where data between :inicio and :final and convenio = :conveniolimite and codigoamb = :codigoamb and paciente <> '' and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite = 0) and (a_medicoslimite >0) and (codigoamb <> '')) then
        select count(*), sum(valor) from marcacao where data between :inicio and :final and a_medicos = :a_medicos and codigoamb = :codigoamb and paciente <> '' and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite = 0) and (a_medicoslimite is null) and (codigoamb <> '')) then
        select count(*), sum(valor) from marcacao where data between :inicio and :final and codigoamb = :codigoamb and paciente <> '' and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite = 0) and (a_medicoslimite is null) and (procedimento <> '') and strlen(rtrim(procedimento)) = 1) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and marcacao.paciente <> '' and upper(servicos.a_tipo) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite >0) and (a_medicoslimite > 0) and (procedimento <> '') and strlen(rtrim(procedimento)) = 1) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and convenio = :conveniolimite and a_medicos = :a_medicoslimite and marcacao.paciente <> '' and upper(servicos.a_tipo) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite >0) and (a_medicoslimite is null) and (procedimento <> '') and strlen(rtrim(procedimento)) = 1) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and convenio = :conveniolimite and marcacao.paciente <> '' and upper(servicos.a_tipo) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite = 0) and (a_medicoslimite > 0) and (procedimento <> '') and strlen(rtrim(procedimento)) = 1) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and a_medicos = :a_medicoslimite and marcacao.paciente <> '' and upper(servicos.a_tipo) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite = 0) and (a_medicoslimite is null) and (procedimento <> '')) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and marcacao.paciente <> '' and upper(servicos.a_nome) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite >0) and (a_medicoslimite > 0) and (procedimento <> '')) then
      begin
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and convenio = :conveniolimite and a_medicos = :a_medicoslimite and marcacao.paciente <> '' and upper(servicos.a_nome) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
        if (qtde is null) then qtde = 0;
      end
      else if ((conveniolimite >0) and (a_medicoslimite is null) and (procedimento <> '')) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and convenio = :conveniolimite and marcacao.paciente <> '' and upper(servicos.a_nome) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
      else if ((conveniolimite = 0) and (a_medicoslimite > 0) and (procedimento <> '')) then
        select count(*), sum(valor) from marcacao inner join servicos on (servicos.codigoserv = marcacao.codigoproc) where marcacao.data between :inicio and :final and a_medicos = :a_medicoslimite and marcacao.paciente <> '' and upper(servicos.a_nome) containing upper(:procedimento) and (cast(hora as time) between cast(:horarioinicio as time) and cast(:horariofinal as time)) into qtdemarc, valormarc;
    end
  end
  If (qtdemarc is null) then qtdemarc = 0;
  If (valormarc is null) then valormarc = 0;
  If (qtde is null) then qtde = 0;
  If (valor is null) then valor = 0;
  If (valor >0) then
  begin
    if (valormarc> valor) then exception exc_aviso_limitevalor;
  end
  else If (qtde >0) then
  begin
    if (qtdemarc> qtde) then exception exc_aviso_limiteQTDe;
  end
  TEXTO = horarioinicio;
  suspend;
end
 ^


ALTER PROCEDURE "LIMPARRECEBPARCIAL" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "OK" VARCHAR(10)
)
AS
declare variable CODIGOPLA integer;
BEGIN
  CODIGOPLA = 0;
  select codigopla from cps1 where codigocps= :CODIGOCPS into :CODIGOPLA;
  IF (:CODIGOPLA <> 3)  THEN
    UPDATE CPS2 SET datarecebp1 = NULL, datarecebp2  = NULL, datarecebp3 = NULL, datarecebp4 = NULL, valorrecebp1 = NULL,  valorrecebp2 = NULL,  valorrecebp3 = NULL,  valorrecebp4 = NULL WHERE CODIGOCPS2 = :CODIGOCPS;
  IF (:CODIGOPLA <> 3)  THEN
    UPDATE CPS3 SET datarecebp1 = NULL, datarecebp2  = NULL, datarecebp3 = NULL, datarecebp4 = NULL, valorrecebp1 = NULL,  valorrecebp2 = NULL,  valorrecebp3 = NULL,  valorrecebp4 = NULL WHERE CODIGOCPS = :CODIGOCPS;
  IF (:CODIGOPLA = 3) THEN
    UPDATE INTER3 SET datarecebp1 = NULL, datarecebp2  = NULL, datarecebp3 = NULL, datarecebp4 = NULL, valorrecebp1 = NULL,  valorrecebp2 = NULL,  valorrecebp3 = NULL,  valorrecebp4 = NULL WHERE CODIGOINT = :CODIGOCPS;
  IF (:CODIGOPLA = 3) THEN
   UPDATE INTER32 SET datarecebp1 = NULL, datarecebp2  = NULL, datarecebp3 = NULL, datarecebp4 = NULL, valorrecebp1 = NULL,  valorrecebp2 = NULL,  valorrecebp3 = NULL,  valorrecebp4 = NULL WHERE CODIGOINT = :CODIGOCPS;
  ok ='';
  suspend;
END
 ^


ALTER PROCEDURE "LISTACONTATOS" 
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "FAX" VARCHAR(15),
  "EMAIL" VARCHAR(80),
  "TIPO" VARCHAR(120)
)
AS
begin
 tipo = 'USUARIO';
     suspend;
end
 ^


ALTER PROCEDURE "LISTACPSGLOSA" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "DATA" TIMESTAMP,
  "CODIGOAMB" VARCHAR(20),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "REPRESENTA" DOUBLE PRECISION,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DATAGLOSA" TIMESTAMP,
  "UNIDADENEGOCIO" INTEGER,
  "DHE" CHAR(1),
  "INDICE" FLOAT,
  "DESCRICAO" VARCHAR(250),
  "JUSTIFICATIVA" VARCHAR(5000),
  "XMLID" INTEGER,
  "GLOSADEFINITIVA" CHAR(1),
  "GLOSATIPO" SMALLINT,
  "CONVENIO" INTEGER,
  "QUANTIDADE" INTEGER,
  "GLOSADATA" TIMESTAMP,
  "DATARECEBIMENTO" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "PACIENTE" VARCHAR(200),
  "TISSBRAS" VARCHAR(30),
  "TUSSBRAS" VARCHAR(30),
  "SIMPRO" VARCHAR(30),
  "COB_ESP" VARCHAR(30),
  "DESC_MOTIVOGLOSA" VARCHAR(250),
  "GLOSATIPO_2" INTEGER,
  "DESC_MOTIVOGLOSA_2" VARCHAR(250),
  "NUMEROGUIAOPERADORA" VARCHAR(30),
  "DATARECEBP1" TIMESTAMP,
  "DATARECEBP2" TIMESTAMP,
  "DATARECEBP3" TIMESTAMP,
  "DATARECEBP4" TIMESTAMP,
  "VALORRECEBP1" DOUBLE PRECISION,
  "VALORRECEBP2" DOUBLE PRECISION,
  "VALORRECEBP3" DOUBLE PRECISION,
  "VALORRECEBP4" DOUBLE PRECISION,
  "RECEBPARCIAL" CHAR(1),
  "DATARECEBITEM" TIMESTAMP
)
AS
DECLARE VARIABLE CODIGOPAC FLOAT;
begin
  matricula = null;
  for select codigocps, tratamento, a_datafat, data, codigoamb, codigoserv, a_medicos, valor, glosa, glosadefinitiva, representa, glosarecebida, dataglosa,
      unidadenegocio, dhe, indice, a_medicos, XMLID, GLOSATIPO, convenio, quantidade, justificativaglosa, GLOSADATA, DATARECEBIMENTO, MATRICULA, CODIGOPAC, numeroguiaoperadora,
       DATARECEBP1,   DATARECEBP2,  DATARECEBP3,  DATARECEBP4,  VALORRECEBP1,  VALORRECEBP2,  VALORRECEBP3,  VALORRECEBP4,  RECEBPARCIAL,  DATARECEBITEM
      from cps(:consulta)
      into codigocps, tratamento, a_datafat, data, codigoamb, codigoserv, a_medicos,valor, glosa, glosadefinitiva, representa, glosarecebida, dataglosa,
      unidadenegocio, dhe, indice, a_medicos, xmlid, glosatipo, convenio, quantidade, justificativa, GLOSADATA, DATARECEBIMENTO, MATRICULA, CODIGOPAC, numeroguiaoperadora,
      :DATARECEBP1,   :DATARECEBP2,  :DATARECEBP3,  :DATARECEBP4,  :VALORRECEBP1,  :VALORRECEBP2,  :VALORRECEBP3,  :VALORRECEBP4,  :RECEBPARCIAL,  :DATARECEBITEM do
  begin
      paciente = null; matricula = null; tissbras = null; tussbras = null; simpro = null; cob_esp = null; desc_motivoglosa = null;
      if (glosa > 0 ) then
      begin
        if  (exists(select first 1 valor from buscaconfiguracao(UPPER('syshosp'),'AddCamposGridGlosa') where valor = 'S')) then
        begin
          if ( Codigopac is not null and codigopac > 0) then
            Select A_nome from paciente where codigopac = :codigopac into :PACIENTE;
          if (dhe = 'M') then
          begin
              select SIMPRO, TUSSBRAS, TISSBRAS, COB_ESP from sp_matmed_codigos(:convenio, :codigoserv, :a_datafat)
              into :simpro, :tussbras, :tissbras, :cob_esp ;
          end
        end
         if  (exists(select first 1 valor from buscaconfiguracao(upper('syshosp'),'ConsultaMotGlosaInterno') where valor = 'S')) then
         begin
            select  a_nome, TISS FROM MOTIVOGLOSA WHERE NUMERO = :glosatipo
            into   desc_motivoglosa, glosatipo_2;
            if ( glosatipo_2 is not null or glosatipo_2  > 0 ) then
            begin
                select first 1 substr(descricao,1,200) decricao from tissdominio
                where codigo = :glosatipo and tipo = '38' AND descricao is not null and versao = '3.02.00'
               into :desc_motivoglosa_2;
            end
         end
         else
         begin
           select first 1 substr(descricao,1,200) decricao from tissdominio
           where codigo = :glosatipo and tipo = '38' AND descricao is not null and versao = '3.02.00'
           into :desc_motivoglosa;
         end
      end
    suspend;
  end
end
 ^


ALTER PROCEDURE "LISTACPSGLOSAOLD" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "TRATAMENTO" INTEGER,
  "A_DATAFAT" TIMESTAMP,
  "DATA" TIMESTAMP,
  "CODIGOAMB" VARCHAR(20),
  "CODIGOSERV" FLOAT,
  "A_MEDICOS" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "REPRESENTA" DOUBLE PRECISION,
  "GLOSARECEBIDA" DOUBLE PRECISION,
  "DATAGLOSA" TIMESTAMP,
  "UNIDADENEGOCIO" INTEGER,
  "DHE" CHAR(1),
  "INDICE" FLOAT,
  "DESCRICAO" VARCHAR(250),
  "JUSTIFICATIVA" VARCHAR(5000),
  "XMLID" INTEGER,
  "GLOSADEFINITIVA" CHAR(1),
  "GLOSATIPO" SMALLINT,
  "CONVENIO" INTEGER,
  "QUANTIDADE" INTEGER,
  "GLOSADATA" TIMESTAMP,
  "DATARECEBIMENTO" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "PACIENTE" VARCHAR(200),
  "TISSBRAS" VARCHAR(30),
  "TUSSBRAS" VARCHAR(30),
  "SIMPRO" VARCHAR(30),
  "COB_ESP" VARCHAR(30),
  "DESC_MOTIVOGLOSA" VARCHAR(250),
  "GLOSATIPO_2" INTEGER,
  "DESC_MOTIVOGLOSA_2" VARCHAR(250),
  "NUMEROGUIAOPERADORA" VARCHAR(30)
)
AS
DECLARE VARIABLE CODIGOPAC FLOAT;
begin
  matricula = null;
  for select codigocps, tratamento, a_datafat, data, codigoamb, codigoserv, a_medicos, valor, glosa, glosadefinitiva, representa, glosarecebida, dataglosa,
      unidadenegocio, dhe, indice, a_medicos, XMLID, GLOSATIPO, convenio, quantidade, justificativaglosa, GLOSADATA, DATARECEBIMENTO, MATRICULA, CODIGOPAC, numeroguiaoperadora
      from cps(:consulta)
      into codigocps, tratamento, a_datafat, data, codigoamb, codigoserv, a_medicos,valor, glosa, glosadefinitiva, representa, glosarecebida, dataglosa,
       unidadenegocio, dhe, indice, a_medicos, xmlid, glosatipo, convenio, quantidade, justificativa, GLOSADATA, DATARECEBIMENTO, MATRICULA, CODIGOPAC, numeroguiaoperadora do
  begin
      paciente = null; matricula = null; tissbras = null; tussbras = null; simpro = null; cob_esp = null; desc_motivoglosa = null;
      if (glosa > 0 ) then
      begin
        if  (exists(select first 1 valor from buscaconfiguracao(UPPER('syshosp'),'AddCamposGridGlosa') where valor = 'S')) then
        begin
          if ( Codigopac is not null and codigopac > 0) then
            Select A_nome from paciente where codigopac = :codigopac into :PACIENTE;
          if (dhe = 'M') then
          begin
              select SIMPRO, TUSSBRAS, TISSBRAS, COB_ESP from sp_matmed_codigos(:convenio, :codigoserv, :a_datafat)
              into :simpro, :tussbras, :tissbras, :cob_esp ;
          end
        end
         if  (exists(select first 1 valor from buscaconfiguracao(upper('syshosp'),'ConsultaMotGlosaInterno') where valor = 'S')) then
         begin
            select  a_nome, TISS FROM MOTIVOGLOSA WHERE NUMERO = :glosatipo
            into   desc_motivoglosa, glosatipo_2;
            if ( glosatipo_2 is not null or glosatipo_2  > 0 ) then
            begin
                select first 1 substr(descricao,1,200) decricao from tissdominio
                where codigo = :glosatipo and tipo = '38' AND descricao is not null and versao = '3.02.00'
               into :desc_motivoglosa_2;
            end
         end
         else
         begin
           select first 1 substr(descricao,1,200) decricao from tissdominio
           where codigo = :glosatipo and tipo = '38' AND descricao is not null and versao = '3.02.00'
           into :desc_motivoglosa;
         end
      end
    suspend;
  end
end
 ^


ALTER PROCEDURE "LISTADICOM" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "DICOMIN" INTEGER,
  "CODIGOPACIN" FLOAT,
  "MEDICOIN" INTEGER
)
RETURNS
(
  "DICOM" INTEGER,
  "CODIGOPAC" FLOAT,
  "PACIENTE" VARCHAR(60),
  "MEDICO" INTEGER,
  "CPS" FLOAT,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "MODALIDADE" CHAR(2),
  "SERVIDOR" VARCHAR(30),
  "CAMINHO" VARCHAR(1000),
  "CD" CHAR(1)
)
AS
declare variable marcacao integer;
begin
if  (dicomin > 0) then
begin
  select numero, dicom, codigopac, paciente, data, hora, a_medicos from marcacao where dicom = :dicomin into :marcacao, :dicom , :codigopac, :paciente, :data, :hora, :medico;
  select first 1 codigocps from cps1 where marcacao = :marcacao and codigopla <> 3 into :cps;
  select servidor,caminho, cd, modalidade from dicom where codigo = :dicom into :servidor, :caminho, :cd, :modalidade;
  if ((codigopacin > 0) and (codigopac <> codigopacin)) then
    caminho = null;
  if ((medicoin > 0) and (medico <> medicoin)) then
    caminho = null;
  if (caminho is not null) then
  suspend;
  select cps6.dicom, cps6.codigocps6, paciente.a_nome, cps1.a_datafat, cps1.a_hora, cps1.medresp from cps6
  inner join cps1 on (cps1.codigocps = cps6.codigocps6)
  inner join paciente on (cps1.codigopac = paciente.codigopac)
  where dicom = :dicomin into :dicom , :codigopac, :paciente, :data, :hora, :medico;
  select first 1 codigocps from cps1 where marcacao = :marcacao and codigopla <> 3 into :cps;
  select servidor,caminho, cd, modalidade from dicom where codigo = :dicom into :servidor, :caminho, :cd, :modalidade;
  if ((codigopacin > 0) and (codigopac <> codigopacin)) then
    caminho = null;
  if ((medicoin > 0) and (medico <> medicoin)) then
    caminho = null;
  if (caminho is not null) then
  suspend;
end
if (dicomin = 0) then
for select numero, dicom, codigopac, paciente, data, hora, a_medicos from marcacao where (data between :data1 and :data2) and (dicom is not null) and (codigopac > 0) into :marcacao, :dicom , :codigopac, :paciente, :data, :hora, :medico do
begin
  select first 1 codigocps from cps1 where marcacao = :marcacao and codigopla <> 3 into :cps;
  select servidor,caminho, cd, modalidade from dicom where codigo = :dicom into :servidor, :caminho, :cd, :modalidade;
  if ((codigopacin > 0) and (codigopac <> codigopacin)) then
    caminho = null;
  if ((medicoin > 0) and (medico <> medicoin)) then
    caminho = null;
  if (caminho is not null) then
  suspend;
end
for select cps6.dicom, cps1.codigocps, cps1.codigopac, paciente.a_nome, cps1.a_datafat, cps1.a_hora, cps1.medresp from cps1
  inner join cps6 on (cps1.codigocps = cps6.codigocps6)
  inner join paciente on (cps1.codigopac = paciente.codigopac)
 where (cps1.a_datafat between :data1 and :data2) and (cps6.dicom is not null) into :dicom , :cps, :codigopac, :paciente, :data, :hora, :medico do
begin
  select servidor,caminho, cd, modalidade from dicom where codigo = :dicom into :servidor, :caminho, :cd, :modalidade;
  if ((codigopacin > 0) and (codigopac <> codigopacin)) then
    caminho = null;
  if ((medicoin > 0) and (medico <> medicoin)) then
    caminho = null;
  if (caminho is not null) then
  suspend;
end
end
 ^


ALTER PROCEDURE "LISTAENVIO" 
(
  "W_CONVENIO" INTEGER,
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "W_TIPO" CHAR(1)
)
RETURNS
(
  "A_DATA" TIMESTAMP,
  "A_DATAFIM" TIMESTAMP,
  "CODIGOINT" FLOAT,
  "TRATAMENTO" INTEGER,
  "A_DATADIA" TIMESTAMP,
  "A_NOME" VARCHAR(60),
  "A_GUIA" VARCHAR(15),
  "CODIGOPAC" FLOAT,
  "FATURA" INTEGER,
  "PRINCIPAL" CHAR(8),
  "CONVENIO" INTEGER,
  "A_ENVIO" TIMESTAMP
)
AS
begin
   IF ( W_TIPO = '1' ) THEN
   BEGIN
         for
         SELECT INTER2.A_DATA, INTER2.A_DATAFIM, INTER2.CODIGOINT, Inter2.TRATAMENTO, Inter2.A_DATADIA,
         PACIENTE.A_NOME, CPS1.A_GUIA, CPS1.CODIGOPAC, inter2.fatura, CPS1.PRINCIPAL, INTER2.CONVENIO, Inter2.A_ENVIO
         from INTER2 Inter2
         INNER JOIN CPS1 Cps1  ON ( CPS1.CODIGOCPS = INTER2.CODIGOINT )
         INNER JOIN PACIENTE Paciente ON ( PACIENTE.CODIGOPAC = CPS1.CODIGOPAC )
         WHERE ( INTER2.A_ENVIO between :inicio and :fim ) and ( CPS1.convenio = :w_convenio )
         into A_DATA, A_DATAFIM, CODIGOINT, TRATAMENTO, A_DATADIA, A_NOME, A_GUIA, CODIGOPAC, FATURA,
         PRINCIPAL, CONVENIO, A_ENVIO
         DO
           suspend;
     END
     ELSE
     BEGIN
         for
         SELECT INTER2.A_DATA, INTER2.A_DATAFIM, INTER2.CODIGOINT, Inter2.TRATAMENTO, Inter2.A_DATADIA,
         PACIENTE.A_NOME, CPS1.A_GUIA, CPS1.CODIGOPAC, inter2.fatura, CPS1.PRINCIPAL, INTER2.CONVENIO, Inter2.A_ENVIO
         from INTER2 Inter2
         INNER JOIN CPS1 Cps1  ON ( CPS1.CODIGOCPS = INTER2.CODIGOINT )
         INNER JOIN PACIENTE Paciente ON ( PACIENTE.CODIGOPAC = CPS1.CODIGOPAC )
         WHERE ( INTER2.A_DATADIA between :inicio and :fim ) and ( CPS1.convenio = :w_convenio )
         into A_DATA, A_DATAFIM, CODIGOINT, TRATAMENTO, A_DATADIA, A_NOME, A_GUIA, CODIGOPAC, FATURA,
         PRINCIPAL, CONVENIO, A_ENVIO
         DO
            suspend;
     END
end
 ^


ALTER PROCEDURE "LISTAFATURA" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "FATURA" INTEGER,
  "ENVIO" TIMESTAMP,
  "INICIAL" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "RECEBIDO" TIMESTAMP,
  "VENCIMENTO" TIMESTAMP,
  "PAGMEDICO" TIMESTAMP,
  "RELATORIO" TIMESTAMP,
  "CONVENIO" INTEGER,
  "TOTAL" NUMERIC(18, 2),
  "PRIMRECEBIDO" NUMERIC(18, 2),
  "GLOSARECEBIDA" NUMERIC(18, 2),
  "GLOSAREPRESENTA" NUMERIC(18, 2),
  "IMPOSTO" NUMERIC(18, 2),
  "GLOSA" NUMERIC(18, 2),
  "GLOSADEFINITIVA" NUMERIC(18, 2),
  "DATARECEBIDOGLOSA" TIMESTAMP
)
AS
declare variable aux numeric(18,2);
declare variable aux2 numeric(18,2);
declare variable irrf numeric(18,2);
declare variable pis numeric(18,2);
declare variable cofins numeric(18,2);
declare variable csl numeric(18,2);
declare variable iss numeric(18,2);
declare variable desconto numeric(18,2);
declare variable auxrepresenta numeric(18,2);
declare variable auxglosadefinitiva char(1);
declare variable parcial char(1);
begin
for select fechamento.sequencia, fechamento.data, fechamento.datainicial, fechamento.datafinal, fechamento.pagmedico, fechamento.vencimento, fechamento.datapagmedico, fechamento.relatorio, fechamento.convenio,
sum(valor), sum(valor)-sum(cps.glosa), sum(cps.glosarecebida), sum(cps.representa),max(cps.glosadefinitiva), fechamento.h_irrf, fechamento.h_pis, fechamento.h_cofins, fechamento.h_cls, fechamento.h_iss, fechamento.h_desconto, fechamento.parcial, sum(cps.glosa)
 from cps(:consulta)
inner join fechamento on fechamento.sequencia = cps.fatura
where (cobrar is null) or (cobrar = 'S')
group by fechamento.sequencia, fechamento.data, fechamento.datainicial, fechamento.datafinal, fechamento.pagmedico, fechamento.vencimento, fechamento.datapagmedico, fechamento.relatorio, fechamento.convenio,
fechamento.h_irrf, fechamento.h_pis, fechamento.h_cofins, fechamento.h_cls, fechamento.h_iss, fechamento.h_desconto, fechamento.parcial
into fatura, envio, inicial, final, recebido, vencimento, pagmedico, relatorio, convenio,
total, primrecebido, glosarecebida, auxrepresenta, auxglosadefinitiva, irrf,pis,cofins,csl,iss,desconto, parcial, glosa do
begin
  imposto = irrf + pis + cofins + csl + iss + desconto;
  if (parcial = 'S') then
  begin
    primrecebido = 0;
    select min(datarecebimento), sum(valor) from cps('where fatura =' || :fatura) where (cobrar = 'S' or cobrar is null) and datarecebimento is not null into recebido, primrecebido;
    primrecebido = primrecebido - glosa;
  end
  if (recebido is null) then
    primrecebido = 0;
  if (glosarecebida is null) then
    glosarecebida = 0;
  glosa = glosa - glosarecebida;
  aux = 0;
  glosadefinitiva = 0;
  if (imposto is null) then
    imposto = 0;
  if (auxrepresenta > 0) then
  begin
    select sum(representa) from cps(' where fatura =' || cast(:fatura as varchar(100))
    ) where (representa > 0) into :glosarepresenta;
    select sum(glosa - representa) from cps(' where fatura =' || cast(:fatura as varchar(100))
    ) where (representa > 0) and ((glosadefinitiva = 'N') or (glosadefinitiva is null)) into :aux2;
  end
  else
  begin
   glosarepresenta = 0;
   aux2 = 0;
  end
  if (aux2 is null) then
    aux2 = 0;
  primrecebido = primrecebido - imposto;
  if (glosadefinitiva is null) then glosadefinitiva = 0;
  if (auxglosadefinitiva = 'S') then
  begin
    select sum(glosa), sum(glosarecebida) from cps(' where fatura =' || cast(:fatura as varchar(100))
   ) where (glosadefinitiva = 'S') into :aux, :glosadefinitiva;
  end
  if (aux is null) then aux = 0;
  if (glosadefinitiva is null) then glosadefinitiva = 0;
  glosadefinitiva = aux - glosadefinitiva + aux2;
  glosa = glosa - glosadefinitiva;
  glosa = glosa + glosadefinitiva + glosarecebida;
  suspend;
end
end
 ^


ALTER PROCEDURE "LISTAFATURA_ANTEC" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "FATURA" INTEGER,
  "ENVIO" TIMESTAMP,
  "INICIAL" TIMESTAMP,
  "FINAL" TIMESTAMP,
  "RECEBIDO" TIMESTAMP,
  "VENCIMENTO" TIMESTAMP,
  "PAGMEDICO" TIMESTAMP,
  "RELATORIO" TIMESTAMP,
  "CONVENIO" INTEGER,
  "TOTAL" NUMERIC(18, 2),
  "PRIMRECEBIDO" NUMERIC(18, 2),
  "GLOSARECEBIDA" NUMERIC(18, 2),
  "GLOSAREPRESENTA" NUMERIC(18, 2),
  "IMPOSTO" NUMERIC(18, 2),
  "GLOSA" NUMERIC(18, 2),
  "GLOSADEFINITIVA" NUMERIC(18, 2),
  "DATARECEBIDOGLOSA" TIMESTAMP,
  "CONVENIONOME" VARCHAR(50),
  "ANTECIPACAO" NUMERIC(15, 2)
)
AS
declare variable aux numeric(18,2);
declare variable aux2 numeric(18,2);
declare variable irrf numeric(18,2);
declare variable pis numeric(18,2);
declare variable cofins numeric(18,2);
declare variable csl numeric(18,2);
declare variable iss numeric(18,2);
declare variable desconto numeric(18,2);
declare variable auxrepresenta numeric(18,2);
declare variable auxglosadefinitiva char(1);
declare variable parcial char(1);
begin
for select convenio.a_nome, fechamento.sequencia, fechamento.data, fechamento.datainicial, fechamento.datafinal, fechamento.pagmedico, fechamento.vencimento, fechamento.datapagmedico, fechamento.relatorio, fechamento.convenio,
sum(valor), sum(valor)-sum(cps.glosa), sum(cps.glosarecebida), sum(cps.representa),max(cps.glosadefinitiva), fechamento.h_irrf, fechamento.h_pis, fechamento.h_cofins, fechamento.h_cls, fechamento.h_iss, fechamento.h_desconto, fechamento.parcial, sum(cps.glosa)
 from cps(:consulta)
inner join fechamento on fechamento.sequencia = cps.fatura INNER JOIN CONVENIO Convenio ON  ( Fechamento.CONVENIO = Convenio.CONVENIO)
where (cobrar is null) or (cobrar = 'S')
group by convenio.a_nome, fechamento.sequencia, fechamento.data, fechamento.datainicial, fechamento.datafinal, fechamento.pagmedico, fechamento.vencimento, fechamento.datapagmedico, fechamento.relatorio, fechamento.convenio,
fechamento.h_irrf, fechamento.h_pis, fechamento.h_cofins, fechamento.h_cls, fechamento.h_iss, fechamento.h_desconto, fechamento.parcial
into convenionome, fatura, envio, inicial, final, recebido, vencimento, pagmedico, relatorio, convenio,
total, primrecebido, glosarecebida, auxrepresenta, auxglosadefinitiva, irrf,pis,cofins,csl,iss,desconto, parcial, glosa do
begin
  imposto = irrf + pis + cofins + csl + iss + desconto;
  if (parcial = 'S') then
  begin
    primrecebido = 0;
    select min(datarecebimento), sum(valor) from cps('where fatura =' || :fatura) where (cobrar = 'S' or cobrar is null) and datarecebimento is not null into recebido, primrecebido;
    primrecebido = primrecebido - glosa;
  end
  if (recebido is null) then
    primrecebido = 0;
  if (glosarecebida is null) then
    glosarecebida = 0;
  glosa = glosa - glosarecebida;
  aux = 0;
  glosadefinitiva = 0;
  if (imposto is null) then
    imposto = 0;
  if (auxrepresenta > 0) then
  begin
    select sum(representa) from cps(' where fatura =' || cast(:fatura as varchar(100))
    ) where (representa > 0) into :glosarepresenta;
    select sum(glosa - representa) from cps(' where fatura =' || cast(:fatura as varchar(100))
    ) where (representa > 0) and ((glosadefinitiva = 'N') or (glosadefinitiva is null)) into :aux2;
  end
  else
  begin
   glosarepresenta = 0;
   aux2 = 0;
  end
  if (aux2 is null) then
    aux2 = 0;
  primrecebido = primrecebido - imposto;
  if (glosadefinitiva is null) then glosadefinitiva = 0;
  if (auxglosadefinitiva = 'S') then
  begin
    select sum(glosa), sum(glosarecebida) from cps(' where fatura =' || cast(:fatura as varchar(100))
   ) where (glosadefinitiva = 'S') into :aux, :glosadefinitiva;
  end
  if (aux is null) then aux = 0;
  if (glosadefinitiva is null) then glosadefinitiva = 0;
  glosadefinitiva = aux - glosadefinitiva + aux2;
  glosa = glosa - glosadefinitiva;
  glosa = glosa + glosadefinitiva + glosarecebida;
   for execute statement 'select sum(movimen.valor) from movimen  left join movcustos on movimen.numero = movcustos.numero left join cadastro on movimen.codportador = cadastro.fornecedor
   where  movimen.pagantec =''S'' and movimen.concluido is null    and movcustos.cpr is null and cadastro.convenio='|| :CONVENIO || '  '
   on external 'localhost:financeiro' as user 'sysdba' password 'ajuda' into :ANTECIPACAO  do
      if (antecipacao is null) then
          antecipacao = 0;
  suspend;
end
end
 ^


ALTER PROCEDURE "LISTAGRAFICO" 
(
  "CODIGOCPS" INTEGER,
  "INICIOIN" TIMESTAMP,
  "FINALIN" TIMESTAMP
)
RETURNS
(
  "DESCRICAO" VARCHAR(250),
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
AS
begin
  for select distinct tipo from cpscontrolepac
      where codigocps = :codigocps and datahora between :inicioin and :finalin
      into :descricao do
  begin
    suspend;
  end
end
 ^


ALTER PROCEDURE "LISTANOMEPAC" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "CODIGOPLA" SMALLINT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "A_TIPO" CHAR(1),
  "CODIGO" INTEGER,
  "A_CID" VARCHAR(4),
  "CODIGOPAC" FLOAT,
  "CODIGOCPS" FLOAT,
  "MEDRESP" INTEGER,
  "TIPOATEND1" CHAR(1),
  "NOMECONVENIO" VARCHAR(40),
  "NOMEMEDICO" VARCHAR(40),
  "A_SITUACAO" CHAR(1),
  "NOMEUSUARIO" VARCHAR(100),
  "NOMEPACIENTE" VARCHAR(50)
)
AS
begin
    SELECT Cps1.CONVENIO, Cps1.CODIGOPLA, Cps1.A_DATAFAT, Cps1.A_HORA, Cps1.MATRICULA,
    Cps1.A_TIPO, Cps1.CODIGO, Cps1.A_CID, Cps1.CODIGOPAC, Cps1.CODIGOCPS, Cps1.MEDRESP,
    Cps1.TIPOATEND1, Convenio.A_NOME AS NOMECONVENIO, Medicos.A_NOME AS NOMEMEDICO,
    Cps1.A_SITUACAO, Usuarios.A_NOME AS NOMEUSUARIO, PAciente.A_NOME AS NOMEPACIENTE
    FROM CPS1 Cps1
    LEFT JOIN CONVENIO Convenio ON ( Cps1.CONVENIO = Convenio.CONVENIO )
    LEFT JOIN MEDICOS ON ( Cps1.MEDRESP = Medicos.A_MEDICOS )
    LEFT JOIN PACIENTE Paciente ON ( Cps1.CODIGOPAC = Paciente.CODIGOPAC )
    LEFT JOIN USUARIOS Usuarios ON ( Cps1.CODIGO = Usuarios.CODIGO )
    WHERE ( CPS1.A_DATAFAT between :inicio and :final)
    INTO :CONVENIO, :CODIGOPLA, :A_DATAFAT, :A_HORA, :MATRICULA, :A_TIPO, :CODIGO,
    :A_CID, :CODIGOPAC, :CODIGOCPS, :MEDRESP, :TIPOATEND1, :NOMECONVENIO, :NOMEMEDICO,
    :A_SITUACAO, :NOMEUSUARIO, :NOMEPACIENTE;
end
 ^


ALTER PROCEDURE "LISTAPACOTESSEMITEM" 
RETURNS
(
  "CODPACOTE" INTEGER,
  "APRESENTACAOBUSCA" VARCHAR(150),
  "ATIVO" CHAR(1),
  "PRODUTO" INTEGER,
  "NOMEPRODUTO" VARCHAR(250),
  "PADRAODILUICAO" VARCHAR(250),
  "RISCOS" VARCHAR(500),
  "PRESCRICAO" CHAR(1)
)
AS
begin
   for  select pacote, nome, ativo, diluicao, riscos, prescricao from pacote1
   order by 1
    into :codpacote, :apresentacaobusca, :ativo, :padraodiluicao, :riscos, :prescricao do
    begin
     produto = null;
     nomeproduto =  '';
        for select codigo from pacote2 where pacote = :codpacote into :produto do
        begin
            nomeproduto =  '';
            if (:produto > 0) Then
               select a_nome from matmed where codigomm = :produto into :nomeproduto;
            if (:produto = null) Then
            begin
               nomeproduto =  '';
               produto =  '';
            end
        end
         suspend;
    end
end
 ^


ALTER PROCEDURE "LISTA_FATURA_CONDESADO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "NOME" VARCHAR(100),
  "RECEBIDO" NUMERIC(15, 2),
  "GLOSADO" NUMERIC(15, 2),
  "VALOR" NUMERIC(15, 2),
  "ANTECIPACAO" NUMERIC(15, 2),
  "ARECEBER" NUMERIC(15, 2)
)
AS
begin
   FOR Select Fechamento.CONVENIO, Convenio.A_NOME,  sum(Fechamento.RECEBIDO) recebido,  sum(Fechamento.glosa) glosado,
    sum(Fechamento.TOTAL) valor
    FROM FECHAMENTO
    INNER JOIN CONVENIO Convenio ON  ( Fechamento.CONVENIO = Convenio.CONVENIO)
    WHERE fechamento.data between  :INICIO   and :FINAL
    Group by 1,2
    ORDER BY Fechamento.convenio ASC INTO :CONVENIO, :NOME, :RECEBIDO, :GLOSADO, :VALOR DO
   for execute statement 'select sum(movimen.valor) from movimen  left join movcustos on movimen.numero = movcustos.numero left join cadastro on movimen.codportador = cadastro.fornecedor
   where  movimen.pagantec =''S'' and movimen.concluido is null    and movcustos.cpr is null and cadastro.convenio='|| :CONVENIO || '  '
   on external 'localhost:financeiro' as user 'sysdba' password 'ajuda' into :ANTECIPACAO  do
   Begin
      if (recebido is null) then
          recebido = 0;
      if (glosado is null) then
          glosado = 0;
      if (antecipacao is null) then
          antecipacao = 0;
 -- ARECEBER = (VALOR - ((RECEBIDO + GLOSADO) - ANTECIPACAO));
     ARECEBER = (VALOR - RECEBIDO);-- + GLOSADO;
      suspend;
   End
end
 ^


ALTER PROCEDURE "LISTA_ITENS_PRESCRICAO" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "SEQUENCIA" FLOAT,
  "CHECADO" CHAR(1)
)
AS
--declare variable kit integer;
begin
checado = 'N';
 for select sequencia from notamed2 where a_notamed = :prescricao into :sequencia do
   begin
     select * from verifica_checagem(:sequencia) into :checado;
     suspend;
   end
 suspend;
end
 ^


ALTER PROCEDURE "LOGIN" 
(
  "LOGIN" INTEGER,
  "SENHA" VARCHAR(8)
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "MEDICO" INTEGER
)
AS
Begin
for Select codigo,a_nome, medico from usuarios
Where (codigo = :login) and (senha = :senha )
into Codigo, Nome, Medico do
Suspend;
End
 ^


ALTER PROCEDURE "LOGINMARCACAO" 
(
  "LOGIN" INTEGER,
  "SENHA" VARCHAR(8)
)
RETURNS
(
  "ID" INTEGER,
  "A_NOME" VARCHAR(200),
  "MAE" VARCHAR(200),
  "NASC" TIMESTAMP,
  "CEP" VARCHAR(200),
  "CIDADE" VARCHAR(200),
  "BAIRRO" VARCHAR(200),
  "ENDERECO" VARCHAR(250),
  "EMAIL" VARCHAR(200),
  "TELEFONE" VARCHAR(20),
  "CELULAR" VARCHAR(20),
  "CODCONVENIO" INTEGER,
  "CONVENIO" VARCHAR(200)
)
AS
Begin
for Select codigopac,a_nome, mae, nasc,cep,cidade,bairro,endereco,telefone,celular,email,convenio,(select a_nome from convenio where convenio = paciente.convenio) from paciente
Where (codigopac = :login) and (senha = :senha )
into id,a_nome, mae,nasc,cep,cidade,bairro,endereco,telefone,celular,email,codconvenio,convenio do
Suspend;
End
 ^


ALTER PROCEDURE "LOGVARIAVEL" 
(
  "SISTEMA" VARCHAR(100),
  "VERSAO" VARCHAR(50),
  "USUARIO" VARCHAR(50)
)
RETURNS
(
  "STATUS" VARCHAR(10)
)
AS
DECLARE VARIABLE CONSELHO VARCHAR(30);
DECLARE VARIABLE NUMPROF VARCHAR(30);
DECLARE VARIABLE ESPECIAL VARCHAR(30);
DECLARE VARIABLE PROF INTEGER;
BEGIN
  rdb$set_context('USER_SESSION', 'SISTEMA', :SISTEMA);
  rdb$set_context('USER_SESSION', 'VERSAO', :VERSAO);
  rdb$set_context('USER_SESSION', 'USUARIO', :USUARIO);
  SELECT MEDICO FROM USUARIOS WHERE CODIGO = :USUARIO into :prof;
  rdb$set_context('USER_SESSION', 'PROF', :PROF);
  SELECT A_CREMEB,TIPOCONSELHO,ESPECIAL FROM MEDICOS WHERE A_MEDICOS = :prof into NUMPROF, CONSELHO, ESPECIAL;
  rdb$set_context('USER_SESSION', 'NUMPROF', :NUMPROF);
  rdb$set_context('USER_SESSION', 'CONSELHO', :CONSELHO);
  rdb$set_context('USER_SESSION', 'ESPECIALIDADE', :ESPECIAL);
  STATUS = 'OK';
  SUSPEND;
END
 ^


ALTER PROCEDURE "MAPAMARCACAO" 
(
  "DATA" TIMESTAMP,
  "NOME" VARCHAR(200)
)
RETURNS
(
  "ESPECIALIDADE" INTEGER,
  "STATUS" VARCHAR(25),
  "IMAGEM" BLOB
)
AS
Declare variable auxNomePac varchar(250);
Declare variable auxStatus varchar(10);
Declare variable auxMedico integer;
BEGIN
      for select Especialidade.Imagem, PACIENTE, marcacao.status from marcacao
left join medicos on medicos.a_medicos = marcacao.a_medicos
left join especialidade on medicos.especial = especialidade.codesp
 where DATA = 'TODAY'
  into :IMAGEM, :auxNomePac, :auxStatus do
  Begin
      if (:auxStatus =0) Then
          STATUS = 'No Compareceu';
      if (:auxStatus =1) Then
          STATUS = 'Marcado';
      if (:auxStatus =2) Then
          STATUS = 'P/Atender';
      if (:auxStatus =3) Then
          STATUS = 'Em Atendimento';
      if (:auxStatus =4) Then
          STATUS = 'Atendido';
      if (:auxStatus =5) Then
          STATUS = 'Atrasado';
  suspend;
  end
END
 ^


ALTER PROCEDURE "MARCACAOANUAL" 
(
  "ANO" SMALLINT
)
RETURNS
(
  "QTDE" INTEGER,
  "MES" SMALLINT,
  "TIPO" CHAR(1)
)
AS
begin
for select count(*), mes,tipo from marcacaomestipo
where ano = :ano
group by mes,tipo
into qtde, mes, tipo do
suspend;
end
 ^


ALTER PROCEDURE "MARCACAOESPECIALIDADE" 
(
  "ESPECIALIDADE" CHAR(2),
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "HORAINICIO" TIMESTAMP,
  "HORAFIM" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "LIVRE" SMALLINT,
  "OCUPADO" SMALLINT,
  "MEDICO" INTEGER,
  "BLOQUEADO" SMALLINT
)
AS
begin
  for select distinct medicos.a_medicos
  from medicos
  inner join defprof1 on ( defprof1.a_medicos = medicos.a_medicos )
  where defprof1.especialidade = :especialidade
  order by medicos.a_nome into :medico
  do
  begin
      for select data,livre,ocupado,bloqueado from marcacaolivre(:inicio, :fim, :horainicio, :horafim, :medico) into :data,:livre, :ocupado, :bloqueado do
      suspend;
  end
end
 ^


ALTER PROCEDURE "MARCACAOGERAL" 
(
  "CONSULTA" VARCHAR(6000),
  "FLAG" VARCHAR(5)
)
RETURNS
(
  "INDICE" FLOAT,
  "PACIENTE" CHAR(50),
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "TELEFONE" VARCHAR(11),
  "CONVENIO" INTEGER,
  "A_MEDICOS" SMALLINT,
  "CODIGOPAC" FLOAT,
  "ESTADO" CHAR(1),
  "CONTRASTE" CHAR(1),
  "SOLCREMEB" VARCHAR(8),
  "SOLICITACAO" INTEGER,
  "ANESTESIA" CHAR(30),
  "OBSERVACAO" VARCHAR(350),
  "ESPECIALIDADE" CHAR(2),
  "CODIGOAMB" CHAR(8),
  "CODIGOSERV" INTEGER,
  "CHEGADA" TIMESTAMP,
  "HORAFATURA" TIMESTAMP,
  "ENTROU" TIMESTAMP,
  "SAIDA" TIMESTAMP,
  "PREVISAOFIM" TIMESTAMP,
  "USER1" INTEGER,
  "USER2" INTEGER,
  "CODIGOCPS" FLOAT,
  "TIPO" CHAR(1),
  "DURACAOATEND" FLOAT,
  "DURACAOFUNC" FLOAT,
  "CPS" INTEGER,
  "CPSEXISTE" CHAR(1),
  "VALORCOBRADO" FLOAT,
  "CUSTO" FLOAT
)
AS
begin
tipo = '1';
CPSEXISTE = 'N';
if ((flag = '0') or (flag = '1')) then
  for execute statement 'select indice, paciente, data, hora, telefone, convenio, a_medicos, codigopac, estado, contraste,
                         solcremeb, solicitacao, anestesia, observacao, especialidade, codigoamb, codigoserv, chegada, horafatura,
                         entrou, saida, cast(previsaofim as timestamp), cast(user1 as integer), user2, codigocps from marcacaoamb ' || consulta
                         into indice, paciente, data, hora, telefone, convenio, a_medicos, codigopac, estado, contraste,
                         solcremeb, solicitacao, anestesia, observacao, especialidade, codigoamb, codigoserv, chegada, horafatura,
                         entrou, saida, previsaofim, user1, user2, codigocps do
  begin
    duracaoatend = (cast(saida as time) - cast(entrou as time))/60;
    duracaofunc = (cast(horafatura as time) - cast(chegada as time))/60;
    codigocps = null;
    VALORCOBRADO = NULL;
    CPSEXISTE = 'N';
    SELECT FIRST 1 CODIGOCPS FROM CPS1 WHERE MARCACAO = :INDICE INTO :CODIGOCPS;
    IF (CODIGOCPS IS NOT NULL) THEN
    SELECT sum(valor) FROM CPS('WHERE CODIGOCPS = ' || CAST(:CODIGOCPS AS VARCHAR(20))) WHERE COBRAR = 'S' OR COBRAR IS NULL INTO :VALORCOBRADO;
    If (VALORCOBRADO > 0) Then
      CPSEXISTE = 'S';
    suspend;
  end
tipo = '3';
if ((flag = '0') or (flag = '2')) then
  for execute statement 'select indice, paciente, data, hora, telefone, convenio, a_medicos, codigopac, estado, contraste,
                         solcremeb, cast(solicitacao as integer), anestesia, observacao, especialidade, codigoamb,codigoserv, cast(chegada as timestamp), cast(horafatura as timestamp),
                         cast(entrou as timestamp), saida, previsaofim, cast(user1 as integer), user2, codigocps from marcacaoint ' || consulta
                         into indice, paciente, data, hora, telefone, convenio, a_medicos, codigopac, estado, contraste,
                         solcremeb, solicitacao, anestesia, observacao, especialidade, codigoamb, codigoserv, chegada, horafatura,
                         entrou, saida, previsaofim, user1, user2, codigocps do
    suspend;
end
 ^


ALTER PROCEDURE "MARCACAOLISTA" 
(
  "CODIGO" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "TIPO" VARCHAR(10),
  "FILTRO" VARCHAR(500)
)
RETURNS
(
  "INDICE" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(100),
  "CONVENIO" INTEGER,
  "STATUS" INTEGER,
  "OBSERVACAO" VARCHAR(3000)
)
AS
begin
  if (tipo = 'E') then
  for select numero,data,hora,codigopac,paciente,convenio, status,observacao from marcacao where data between :data1 and :data2 and a_medicos = :codigo
      into indice,data,hora,codigopac,paciente,convenio, status,observacao do
  begin
    suspend;
  end
end
 ^


ALTER PROCEDURE "MARCACAOLISTA_CPC" 
(
  "CODIGO" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "TIPO" VARCHAR(10),
  "FILTRO" VARCHAR(500)
)
RETURNS
(
  "INDICE" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(100),
  "CONVENIO" INTEGER,
  "STATUS" INTEGER,
  "OBSERVACAO" VARCHAR(3000),
  "CODIGOCPS" INTEGER
)
AS
begin
  if (tipo = 'E') then
  for select numero,data,hora,codigopac,paciente,convenio, status,observacao, codigocps from marcacao where data between :data1 and :data2 and a_medicos = :codigo
      into indice,data,hora,codigopac,paciente,convenio, status,observacao, codigocps do
  begin
    suspend;
  end
end
 ^


ALTER PROCEDURE "MARCACAOLIVRE" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "HORAINICIO" TIMESTAMP,
  "HORAFIM" TIMESTAMP,
  "MEDICO" INTEGER
)
RETURNS
(
  "DATA" TIMESTAMP,
  "LIVRE" SMALLINT,
  "OCUPADO" SMALLINT,
  "BLOQUEADO" SMALLINT
)
AS
begin
    for SELECT data, count(numero) from marcacao
        WHERE ( ( data >= :inicio )   AND ( cast( hora as time ) >= cast(:horainicio as time) ) ) AND
              ( ( data <= :fim )      AND ( cast( hora as time ) <= cast(:horafim as time) ) ) AND
              ( a_medicos = :medico )
        GROUP BY data
        ORDER BY data INTO :data, :livre DO
    begin
        SELECT count(numero) FROM marcacao
        WHERE ((data =:data) AND (a_medicos = :medico) AND (paciente is not null))
        into :ocupado;
        SELECT count(numero) FROM marcacao
        WHERE ( (data =:data) AND (a_medicos = :medico) AND (ESTADO = '' ) )
        into :BLOQUEADO;
        suspend;
    end
end
 ^


ALTER PROCEDURE "MARCACAOREVISAOEXAME" 
(
  "MARCACAO" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(250)
)
AS
declare variable codigoserv integer;
  declare variable codigopac float;
  declare variable qtdedias integer;
  declare variable dias integer;
  declare variable codigoamb varchar(10);
  declare variable datamarcacao timestamp;
  declare variable datacps1 timestamp;
begin
  select codigoproc, codigopac, data from marcacao where numero = :marcacao into codigoserv, codigopac, datamarcacao;
  select a_diaria, a_codamb from servicos where codigoserv = :codigoserv into qtdedias, codigoamb;
  if (qtdedias > 0) then
  begin
    select max(a_datafat) from cps1 inner join cps2 on (cps2.codigocps2 = cps1.codigocps) where codigopac = :codigopac and cps2.codigoamb = :codigoamb into datacps1;
    dias = datamarcacao - datacps1;
    if (dias <= qtdedias) then
    begin
      texto = 'Periodo de carencia para o exame. Ultimo exame em ' || extract(day from datacps1) || '/' || extract(month from datacps1) || '/' || extract(year from datacps1);
      suspend;
    end
  end
end
 ^


ALTER PROCEDURE "MARCACAOTURNO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "USUARIO" INTEGER,
  "ESPECIALIDADE" VARCHAR(2)
)
RETURNS
(
  "NOMEUSUARIO" VARCHAR(100),
  "TURNO" VARCHAR(30),
  "QTDE" INTEGER
)
AS
declare variable auxHora time;
BEGIN
    auxhora = null;
    for select usuarios.a_nome, hora,count(marcacao.paciente) from marcacao
        left join usuarios on usuarios.codigo = marcacao.codigo
        where marcacao.datauser1 between :INICIO and :FIM and (marcacao.paciente is not null)
        group by usuarios.a_nome, 2
        order by 1
        into :NomeUsuario, :auxhora,:qtde do
    begin
        if (auxhora is not null) then
        begin
           if (auxhora between '07:00:00' and '12:59:59') then
             Turno = 'Manh';
           else if (auxhora between '13:00:00' and '18:59:59') then
             Turno = 'Tarde';
           else if (auxhora between '18:00:00' and '23:59:59') then
             Turno = 'Noite';
           else if (auxhora between '00:00:00' and '06:59:59') then
             Turno = 'Madrugada';
        end
       SUSPEND;
    end
END
 ^


ALTER PROCEDURE "MARCACAO_ESTAT_DATA" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "MARCADO" INTEGER
)
AS
BEGIN
    FOR select data,count(*) marcado from marcacao
       where data between :INICIO and  :FIM and paciente is not null and (destaque is null or destaque <> 'S')
       group by 1
       ORDER BY 1
       INTO :data, :MARCADO  DO
    BEGIN
       SUSPEND;
    END
END
 ^


ALTER PROCEDURE "MARCACAO_ESTAT_USUARIO" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "MARCADO" INTEGER,
  "FALTA" INTEGER,
  "COMPARECEU" INTEGER
)
AS
BEGIN
    FOR select  USUARiOS.depto, USUARiOS.A_NOME,count(iif(status >=('0'),'1',null)) marcado,
       count(iif(status in ('0', '13','14'),'1',null)) falta, count(iif(not (status in ('0', '13','14')),'1',null)) compareceu from marcacao
       left join usuarios on marcacao.codigo = usuarios.codigo
       where data between :INICIO and  :FIM and paciente is not null and (marcacao.destaque is null or marcacao.destaque <> 'S')
       group by 1,2
       ORDER BY 2
       INTO :CODIGO,  :NOME, :MARCADO, :FALTA, :COMPARECEU DO
    BEGIN
       SUSPEND;
    END
END
 ^


ALTER PROCEDURE "MARCACAO_REGULACAO" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "TIPO_OBS" VARCHAR(20),
  "PROF_ESPECIALIDADE" VARCHAR(100),
  "QTD_MARCADO" INTEGER,
  "QTD_NAO_MARCADO" INTEGER,
  "QTD_COMPARECEU" INTEGER,
  "QTD_NAO_COMPARECEU" INTEGER
)
AS
DECLARE VARIABLE AUX_DATA TIMESTAMP;
DECLARE VARIABLE AUX_A_MEDICOS INTEGER;
DECLARE VARIABLE AUX_STATUS INTEGER;
DECLARE VARIABLE AUX_PACIENTE VARCHAR(50);
DECLARE VARIABLE AUX_QTD_NAO_MARCADO INTEGER;
DECLARE VARIABLE AUX_QTD_NAO_COMPARECEU INTEGER;
DECLARE VARIABLE AUX_QTD_COMPARECEU INTEGER;
DECLARE VARIABLE AUX_QTD_MARCADO INTEGER;
DECLARE VARIABLE AUX_ESPECIALIDADE VARCHAR(50);
DECLARE VARIABLE AUX_PROFISSIONAL VARCHAR(40);
BEGIN
    QTD_MARCADO =0; QTD_NAO_MARCADO =0; QTD_COMPARECEU =0; QTD_NAO_COMPARECEU =0;
    AUX_QTD_NAO_MARCADO = 0; AUX_QTD_NAO_MARCADO = 0; AUX_QTD_COMPARECEU =0;
    FOR SELECT DATA, A_MEDICOS, STATUS, PACIENTE , upper(CAST(substr(OBSERVACAO, 1,20) AS VARCHAR(20))) FROM MARCACAO
    WHERE DATA BETWEEN :DATAINICIO AND :DATAFIM 
    INTO :AUX_DATA, :AUX_A_MEDICOS, :AUX_STATUS, :AUX_PACIENTE, :TIPO_OBS DO
    BEGIN
       AUX_QTD_NAO_MARCADO = 0; AUX_QTD_NAO_MARCADO = 0; AUX_QTD_COMPARECEU =0; AUX_QTD_MARCADO =0; AUX_ESPECIALIDADE = NULL; AUX_PROFISSIONAL =NULL;
       IF (AUX_STATUS IS NOT NULL ) THEN
       BEGIN
           SELECT medicos.a_nome, ESPECIALIDADE.NOME FROM MEDICOS
           LEFT JOIN ESPECIALIDADE ON (ESPECIALIDADE.CODESP = MEDICOS.ESPECIAL)
           WHERE MEDICOS.A_MEDICOS = :AUX_A_MEDICOS
           INTO :AUX_PROFISSIONAL, :AUX_ESPECIALIDADE ;
           PROF_ESPECIALIDADE = AUX_PROFISSIONAL ||'-'|| AUX_ESPECIALIDADE;
           if ( ( AUX_STATUS > 0 ) AND (AUX_PACIENTE IS NOT NULL ) ) THEN /*MARCADO*/
              AUX_QTD_MARCADO = 1;
           IF( (AUX_STATUS IN(0,1) ) AND (AUX_PACIENTE IS NULL) ) THEN /*NAO MARCADO*/
               AUX_QTD_NAO_MARCADO = 1;
           if ( ( AUX_STATUS IN(2,3,4,5,6,7,8,10) ) AND (AUX_PACIENTE IS NOT NULL ) ) THEN
              AUX_QTD_COMPARECEU = 1;
           QTD_MARCADO = AUX_QTD_MARCADO;
           QTD_NAO_MARCADO = AUX_QTD_NAO_MARCADO;
           QTD_COMPARECEU =AUX_QTD_COMPARECEU;
       END
       SUSPEND;
    END
END
 ^


ALTER PROCEDURE "MARCACAO_TEMPOESPERA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "MEDICO" INTEGER
)
RETURNS
(
  "PACIENTE" VARCHAR(100),
  "AGENDAMENTO" TIME,
  "CHEGADA" TIME,
  "TEMPOESPERA" VARCHAR(100)
)
AS
begin
    FOR select paciente, cast(hora as time) Agendamento, cast(hora3 as time) Chegada,
      datediff (minute from cast(hora as time) to cast(hora3 as time) ) Tempoespera
      --datediff (minute from time '0:00' to current_time)
      from marcacao where a_medicos = :MEDICO
      and data between :DATA1 and :DATA2
      and codigopac is not null
      and hora3 is not null
      INTO :PACIENTE, :AGENDAMENTO, :CHEGADA, :TEMPOESPERA DO
      begin
          If (TEMPOESPERA < 0) Then TEMPOESPERA = 0;
          suspend;
      end
end
 ^


ALTER PROCEDURE "MARCA_MESMA_ESPEC" 
(
  "CODIGOPAC" INTEGER
)
RETURNS
(
  "DATA" TIMESTAMP,
  "ESPECIALIDADE" VARCHAR(70),
  "MEDICO" VARCHAR(70),
  "CODESP" INTEGER
)
AS
begin
 for select data,  especialidade.nome, medicos.a_nome, especialidade.codesp  from marcacao
  inner join MEDICOS on marcacao.a_medicos = medicos.a_medicos
  inner join especialidade on medicos.especial = especialidade.codesp
  where data >= 'today' and codigopac = :Codigopac
  order by 1,2
  into
  :DATA, :ESPECIALIDADE, :MEDICO, :CODESP do
  suspend;
end
 ^


ALTER PROCEDURE "MARGEMCONTRIBUICAO" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(2),
  "CODIGOAMB" VARCHAR(8),
  "QUANTIDADE" INTEGER,
  "TOTAL" DOUBLE PRECISION,
  "NOMEESPECIALIDADE" VARCHAR(60),
  "MATERIAL" DOUBLE PRECISION,
  "MEDICAMENTO" DOUBLE PRECISION
)
AS
begin
    FOR SELECT CPS1.ESPECIALIDADE, CPS1.PRINCIPAL, COUNT( CPS1.CODIGOCPS ) AS QUANTIDADE, SUM( CPS1.LIQUIDO ) AS TOTAL, ESPECIALIDADE.NOME, SUM( CPS3.TOTAL ), 0
    FROM CPS1 Cps1
    INNER JOIN ESPECIALIDADE Especialidade ON ( Especialidade.CODESP = CPS1.ESPECIALIDADE )
    INNER JOIN CPS3 CPS3 ON ( CPS3.CODIGOCPS = CPS1.CODIGOCPS )
    INNER JOIN MATMED MatMed ON ( MatMed.CODIGOMM = CPS3.CODIGOMM )
    WHERE ( CPS1.A_DATAFAT between :data1 and :data2 )
    GROUP BY Especialidade.NOME, CPS1.ESPECIALIDADE, CPS1.PRINCIPAL
    ORDER BY Especialidade.NOME, CPS1.PRINCIPAL
    INTO ESPECIALIDADE, CODIGOAMB, QUANTIDADE, TOTAL, NOMEESPECIALIDADE, MATERIAL, MEDICAMENTO DO
    SUSPEND;
end
 ^


ALTER PROCEDURE "MATMEDAPRAZAMENTO" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "KIT" INTEGER,
  "PRESCRICAO" INTEGER,
  "MATMED" VARCHAR(400),
  "POSOLOGIA" VARCHAR(60),
  "SOLICITADO" INTEGER,
  "CHECADO" INTEGER,
  "NAOCHECADO" INTEGER
)
AS
declare variable quantidade integer;
declare variable ok1 char(1);
declare variable ok2 char(1);
declare variable ok3 char(1);
declare variable ok4 char(1);
declare variable ok5 char(1);
declare variable ok6 char(1);
declare variable ok7 char(1);
declare variable ok8 char(1);
declare variable ok9 char(1);
declare variable ok10 char(1);
declare variable ok11 char(1);
declare variable ok12 char(1);
declare variable ok13 char(1);
declare variable ok14 char(1);
declare variable ok15 char(1);
declare variable ok16 char(1);
declare variable ok17 char(1);
declare variable ok18 char(1);
declare variable ok19 char(1);
declare variable ok20 char(1);
declare variable ok21 char(1);
declare variable ok22 char(1);
declare variable ok23 char(1);
declare variable ok24 char(1);
begin
  for select notamed2.a_kits, notamed2.a_notamed, notamed2.medicament, notamed2.posologia, notamed2.quantidade,
       notamed2.ok1, notamed2.ok2, notamed2.ok3, notamed2.ok4, notamed2.ok5, notamed2.ok6, notamed2.ok7, notamed2.ok8, notamed2.ok9, notamed2.ok10, notamed2.ok11, notamed2.ok12,
       notamed2.ok13, notamed2.ok14, notamed2.ok15, notamed2.ok16, notamed2.ok17, notamed2.ok18, notamed2.ok19, notamed2.ok20, notamed2.ok21, notamed2.ok22, notamed2.ok23, notamed2.ok24 from notamed
  inner join notamed2 on (notamed2.a_notamed = notamed.a_notamed)
  where notamed.codigocps = :codigocps
  into kit, prescricao,matmed, posologia, quantidade, ok1, ok2, ok3, ok4, ok5, ok6, ok7, ok8, ok9, ok10, ok11, ok12, ok13, ok14, ok15, ok16, ok17, ok18, ok19, ok20, ok21, ok22, ok23, ok24 do
  begin
    naochecado = 0;
    checado = 0;
    if (ok1 = 'H') then naochecado = naochecado + 1;
    if (ok2 = 'H') then naochecado = naochecado + 1;
    if (ok3 = 'H') then naochecado = naochecado + 1;
    if (ok4 = 'H') then naochecado = naochecado + 1;
    if (ok5 = 'H') then naochecado = naochecado + 1;
    if (ok6 = 'H') then naochecado = naochecado + 1;
    if (ok7 = 'H') then naochecado = naochecado + 1;
    if (ok8 = 'H') then naochecado = naochecado + 1;
    if (ok9 = 'H') then naochecado = naochecado + 1;
    if (ok10 = 'H') then naochecado = naochecado + 1;
    if (ok11 = 'H') then naochecado = naochecado + 1;
    if (ok12 = 'H') then naochecado = naochecado + 1;
    if (ok13 = 'H') then naochecado = naochecado + 1;
    if (ok14 = 'H') then naochecado = naochecado + 1;
    if (ok15 = 'H') then naochecado = naochecado + 1;
    if (ok16 = 'H') then naochecado = naochecado + 1;
    if (ok17 = 'H') then naochecado = naochecado + 1;
    if (ok18 = 'H') then naochecado = naochecado + 1;
    if (ok19 = 'H') then naochecado = naochecado + 1;
    if (ok20 = 'H') then naochecado = naochecado + 1;
    if (ok21 = 'H') then naochecado = naochecado + 1;
    if (ok22 = 'H') then naochecado = naochecado + 1;
    if (ok23 = 'H') then naochecado = naochecado + 1;
    if (ok24 = 'H') then naochecado = naochecado + 1;
    if (ok1 = 'S') then checado = checado + 1;
    if (ok2 = 'S') then checado = checado + 1;
    if (ok3 = 'S') then checado = checado + 1;
    if (ok4 = 'S') then checado = checado + 1;
    if (ok5 = 'S') then checado = checado + 1;
    if (ok6 = 'S') then checado = checado + 1;
    if (ok7 = 'S') then checado = checado + 1;
    if (ok8 = 'S') then checado = checado + 1;
    if (ok9 = 'S') then checado = checado + 1;
    if (ok10 = 'S') then checado = checado + 1;
    if (ok11 = 'S') then checado = checado + 1;
    if (ok12 = 'S') then checado = checado + 1;
    if (ok13 = 'S') then checado = checado + 1;
    if (ok14 = 'S') then checado = checado + 1;
    if (ok15 = 'S') then checado = checado + 1;
    if (ok16 = 'S') then checado = checado + 1;
    if (ok17 = 'S') then checado = checado + 1;
    if (ok18 = 'S') then checado = checado + 1;
    if (ok19 = 'S') then checado = checado + 1;
    if (ok20 = 'S') then checado = checado + 1;
    if (ok21 = 'S') then checado = checado + 1;
    if (ok22 = 'S') then checado = checado + 1;
    if (ok23 = 'S') then checado = checado + 1;
    if (ok24 = 'S') then checado = checado + 1;
    suspend;
  end
end
 ^


ALTER PROCEDURE "MATMEDOBS" 
(
  "PRODUTO" INTEGER
)
RETURNS
(
  "STATUS" VARCHAR(200)
)
AS
BEGIN
  status = 'N';
 -- if (produto = 6052711112) then
 --   status = 'S';
 suspend;
 END
 ^


ALTER PROCEDURE "MMMEDICO" 
(
  "MEDICO" INTEGER,
  "CODIGOMM" VARCHAR(9),
  "VALOR" DOUBLE PRECISION,
  "GLOSATOTAL" DOUBLE PRECISION,
  "CONVENIO" INTEGER,
  "UNIDADENEGOCIO" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "MM" DOUBLE PRECISION,
  "MMMED" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "GLOSAMED" DOUBLE PRECISION,
  "PARCEIRO" DOUBLE PRECISION
)
AS
declare variable percentual double precision;
declare variable fixo double precision;
declare variable parceiroperc double precision;
declare variable tipo char(1);
declare variable codigoamb varchar(8);
begin
  select a_codamb from matmed where codigomm = :codigomm into :codigoamb;
  select matmed from medicos where a_medicos = :medico into :tipo;
  If (tipo = 'S') then
  begin
    select first 1 matmedperc/100 from medicos where (a_medicos = :medico) into :percentual;
    if (percentual is null) then
      percentual = 1;
    if (glosatotal <> 0) then
    begin
      glosamed=valor;
      valor = valor - glosatotal;
      glosa = glosatotal - glosamed;
    end
    mmmed = valor*percentual;
  end
  If (tipo = 'P') then
  begin
    select first 1 percentual/100,parceiro, parceiroperc, valorfixo from defprofMM where (a_medicos = :medico) and ((codigomm = :codigomm) or (a_codamb1 <= :codigoamb and a_codamb2 >= :codigoamb and codigomm is null)) and
      (convenio = :convenio or convenio=0 or convenio is null) and (unidadenegocio = :unidadenegocio or unidadenegocio=0 or unidadenegocio is null) and ( defprofmm.vencimento is null or defprofmm.vencimento >= :data ) order by codigomm desc nulls last, convenio desc  nulls last, unidadenegocio desc  nulls last
    into :percentual, :parceiro, :parceiroperc, fixo;
    if (glosatotal > 0) then
    begin
      if (fixo is null) then
        glosamed=valor*(percentual);
      else
        glosamed=fixo;
      valor = valor - glosatotal;
      glosa = glosatotal - glosamed;
    end
    if (fixo is null) then
      mmmed = valor*percentual;
    else
      mmmed = fixo;
    if (parceiro>0) then
    begin
       parceiro=valor*(parceiroperc/100);
    end
    if (parceiro is null) then
      parceiro = 0;
  end
  if (mmmed is null) then
  begin
    mm = 0;
    mmmed = 0;
    valor = 0;
    glosa = 0;
    glosamed = 0;
  end
  mm = valor - mmmed;
  suspend;
end
 ^


ALTER PROCEDURE "MUDALEITO" 
(
  "CPS" FLOAT,
  "LEITO" INTEGER,
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP,
  "MEDICO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "CONDICAO" VARCHAR(40)
)
AS
declare variable cpsocupado integer;
declare variable leitoatual integer;
begin
  select codigocps from ocupleito('today') where codleito = :leito into cpsocupado;
  if (cpsocupado > 0) then
  begin
   condicao = 'leito ocupado com CPS ' || cast( cpsocupado as varchar(20));
  end
  else
  begin
    select codleito from ocupleito('today') where codigocps = :cps into leitoatual;
    if (leitoatual > 0) then
    begin
      update leitos set codigoint = 0 where leito = :leitoatual;
    end
    insert into inter4 (codigoint,data,hora,leito,codigo,a_medicos,data1) values
                       (:cps,:data,:hora,:leito,:usuario,:medico,'today');
    update leitos set codigoint = :cps where leito = :leito;
  end
  suspend;
end
 ^


ALTER PROCEDURE "MUDARPARABASETESTE" 
AS
begin
     update usuarios set A_NOME = 'BASE DE TESTE', SENHA ='TESTE' where codigo = 1;
     Update empresas set APELIDO = 'BASE DE TESTES';
     update usuarios set ativo = 'N' where codigo <> 1;
     UPDATE medicos SET A_NOME =  'TESTES';
     UPDATE paciente SET A_NOME=  'PACIENTE TESTE', MAE=  'MAE TESTE', PAI=  'PAI TESTE', SEGURADO=  'PACIENTE TESTE';
end
 ^


ALTER PROCEDURE "MUDATRATAMENTO" 
(
  "CPS" FLOAT,
  "TRAT1" INTEGER,
  "TRAT2" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "RESULTADO" VARCHAR(50)
)
AS
begin
  update inter32 set tratamento = :trat2 where codigoint = :cps and tratamento = :trat1 and
  (a_data between cast(:data1 as date) and cast(:data2 as date)) and
  (cast(a_data as date) + cast(a_hora as time) BETWEEN :data1 and :data2);
  resultado = 'Transferido';
  suspend;
end
 ^


ALTER PROCEDURE "MUDATRATAMENTOMAT" 
(
  "CPS" FLOAT,
  "TRAT1" INTEGER,
  "TRAT2" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP,
  "ITEM" INTEGER
)
RETURNS
(
  "RESULTADO" VARCHAR(50)
)
AS
begin
  update inter32 set tratamento = :trat2
  where codigoint = :cps and tratamento = :trat1 and codigomm = :item and
  ( a_data between cast(:data1 as date) and cast(:data2 as date) ) and
  (cast(a_data as date) + cast(a_hora as time) BETWEEN :data1 and :data2);
  resultado = 'Transferido';
  suspend;
end
 ^


ALTER PROCEDURE "MUDATRATAMENTOPROC" 
(
  "CPS" FLOAT,
  "TRAT1" INTEGER,
  "TRAT2" INTEGER,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "RESULTADO" VARCHAR(50)
)
AS
begin
  update inter3 set tratamento = :trat2 where codigoint = :cps and tratamento = :trat1 and cast(inter3.a_data as date) + cast(inter3.a_hora as time) between :data1 and :data2;
  resultado = 'Transferido';
  suspend;
end
 ^


ALTER PROCEDURE "NOTAFISCALCONTABIL" 
(
  "CONSULTA" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCONTABIL" VARCHAR(30),
  "CCUSTO" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "A_CODAMB" VARCHAR(30)
)
AS
begin
  for select unidadenegocio.ccustofin, matmed.a_codamb, contabil.contabil, sum(cps.valor) from cps(:consulta)
  left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
  left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = 'M')
  left join unidadenegocio on (unidadenegocio.codigo = cps.unidadenegocio)
  left join contabil on (servicos.contabil = contabil.codigo)
  where (cps.cobrar = 'S') or (cps.cobrar is null)
  group by 1,2,3 into :ccusto, :a_codamb, :codigocontabil, :valor do
  begin
    if (:a_codamb is not null) then
      select first 1 contabil from contabil where tipomatmed = :a_codamb into :codigocontabil;
    suspend;
  end
end
 ^


ALTER PROCEDURE "OCUPLEITO" 
(
  "DATA1" TIMESTAMP
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable inter4 integer;
declare variable duplo integer;
begin
  listaleito = '0';
  FOR SELECT distinct CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
      cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
      CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
      FROM inter4
      inner join cps1 on (cps1.codigocps = inter4.codigoint)
      WHERE ((cps1.datasaida is null) and ( CPS1.CODIGOPLA =3)) or
            ((cps1.datasaida is null) and ( CPS1.CODIGOPLA =7))
      INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
      :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
  BEGIN
    IF (DIARIA IS NULL) THEN DIARIA = 0;
    IF (PRORROGA IS NULL) THEN PRORROGA = 0;
    SELECT First 1 inter4.leito, inter4.inter4no
    FROM INTER4
    WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
    ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
    IF ( :codleito > 0 ) THEN
    BEGIN
        SELECT leitos.a_grupo, leitos.a_nome
        FROM LEITOS
        WHERE leitos.leito = :codleito
        INTO :a_ala, :leito;
        suspend;
    END
  END
end
 ^


ALTER PROCEDURE "OCUPLEITO3" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable inter4 integer;
declare variable duplo integer;
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
      listaleito = '0';
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
        FROM cps1
        WHERE ((cps1.datasaida is null) and ( CPS1.CODIGOPLA =3)) or
              ((cps1.datasaida is null) and ( CPS1.CODIGOPLA =7))
           --   or               ((cps1.datasaida is null) and ( CPS1.CODIGOPLA =9))
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            suspend;
        END
      END
      if ( SEMDATA = 'L' ) then
      begin
         codigocps = null;
         codconvenio = null;
         principal = null;
         a_cid = null;
         codmedico = null;
         data = null;
         prorroga = null;
         diaria = null;
         matricula = null;
         diagnostico = null;
         diassol = null;
         prorroga = null;
         tipoatend1 = null;
         codigopac = null;
         CODPLANO = null;
         AUTORIZA = null;
         diagnostico = null;
         for execute statement 'select cast(leito as integer), cast(a_nome as varchar(40)), cast(a_grupo as integer) from leitos where not leito in (' || ListaLeito || ') and a_ativo = ''S''' into :codleito, :leito, a_ala do
         begin
           suspend;
         end
      end
    END
    ELSE
    BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, AUTORIZA
        FROM CPS1 Cps1
        WHERE ( ( CPS1.CODIGOPLA = 3 ) or ( CPS1.CODIGOPLA = 4 ) or ( CPS1.CODIGOPLA = 7 ) ) AND
              ( CPS1.A_DATAFAT <= :DATA1 ) AND
              ( ( CPS1.DATASAIDA IS NULL) OR ( ( CPS1.DATASAIDA > :DATA1) AND ( CPS1.A_DATAFAT <= :DATA1 ) ) )
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :AUTORIZA do
      begin
        codleito = null;
        inter4 = null;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4 inter4
        WHERE ( inter4.codigoint = :codigocps ) AND
              ( ( inter4.datafim is null ) OR ( Inter4.datafim > :data1 ) )
        ORDER BY inter4.data ASC, inter4.hora desc into :codleito, :inter4;
        if ( :codleito > 0 ) then
        begin
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS leitos
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            duplo = null;
            if (duplo is null) then suspend;
        END
      END
    END
end
 ^


ALTER PROCEDURE "OCUPLEITO4" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
declare variable inter4 integer;
declare variable duplo integer;
begin
      if ( SEMDATA = 'S' ) then
    begin
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
        FROM CPS1 Cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (CPS1.a_LEITO > 0)
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
      BEGIN
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4 inter4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS leitos
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            suspend;
        END
      END
    END
    ELSE
    BEGIN
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC
        FROM CPS1 Cps1
        WHERE ( CPS1.A_DATAFAT <= :DATA1 ) AND
              ( ( CPS1.DATASAIDA IS NULL) OR ( ( CPS1.DATASAIDA > :DATA1) AND ( CPS1.A_DATAFAT <= :DATA1 ) ) ) and (CPS1.a_LEITO > 0)
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac do
      begin
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4 inter4
        WHERE ( inter4.codigoint = :codigocps ) AND
              ( ( inter4.datafim is null ) OR ( Inter4.datafim > :data1 ) )
        ORDER BY inter4.data ASC, inter4.hora desc into :codleito, :inter4;
        if ( :codleito > 0 ) then
        begin
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS leitos
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            duplo = null;
            if (duplo is null) then suspend;
        END
      END
    END
end
 ^


ALTER PROCEDURE "OCUPLEITOMAPA" 
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
declare variable inter4 integer;
declare variable duplo integer;
begin
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
        FROM cps1
        WHERE cps1.a_datafat >= cast('now' as timestamp)- 200 and CPS1.CODIGOPLA = 3 and ( CPS1.DATASAIDA IS NULL )
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            update leitos set codigoint = cast(:codigocps as integer) where leito = :codleito and ((codigoint <> cast(:codigocps as integer)) or (codigoint is null));
            update leitos set codigoint = 0 where codigoint = :codigocps and leito <> :codleito;
            suspend;
        END
      END
end
 ^


ALTER PROCEDURE "OCUPLEITOPREINTER" 
(
  "DATA1" TIMESTAMP
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOPAC" FLOAT
)
AS
declare variable inter4 integer;
declare variable duplo integer;
begin
FOR select CPS1.codigocps, cps1.convenio, CPS1.a_datafat, CPS1.CODIGOPAC
FROM CPS1 WHERE (CODIGOPLA = 9)
INTO :codigocps, :codconvenio, :data, :codigopac do
begin
  select first 1 leito, inter4no from inter4 where codigoint = :codigocps and ((datafim is null) or datafim > :data1) order by data desc, hora desc into :codleito, :inter4;
  if (:codleito > 0) Then
  begin
    select a_grupo, a_nome from leitos where leito = :codleito into :a_ala, :leito;
    duplo = null;
    select first 1 inter4no from inter4
    inner join cps1 on cps1.codigocps = inter4.codigoint where (inter4.datafim is null) and (inter4.leito = :codleito) and (cps1.codigopla = 3) and ((cps1.datasaida is null) or (cps1.datasaida > :data1) and cps1.a_datafat <=:data1) and inter4no <> :inter4 into :duplo;
    if (duplo is null) then
      suspend;
  end
  else
    suspend;
end
end
 ^


ALTER PROCEDURE "OCUPLEITOSAP" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "ALA" VARCHAR(40),
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
declare variable DataHorasaida timestamp;
declare variable auxmotivosaida varchar(50);
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
        listaleito = '0';
       FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL )  AND cps1.codigopla >2  -- internamento and (cps1.a_ala > 0 and cps1.a_leito >0)
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
        BEGIN
            IF (DIARIA IS NULL) THEN DIARIA = 0;
            IF (PRORROGA IS NULL) THEN PRORROGA = 0;
            SELECT First 1 inter4.leito, inter4.inter4no
            FROM INTER4
            WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
            ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
            IF ( :codleito > 0 ) THEN
            BEGIN
                SELECT leitos.a_grupo, leitos.a_nome
                FROM LEITOS
                WHERE leitos.leito = cast(:codLeito as smallint)
                INTO :a_ala, :leito;
                if (semdata = 'L' ) then
                    listaleito = listaleito || ',' || codleito;
                auxEspecialidade = null;
                mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
                imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
                imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
                imagem16 = null;            imagem17 = null;            imagem18 = null;
                risco = NULL;
                select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
                if (risco = '5')then
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
                ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
                ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
                ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
                ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
                else
                  IMAGEM03 = null;
                  
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;

                
                if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17; 
                  
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM07 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM08;
                 
            
            if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E' )) then
            begin              
              if (imagem15 is null) then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM15;
              else
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE AMARELO' INTO IMAGEM15;
            end  
                if (risco is not null) then
                begin
                    risco = 6 - cast(risco as integer);
                    Leito = risco || ' ' || Leito;
                end

                qtdedias = null; --- previsao de alta
                IMAGEM10 = null;
                data  = null;

                if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
                else
                  IMAGEM01 = null;
               
                select first 1 cidade from paciente where codigopac = :codigopac into :mensagem01;   
                  
                suspend;
            END
        END
        -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
        BEGIN
            datahora = cast(:data as date) + cast(:auxhora as time);
       codleito=0;
       a_ala = 0;
           --   if (codmedico = 17)  then -- sala do medico
          --     CODLEITO = 424;
            if (codmedico in ( 17, 545 ) ) then 
            begin
              CODLEITO = 0;
              a_ala = 0;
            end 
            if (codmedico = 630)  then -- sala do medico emerg pediaria
               CODLEITO = 429;    
            if (codmedico = 631)  then -- sala do medico emerg obstetrica
               CODLEITO = 430;
            else if (codmedico = 16)  then -- sala do medico
               CODLEITO = 426;
            else if (codmedico = 517)   then -- obs enf
               CODLEITO = 424;
            else if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
            else if (codmedico =(508)) then -- PEDIATRIA 
               CODLEITO = 419;
            else if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
            else if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
            else if (codmedico = 511) then -- sala emergcia cirugcica
                CODLEITO = 427;
            else if (codmedico = 518) then -- sala emergcia ortopedica
                CODLEITO = 428;
            else if (codmedico = 653) then -- classificacao ortopedica
                CODLEITO = 431;
                
       
          --      CODLEITO = 0;
         --    suspend;    
            
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
                listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
            mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
            if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
            ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
            ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
            ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
            ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
            else
                  IMAGEM03 = null;
                  
             if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;
                
           /*   if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps and cpslaudovar.datahora >= 'today' and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;
                 */
                
              if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17;      
                        
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM08 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM08;
            if (risco is not null) then
            begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
            end
            else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
            
             select first 1 cidade from paciente where codigopac = :codigopac into :mensagem01;  
/*IF (exists(SELECT FIRST 1 A_MEDICOS FROM CPS2 WHERE codigocps2 = :codigocps and a_medicos = (rdb$get_context('USER_SESSION','PROF')))) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
              --  suspend;
            end*/
            
            if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
           
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        
        END
 
    
    
        mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
        imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
        imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
        for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
        begin
            if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
                mensagem01 = 'Leito Vago';
            codigopac = 0;
            codigocps= 0;
            codconvenio=0;
            suspend;
        end

         
        --Mapa da Ambulatorio
       -- if (rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') then
         --   exception exc_dinamica 'teste ' || rdb$get_context('USER_SESSION','PROF') ;
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
        FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC,
         MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
        BEGIN
            codigocps = 0;
            SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
            CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
            FROM cps1
            where cps1.marcacao = :marcacao
            INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
            :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
            mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
            imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
            imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
            imagem18 = null;        valoraux = null;
            if (codigocps > 0) then
            begin
            --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
                IF (DIARIA IS NULL) THEN DIARIA = 0;
                IF (PRORROGA IS NULL) THEN PRORROGA = 0;
                codleito = 0;
                SELECT First 1 inter4.leito, inter4.inter4no
                FROM INTER4
                WHERE ( inter4.codigoint = :codigocps )
                ORDER BY inter4.data DESC, inter4.hora desc
                into :codleito, :inter4;
                codleito= '0';
                if (coalesce(codleito,'0') = 0) then
                    CODLEITO = gen_id(leitoAmbulatorio,0);
                SELECT leitos.a_grupo, leitos.a_nome
                FROM LEITOS
                WHERE leitos.leito = cast(:codleito as smallint)
                INTO :a_ala, :leito;
                if (valoraux is not null) then
                    leito = leito || valoraux;
                listaleito = listaleito || ',' || codleito;
                if (codigocps > 0) then
                    select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
                if (codigocps is null) then codigocps = 0;
                if (status = '0') then
                begin
                    mensagem01= 'No Compareceu';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
                end
                if (status = '1') then mensagem01= 'Marcado';
                if (status = '2') then
                begin
                    mensagem01= 'Pronto p/ Atender';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
                end
                if (status = '3') then
                begin
                    mensagem01= 'Em atendimento';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
                end
                if (status = '4') then
                begin
                    mensagem01= 'J atendido';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
                    if (auxmedico2 <> codmedico) Then
                    begin
                        mensagem01= 'J atendido - Agenda Cirurgia';
                        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
                    end
                end
                if (status = '5') then mensagem01= 'Atrasado';
                if (status = '6') then mensagem01= 'Retorno';
                if (status = '7') then
                begin
                    mensagem01= 'Preferencial';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
                end
                if (status = '8') then
                begin
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
                    mensagem01= 'Exame realizado';
                end
                if (status = '9') then mensagem01= 'Desistiu';
                if (status = '10') then mensagem01= 'J Chegou';
                if (status = '11') then mensagem01= 'Dilatando';
                if (status = '12') then mensagem01= 'Liberado Exame';
                if (status = '13') then
                begin
                    mensagem01= 'Cancelado';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
                end
                if (status = '14') then mensagem01= 'Falta Justificada';
                if (status = '15') then mensagem01= 'Aguardando Autoriz.';
                mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
                if (codigocps = 0) then
                    leito = leito || ' ' || 'S/CPS';
                suspend;
            end
      END -- fim mapa marcacaod
      
      
            
        
        -- mapa meus pacientes
       FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
        BEGIN
            datahora = cast(:data as date) + cast(:auxhora as time);
       codleito=0;
       a_ala = 0;

            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
                listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
            mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
            if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
            ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
            ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
            ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
            ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
            else
                  IMAGEM03 = null;
                  
             if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;
                
                
              if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17;      
                        
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM08 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM08;
            if (risco is not null) then
            begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
            end
            else
                Leito = '0 ' || Leito;

           -- consultar se tem atendimento no dida para esse medico 
           IF (exists(SELECT FIRST 1 A_MEDICOS FROM CPS2 WHERE codigocps2 = :codigocps
           and a_medicos = (rdb$get_context('USER_SESSION','PROF')) )) then
            begin 
                a_ala=25;
                codleito=420;
            end
                    
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        
        END
      
   
      --- ( 3 ) MAPA ALTAS  ***** ************************************************************
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.datasaida, cps1.HORASAIDA,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA, CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.motivo
        FROM cps1
        WHERE  (CPS1.DATASAIDA >= (CAST('TODAY' AS DATE ) -2) and  a_situacao =0 )
        order by CPS1.DATASAIDA
        DESC
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade do
      BEGIN
        mensagem01 = null;   mensagem02 = null;  mensagem03 = null;   imagem01 = null;   imagem02 = null; imagem03 = null; imagem04 = null; imagem05 = null; imagem06 = null; imagem07 = null; imagem08 = null; imagem09 = null; imagem10 = null; imagem11 = null; imagem12 = null;
        imagem13 = null; imagem14 = null; imagem15 = null;  imagem16 = null; imagem17 = null; imagem18 = null;
        datahorasaida = cast(:data as date) + cast(:auxhora as time);
      
        mensagem01 = 'Sada: ' || extract( day from data )||'/' || extract( month from data )||'/' || extract( year from data )||' ' || right('00' || extract(hour from datahorasaida ) ,2) || ':' || right('00' || extract(minute from datahorasaida ),2 );
        
        select first 1 descricao from MOTIVOALTA where codigoa = :gravidade into :auxmotivosaida; 
        if (:gravidade = '2') then
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'COVIDP' INTO IMAGEM08; 
        mensagem01 =  :auxmotivosaida; 
        mensagem03 = '';
        
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        CODLEITO = 421;
     
        SELECT leitos.a_grupo, leitos.a_nome  FROM LEITOS WHERE leitos.leito = :codLeito
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
           Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr('EMEG',1,6);
        suspend;

      END -- fim do mapa ALTAS --- ( 3 ) MAPA ALTAS  ***** ************************************************************

   END -- fim da prcedure

end
 ^


ALTER PROCEDURE "OCUPLEITOSAP17122020" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "ALA" VARCHAR(40),
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
declare variable DataHorasaida timestamp;
declare variable auxmotivosaida varchar(50);
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
        listaleito = '0';
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (cps1.a_ala > 0 and cps1.a_leito >0) AND cps1.codigopla >2  -- internamento
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
        BEGIN
            IF (DIARIA IS NULL) THEN DIARIA = 0;
            IF (PRORROGA IS NULL) THEN PRORROGA = 0;
            SELECT First 1 inter4.leito, inter4.inter4no
            FROM INTER4
            WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
            ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
            IF ( :codleito > 0 ) THEN
            BEGIN
                SELECT leitos.a_grupo, leitos.a_nome
                FROM LEITOS
                WHERE leitos.leito = cast(:codLeito as smallint)
                INTO :a_ala, :leito;
                if (semdata = 'L' ) then
                    listaleito = listaleito || ',' || codleito;
                auxEspecialidade = null;
                mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
                imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
                imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
                imagem16 = null;            imagem17 = null;            imagem18 = null;
                risco = NULL;
                select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
                if (risco = '5')then
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
                ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
                ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
                ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
                ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
                else
                  IMAGEM03 = null;
                  
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;
                
                      /*   if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps and cpslaudovar.datahora >= 'today' and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;
                 */
                
                if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17; 
                  
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM07 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM08;
                 
            /*if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E' and servicos.a_nome containing 'CULTURA' )) then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB ROSA AMARELO' INTO IMAGEM18;*/
           
            if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E' )) then
            begin              
              if (imagem15 is null) then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM15;
              else
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE AMARELO' INTO IMAGEM15;
            end  
                if (risco is not null) then
                begin
                    risco = 6 - cast(risco as integer);
                    Leito = risco || ' ' || Leito;
                end

                qtdedias = null; --- previsao de alta
                IMAGEM10 = null;
                data  = null;

                if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
                else
                  IMAGEM01 = null;
                suspend;
            END
        END
        -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
        BEGIN
            datahora = cast(:data as date) + cast(:auxhora as time);
       codleito=0;
       a_ala = 0;
           --   if (codmedico = 17)  then -- sala do medico
          --     CODLEITO = 424;
            if (codmedico in ( 17, 545 ) ) then 
            begin
              CODLEITO = 0;
              a_ala = 0;
            end 
            if (codmedico = 630)  then -- sala do medico emerg pediaria
               CODLEITO = 429;    
            if (codmedico = 631)  then -- sala do medico emerg obstetrica
               CODLEITO = 430;
            else if (codmedico = 16)  then -- sala do medico
               CODLEITO = 426;
            else if (codmedico = 517)   then -- obs enf
               CODLEITO = 424;
            else if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
            else if (codmedico =(508)) then -- PEDIATRIA 
               CODLEITO = 419;
            else if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
            else if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
            else if (codmedico = 511) then -- sala emergcia cirugcica
                CODLEITO = 427;
            else if (codmedico = 518) then -- sala emergcia ortopedica
                CODLEITO = 428;
                
       
          --      CODLEITO = 0;
         --    suspend;    
            
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
                listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
            mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
            if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
            ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
            ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
            ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
            ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
            else
                  IMAGEM03 = null;
                  
             if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;
                
           /*   if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps and cpslaudovar.datahora >= 'today' and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;
                 */
                
              if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17;      
                        
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM08 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM08;
            if (risco is not null) then
            begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
            end
            else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
/*IF (exists(SELECT FIRST 1 A_MEDICOS FROM CPS2 WHERE codigocps2 = :codigocps and a_medicos = (rdb$get_context('USER_SESSION','PROF')))) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
              --  suspend;
            end*/
            
            if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
            
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        
        END
 
    
    
        mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
        imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
        imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
        for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
        begin
            if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
                mensagem01 = 'Leito Vago';
            codigopac = 0;
            codigocps= 0;
            codconvenio=0;
            suspend;
        end

         
        --Mapa da Ambulatorio
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
        FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC, MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
        BEGIN
            codigocps = 0;
            SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
            CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
            FROM cps1
            where cps1.marcacao = :marcacao
            INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
            :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
            mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
            imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
            imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
            imagem18 = null;        valoraux = null;
            if (codigocps > 0) then
            begin
            --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
                IF (DIARIA IS NULL) THEN DIARIA = 0;
                IF (PRORROGA IS NULL) THEN PRORROGA = 0;
                codleito = 0;
                SELECT First 1 inter4.leito, inter4.inter4no
                FROM INTER4
                WHERE ( inter4.codigoint = :codigocps )
                ORDER BY inter4.data DESC, inter4.hora desc
                into :codleito, :inter4;
                codleito= '0';
                if (coalesce(codleito,'0') = 0) then
                    CODLEITO = gen_id(leitoAmbulatorio,0);
                SELECT leitos.a_grupo, leitos.a_nome
                FROM LEITOS
                WHERE leitos.leito = cast(:codleito as smallint)
                INTO :a_ala, :leito;
                if (valoraux is not null) then
                    leito = leito || valoraux;
                listaleito = listaleito || ',' || codleito;
                if (codigocps > 0) then
                    select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
                if (codigocps is null) then codigocps = 0;
                if (status = '0') then
                begin
                    mensagem01= 'No Compareceu';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
                end
                if (status = '1') then mensagem01= 'Marcado';
                if (status = '2') then
                begin
                    mensagem01= 'Pronto p/ Atender';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
                end
                if (status = '3') then
                begin
                    mensagem01= 'Em atendimento';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
                end
                if (status = '4') then
                begin
                    mensagem01= 'J atendido';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
                    if (auxmedico2 <> codmedico) Then
                    begin
                        mensagem01= 'J atendido - Agenda Cirurgia';
                        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
                    end
                end
                if (status = '5') then mensagem01= 'Atrasado';
                if (status = '6') then mensagem01= 'Retorno';
                if (status = '7') then
                begin
                    mensagem01= 'Preferencial';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
                end
                if (status = '8') then
                begin
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
                    mensagem01= 'Exame realizado';
                end
                if (status = '9') then mensagem01= 'Desistiu';
                if (status = '10') then mensagem01= 'J Chegou';
                if (status = '11') then mensagem01= 'Dilatando';
                if (status = '12') then mensagem01= 'Liberado Exame';
                if (status = '13') then
                begin
                    mensagem01= 'Cancelado';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
                end
                if (status = '14') then mensagem01= 'Falta Justificada';
                if (status = '15') then mensagem01= 'Aguardando Autoriz.';
                mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
                if (codigocps = 0) then
                    leito = leito || ' ' || 'S/CPS';
                suspend;
            end
      END -- fim mapa marcacaod
   
              --- ( 3 ) MAPA ALTAS  ***** ************************************************************
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.datasaida, cps1.HORASAIDA,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA, CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.motivo
        FROM cps1
        WHERE  (CPS1.DATASAIDA >= (CAST('TODAY' AS DATE ) -2) and  a_situacao =0 )
        order by CPS1.DATASAIDA
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade do
      BEGIN
        mensagem01 = null;   mensagem02 = null;  mensagem03 = null;   imagem01 = null;   imagem02 = null; imagem03 = null; imagem04 = null; imagem05 = null; imagem06 = null; imagem07 = null; imagem08 = null; imagem09 = null; imagem10 = null; imagem11 = null; imagem12 = null;
        imagem13 = null; imagem14 = null; imagem15 = null;  imagem16 = null; imagem17 = null; imagem18 = null;
        datahorasaida = cast(:data as date) + cast(:auxhora as time);
      
        mensagem01 = 'Sada: ' || extract( day from data )||'/' || extract( month from data )||'/' || extract( year from data )||' ' || right('00' || extract(hour from datahorasaida ) ,2) || ':' || right('00' || extract(minute from datahorasaida ),2 );
        
        select first 1 descricao from MOTIVOALTA where codigoa = :gravidade into :auxmotivosaida; 
        if (:gravidade = '2') then
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'COVIDP' INTO IMAGEM08; 
        mensagem01 =  :auxmotivosaida; 
        mensagem03 = '';
        
         
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        CODLEITO = 421;
     
      
     
        SELECT leitos.a_grupo, leitos.a_nome  FROM LEITOS WHERE leitos.leito = :codLeito
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
           Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr('EMEG',1,6);
          suspend;

      END -- fim do mapa ALTAS --- ( 3 ) MAPA ALTAS  ***** ************************************************************

   END -- fim da prcedure

end
 ^


ALTER PROCEDURE "OCUPLEITOSAPBKP" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
declare variable DataHorasaida timestamp;
declare variable auxmotivosaida varchar(50);
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
        listaleito = '0';
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (cps1.a_ala > 0 and cps1.a_leito >0) AND cps1.codigopla >2  -- internamento
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
        BEGIN
            IF (DIARIA IS NULL) THEN DIARIA = 0;
            IF (PRORROGA IS NULL) THEN PRORROGA = 0;
            SELECT First 1 inter4.leito, inter4.inter4no
            FROM INTER4
            WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
            ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
            IF ( :codleito > 0 ) THEN
            BEGIN
                SELECT leitos.a_grupo, leitos.a_nome
                FROM LEITOS
                WHERE leitos.leito = cast(:codLeito as smallint)
                INTO :a_ala, :leito;
                if (semdata = 'L' ) then
                    listaleito = listaleito || ',' || codleito;
                auxEspecialidade = null;
                mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
                imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
                imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
                imagem16 = null;            imagem17 = null;            imagem18 = null;
                risco = NULL;
                select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
                if (risco = '5')then
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
                ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
                ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
                ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
                ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
                else
                  IMAGEM03 = null;
                  
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;
                
                      /*   if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps and cpslaudovar.datahora >= 'today' and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;
                 */
                
                if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
                if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17; 
                  
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM07 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM07;
                 
            /*if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E' and servicos.a_nome containing 'CULTURA' )) then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB ROSA AMARELO' INTO IMAGEM18;*/
           
            if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E' )) then
            begin              
              if (imagem15 is null) then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM15;
              else
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE AMARELO' INTO IMAGEM15;
            end  
                if (risco is not null) then
                begin
                    risco = 6 - cast(risco as integer);
                    Leito = risco || ' ' || Leito;
                end

                qtdedias = null; --- previsao de alta
                IMAGEM10 = null;
                data  = null;

                if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
                else
                  IMAGEM01 = null;
                suspend;
            END
        END
        -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
        BEGIN
            datahora = cast(:data as date) + cast(:auxhora as time);

            if (codmedico = 17)  then -- sala do medico
               CODLEITO = 424;
            else if (codmedico = 16)  then -- sala do medico
               CODLEITO = 426;
            else if (codmedico = 517)   then -- obs enf
               CODLEITO = 424;
            else if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
            else if (codmedico =(508)) then -- PEDIATRIA 
               CODLEITO = 419;
            else if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
            else if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
            else if (codmedico = 511) then -- sala emergcia cirugcica
                CODLEITO = 427;
            else if (codmedico = 518) then -- sala emergcia ortopedica
                CODLEITO = 428;
                
         --   if (codmedico = 545) then -- 
           --     CODLEITO = 419;
         --    suspend;    
            
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
                listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
            mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
            if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
            ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
            ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
            ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
            ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
            else
                  IMAGEM03 = null;
                  
             if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'RX' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'RAIOX' INTO IMAGEM14;
         
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'Laboratrio' )) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB AMARELO' INTO IMAGEM13;
          
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps 
                inner join servicos on servicos.codigoserv = cps6.codigoserv 
                where cps1.codigocps = :codigocps and cast(cps6.datasinc as date) = 'today' and CPS6.CLASSE = 'TC' )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'BIOIMAGEM' INTO IMAGEM12;
                
           /*   if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps and cpslaudovar.datahora >= 'today' and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;
                 */
                
              if (exists(select first 1 cpslaudo1.codigocps from CPSlAUDO1 
                inner join cpslaudovar on (cpslaudo1.codigocps = cpslaudovar.codigocps) 
                where cpslaudo1.numeroorigem = :codigocps 
                and cpslaudo1.A_DATAFAT >= 'today' -- MODIFICADO POR EDUARDO PRA A_DATAFAT LAUDOVAR NULL
                and cpslaudo1.liberado = 'S')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LAB VERDE' INTO IMAGEM13;  
       
              if (exists(select first 1 cps1.codigocps from CPS1 inner join cps6 on cps6.CODIGOCPS6 = cps1.codigocps inner join servicos on
                servicos.codigoserv = cps6.codigoserv inner join cpslaudo1 on (cpslaudo1.codigocps = cps6.numerolaudo) where cps1.codigocps = :codigocps
                and ((cpslaudo1.LIBERADO is null) or (cpslaudo1.LIBERADO = 'N')) and  cast(cps6.datasinc as date) = 'today' and servicos.a_tipo = 'E'
                and servicos.a_codamb in ('02080080','02080099','02080102','02080110','02080129','02080137','02100014') )) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'LABROSA' INTO IMAGEM17;      
                        
                -- ICONE PRESCRICAO CONFIRMADA NAO APRAZADA
             IMAGEM07 = null;    
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and impresso = 'S' and cast(notamed.DATAHORA as date) >= 'today' 
               and coalesce(notamed.APRAZADA,0) = 0)) then
               select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVA' INTO IMAGEM07;
               
                IMAGEM07 = null;    -- prescricao nao confirmada
             if (exists(select first 1 notamed.codigocps from notamed where codigocps = :codigocps 
               and (impresso is null or impresso ='N' or impresso ='') and cast(notamed.DATAHORA as date) >= 'today')) then
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ALERTAVP' INTO IMAGEM07;
            if (risco is not null) then
            begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
            end
            else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
/*IF (exists(SELECT FIRST 1 A_MEDICOS FROM CPS2 WHERE codigocps2 = :codigocps and a_medicos = (rdb$get_context('USER_SESSION','PROF')))) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
              --  suspend;
            end*/
            
            if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
            
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        
        END
 
    
    
        mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
        imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
        imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
        for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
        begin
            if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
                mensagem01 = 'Leito Vago';
            codigopac = 0;
            codigocps= 0;
            codconvenio=0;
            suspend;
        end

         
        --Mapa da Ambulatorio
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
        FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC, MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
        BEGIN
            codigocps = 0;
            SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
            CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
            FROM cps1
            where cps1.marcacao = :marcacao
            INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
            :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
            mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
            imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
            imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
            imagem18 = null;        valoraux = null;
            if (codigocps > 0) then
            begin
            --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
                IF (DIARIA IS NULL) THEN DIARIA = 0;
                IF (PRORROGA IS NULL) THEN PRORROGA = 0;
                codleito = 0;
                SELECT First 1 inter4.leito, inter4.inter4no
                FROM INTER4
                WHERE ( inter4.codigoint = :codigocps )
                ORDER BY inter4.data DESC, inter4.hora desc
                into :codleito, :inter4;
                codleito= '0';
                if (coalesce(codleito,'0') = 0) then
                    CODLEITO = gen_id(leitoAmbulatorio,0);
                SELECT leitos.a_grupo, leitos.a_nome
                FROM LEITOS
                WHERE leitos.leito = cast(:codleito as smallint)
                INTO :a_ala, :leito;
                if (valoraux is not null) then
                    leito = leito || valoraux;
                listaleito = listaleito || ',' || codleito;
                if (codigocps > 0) then
                    select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
                if (codigocps is null) then codigocps = 0;
                if (status = '0') then
                begin
                    mensagem01= 'No Compareceu';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
                end
                if (status = '1') then mensagem01= 'Marcado';
                if (status = '2') then
                begin
                    mensagem01= 'Pronto p/ Atender';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
                end
                if (status = '3') then
                begin
                    mensagem01= 'Em atendimento';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
                end
                if (status = '4') then
                begin
                    mensagem01= 'J atendido';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
                    if (auxmedico2 <> codmedico) Then
                    begin
                        mensagem01= 'J atendido - Agenda Cirurgia';
                        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
                    end
                end
                if (status = '5') then mensagem01= 'Atrasado';
                if (status = '6') then mensagem01= 'Retorno';
                if (status = '7') then
                begin
                    mensagem01= 'Preferencial';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
                end
                if (status = '8') then
                begin
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
                    mensagem01= 'Exame realizado';
                end
                if (status = '9') then mensagem01= 'Desistiu';
                if (status = '10') then mensagem01= 'J Chegou';
                if (status = '11') then mensagem01= 'Dilatando';
                if (status = '12') then mensagem01= 'Liberado Exame';
                if (status = '13') then
                begin
                    mensagem01= 'Cancelado';
                    select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
                end
                if (status = '14') then mensagem01= 'Falta Justificada';
                if (status = '15') then mensagem01= 'Aguardando Autoriz.';
                mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
                if (codigocps = 0) then
                    leito = leito || ' ' || 'S/CPS';
                suspend;
            end
      END -- fim mapa marcacaod
   
              --- ( 3 ) MAPA ALTAS  ***** ************************************************************
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.datasaida, cps1.HORASAIDA,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA, CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.motivo
        FROM cps1
        WHERE  (CPS1.DATASAIDA >= (CAST('TODAY' AS DATE ) -2) and  a_situacao =0 )
        order by CPS1.DATASAIDA
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade do
      BEGIN
        mensagem01 = null;   mensagem02 = null;  mensagem03 = null;   imagem01 = null;   imagem02 = null; imagem03 = null; imagem04 = null; imagem05 = null; imagem06 = null; imagem07 = null; imagem08 = null; imagem09 = null; imagem10 = null; imagem11 = null; imagem12 = null;
        imagem13 = null; imagem14 = null; imagem15 = null;  imagem16 = null; imagem17 = null; imagem18 = null;
        datahorasaida = cast(:data as date) + cast(:auxhora as time);
      
        mensagem01 = 'Sada: ' || extract( day from data )||'/' || extract( month from data )||'/' || extract( year from data )||' ' || right('00' || extract(hour from datahorasaida ) ,2) || ':' || right('00' || extract(minute from datahorasaida ),2 );
        
        select first 1 descricao from MOTIVOALTA where codigoa = :gravidade into :auxmotivosaida; 
        if (:gravidade = '2') then
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'COVIDP' INTO IMAGEM08; 
        mensagem01 =  :auxmotivosaida; 
        mensagem03 = '';
        
         
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        CODLEITO = 421;
     
      
     
        SELECT leitos.a_grupo, leitos.a_nome  FROM LEITOS WHERE leitos.leito = :codLeito
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
           Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr('EMEG',1,6);
          suspend;

      END -- fim do mapa ALTAS --- ( 3 ) MAPA ALTAS  ***** ************************************************************

   END -- fim da prcedure

end
 ^


ALTER PROCEDURE "OCUPLEITOSAPI" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
      listaleito = '0';
     FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (cps1.a_ala > 0 and cps1.a_leito >0) AND cps1.codigopla >2  -- internamento
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            auxEspecialidade = null;
            mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
            imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
            imagem16 = null;            imagem17 = null;            imagem18 = null;
              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
               else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco = 6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end

              qtdedias = null; --- previsao de alta
              IMAGEM10 = null;
              data  = null;

               if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
               else
                  IMAGEM01 = null;
              suspend;
        END
      END
      -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
      BEGIN
        datahora = cast(:data as date) + cast(:auxhora as time);
      --  IF (DIARIA IS NULL) THEN DIARIA = 0;
      --  IF (PRORROGA IS NULL) THEN PRORROGA = 0;
       -- codleito = 0;
        begin
           if (codmedico = 16)  then -- sala do medico emerg clinca medica
               CODLEITO = 426;
           if (codmedico = 630)  then -- sala do medico emerg pediaria
               CODLEITO = 429;    
           if (codmedico = 631)  then -- sala do medico emerg obstetrica
               CODLEITO = 430;
           if (codmedico = 17)   then -- obs enf
               CODLEITO = 424;
           if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
           if (codmedico = 508) then -- PEDIATRIA 
               CODLEITO = 419;
           if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
           if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
         --    suspend;    
            
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
                          mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
              select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
              else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end
              else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
        /*    IF (rdb$get_context('USER_SESSION','PROF') = codmedico) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
                suspend;
            end*/
            
           if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
            
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        end
      END
    END 
    
    

    
    
    
    
    mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
    imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
    imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
    for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
    begin
        if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
          mensagem01 = 'Leito Vago';
        codigopac = 0;
        codigocps= 0;
        codconvenio=0;
        suspend;
    end

         
   --Mapa da Ambulatorio
      if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
      FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC, MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
      BEGIN
      codigocps = 0;
      SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
        FROM cps1
        where cps1.marcacao = :marcacao

        INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
        mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
        imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
        imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
        imagem18 = null;        valoraux = null;
     if (codigocps > 0) then
     begin
          --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps )
        ORDER BY inter4.data DESC, inter4.hora desc
        into :codleito, :inter4;
        codleito= '0';
        if (coalesce(codleito,'0') = 0) then
          CODLEITO = gen_id(leitoAmbulatorio,0);
        SELECT leitos.a_grupo, leitos.a_nome
        FROM LEITOS
        WHERE leitos.leito = cast(:codleito as smallint)
        INTO :a_ala, :leito;
        if (valoraux is not null) then
          leito = leito || valoraux;
        listaleito = listaleito || ',' || codleito;
        if (codigocps > 0) then
          select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
        if (codigocps is null) then codigocps = 0;
         if (status = '0') then
        begin
         mensagem01= 'No Compareceu';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
        end
        if (status = '1') then mensagem01= 'Marcado';
        if (status = '2') then
        begin
         mensagem01= 'Pronto p/ Atender';
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
        end
        if (status = '3') then
        begin
         mensagem01= 'Em atendimento';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
        end
        if (status = '4') then
        begin
             mensagem01= 'J atendido';
             select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
             if (auxmedico2 <> codmedico) Then
             begin
                 mensagem01= 'J atendido - Agenda Cirurgia';
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
             end
        end
        if (status = '5') then mensagem01= 'Atrasado';
        if (status = '6') then mensagem01= 'Retorno';
        if (status = '7') then
        begin
          mensagem01= 'Preferencial';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
        end
        if (status = '8') then
        begin
            select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
            mensagem01= 'Exame realizado';
        end
        if (status = '9') then mensagem01= 'Desistiu';
        if (status = '10') then mensagem01= 'J Chegou';
        if (status = '11') then mensagem01= 'Dilatando';
        if (status = '12') then mensagem01= 'Liberado Exame';
        if (status = '13') then
        begin
         mensagem01= 'Cancelado';
        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
        end
        if (status = '14') then mensagem01= 'Falta Justificada';
        if (status = '15') then mensagem01= 'Aguardando Autoriz.';
        mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
        if (codigocps = 0) then
          leito = leito || ' ' || 'S/CPS';
        suspend;
     end
      END
      
    
    -- tetse
    
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
      BEGIN
        datahora = cast(:data as date) + cast(:auxhora as time);

        begin

           if (codmedico = 17)   then -- obs enf
               CODLEITO = 424;
 exception EXC_DINAMICA 'teste' ;
             suspend;    
            

        end
      END
    
    -- teste

end
 ^


ALTER PROCEDURE "OCUPLEITOSAPIBKP" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
      listaleito = '0';
     FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (cps1.a_ala > 0 and cps1.a_leito >0) AND cps1.codigopla >2  -- internamento
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            auxEspecialidade = null;
            mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
            imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
            imagem16 = null;            imagem17 = null;            imagem18 = null;
              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
               else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco = 6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end

              qtdedias = null; --- previsao de alta
              IMAGEM10 = null;
              data  = null;

               if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
               else
                  IMAGEM01 = null;
              suspend;
        END
      END
      -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
      BEGIN
        datahora = cast(:data as date) + cast(:auxhora as time);
      --  IF (DIARIA IS NULL) THEN DIARIA = 0;
      --  IF (PRORROGA IS NULL) THEN PRORROGA = 0;
       -- codleito = 0;
        begin
           if (codmedico = 16)  then -- sala do medico
               CODLEITO = 426;
           if (codmedico = 17)   then -- obs enf
               CODLEITO = 424;
           if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
           if (codmedico = 508) then -- PEDIATRIA 
               CODLEITO = 419;
           if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
           if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
             suspend;    
            
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
                          mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
              select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
              else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end
              else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
        /*    IF (rdb$get_context('USER_SESSION','PROF') = codmedico) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
                suspend;
            end*/
            
           if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
            
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        end
      END
    END 
    
    

    
    
    
    
    mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
    imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
    imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
    for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
    begin
        if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
          mensagem01 = 'Leito Vago';
        codigopac = 0;
        codigocps= 0;
        codconvenio=0;
        suspend;
    end

         
   --Mapa da Ambulatorio
      if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
      FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC, MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
      BEGIN
      codigocps = 0;
      SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
        FROM cps1
        where cps1.marcacao = :marcacao

        INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
        mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
        imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
        imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
        imagem18 = null;        valoraux = null;
     if (codigocps > 0) then
     begin
          --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps )
        ORDER BY inter4.data DESC, inter4.hora desc
        into :codleito, :inter4;
        codleito= '0';
        if (coalesce(codleito,'0') = 0) then
          CODLEITO = gen_id(leitoAmbulatorio,0);
        SELECT leitos.a_grupo, leitos.a_nome
        FROM LEITOS
        WHERE leitos.leito = cast(:codleito as smallint)
        INTO :a_ala, :leito;
        if (valoraux is not null) then
          leito = leito || valoraux;
        listaleito = listaleito || ',' || codleito;
        if (codigocps > 0) then
          select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
        if (codigocps is null) then codigocps = 0;
         if (status = '0') then
        begin
         mensagem01= 'No Compareceu';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
        end
        if (status = '1') then mensagem01= 'Marcado';
        if (status = '2') then
        begin
         mensagem01= 'Pronto p/ Atender';
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
        end
        if (status = '3') then
        begin
         mensagem01= 'Em atendimento';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
        end
        if (status = '4') then
        begin
             mensagem01= 'J atendido';
             select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
             if (auxmedico2 <> codmedico) Then
             begin
                 mensagem01= 'J atendido - Agenda Cirurgia';
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
             end
        end
        if (status = '5') then mensagem01= 'Atrasado';
        if (status = '6') then mensagem01= 'Retorno';
        if (status = '7') then
        begin
          mensagem01= 'Preferencial';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
        end
        if (status = '8') then
        begin
            select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
            mensagem01= 'Exame realizado';
        end
        if (status = '9') then mensagem01= 'Desistiu';
        if (status = '10') then mensagem01= 'J Chegou';
        if (status = '11') then mensagem01= 'Dilatando';
        if (status = '12') then mensagem01= 'Liberado Exame';
        if (status = '13') then
        begin
         mensagem01= 'Cancelado';
        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
        end
        if (status = '14') then mensagem01= 'Falta Justificada';
        if (status = '15') then mensagem01= 'Aguardando Autoriz.';
        mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
        if (codigocps = 0) then
          leito = leito || ' ' || 'S/CPS';
        suspend;
     end
      END
      
    
    -- tetse
    
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
      BEGIN
        datahora = cast(:data as date) + cast(:auxhora as time);

        begin

           if (codmedico = 17)   then -- obs enf
               CODLEITO = 424;
 exception EXC_DINAMICA 'teste' ;
             suspend;    
            

        end
      END
    
    -- teste

end
 ^


ALTER PROCEDURE "OCUPLEITOSAPITESTE" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
      listaleito = '0';
     FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (cps1.a_ala > 0 and cps1.a_leito >0) AND cps1.codigopla >2  -- internamento
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            auxEspecialidade = null;
            mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
            imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
            imagem16 = null;            imagem17 = null;            imagem18 = null;
              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
               else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco = 6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end

              qtdedias = null; --- previsao de alta
              IMAGEM10 = null;
              data  = null;

               if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
               else
                  IMAGEM01 = null;
              suspend;
        END
      END
      -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
      BEGIN
        datahora = cast(:data as date) + cast(:auxhora as time);
      --  IF (DIARIA IS NULL) THEN DIARIA = 0;
      --  IF (PRORROGA IS NULL) THEN PRORROGA = 0;
       -- codleito = 0;
        begin
           if (codmedico = 16)  then -- sala do medico
               CODLEITO = 426;
           if (codmedico = 17)   then -- obs enf
               CODLEITO = 424;
           if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
           if (codmedico = 508) then -- PEDIATRIA 
               CODLEITO = 419;
           if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
           if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
             suspend;    
            
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
                          mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
              select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
              else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end
              else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
        /*    IF (rdb$get_context('USER_SESSION','PROF') = codmedico) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
                suspend;
            end*/
            
           if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
            
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        end
      END
    END 
    
    

    
    
    
    
    mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
    imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
    imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
    for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
    begin
        if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
          mensagem01 = 'Leito Vago';
        codigopac = 0;
        codigocps= 0;
        codconvenio=0;
        suspend;
    end

         
   --Mapa da Ambulatorio
      if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
      FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC, MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
      BEGIN
      codigocps = 0;
      SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
        FROM cps1
        where cps1.marcacao = :marcacao

        INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
        mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
        imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
        imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
        imagem18 = null;        valoraux = null;
     if (codigocps > 0) then
     begin
          --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps )
        ORDER BY inter4.data DESC, inter4.hora desc
        into :codleito, :inter4;
        codleito= '0';
        if (coalesce(codleito,'0') = 0) then
          CODLEITO = gen_id(leitoAmbulatorio,0);
        SELECT leitos.a_grupo, leitos.a_nome
        FROM LEITOS
        WHERE leitos.leito = cast(:codleito as smallint)
        INTO :a_ala, :leito;
        if (valoraux is not null) then
          leito = leito || valoraux;
        listaleito = listaleito || ',' || codleito;
        if (codigocps > 0) then
          select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
        if (codigocps is null) then codigocps = 0;
         if (status = '0') then
        begin
         mensagem01= 'No Compareceu';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
        end
        if (status = '1') then mensagem01= 'Marcado';
        if (status = '2') then
        begin
         mensagem01= 'Pronto p/ Atender';
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
        end
        if (status = '3') then
        begin
         mensagem01= 'Em atendimento';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
        end
        if (status = '4') then
        begin
             mensagem01= 'J atendido';
             select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
             if (auxmedico2 <> codmedico) Then
             begin
                 mensagem01= 'J atendido - Agenda Cirurgia';
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
             end
        end
        if (status = '5') then mensagem01= 'Atrasado';
        if (status = '6') then mensagem01= 'Retorno';
        if (status = '7') then
        begin
          mensagem01= 'Preferencial';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
        end
        if (status = '8') then
        begin
            select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
            mensagem01= 'Exame realizado';
        end
        if (status = '9') then mensagem01= 'Desistiu';
        if (status = '10') then mensagem01= 'J Chegou';
        if (status = '11') then mensagem01= 'Dilatando';
        if (status = '12') then mensagem01= 'Liberado Exame';
        if (status = '13') then
        begin
         mensagem01= 'Cancelado';
        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
        end
        if (status = '14') then mensagem01= 'Falta Justificada';
        if (status = '15') then mensagem01= 'Aguardando Autoriz.';
        mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
        if (codigocps = 0) then
          leito = leito || ' ' || 'S/CPS';
        suspend;
     end
      END


end
 ^


ALTER PROCEDURE "OCUPLEITOSAPIX" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT,
  "MENSAGEM01" VARCHAR(250),
  "MENSAGEM02" VARCHAR(250),
  "MENSAGEM03" VARCHAR(250),
  "IMAGEM01" BLOB,
  "IMAGEM02" BLOB,
  "IMAGEM03" BLOB,
  "IMAGEM04" BLOB,
  "IMAGEM05" BLOB,
  "IMAGEM06" BLOB,
  "IMAGEM07" BLOB,
  "IMAGEM08" BLOB,
  "IMAGEM09" BLOB,
  "IMAGEM10" BLOB,
  "IMAGEM11" BLOB,
  "IMAGEM12" BLOB,
  "IMAGEM13" BLOB,
  "IMAGEM14" BLOB,
  "IMAGEM15" BLOB,
  "IMAGEM16" BLOB,
  "IMAGEM17" BLOB,
  "IMAGEM18" BLOB,
  "MARCACAO" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable justif varchar(250);
declare variable inter4 integer;
declare variable duplo integer;
declare variable risco varchar(10);
declare variable auxHora timestamp;
declare variable DataHora timestamp;
declare variable DataAlta timestamp;
declare variable Data2 timestamp;
declare variable auxEspecialidade varchar(2);
declare variable tipoatendimento integer;
declare variable qtdedias integer;
declare variable codespecialidade integer;
declare variable gravidade varchar(1);
declare variable TIPOCPS integer;
declare variable status varchar(20);
declare variable hora timestamp;
declare variable valoraux integer;
declare variable AUXALA integer; 
declare variable AUXLEITO integer;
declare variable auxmedico2 integer;
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
      listaleito = '0';
     FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.codigopla
        FROM cps1
        WHERE ( CPS1.DATASAIDA IS NULL ) and (cps1.a_ala > 0 and cps1.a_leito >0) AND cps1.codigopla >2  -- internamento
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :tipoatendimento do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            auxEspecialidade = null;
            mensagem01 = null;            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;
            imagem04 = null;            imagem05 = null;            imagem06 = null;            imagem07 = null;            imagem08 = null;            imagem09 = null;
            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;            imagem15 = null;
            imagem16 = null;            imagem17 = null;            imagem18 = null;
              risco = NULL;
            select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
               else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco = 6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end

              qtdedias = null; --- previsao de alta
              IMAGEM10 = null;
              data  = null;

               if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
               else
                  IMAGEM01 = null;
              suspend;
        END
      END
      -- FIM DO MAPA DE INTERNACAO
      -----------------------------------------------------------------------------------------------------------------------------------------
     
     
     -- EMERGENCIA
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID, cps1.medresp,
        CPS1.a_datafat, cps1.a_hora,CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA, cps1.especialidade,
        cps1.codigopla, cps1.especialidade, cps1.gravidade, cps1.a_ala, cps1.a_leito, CPS1.DATASAIDA
        FROM cps1
        WHERE   CPS1.A_DATAFAT >= CAST('YESTERDAY' AS DATE) 
            --    and ( CPS1.DATASAIDA IS NULL )  
            --  and (cps1.a_ala = 0 and cps1.a_leito =0)
                and cps1.codigopla = 2
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico,
        :data, :auxHora, :prorroga, :diaria, :matricula, :diagnostico,
        :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA, :auxEspecialidade, :tipoatendimento,
         :codespecialidade, :gravidade, :AUXALA, :CODLEITO, :DataAlta do
      BEGIN
        datahora = cast(:data as date) + cast(:auxhora as time);
      --  IF (DIARIA IS NULL) THEN DIARIA = 0;
      --  IF (PRORROGA IS NULL) THEN PRORROGA = 0;
       -- codleito = 0;
        begin
           if (codmedico IN (16,17))  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 426;
           if (codmedico = 507)  then -- CLASSSIFICACAO ADULTO
               CODLEITO = 416;
           if (codmedico = 508) then -- PEDIATRIA 
               CODLEITO = 419;
           if (codmedico = 509) then -- CLASSIF OBSTETRICIA
               CODLEITO = 417;
           if (codmedico = 510) then -- CLASSIF covid
                CODLEITO = 418;
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = cast(:codLeito as smallint)
            --WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            Leito = extract( day from data )||'/' || extract( month from data ) ||' ' || right('00' || extract(hour from auxhora ) ,2) || ':' || right('00' || extract(minute from auxhora ),2 )  || '-' ||substr(:leito,1,6);
                          mensagem01 = null;
            mensagem02 = null;            mensagem03 = null;            imagem01 = null;            imagem02 = null;            imagem03 = null;            imagem04 = null;            imagem05 = null;            imagem06 = null;
            imagem07 = null;            imagem08 = null;            imagem09 = null;            imagem10 = null;            imagem11 = null;            imagem12 = null;            imagem13 = null;            imagem14 = null;
            imagem15 = null;            imagem16 = null;            imagem17 = null;            imagem18 = null;              risco = NULL;
              select first 1 risco from cpsmanchester where codigocps = cast(:codigocps as integer) into :risco;
              if (risco = '5')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERMELHO' INTO IMAGEM03;
              ELSE if (risco = '4')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRLARANJA' INTO IMAGEM03;
              ELSE if (risco = '3')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAMARELO' INTO IMAGEM03;
              ELSE if (risco = '2')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRVERDE' INTO IMAGEM03;
              ELSE if (risco = '1')then
                  select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'TRAZUL' INTO IMAGEM03;
              else
                  IMAGEM03 = null;
              if (risco is not null) then
              begin
                risco =6 - cast(risco as integer);
                Leito = risco || ' ' || Leito;
              end
              else
                Leito = '0 ' || Leito;
            if ((:data >= 'yesterday') and (cast('now' as timestamp) -1 >= cast(cast(:data as date) + cast(:AuxHora as time) as timestamp))) then
            begin
              a_ala=31;  -- mapa 24hs
              codleito=425;
            end
            
            IF (rdb$get_context('USER_SESSION','PROF') = codmedico) then
            begin -- if (codmedico IN (511))  then
                a_ala=25;
                codleito=420;
            end
            
           if (dataAlta is not null)  then
            begin
                a_ala=26;
                codleito=421;
            end
            
            if (:tipoatendimento=9) then
            begin
              a_ala=29;
              codleito=423;
            end
            if (exists(select first 1 codigocps from evolucaoenf where codigocps = :codigocps and tipoevol = '5')) then
                select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = 'ATENDIMENTO' INTO IMAGEM01;
            else
                IMAGEM01 = null;
            if (( (imagem10 is not null) or (:datahora >= cast('now' as timestamp) -2.5))) then
            suspend;
        end
      END
    END
    mensagem01 = null;    mensagem02 = null;    mensagem03 = null;    imagem01 = null;    imagem02 = null;    imagem03 = null;    imagem04 = null;    imagem05 = null;
    imagem06 = null;    imagem07 = null;    imagem08 = null;    imagem09 = null;    imagem10 = null;    imagem11 = null;    imagem12 = null;    imagem13 = null;
    imagem14 = null;    imagem15 = null;    imagem16 = null;    imagem17 = null;    imagem18 = null;
    for select a_grupo, leito, a_nome, mensagem01, mensagem02, mensagem03 FROM LEITOS WHERE codigoint = 0 AND A_ATIVO = 'S'
          into a_ala, codleito, leito, mensagem01, mensagem02, mensagem03 do
    begin
        if ((mensagem01 is null) and (mensagem02 is null) and (mensagem03 is null)) then
          mensagem01 = 'Leito Vago';
        codigopac = 0;
        codigocps= 0;
        codconvenio=0;
        suspend;
    end

         
   --Mapa da Ambulatorio
      if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and
         (exists(select first 1 numero from marcacao where data = cast('today' as timestamp)
         and a_medicos = rdb$get_context('USER_SESSION','PROF')))) then
      FOR SELECT marcacao.convenio, marcacao.a_medicos, marcacao.data, marcacao.CODIGOPAC, MARCACAO.numero, marcacao.status, marcacao.hora, marcacao.a_medicos2
        FROM marcacao
        where marcacao.DATA = CAST('today' AS timestamp)
        and (marcacao.a_medicos = rdb$get_context('USER_SESSION','PROF') 
        or marcacao.a_medicos2 = rdb$get_context('USER_SESSION','PROF')) and marcacao.paciente <> ''
        --rdb$get_context('USER_SESSION','PROF'))
         --and (extract(hour from a_hora) between 7 and 18)
		 order by marcacao.hora
        INTO :codconvenio, :codmedico, data, :codigopac, marcacao, status, hora, auxmedico2 do
      BEGIN
      codigocps = 0;
      SELECT first 1 CPS1.codigocps, cps1.principal, CPS1.A_CID, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.PLANO
        FROM cps1
        where cps1.marcacao = :marcacao

        INTO :codigocps, principal, :a_cid, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :CODPLANO;
        mensagem01 = null;         mensagem02 = null;         mensagem03 = null;         imagem01 = null;         imagem02 = null;        imagem03 = null;        imagem04 = null;        imagem05 = null;
        imagem06 = null;        imagem07 = null;        imagem08 = null;        imagem09 = null;        imagem10 = null;        imagem11 = null;        imagem12 = null;        imagem13 = null;
        imagem14 = null;        imagem15 = null;        imagem16 = null;        imagem17 = null;
        imagem18 = null;        valoraux = null;
     if (codigocps > 0) then
     begin
          --mapa do ambulatorio mostra apenas agendados que ja tem registro de cps
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps )
        ORDER BY inter4.data DESC, inter4.hora desc
        into :codleito, :inter4;
        codleito= '0';
        if (coalesce(codleito,'0') = 0) then
          CODLEITO = gen_id(leitoAmbulatorio,0);
        SELECT leitos.a_grupo, leitos.a_nome
        FROM LEITOS
        WHERE leitos.leito = cast(:codleito as smallint)
        INTO :a_ala, :leito;
        if (valoraux is not null) then
          leito = leito || valoraux;
        listaleito = listaleito || ',' || codleito;
        if (codigocps > 0) then
          select medicos.a_nome from cps1 inner join medicos on (cps1.codigocps = :codigocps and medicos.a_medicos = cps1.medresp) into mensagem03;
        if (codigocps is null) then codigocps = 0;
         if (status = '0') then
        begin
         mensagem01= 'No Compareceu';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '0' INTO IMAGEM01;
        end
        if (status = '1') then mensagem01= 'Marcado';
        if (status = '2') then
        begin
         mensagem01= 'Pronto p/ Atender';
          select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '2' INTO IMAGEM01;
        end
        if (status = '3') then
        begin
         mensagem01= 'Em atendimento';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '3' INTO IMAGEM01;
        end
        if (status = '4') then
        begin
             mensagem01= 'J atendido';
             select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '4' INTO IMAGEM01;
             if (auxmedico2 <> codmedico) Then
             begin
                 mensagem01= 'J atendido - Agenda Cirurgia';
                 select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '20' INTO IMAGEM01;
             end
        end
        if (status = '5') then mensagem01= 'Atrasado';
        if (status = '6') then mensagem01= 'Retorno';
        if (status = '7') then
        begin
          mensagem01= 'Preferencial';
         select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '7' INTO IMAGEM01;
        end
        if (status = '8') then
        begin
            select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '8' INTO IMAGEM01;
            mensagem01= 'Exame realizado';
        end
        if (status = '9') then mensagem01= 'Desistiu';
        if (status = '10') then mensagem01= 'J Chegou';
        if (status = '11') then mensagem01= 'Dilatando';
        if (status = '12') then mensagem01= 'Liberado Exame';
        if (status = '13') then
        begin
         mensagem01= 'Cancelado';
        select first 1 imagem from imagens where tipo = 'SAPIICONE' AND NOME = '13' INTO IMAGEM01;
        end
        if (status = '14') then mensagem01= 'Falta Justificada';
        if (status = '15') then mensagem01= 'Aguardando Autoriz.';
        mensagem02 = lpad(extract(hour from :hora),2,'0') || ':' || lpad(extract(minute from :hora),2,'0');
        if (codigocps = 0) then
          leito = leito || ' ' || 'S/CPS';
        suspend;
     end
      END
      


end
 ^


ALTER PROCEDURE "OCUPLEITOSAPX" 
(
  "DATA1" TIMESTAMP,
  "SEMDATA" CHAR(1)
)
RETURNS
(
  "CODLEITO" INTEGER,
  "LEITO" VARCHAR(40),
  "CODIGOCPS" FLOAT,
  "A_ALA" INTEGER,
  "CODCONVENIO" INTEGER,
  "CODPLANO" INTEGER,
  "AUTORIZA" VARCHAR(20),
  "PRINCIPAL" VARCHAR(8),
  "A_CID" VARCHAR(4),
  "CODMEDICO" INTEGER,
  "DATA" TIMESTAMP,
  "PRORROGA" SMALLINT,
  "DIARIA" SMALLINT,
  "MATRICULA" VARCHAR(30),
  "DIAGNOSTICO" BLOB,
  "DIASSOL" SMALLINT,
  "TIPOATEND1" CHAR(1),
  "CODIGOPAC" FLOAT
)
AS
declare variable listaleito varchar(10000);
declare variable inter4 integer;
declare variable duplo integer;
begin
    if (( SEMDATA = 'S' ) or ( SEMDATA = 'L' )) then
    begin
      listaleito = '0';
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
        FROM cps1
        WHERE ( ( CPS1.CODIGOPLA = 3 ) or ( CPS1.CODIGOPLA = 4 ) or ( CPS1.CODIGOPLA = 7 ) ) and ( CPS1.DATASAIDA IS NULL )
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4
        WHERE ( inter4.codigoint = :codigocps ) and ( inter4.datafim is null)
        ORDER BY inter4.data DESC, inter4.hora desc into :codleito, :inter4;
        IF ( :codleito > 0 ) THEN
        BEGIN
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            suspend;
        END
      END
      FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, CPS1.PLANO, CPS1.AUTORIZA
        FROM cps1
        WHERE ( CPS1.CODIGOPLA = 2 ) and CPS1.A_DATAFAT >= CAST('NOW' AS DATE) -1 and ( CPS1.DATASAIDA IS NULL )
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :CODPLANO, :AUTORIZA do
      BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        codleito = 0;
        begin
            CODLEITO = gen_id(leitoEmergencia,0);
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS
            WHERE leitos.leito = gen_id(leitoEmergencia,0)
            INTO :a_ala, :leito;
            if (semdata = 'L' ) then
              listaleito = listaleito || ',' || codleito;
            suspend;
        end
      END
    END
    ELSE
    BEGIN
        IF (DIARIA IS NULL) THEN DIARIA = 0;
        IF (PRORROGA IS NULL) THEN PRORROGA = 0;
        FOR SELECT CPS1.codigocps, cps1.convenio, CPS1.PRINCIPAL, CPS1.A_CID,
        cps1.medresp, CPS1.a_datafat, CPS1.PRORROGA, CPS1.DIARIA, CPS1.MATRICULA,CPS1.DIAGNOSTICO,
        CPS1.diassol, CPS1.PRORROGA,CPS1.TIPOATEND1, CPS1.CODIGOPAC, AUTORIZA
        FROM CPS1 Cps1
        WHERE ( ( CPS1.CODIGOPLA = 3 ) or ( CPS1.CODIGOPLA = 4 ) or ( CPS1.CODIGOPLA = 7 ) ) AND
              ( CPS1.A_DATAFAT <= :DATA1 ) AND
              ( ( CPS1.DATASAIDA IS NULL) OR ( ( CPS1.DATASAIDA > :DATA1) AND ( CPS1.A_DATAFAT <= :DATA1 ) ) )
        INTO :codigocps, :codconvenio, :principal, :a_cid, :codmedico, :data, :prorroga, :diaria, :matricula,
        :diagnostico, :diassol, :prorroga, :tipoatend1, :codigopac, :AUTORIZA do
      begin
        SELECT First 1 inter4.leito, inter4.inter4no
        FROM INTER4 inter4
        WHERE ( inter4.codigoint = :codigocps ) AND
              ( ( inter4.datafim is null ) OR ( Inter4.datafim > :data1 ) )
        ORDER BY inter4.data ASC, inter4.hora desc into :codleito, :inter4;
        if ( :codleito > 0 ) then
        begin
            SELECT leitos.a_grupo, leitos.a_nome
            FROM LEITOS leitos
            WHERE leitos.leito = :codleito
            INTO :a_ala, :leito;
            duplo = null;
            if (duplo is null) then suspend;
        END
      END
    END
end
 ^


ALTER PROCEDURE "ORCAMENTOSABC" 
(
  "ORCAMENTO" INTEGER
)
RETURNS
(
  "TIPOA" DOUBLE PRECISION,
  "TIPOB" DOUBLE PRECISION,
  "TIPOC" DOUBLE PRECISION
)
AS
declare variable valor double precision;
begin
  for select SUM(VALORTOTAL)  from ORCAMENTOITEM
      where (ORCAMENTOITEM.ORCAMENTO = :ORCAMENTO) into TIPOA do
  tipoB = tipoA * 70/100;
  tipoC = tipoA * 60/100;
  suspend;
end
 ^


ALTER PROCEDURE "PACIENTEDIA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" INTEGER,
  "DATAENTRADA" TIMESTAMP,
  "DATAALTA" TIMESTAMP,
  "CONVENIO" INTEGER,
  "HORAENTRADA" TIMESTAMP,
  "CID" VARCHAR(4),
  "CODIGOPAC" FLOAT,
  "NOMECONVENIO" VARCHAR(40),
  "PACIENTENOME" VARCHAR(60),
  "LEITO" INTEGER,
  "TIPO" VARCHAR(25),
  "TIPOATEND" CHAR(1),
  "SEXO" CHAR(1),
  "DATA" TIMESTAMP
)
AS
begin
    FOR SELECT DISTINCT A_DATAFAT FROM CPS1
    WHERE (CPS1.A_DATAFAT BETWEEN :DATA1 AND :DATA2) INTO :DATA DO
    BEGIN
      FOR SELECT CPS1.CODIGOCPS, CPS1.A_DATAFAT, CPS1.DATASAIDA, CPS1.CONVENIO, CPS1.A_HORA,
      CPS1.A_CID, CPS1.CODIGOPAC, CONVENIO.A_NOME, CPS1.TIPOATEND1
      FROM CPS1
      LEFT JOIN CONVENIO ON (CPS1.CONVENIO=CONVENIO.CONVENIO)
      WHERE ( ( CPS1.A_DATAFAT  = :DATA ) OR
              ( CPS1.DATASAIDA  = :DATA ) OR
              ( CPS1.DATASAIDA >= :DATA AND CPS1.A_DATAFAT <= :DATA) OR
              ( CPS1.DATASAIDA IS NULL AND CPS1.A_DATAFAT <= :DATA)) AND
              (cps1.codigopla >= 3)
      INTO :CODIGOCPS, :DATAENTRADA, :DATAALTA, :CONVENIO, :HORAENTRADA, :CID, :CODIGOPAC, :NOMECONVENIO, :TIPOATEND DO
      BEGIN
        SELECT PACIENTE.A_NOME, PACIENTE.SEXO FROM PACIENTE WHERE PACIENTE.CODIGOPAC = :CODIGOPAC INTO :PACIENTENOME, :SEXO;
        select first 1 leito from inter4 where codigoint = :codigocps and data <= :data order by data desc into :leito;
        IF ((DATAENTRADA = DATA) AND (DATAENTRADA <> DATAALTA)) THEN
        begin
          TIPO = 'Admitidos Hoje';
          suspend;
        end
        IF ((DATAALTA = DATA) AND (DATAENTRADA <> DATAALTA)) THEN
        begin
          TIPO = 'Alta';
          suspend;
        end
        IF ((DATAALTA >= :DATA OR DATAALTA IS NULL) AND (DATAENTRADA < :DATA) AND (DATAENTRADA <> DATAALTA)) Then
        begin
          TIPO = 'Admitidos Anteriormente';
          suspend;
        end
        IF ((DATAENTRADA < DATAALTA) and (DATAALTA <> :DATA)) Then
        begin
          TIPO = 'Pacientes Dia';
          suspend;
        end
      END
    END
end
 ^


ALTER PROCEDURE "PACIENTEDUPLICADORG" 
RETURNS
(
  "CODIGOPAC" FLOAT,
  "A_NOME" VARCHAR(50),
  "NASC" TIMESTAMP,
  "MAE" VARCHAR(50),
  "IDENTIDADE" VARCHAR(15)
)
AS
declare variable codigopacant float;
begin
    for select codigopac, identidade, a_nome, nasc, mae from paciente order by identidade desc into :codigopac, :identidade, :a_nome, :nasc, :mae do
    begin
        codigopacant = 0;
        select first 1 codigopac from paciente where identidade = :identidade and codigopac <> :codigopac into :codigopacant;
        if (:codigopacant > 0) then
          suspend;
    end
end
 ^


ALTER PROCEDURE "PACIENTE_ANIVERSARIO" 
(
  "MES" INTEGER,
  "DIA1" INTEGER,
  "DIA2" INTEGER,
  "TIPO" INTEGER
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "NOME" VARCHAR(100),
  "ENDERECO" VARCHAR(50),
  "BAIRRO" VARCHAR(20),
  "CIDADE" VARCHAR(20),
  "NASC" TIMESTAMP,
  "SEXO" CHAR(1),
  "CEP" CHAR(8),
  "EMAIL" VARCHAR(60),
  "UF" CHAR(2),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "ALA" VARCHAR(50)
)
AS
BEGIN
     if (:tipo = 1) Then
     begin
     for SELECT CODIGOPAC, A_NOME, ENDERECO, BAIRRO, CIDADE, NASC, SEXO, CEP, UF, EMAIL, TELEFONE, celular
        FROM PACIENTE
        WHERE extract( month from nasc ) = :MES AND (( extract( day from nasc ) >= :dia1 and
        extract( day from nasc ) <= :dia2 )) AND ATIVO <> 'N'
        ORDER BY A_NOME
        ASC
        INTO :codigopac, :nome, :endereco, :bairro, :cidade, :nasc, :SEXO, :CEP, :UF, :EMAIL, :TELEFONE, :CELULAR do
        suspend;
     end
     if (:tipo = 2) Then
     begin
     for SELECT paciente.CODIGOPAC, paciente.A_NOME, paciente.ENDERECO, paciente.BAIRRO, paciente.CIDADE, paciente.NASC, paciente.SEXO,
     paciente.CEP, paciente.UF, paciente.EMAIL, paciente.TELEFONE, paciente.celular,
        (select first 1  alas.a_nome from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = cps1.codigocps order by data desc, hora desc
        )
        FROM cps1
        inner join paciente on cps1.codigopac = paciente.codigopac
        WHERE cps1.datasaida is null and cps1.codigopla > 2 and extract( month from paciente.nasc ) = :MES AND (( extract( day from paciente.nasc ) >= :dia1 and
        extract( day from paciente.nasc ) <= :dia2 )) AND ATIVO <> 'N'
        ORDER BY paciente.A_NOME
        ASC
        INTO :codigopac, :nome, :endereco, :bairro, :cidade, :nasc, :SEXO, :CEP, :UF, :EMAIL, :TELEFONE, :CELULAR, :ALA do
        suspend;
     end
END
 ^


ALTER PROCEDURE "PACOTE" 
(
  "PACOTE" INTEGER
)
RETURNS
(
  "CODIGO" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "QTDE" INTEGER,
  "CONVENIO" INTEGER,
  "TIPO" VARCHAR(12)
)
AS
begin
tipo = 'Procedimento';
for select distinct pacote3.codigoamb, servicos.a_nome, pacote3.quantidade, pacote3.convenio from pacote3 left join servicos on servicos.codigoserv = pacote3.codigoserv where pacote3.pacote = :pacote into :codigo, :descricao, :qtde, :convenio do
begin
  if (convenio is null) then
    convenio = 0;
  suspend;
end
for select distinct pacote5.codigoamb, tabhonrel.procedimento, pacote5.quantidade, 0 from pacote5 inner join tabhonrel on (pacote5.codigoamb = tabhonrel.cbhpm04) where pacote5.pacote = :pacote into :codigo, :descricao, :qtde, :convenio do
  suspend;
tipo = 'Material';
for select distinct pacote2.codigo, matmed.a_nome, pacote2.quantidade, 0 from pacote2 inner join matmed on (pacote2.codigo = matmed.codigomm) where pacote2.pacote = :pacote into :codigo, :descricao, :qtde, :convenio do
  suspend;
end
 ^


ALTER PROCEDURE "PACOTECONVENIO" 
(
  "PACOTE" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODIGO" VARCHAR(10),
  "DESCRICAO" VARCHAR(250),
  "QTDE" INTEGER,
  "TIPO" VARCHAR(12),
  "VALOR" DOUBLE PRECISION
)
AS
declare variable padrao integer;
declare variable tabela integer;
declare variable simpro double precision;
declare variable codmatmed varchar(8);
declare variable cobrar varchar(8);
begin
tipo = 'Procedimento';
for select distinct pacote3.codigoamb, servicos.a_nome, pacote3.quantidade from pacote3 inner join servicos on servicos.codigoserv = pacote3.codigoserv where pacote3.convenio = :convenio and pacote3.pacote = :pacote into :codigo, :descricao, :qtde do
begin
  select (valor + filme + porte + aux1 + aux2 + aux3) total from valoramb(:codigo,:convenio,'N',cast('now' as date),1,0) into :valor;
  valor = valor*qtde;
  suspend;
end
valor = 0;
for select distinct pacote5.a_codamb, tabhonrel.procedimento, pacote5.quantidade from pacote5 inner join tabhonrel on pacote5.a_codamb = tabhonrel.cbhpm04 where pacote = :pacote into :codigo, :descricao, :qtde do
begin
   padrao = null;
   tabela = null;
   select tabcbhpm from convenio where convenio = :convenio into :tabela;
   select padrao from tabelahon where numero = :tabela into :padrao;
   if (padrao is null) then
   begin
     select tabhon from convenio where convenio = :convenio into :tabela;
     select padrao from tabelahon where numero = :tabela into :padrao;
   end
   if (padrao = 1) then
     select first 1 amb90 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = 2) then
     select first 1 amb92 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = 3) then
     select first 1 amb96 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = 4) then
     select first 1 amb99 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = 5) then
     select first 1 cbhpm03 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = 7) then
     select first 1 sus from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao is not null) then
     select (valor + filme + porte + aux1 + aux2 + aux3) total from valoramb(:codigo,:convenio,'N',cast('now' as date),1,0) into :valor;
     valor = valor*qtde;
   suspend;
end
valor =0;
tipo = 'Mat/Med';
for select distinct pacote2.codigo, matmed.a_nome, pacote2.quantidade, matmed.a_codamb, pacote2.cobrar from pacote2 inner join matmed on (pacote2.codigo = matmed.codigomm) where pacote2.pacote = :pacote into :codigo, :descricao, :qtde, :codmatmed, :cobrar do
begin
  select first 1 preco from matmedp where codigomm = :codigo order by data desc into valor;
  if ( (:codmatmed = '72140046' ) or ( :codmatmed = '72000000' ) ) then
  begin
      simpro = 0;
      select simpro/100 from convenio where (simpro is not null) and (simprox = 'S') and convenio = :convenio into :simpro;
      valor = valor * qtde * ( 1 + simpro );
  end
  else
      valor = valor * qtde;
  if (cobrar = 'N') then
    valor =0;
  suspend;
end
end
 ^


ALTER PROCEDURE "PACOTECONVENIOGERAL" 
(
  "PACOTE" INTEGER
)
RETURNS
(
  "CODIGO" VARCHAR(10),
  "DESCRICAO" VARCHAR(100),
  "QTDE" INTEGER,
  "TIPO" VARCHAR(12),
  "VALOR" DOUBLE PRECISION,
  "CONVENIO" INTEGER,
  "AUXILIAR" DOUBLE PRECISION,
  "ANESTESIA" DOUBLE PRECISION
)
AS
declare variable tipoe char(1);
declare variable padrao varchar(10);
declare variable tabela integer;
declare variable codigoserv float;
declare variable porte varchar(20);
declare variable simpro double precision;
begin
for select convenio from convenio where liberado = 'N' into :convenio do
begin
tipo = 'Procedimento';
for select distinct pacote3.codigoamb, pacote3.codigoserv, pacote3.quantidade from pacote3 where pacote3.pacote = :pacote and pacote3.convenio = :convenio into :codigo, :codigoserv, :qtde do
begin
  select cast(cast(a_porte as integer) as varchar(20)), a_nome from servicos where codigoserv = :codigoserv into :porte, :descricao;
  select (valor + filme + porte + aux1 + aux2 + aux3) total, (aux1 + aux2 + aux3) from valoramb(:codigo,:convenio,'N',cast('now' as date),1,0) into :valor, : auxiliar;
  if ((porte = '1') or (porte = '2') or (porte = '3') or (porte = '4') or (porte = '5') or
      (porte = '6') or (porte = '7') or (porte = '8') or (porte = '9'))  then
    select (valor + filme + porte + aux1 + aux2 + aux3) total from valoramb('1712004' || :porte,:convenio,'N',cast('now' as date),1,0) into :anestesia;
  anestesia = anestesia*qtde;
  valor = valor*qtde;
  if (anestesia is null) then
   anestesia = 0;
  suspend;
end
valor = 0;
for select distinct pacote5.a_codamb, tabhonrel.procedimento, pacote5.quantidade from pacote5 inner join tabhonrel on pacote5.a_codamb = tabhonrel.cbhpm04 where pacote = :pacote into :codigo, :descricao, :qtde do
begin
   padrao = null;
   tabela = null;
   select tabcbhpm from convenio where convenio = :convenio into :tabela;
   select padrao from tabelahon where numero = :tabela into :padrao;
   if (padrao is null) then
   begin
     select tabhon from convenio where convenio = :convenio into :tabela;
     select padrao from tabelahon where numero = :tabela into :padrao;
   end
   if (padrao = 'T') then
     padrao = '5';
   if (padrao = '1') then
     select first 1 amb90 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = '2') then
     select first 1 amb92 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = '3') then
     select first 1 amb96 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = '4') then
     select first 1 amb99 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = '5') then
     select first 1 cbhpm03 from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao = '7') then
     select first 1 sus from tabhonrel where cbhpm04 = :codigo into :codigo;
   if (padrao is not null) then
   begin
     select (valor + filme + porte + aux1 + aux2 + aux3) total, (aux1 + aux2 + aux3) from valoramb(:codigo,:convenio,'N',cast('now' as date),1,0) into :valor, :auxiliar;
     select codigoserv from codigoservproc(:codigo,:convenio) into :codigoserv;
     select cast(cast(a_porte as integer) as varchar(20)) from servicos where codigoserv = :codigoserv into :porte;
     if (porte > '0') then
       select (valor + filme + porte + aux1 + aux2 + aux3) total from valoramb('1712004' || :porte,:convenio,'N',cast('now' as date),1,0) into :anestesia;
   end
     valor = valor*qtde;
   suspend;
end
valor =0;
tipo = 'Mat/Med';
for select distinct pacote2.codigo, pacote2.codigo, pacote2.quantidade from pacote2 where pacote2.pacote = :pacote into :codigo, :codigoserv, :qtde do
begin
  select a_nome from matmed where codigomm = :codigoserv into :descricao;
  anestesia = 0;
  auxiliar = 0;
  select first 1 preco from matmedp where codigomm = :codigo order by data desc into valor;
  simpro = 1;
  select simpro/100 from convenio where (simpro is not null) and (simprox = '1') and convenio = :convenio into :simpro;
  valor = valor*qtde*simpro;
  suspend;
end
valor =0;
tipo = 'Mat/Med';
for select distinct pacoteextra.codigomm, pacoteextra.codigomm, pacoteextra.quantidade, pacoteextra.tipo from pacoteextra where pacoteextra.pacote = :pacote and convenio = :convenio into :codigo, :codigoserv, :qtde, :tipoe do
begin
  select a_nome from matmed where codigomm = :codigoserv into :descricao;
  anestesia = 0;
  auxiliar = 0;
  select first 1 preco from matmedp where codigomm = :codigo order by data desc into valor;
  if (tipoe = '-') then qtde = qtde * -1;
  simpro = 1;
  select simpro/100 from convenio where (simpro is not null) and (simprox = '1') and convenio = :convenio into :simpro;
  valor = valor*qtde*simpro;
  suspend;
end
end
end
 ^


ALTER PROCEDURE "PACS" 
(
  "CPS" FLOAT,
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "DESCRICAO" VARCHAR(400),
  "DATA" TIMESTAMP,
  "CLASSE" VARCHAR(100),
  "SOLICITANTE" VARCHAR(100),
  "DICOM" VARCHAR(30),
  "LAUDO" INTEGER,
  "CODIGOCPS" FLOAT
)
AS
declare variable dicomtemp integer;
begin
  data = null;
  codigocps = cps;
  descricao = 'Exame';
  Classe = 'MI';
  LAUDO = 0;
  for select distinct cps6.datahora,  cast(cps6.dicom as integer), cast(cps6.dicom as integer) from cps1
  inner join cps6 on (cps1.codigopac = :codigopac and cps1.codigocps = cps6.codigocps6 and cps6.classe = 'RX' and cps6.confirmado ='S')
  left join dicom on (cps6.dicom = dicom.codigo)
  into data, dicom, dicomtemp do
  begin
    codigocps = dicom;
    select a_nome from usuarios where codigo = :solicitante into solicitante;
    if (dicomtemp is not null) then
    if (exists(select codigo from dicom where codigo = :dicomtemp)) then
    suspend;
  end
  if (data is null) then
    execute statement 'select dicom from dicomcheck(' || cast(cps as integer) || ')' on external 'localhost:pacsdb.fdb' as user 'sysdba' password 'ajuda' into dicomtemp;
end
 ^


ALTER PROCEDURE "PACSVIEW" 
(
  "CPS" FLOAT,
  "CODIGOPAC" FLOAT
)
RETURNS
(
  "DESCRICAO" VARCHAR(400),
  "DATA" TIMESTAMP,
  "CLASSE" VARCHAR(100),
  "SOLICITANTE" VARCHAR(100),
  "DICOM" VARCHAR(30),
  "LAUDO" INTEGER,
  "CODIGOCPS" FLOAT
)
AS
declare variable dicomtemp integer;
begin
  codigocps = cps;
   for select distinct cps1.principal ,cps1.a_datafat, 'IMAGEM', cps1.medresp, marcacao.dicom,  dicom.codigo from cps1
  Left join marcacao on cps1.marcacao = marcacao.numero
  left join dicom on (dicom.codigo = marcacao.dicom)
  where cps1.codigocps = :cps and marcacao.dicom is not null into descricao, data, classe, solicitante, dicom,  dicomtemp do
  begin
    select a_nome from usuarios where codigo = :solicitante into solicitante;
    if (dicomtemp is not null) then
    suspend;
  end
  for select distinct cps6.procedimento,cps6.datahora, cps6.classe, cps6.solicitante, cps6.dicom, cps6.numerolaudo, dicom.codigo from cps6
  inner join dicom on (CPS6.codigocps6 = :cps AND dicom.codigo = cps6.dicom)
  where cps6.dicom is not null and cps6.datahora >= cast('today' as date) - 2 into descricao, data, classe, solicitante, dicom, laudo, dicomtemp do
  begin
    select a_nome from usuarios where codigo = :solicitante into solicitante;
    if (dicomtemp is not null) then
    suspend;
  end
end
 ^


ALTER PROCEDURE "PACTUACAOSEMANA" 
(
  "CONSULTA" VARCHAR(6000),
  "INICIO" TIMESTAMP
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "SEMANA1" INTEGER,
  "SEMANA2" INTEGER,
  "SEMANA3" INTEGER,
  "SEMANA4" INTEGER,
  "SEMANA5" INTEGER,
  "ESPECIALIDADE" INTEGER
)
AS
declare variable a_datafat timestamp;
declare variable qtde integer;
declare variable semana integer;
declare variable codigoaux integer;
begin
  qtde = 0;
  semana = 1;
  semana1 = 0;
  semana2 = 0;
  semana3 = 0;
  semana4 = 0;
  semana5 = 0;
  codigoserv = 0;
  for select codigoserv, a_datafat, especialidade, sum(quantidade) from cps(:consulta)
      where cobrar = 'S' or cobrar is null
      group by 1,2,3 order by codigoserv, a_datafat into :codigoaux, :a_datafat, :especialidade, :qtde do
      begin
        if (codigoserv = 0) then
          codigoserv = codigoaux;
        if (codigoserv <> codigoaux) then
        begin
          suspend;
          semana1 = 0;
          semana2 = 0;
          semana3 = 0;
          semana4 = 0;
          semana5 = 0;
          codigoserv = codigoaux;
        end
        if (a_datafat <= inicio + 6) then
          semana1 = semana1 + qtde;
        else if (a_datafat <= inicio + 13) then
          semana2 = semana2 + qtde;
        else if (a_datafat <= inicio + 20) then
          semana3 = semana3 + qtde;
        else if (a_datafat <= inicio + 27) then
          semana4 = semana4 + qtde;
        else
          semana5 = semana5 + qtde;
      end
  if (codigoserv <> 0) then
    suspend;
end
 ^


ALTER PROCEDURE "PAC_SEM_DIETA_NUT" 
(
  "DATA" TIMESTAMP
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
begin
    for select codigocps from cps1 where codigopla = 3 and  datasaida is null
    order by 1 asc into :codigocps DO
    begin
       if ( not exists ( select  first 1 dieta from cpsnut where codigocps = :codigocps and datasinc >= 'today' )) Then
       suspend;
    end
end
 ^


ALTER PROCEDURE "PRESCRICAENFNOVA" 
(
  "TIPOIN" VARCHAR(10),
  "IDPRESC" INTEGER,
  "ENFERMEIRO" INTEGER
)
RETURNS
(
  "OK" CHAR(1)
)
AS
DECLARE variable indice integer;
begin
   -- indice = gen_id(GEN_PRESCSAE_CUIDADOS,0);
    if ((tipoin <> '') and (idpresc > 0 )) Then
    begin
        insert into PRESCSAE_CUIDADOS ( IDPRESCSAE, ENFERMEIRO, CUIDADOS, APRAZ, APRAZ2,APRAZ3,APRAZ4,APRAZ5,DATAHORA, TIPO, SD, SN, OBS, OK, GRUPO)
        select :IDPRESC, :ENFERMEIRO, CUIDADOS, APRAZ,APRAZ,APRAZ,APRAZ,APRAZ, 'NOW', :TIPOIN, SD, SN, OBS, 0, GRUPO
        from PRESCSAE_MODELO where TIPO = :TIPOIN;
        suspend;
    end
end
 ^


ALTER PROCEDURE "PRESCRICAO" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "OK13" CHAR(1),
  "OK14" CHAR(1),
  "OK15" CHAR(1),
  "OK16" CHAR(1),
  "OK17" CHAR(1),
  "OK18" CHAR(1),
  "OK19" CHAR(1),
  "OK20" CHAR(1),
  "OK21" CHAR(1),
  "OK22" CHAR(1),
  "OK23" CHAR(1),
  "OK24" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QX13" INTEGER,
  "QX14" INTEGER,
  "QX15" INTEGER,
  "QX16" INTEGER,
  "QX17" INTEGER,
  "QX18" INTEGER,
  "QX19" INTEGER,
  "QX20" INTEGER,
  "QX21" INTEGER,
  "QX22" INTEGER,
  "QX23" INTEGER,
  "QX24" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "QY13" TIMESTAMP,
  "QY14" TIMESTAMP,
  "QY15" TIMESTAMP,
  "QY16" TIMESTAMP,
  "QY17" TIMESTAMP,
  "QY18" TIMESTAMP,
  "QY19" TIMESTAMP,
  "QY20" TIMESTAMP,
  "QY21" TIMESTAMP,
  "QY22" TIMESTAMP,
  "QY23" TIMESTAMP,
  "QY24" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB
)
AS
DECLARE VARIABLE AUX1 VARCHAR(100);
DECLARE VARIABLE AUX2 VARCHAR(100);
DECLARE VARIABLE AUX3 VARCHAR(100);
DECLARE VARIABLE CONTINUACAO VARCHAR(10);
DECLARE VARIABLE QTDE INTEGER;
DECLARE VARIABLE PRESCRICAOAUX INTEGER;
begin
  CONTINUACAO = '-10000';
  IF (RDB$GET_CONTEXT('USER_SESSION','PRESCJUNTO') = CAST(PRESCRICAO AS VARCHAR(10))) THEN
  begin
    continuacao = CAST(prescricao AS VARCHAR(10));
  end
  PRESCRICAOAUX = PRESCRICAO;
  FOR SELECT A_NOTAMED FROM NOTAMED WHERE A_NOTAMED = cast(:PRESCRICAOAUX as float) OR CONTINUACAO = :CONTINUACAO INTO :PRESCRICAO DO
  BEGIN
  FOR SELECT CODIGO, 'Dieta',DIETA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMEDDIETA WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    SUSPEND;
  END
  FOR SELECT SEQUENCIA, 'Monitorizao',MONITORIZACAO, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED5 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    IF (AUX1 IS NOT NULL) THEN
      DESCRICAO = DESCRICAO || ', ' || AUX1;
    SUSPEND;
  END
  FOR SELECT SEQUENCIA, 'Controle',CONTROLE, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED4 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
      IF (AUX1 IS NOT NULL) THEN
      DESCRICAO = DESCRICAO || ', ' || AUX1;
    SUSPEND;
  END
  aux1 = null;
  FOR SELECT SEQUENCIA, 'Oxignio','Oxignio a ' || QUANTIDADE, TIPO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED9 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', administrado sob ' || :aux1;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  FOR SELECT SEQUENCIA, 'Nebulizao',TIPO, GAS, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED10 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, AUX1, AUX2, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', c/ ' || :aux1;
    if (aux2 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  FOR SELECT SEQUENCIA, 'Ventilao',TIPO, ASSISTIDA, MARCA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED8 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    SUSPEND;
  END
  aux1 = null;
  FOR SELECT SEQUENCIA, 'Fisioterapia',FISIOTERAPIA, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED6 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Soluo',SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED12 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    IF ((:DESCRICAO = '   NaCl') OR (:DESCRICAO = '   KCl') or (:DESCRICAO = '   MgSO4') or (:DESCRICAO = '   KH2PO4')) Then
      DESCRICAO = 'Soluo ' || DESCRICAO;
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 <> '') then
      DESCRICAO = :DESCRICAO || ', em ' || :aux2;
    if (aux3 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux3;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicao',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED2 WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and (SUSPENSO IS NULL OR suspenso <> 'S') order by grupo, ordem,medicament
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER DO
  BEGIN
    if (qtde > 1) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicaes Suspensas',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED2 WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and SUSPENSO = 'S'
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER DO
  BEGIN
    if (qtde is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    SUSPEND;
  END
  AUX1 = NULL;
  FOR SELECT NOTAMED3.SEQUENCIA, 'Exames',SERVICOS.A_CODAMB, SERVICOS.A_NOME, NOTAMED3.OK1, NOTAMED3.OK2, NOTAMED3.OK3, NOTAMED3.OK4, NOTAMED3.OK5, NOTAMED3.OK6, NOTAMED3.OK7, NOTAMED3.OK8, NOTAMED3.OK9, NOTAMED3.OK10, NOTAMED3.OK11, NOTAMED3.OK12,
             NOTAMED3.QX1, NOTAMED3.QX2, NOTAMED3.QX3, NOTAMED3.QX4, NOTAMED3.QX5, NOTAMED3.QX6, NOTAMED3.QX7, NOTAMED3.QX8, NOTAMED3.QX9, NOTAMED3.QX10, NOTAMED3.QX11, NOTAMED3.QX12,
             NOTAMED3.QY1, NOTAMED3.QY2, NOTAMED3.QY3, NOTAMED3.QY4, NOTAMED3.QY5, NOTAMED3.QY6, NOTAMED3.QY7, NOTAMED3.QY8, NOTAMED3.QY9, NOTAMED3.QY10, NOTAMED3.QY11, NOTAMED3.QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED3
             left join servicos on servicos.codigoserv = notamed3.codigoserv WHERE A_NOTAMED = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ' - ' || :aux1;
    SUSPEND;
  END

  aux1 = null;
  FOR SELECT SEQUENCIA, 'Outros',descricao, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED13 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    ok1  = COALESCE(OK1,'N');
    ok2  = COALESCE(OK2,'N');
    ok3  = COALESCE(OK3,'N');
    ok4  = COALESCE(OK4,'N');
    ok5  = COALESCE(OK5,'N');
    ok6  = COALESCE(OK6,'N');
    ok7  = COALESCE(OK7,'N');
    ok8  = COALESCE(OK8,'N');
    ok9  = COALESCE(OK9,'N');
    ok10 = COALESCE(OK10,'N');
    ok11 = COALESCE(OK11,'N');
    ok12 = COALESCE(OK12,'N');
    ok13 = COALESCE(OK13,'N');
    ok14 = COALESCE(OK14,'N');
    ok15 = COALESCE(OK15,'N');
    ok16 = COALESCE(OK16,'N');
    ok17 = COALESCE(OK17,'N');
    ok18 = COALESCE(OK18,'N');
    ok19 = COALESCE(OK19,'N');
    ok20 = COALESCE(OK20,'N');
    ok21 = COALESCE(OK21,'N');
    ok22 = COALESCE(OK22,'N');
    ok23 = COALESCE(OK23,'N');
    ok24 = COALESCE(OK24,'N');
    SUSPEND;
  END
  
  
  
  
  end
end
 ^


ALTER PROCEDURE "PRESCRICAOITEMLISTA" 
(
  "TIPO" VARCHAR(30),
  "CAMPO" VARCHAR(30),
  "CONVENIO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(300),
  "CHECAGEM" VARCHAR(2000)
)
AS
begin
  for select descricao, checagem from prescricaoitem where tipo = :tipo and campo = :campo order by ordem, descricao into :descricao, :checagem do
  Begin
    suspend;
  End
  If ((campo = 'MEDICAMENT') AND (Tipo like 'Medica%')) Then
  Begin
   -- for select distinct pacote1.nome from pacote1 inner join pacote2 on (pacote2.pacote = pacote1.pacote) where pacote1.ativo = 'S' 
  --  and pacote1.prescricao = 'S' order by pacote1.nome into :descricao do
      begin
          for select nome from pacote1          -- alterado por edaurdo 12032020
          where ativo = 'S' or ativo is null  into :descricao do
          suspend;

      end
    /*for select  nome from pacote1       -- comendado por edaurdo 12032020
        where pacote in (380,41,42,43,44,63,65,66,67,68,69,71,72,73,74,75,76,77,79,80,81,83,86,87,88,89,93,94,95,96,97,98,99,100,102,107,109,110,115,116,117,
        119,120,122,123,125,128, 129,132,133,134,137,138,139,140,141,143,144,145,149,151,152,153,154,156,157,158,159,161,162,164,165,166,168,170,171,172,174,175,
        182,183,184,185,186,187,188,190,191,381,194,195,197,198,200,201,202,203,204,205,206,212,213,214,215,216,219,224,225,227,229,230,232,235,240,241,242,244,
        246,247,249,253,254,256,258,259,260,262,263,265,266,270,271,279,281,282,283,284,285,286,287,289,290,291,293,295,296,297,300,301,302,303,306,307,308,310,
        311,314,315,316,317,319,326,327,328,329,331,332,333,334,336,337,339,342,343,344,345,348,349,350,351,354,355,359,360,363,364,365,366,368,376,377,383,384,
        385,386,387,388,389,391,392,393,394,395,458,459,460,464,483,463,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,489,480,481,482,484,492,485,
        493,486,494,487,495,488,496,490,497,491,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,515,516,517,518,519,520,521,522,523,524,525,527,
        528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,557,558,559,560,561,562,563,564,565,566,
        567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,609,245) into  :descricao do
      suspend;    */
  End
  If ((campo = 'A_NOME') AND (Tipo = 'Exames')) Then
  begin
    descricao = convenio;
    suspend;
    for select a_nome from servicos where tabela = (select tabhon from convenio where convenio = :convenio) and ativo = 'S' and not a_tipo in ('T','D','A','B','X','G','S','N') ORDER BY a_nome into :descricao do
      suspend;
  End
end
 ^


ALTER PROCEDURE "PRESCRICAONOVA" 
(
  "CPS" INTEGER,
  "MEDICO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(40),
  "PRESCRICAO" INTEGER,
  "TIPO" CHAR(1)
)
AS
declare data timestamp;
declare cremeb varchar(50);
begin
  descricao = 'Nova';
  prescricao = 0;
  tipo = '0';
  if (rdb$get_context('USER_SESSION','SAPIITEM') <> 'PRESCRICAO110') then
    suspend;
  if ((rdb$get_context('USER_SESSION','TIPOPRESC') = '0') or (rdb$get_context('USER_SESSION','TIPOPRESC') is null)) then
  for select first 3 a_notamed, datahora, medicos.tipoconselho || medicos.a_cremeb from notamed  left join medicos on notamed.a_medicos = medicos.a_medicos where codigocps = :cps and (notamed.tipo is null or notamed.tipo = '0') and continuacao is null order by datahora desc
  into prescricao, data, cremeb do
  begin
    If (Tipo= '0') then
    begin
      descricao = 'Complementar de ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data);
      suspend;
    end
    descricao = 'Copia de ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data) || ' ' || coalesce(cremeb,'');
    Tipo = '1';
    suspend;
  end
  if (rdb$get_context('USER_SESSION','TIPOPRESC') <> '0') then
  for select first 6 a_notamed, datahora from notamed where codigocps = :cps and continuacao is null and tipo = rdb$get_context('USER_SESSION','TIPOPRESC') order by datahora desc into prescricao, data do
  begin
    If (Tipo= '0') then
    begin
      descricao = 'Complementar de ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data);
      suspend;
    end
    descricao = 'Copia de ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data) || ' ' || coalesce(cremeb,'');
    Tipo = '1';
    suspend;
  end
  for select prescricao, titulo from prescricaomodelo where a_medicos = :medico order by titulo into prescricao, descricao do
  begin
    Tipo = '2';
    suspend;
  end
/*  for select prescricao, titulo from prescricaomodelo where a_medicos = :medico or (grupo = rdb$get_context('USER_SESSION','SAPIITEM') and conselho = rdb$get_context('USER_SESSION','CONSELHO')) order by titulo into prescricao, descricao do
  begin
    Tipo = '2';
    suspend;
  end */
end
 ^


ALTER PROCEDURE "PRESCRICAOTITULOLISTA" 
(
  "USUARIO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "IMAGEM" BLOB
)
AS
begin
 for select indice, descricao, imagem from prescricaotitulo order by descricao into indice, descricao, imagem do
   suspend;
end
 ^


ALTER PROCEDURE "PRESCRICAO_CPC" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB
)
AS
DECLARE VARIABLE AUX1 VARCHAR(100);
DECLARE VARIABLE AUX2 VARCHAR(100);
DECLARE VARIABLE AUX3 VARCHAR(100);
DECLARE VARIABLE CONTINUACAO VARCHAR(10);
DECLARE VARIABLE QTDE INTEGER;
DECLARE VARIABLE HORAINICIO INTEGER;
DECLARE VARIABLE PRESCRICAOAUX INTEGER;
DECLARE VARIABLE PRESCANTERIOR INTEGER;
DECLARE VARIABLE ULTCHECK INTEGER;
DECLARE VARIABLE CODIGOCPS FLOAT;
DECLARE VARIABLE DATAHORA TIMESTAMP;
begin
  CONTINUACAO = '-10000';
  IF (RDB$GET_CONTEXT('USER_SESSION','PRESCJUNTO') = CAST(PRESCRICAO AS VARCHAR(10))) THEN
  begin
    continuacao = CAST(prescricao AS VARCHAR(10));
  end
  PRESCRICAOAUX = PRESCRICAO;
  FOR SELECT A_NOTAMED, CODIGOCPS, DATAHORA FROM NOTAMED WHERE A_NOTAMED = cast(:PRESCRICAOAUX as float) OR CONTINUACAO = :CONTINUACAO INTO :PRESCRICAO, CODIGOCPS, DATAHORA DO
  BEGIN
  SELECT FIRST 1 A_NOTAMED, HORAINICIO FROM NOTAMED WHERE CODIGOCPS = :CODIGOCPS AND DATAHORA BETWEEN CAST(:DATAHORA AS DATE) - 1 AND CAST(:DATAHORA AS DATE) AND IMPRESSO = 'S' AND TIPO = '0' ORDER BY A_NOTAMED DESC INTO PRESCANTERIOR, HORAINICIO;
  FOR SELECT CODIGO, 'Dieta',DIETA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMEDDIETA WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    ULTCHECK = NULL;
    select FIRST 1 iif(ok12 = 'S','0',iif(ok11 = 'S','2',iif(ok10 = 'S','4',iif(ok9 = 'S','6',iif(ok8 = 'S','8',iif(ok7 = 'S','10',iif(ok6 = 'S','12',iif(ok5 = 'S','14',iif(ok4 = 'S','16',iif(ok3 = 'S','18',iif(ok2 = 'S','20',iif(ok1 = 'S','22',null))))))))))))
    from NOTAMEDDIETA WHERE PRESCRICAO = :PRESCANTERIOR AND CODIGO = :INDICE INTO ULTCHECK;
    IF (ULTCHECK IS NOT NULL) THEN
    BEGIN
      DESCRICAO = DESCRICAO || '(Ult Check ' || :ultcheck  || ')';
    END
    SUSPEND;
  END
  FOR SELECT SEQUENCIA, 'Monitorizao',MONITORIZACAO, INTERVALO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED5 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    IF (AUX1 IS NOT NULL) THEN
      DESCRICAO = DESCRICAO || ', ' || AUX1;
    SUSPEND;
  END
  FOR SELECT SEQUENCIA, 'Controle',CONTROLE, INTERVALO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED4 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
      IF (AUX1 IS NOT NULL) THEN
      DESCRICAO = DESCRICAO || ', ' || AUX1;
    SUSPEND;
  END
  aux1 = null;
  FOR SELECT SEQUENCIA, 'Oxignio','Oxignio a ' || QUANTIDADE, TIPO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED9 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', administrado sob ' || :aux1;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  FOR SELECT SEQUENCIA, 'Nebulizao',TIPO, GAS, INTERVALO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED10 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, AUX1, AUX2, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', c/ ' || :aux1;
    if (aux2 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  FOR SELECT SEQUENCIA, 'Ventilao',TIPO, ASSISTIDA, MARCA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED8 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    SUSPEND;
  END
  aux1 = null;
  FOR SELECT SEQUENCIA, 'Fisioterapia',FISIOTERAPIA, INTERVALO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED6 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Soluo',SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED12 WHERE PRESCRICAO = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    IF ((:DESCRICAO = '   NaCl') OR (:DESCRICAO = '   KCl') or (:DESCRICAO = '   MgSO4') or (:DESCRICAO = '   KH2PO4')) Then
      DESCRICAO = 'Soluo ' || DESCRICAO;
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 <> '') then
      DESCRICAO = :DESCRICAO || ', em ' || :aux2;
    if (aux3 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux3;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicao',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED2 WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and (SUSPENSO IS NULL OR suspenso <> 'S') order by grupo, ordem,medicament
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER DO
  BEGIN
    if (RDB$GET_CONTEXT('USER_SESSION','SAPIITEM') = 'APRAZAMENTO') THEN
    BEGIN
      ULTCHECK = NULL;
      select FIRST 1 iif(ok12 = 'S','22',iif(ok11 = 'S','20',iif(ok10 = 'S','18',iif(ok9 = 'S','16',iif(ok8 = 'S','14',iif(ok7 = 'S','12',iif(ok6 = 'S','10',iif(ok5 = 'S','8',iif(ok4 = 'S','6',iif(ok3 = 'S','4',iif(ok2 = 'S','2',iif(ok1 = 'S','0',null))))))))))))
      from NOTAMED2 WHERE a_notamed = :PRESCANTERIOR AND medicament = :descricao INTO ULTCHECK;
      IF (ULTCHECK IS NOT NULL) THEN
      begin
       ultcheck = horainicio +ultcheck;
       If (ultcheck > 24) then ultcheck = ultcheck - 24;
        DESCRICAO = DESCRICAO || ' (Ult Check ' || :ultcheck  || 'h)';
      end
    END
    if (qtde > 1) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicaes Suspensas',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, COALESCE(OK1,'N'), COALESCE(OK2,'N'), COALESCE(OK3,'N'), COALESCE(OK4,'N'), COALESCE(OK5,'N'), COALESCE(OK6,'N'), COALESCE(OK7,'N'), COALESCE(OK8,'N'), COALESCE(OK9,'N'), COALESCE(OK10,'N'), COALESCE(OK11,'N'), COALESCE(OK12,'N'),
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED2 WHERE (A_NOTAMED = cast(:PRESCRICAO as float)) and SUSPENSO = 'S'
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER DO
  BEGIN
    if (qtde is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    SUSPEND;
  END
  AUX1 = NULL;
  FOR SELECT NOTAMED3.SEQUENCIA, 'Exames',SERVICOS.A_CODAMB, SERVICOS.A_NOME, NOTAMED3.OK1, NOTAMED3.OK2, NOTAMED3.OK3, NOTAMED3.OK4, NOTAMED3.OK5, NOTAMED3.OK6, NOTAMED3.OK7, NOTAMED3.OK8, NOTAMED3.OK9, NOTAMED3.OK10, NOTAMED3.OK11, NOTAMED3.OK12,
             NOTAMED3.QX1, NOTAMED3.QX2, NOTAMED3.QX3, NOTAMED3.QX4, NOTAMED3.QX5, NOTAMED3.QX6, NOTAMED3.QX7, NOTAMED3.QX8, NOTAMED3.QX9, NOTAMED3.QX10, NOTAMED3.QX11, NOTAMED3.QX12,
             NOTAMED3.QY1, NOTAMED3.QY2, NOTAMED3.QY3, NOTAMED3.QY4, NOTAMED3.QY5, NOTAMED3.QY6, NOTAMED3.QY7, NOTAMED3.QY8, NOTAMED3.QY9, NOTAMED3.QY10, NOTAMED3.QY11, NOTAMED3.QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED3
             left join servicos on servicos.codigoserv = notamed3.codigoserv WHERE A_NOTAMED = cast(:PRESCRICAO as float)
             INTO :INDICE, :TIPO, :DESCRICAO, AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ' - ' || :aux1;
    SUSPEND;
  END
  end
end
 ^


ALTER PROCEDURE "PRESCRICAO_DIAATB" 
(
  "PRESCRICAO" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "TIPO" VARCHAR(99),
  "DESCRICAO" VARCHAR(400),
  "OK1" CHAR(1),
  "OK2" CHAR(1),
  "OK3" CHAR(1),
  "OK4" CHAR(1),
  "OK5" CHAR(1),
  "OK6" CHAR(1),
  "OK7" CHAR(1),
  "OK8" CHAR(1),
  "OK9" CHAR(1),
  "OK10" CHAR(1),
  "OK11" CHAR(1),
  "OK12" CHAR(1),
  "OK13" CHAR(1),
  "OK14" CHAR(1),
  "OK15" CHAR(1),
  "OK16" CHAR(1),
  "OK17" CHAR(1),
  "OK18" CHAR(1),
  "OK19" CHAR(1),
  "OK20" CHAR(1),
  "OK21" CHAR(1),
  "OK22" CHAR(1),
  "OK23" CHAR(1),
  "OK24" CHAR(1),
  "QX1" INTEGER,
  "QX2" INTEGER,
  "QX3" INTEGER,
  "QX4" INTEGER,
  "QX5" INTEGER,
  "QX6" INTEGER,
  "QX7" INTEGER,
  "QX8" INTEGER,
  "QX9" INTEGER,
  "QX10" INTEGER,
  "QX11" INTEGER,
  "QX12" INTEGER,
  "QX13" INTEGER,
  "QX14" INTEGER,
  "QX15" INTEGER,
  "QX16" INTEGER,
  "QX17" INTEGER,
  "QX18" INTEGER,
  "QX19" INTEGER,
  "QX20" INTEGER,
  "QX21" INTEGER,
  "QX22" INTEGER,
  "QX23" INTEGER,
  "QX24" INTEGER,
  "QY1" TIMESTAMP,
  "QY2" TIMESTAMP,
  "QY3" TIMESTAMP,
  "QY4" TIMESTAMP,
  "QY5" TIMESTAMP,
  "QY6" TIMESTAMP,
  "QY7" TIMESTAMP,
  "QY8" TIMESTAMP,
  "QY9" TIMESTAMP,
  "QY10" TIMESTAMP,
  "QY11" TIMESTAMP,
  "QY12" TIMESTAMP,
  "QY13" TIMESTAMP,
  "QY14" TIMESTAMP,
  "QY15" TIMESTAMP,
  "QY16" TIMESTAMP,
  "QY17" TIMESTAMP,
  "QY18" TIMESTAMP,
  "QY19" TIMESTAMP,
  "QY20" TIMESTAMP,
  "QY21" TIMESTAMP,
  "QY22" TIMESTAMP,
  "QY23" TIMESTAMP,
  "QY24" TIMESTAMP,
  "SUSPENSO" CHAR(1),
  "SUSPENSO_USER" INTEGER,
  "SUSPENSO_DATA" TIMESTAMP,
  "SUSPENSO_JUSTIF" BLOB
)
AS
DECLARE VARIABLE AUX1 VARCHAR(100);
DECLARE VARIABLE AUX2 VARCHAR(100);
DECLARE VARIABLE AUX3 VARCHAR(100);
DECLARE VARIABLE QTDE INTEGER;
DECLARE VARIABLE vcps INTEGER;
DECLARE VARIABLE Diauso INTEGER;
DECLARE VARIABLE tempo INTEGER;
begin
  FOR SELECT CODIGO, 'Dieta',DIETA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMEDDIETA WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    SUSPEND;
  END
  FOR SELECT SEQUENCIA, 'Monitorizao',MONITORIZACAO, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED5 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    IF (AUX1 IS NOT NULL) THEN
      DESCRICAO = DESCRICAO || ', ' || AUX1;
    SUSPEND;
  END
  FOR SELECT SEQUENCIA, 'Controle',CONTROLE, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED4 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
      IF (AUX1 IS NOT NULL) THEN
      DESCRICAO = DESCRICAO || ', ' || AUX1;
    SUSPEND;
  END
  aux1 = null;
  FOR SELECT SEQUENCIA, 'Oxignio','Oxignio a ' || QUANTIDADE, TIPO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED9 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', administrado sob ' || :aux1;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  FOR SELECT SEQUENCIA, 'Nebulizao',TIPO, GAS, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED10 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, AUX1, AUX2, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', c/ ' || :aux1;
    if (aux2 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  FOR SELECT SEQUENCIA, 'Ventilao',TIPO, ASSISTIDA, MARCA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED8 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    SUSPEND;
  END
  aux1 = null;
  FOR SELECT SEQUENCIA, 'Fisioterapia',FISIOTERAPIA, INTERVALO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED6 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Soluo',SOLUCAO, APRESENTACAO, EQUIPO, LIVRO, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED12 WHERE PRESCRICAO = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    IF ((:DESCRICAO = '   NaCl') OR (:DESCRICAO = '   KCl') or (:DESCRICAO = '   MgSO4') or (:DESCRICAO = '   KH2PO4')) Then
      DESCRICAO = 'Soluo ' || DESCRICAO;
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if (aux2 <> '') then
      DESCRICAO = :DESCRICAO || ', em ' || :aux2;
    if (aux3 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux3;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicao',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED2 WHERE (A_NOTAMED = :PRESCRICAO) and (SUSPENSO IS NULL OR suspenso <> 'S') order by grupo, ordem,medicament
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER DO
  BEGIN
    Diauso = null;
   SELECT first 1 datediff(day from  CAST(ccih.datainicio AS DATE) to current_date)  FROM NOTAMED2
      inner join ccih on (A_NOTAMED = :prescricao) and (SUSPENSO IS NULL OR suspenso <> 'S') and notamed2.a_notamed = ccih.prescricao and :DESCRICAO = ccih.antimicrobiano
       into :Diauso;
    if (qtde > 1) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
   if (:Diauso is not null) Then
          DESCRICAO = :DESCRICAO || ', D: ' || :Diauso;
    SUSPEND;
  END
  aux1 = null;
  aux2 = null;
  aux3 = null;
  FOR SELECT SEQUENCIA, 'Medicaes Suspensas',MEDICAMENT, QUANTIDADE, POSOLOGIA, DILUENTE, VIA, OK1, OK2, OK3, OK4, OK5, OK6, OK7, OK8, OK9, OK10, OK11, OK12,
             QX1, QX2, QX3, QX4, QX5, QX6, QX7, QX8, QX9, QX10, QX11, QX12,
             QY1, QY2, QY3, QY4, QY5, QY6, QY7, QY8, QY9, QY10, QY11, QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED2 WHERE (A_NOTAMED = :PRESCRICAO) and SUSPENSO = 'S'
             INTO :INDICE, :TIPO, :DESCRICAO, :QTDE, :AUX1, :AUX2, :AUX3, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, :SUSPENSO, :SUSPENSO_JUSTIF, :SUSPENSO_DATA, :SUSPENSO_USER DO
  BEGIN
    if (qtde is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :qtde || ' und. ';
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ', ' || :aux1;
    if ((aux2 is not null) and (aux2 <> '  ')) then
      DESCRICAO = :DESCRICAO || ', ' || :aux2;
    if ((aux3 is not null) and (aux3 <> '')) then
      DESCRICAO = :DESCRICAO || ', via ' || :aux3;
    SUSPEND;
  END
  AUX1 = NULL;
  FOR SELECT NOTAMED3.SEQUENCIA, 'Exames',SERVICOS.A_CODAMB, SERVICOS.A_NOME, NOTAMED3.OK1, NOTAMED3.OK2, NOTAMED3.OK3, NOTAMED3.OK4, NOTAMED3.OK5, NOTAMED3.OK6, NOTAMED3.OK7, NOTAMED3.OK8, NOTAMED3.OK9, NOTAMED3.OK10, NOTAMED3.OK11, NOTAMED3.OK12,
             NOTAMED3.QX1, NOTAMED3.QX2, NOTAMED3.QX3, NOTAMED3.QX4, NOTAMED3.QX5, NOTAMED3.QX6, NOTAMED3.QX7, NOTAMED3.QX8, NOTAMED3.QX9, NOTAMED3.QX10, NOTAMED3.QX11, NOTAMED3.QX12,
             NOTAMED3.QY1, NOTAMED3.QY2, NOTAMED3.QY3, NOTAMED3.QY4, NOTAMED3.QY5, NOTAMED3.QY6, NOTAMED3.QY7, NOTAMED3.QY8, NOTAMED3.QY9, NOTAMED3.QY10, NOTAMED3.QY11, NOTAMED3.QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER FROM NOTAMED3
             left join servicos on servicos.codigoserv = notamed3.codigoserv WHERE A_NOTAMED = :PRESCRICAO
             INTO :INDICE, :TIPO, :DESCRICAO, AUX1, :OK1, :OK2, :OK3, :OK4, :OK5, :OK6, :OK7, :OK8, :OK9, :OK10, :OK11, :OK12,
             :QX1, :QX2, :QX3, :QX4, :QX5, :QX6, :QX7, :QX8, :QX9, :QX10, :QX11, :QX12,
             :QY1, :QY2, :QY3, :QY4, :QY5, :QY6, :QY7, :QY8, :QY9, :QY10, :QY11, :QY12, SUSPENSO, SUSPENSO_JUSTIF, SUSPENSO_DATA, SUSPENSO_USER DO
  BEGIN
    if (aux1 is not null) then
      DESCRICAO = :DESCRICAO || ' - ' || :aux1;
  --  select codigocps from notamed  WHERE (A_NOTAMED = :PRESCRICAO) into :vcps;
 --   SELECT datediff(day from  CAST(DATA AS DATE) to current_date) FROM CCIH WHERE CPS into :auxatb
    SUSPEND;
  END
end
 ^


ALTER PROCEDURE "PRODESPECIALIDADE" 
(
  "DATAINI" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "CBOINI" INTEGER,
  "CBOFIM" INTEGER,
  "CONVINI" INTEGER,
  "CONVFIM" INTEGER
)
RETURNS
(
  "CODIGOPLA" INTEGER,
  "CODMED" INTEGER,
  "NOMEMED" VARCHAR(70),
  "CBO" INTEGER,
  "NOMEESP" VARCHAR(70),
  "CODIGOAMB" VARCHAR(10),
  "NOMESERV" VARCHAR(70),
  "QTDEMG" INTEGER,
  "QTDAMB" INTEGER,
  "CODIGOSERV" INTEGER
)
AS
declare variable aux integer;
begin
    for select cps1.codigopla, cps1.medresp as codmed, medicos.a_nome as nomemed, especialidade.cbo, especialidade.nome as nomeesp, cps2.codigoamb, cps2.codigoserv, servicos.a_nome as nomeserv, sum(cps2.quantidade) from cps1
    inner join cps2 on (cps1.codigocps=cps2.codigocps2)
    inner join especialidade on (cps1.especialidade=especialidade.codesp)
    inner join servicos on (cps2.codigoserv=servicos.codigoserv)
    inner join medicos on (cps1.medresp=medicos.a_medicos)
    where (codigopla <> 3) and (a_datafat between :dataini and :datafim) and (cps1.convenio between :convini and :convfim) and (cps1.especialidade between :cboini and :cbofim)
  group by 1,2,3,4,5,6,7,8
  into :codigopla, :codmed, :nomemed, :cbo, :nomeesp, :codigoamb, :codigoserv, :nomeserv, :aux do
  begin
    qtdamb = 0;
    qtdemg = 0;
    if (codigopla = 1) then
      qtdamb = aux;
    else
      qtdemg = aux;
    suspend;
  end
end
 ^


ALTER PROCEDURE "PRODPJRESUMO" 
RETURNS
(
  "CNPJ" VARCHAR(14),
  "EMPRESA" VARCHAR(50),
  "VALOR" DOUBLE PRECISION
)
AS
BEGIN
END
 ^


ALTER PROCEDURE "PRODUCAO_CIRURGIAS" 
(
  "INICIO" DATE,
  "FINAL" DATE
)
RETURNS
(
  "BOLETIM" INTEGER,
  "DATA" TIMESTAMP,
  "AIH" INTEGER,
  "VALORPROC1" DOUBLE PRECISION,
  "VALORPROC2" DOUBLE PRECISION,
  "VALORPROC3" DOUBLE PRECISION,
  "VALORPROC4" DOUBLE PRECISION,
  "VALORPROC5" DOUBLE PRECISION,
  "VALORCIRURGIAO" DOUBLE PRECISION,
  "VALOR1AUX" DOUBLE PRECISION,
  "VALOR2AUX" DOUBLE PRECISION,
  "VALOR3AUX" DOUBLE PRECISION,
  "VALORANEST" DOUBLE PRECISION,
  "VALORTOTAL" DOUBLE PRECISION,
  "PACIENTE" VARCHAR(100),
  "CODCIRURGIAO" INTEGER,
  "CIRURGIAO" VARCHAR(100),
  "AUXILIAR1" VARCHAR(100),
  "AUXILIAR2" VARCHAR(100),
  "AUXILIAR3" VARCHAR(100),
  "ANESTESISTA" VARCHAR(100),
  "ENFERMAGEM" VARCHAR(100),
  "GRUPOSUS1" VARCHAR(2),
  "PROC1" VARCHAR(100),
  "PROC1NOME" VARCHAR(250),
  "GRUPOSUS2" VARCHAR(2),
  "PROC2" VARCHAR(100),
  "PROC2NOME" VARCHAR(250),
  "GRUPOSUS3" VARCHAR(2),
  "PROC3" VARCHAR(100),
  "PROC3NOME" VARCHAR(250),
  "GRUPOSUS4" VARCHAR(2),
  "PROC4" VARCHAR(100),
  "PROC4NOME" VARCHAR(250),
  "GRUPOSUS5" VARCHAR(2),
  "PROC5" VARCHAR(100),
  "PROC5NOME" VARCHAR(250),
  "CODIGOPAC" INTEGER,
  "TIPO_CC" INTEGER,
  "TIPO" CHAR(1),
  "VALORTESTE" DOUBLE PRECISION
)
AS
declare variable valorMedico double precision;
declare variable valorAnestesista double precision;
declare variable valortotaproc double precision;
begin
valorMedico =0;
valorAnestesista = 0;
valorcirurgiao = 0;
valor1aux = 0;
valor2aux = 0;
valor3aux = 0;
valorAnest = 0;
valorProc1 = 0;
valorProc2 = 0;
valorProc3 = 0;
valorProc4 = 0;
valorProc5 = 0;
valortotal = 0;
    FOR select NOTASALA1.NUMERO BOLETIM, DATA,  CODIGOINT AIH, PACIENTE.A_NOME PACIENTE, CIRURG.A_NOME CIRURGIAO, AUXILIAR1.A_NOME AUXILIAR1,
          AUXILIAR2.A_NOME AUXILIAR2,  AUXILIAR3.A_NOME AUXILIAR3, ANESTESISTA.A_NOME ANESTESISTA, TECNICO_ENFERMAGEM AS ENFERMAGEM,
          GRUPOSUS1, PROC1, GRUPOSUS2,PROC2, GRUPOSUS3,PROC3, GRUPOSUS4,PROC4, GRUPOSUS5,PROC5, CPS1.CODIGOPAC, NOTASALA1.CIRURGIAO, NOTASALA1.TIPO_CC, NOTASALA1.TIPO  from NOTASALA1
      LEFT JOIN CPS1 ON CPS1.CODIGOCPS = NOTASALA1.CODIGOINT LEFT JOIN PACIENTE ON CPS1.CODIGOPAC = PACIENTE.CODIGOPAC
      LEFT JOIN MEDICOS CIRURG ON CIRURG.A_MEDICOS = NOTASALA1.CIRURGIAO LEFT JOIN MEDICOS AUXILIAR1 ON AUXILIAR1.A_MEDICOS = NOTASALA1.AUXILIAR1
      LEFT JOIN MEDICOS AUXILIAR2 ON AUXILIAR1.A_MEDICOS = NOTASALA1.AUXILIAR2 LEFT JOIN MEDICOS AUXILIAR3 ON AUXILIAR3.A_MEDICOS = NOTASALA1.AUXILIAR3
      LEFT JOIN MEDICOS ANESTESISTA ON ANESTESISTA.A_MEDICOS = NOTASALA1.ANESTESISTA
      where data between :inicio  and :final || ' 23:59'
      ORDER BY BOLETIM
      INTO :BOLETIM, :DATA,  :AIH, :PACIENTE, :CIRURGIAO, :AUXILIAR1, :AUXILIAR2,  :AUXILIAR3,:ANESTESISTA, :ENFERMAGEM, :GRUPOSUS1, :PROC1, :GRUPOSUS2, :PROC2, :GRUPOSUS3, :PROC3, :GRUPOSUS4, :PROC4, :GRUPOSUS5,:PROC5, :CODIGOPAC, :CODCIRURGIAO, :TIPO_CC, :TIPO do
      BEGIN
      VALORPROC2=0;
      VALORPROC3=0;
      VALORPROC4=0;
      VALORPROC5=0;
      VALORPROC1=0;
      Proc1Nome = '';
      Proc2Nome = '';
      Proc3Nome = '';
      Proc4Nome = '';
      Proc5Nome = '';
      if (:proc1 is not null) Then
      begin
          valorProc1 = (select max(total) from  servicos where a_codamb = :proc1);
          Proc1Nome  = (select max(a_nome) from  servicos where a_codamb = :proc1);
      end
      VALORTESTE =valorProc1;
      if (:proc2 is not null) Then
      begin
          valorProc2 = (select max(total) from  servicos where a_codamb = :proc2);
          Proc2Nome  = (select max(a_nome) from  servicos where a_codamb = :proc2);
      end
      if (:proc3 is not null) Then
      begin
          valorProc3 = (select max(total) from  servicos where a_codamb = :proc3);
          Proc3Nome  = (select max(a_nome) from  servicos where a_codamb = :proc3);
      end
      if (:proc4 is not null) Then
      begin
          valorProc4 = (select max(total) from  servicos where a_codamb = :proc4);
          Proc4Nome  = (select max(a_nome) from  servicos where a_codamb = :proc4);
      end
      if (:proc5 is not null) Then
      begin
          valorProc5 = (select max(total) from  servicos where a_codamb = :proc5);
          Proc5Nome  = (select max(a_nome) from  servicos where a_codamb = :proc5);
      end
      if (:valorProc1 is null) Then valorProc1=0;
      if (:valorProc2 is null) Then valorProc2=0; if (:valorProc3 is null) Then valorProc3=0;
      if (:valorProc4 is null) Then valorProc4=0; if (:valorProc5 is null) Then valorProc5=0;
      valorTotal = (valorProc1 + valorProc2 + valorProc3 + valorProc4 + valorProc5);
--      VALORTESTE = :valortOTAL;
      if (:anestesista is null) then
           valorAnest = 0;
      else if (:anestesista is not null ) then
      begin
           valorAnest = valorTotal*0.3;
           valorMedico = valorTotal*0.7;
      end
      if (:auxiliar3 is not null) then
      begin
          valorcirurgiao=ValorMedico *0.25;
          valor1aux = ValorMedico *0.25;
          valor2aux = ValorMedico *0.25;
          valor3aux = ValorMedico *0.25;
      end
      if (:auxiliar2 is not null) then
      begin
          valorcirurgiao=ValorMedico *0.333;
          valor1aux = ValorMedico *0.333;
          valor2aux = ValorMedico *0.333;
      end
      if (auxiliar1 is not null) then
      begin
          valorcirurgiao=ValorMedico *0.5;
          valor1aux = ValorMedico *0.5;
      end
     if (:auxiliar1 is null) then
      begin
          valorcirurgiao=ValorMedico;
      end
      suspend;
    END
end
 ^


ALTER PROCEDURE "PRORROGAMENSAGEM" 
RETURNS
(
  "AUTORIZADA" SMALLINT,
  "PRORROGADA" SMALLINT,
  "CPS" FLOAT,
  "CODCONVENIO" SMALLINT,
  "DATAINT" TIMESTAMP,
  "VENCIMENTO" TIMESTAMP,
  "MATRICULA" VARCHAR(30),
  "PACIENTE" VARCHAR(70),
  "NOMECONVENIO" VARCHAR(70)
)
AS
BEGIN
  FOR SELECT DISTINCT CPS1.DIARIA, CPS1.PRORROGA, CPS1.CODIGOCPS, CPS1.CONVENIO,
  CPS1.A_DATAFAT, CPS1.MATRICULA, PACIENTE.A_NOME, CONVENIO.A_NOME FROM CPS1
  LEFT JOIN CONVENIO ON (CPS1.CONVENIO = CONVENIO.CONVENIO)
  LEFT JOIN PACIENTE ON (CPS1.CODIGOPAC = PACIENTE.CODIGOPAC)
  WHERE ( CPS1.DATASAIDA  IS NULL ) AND ( CPS1.CODIGOPLA = 3 )
  ORDER BY CPS1.CONVENIO, CPS1.A_DATAFAT ASC
  INTO :AUTORIZADA, :PRORROGADA, :CPS, CODCONVENIO, :DATAINT, :MATRICULA, :PACIENTE, :NOMECONVENIO DO
  begin
    IF (AUTORIZADA IS NULL) THEN AUTORIZADA = 0;
    IF (PRORROGADA IS NULL) THEN PRORROGADA = 0;
    VENCIMENTO = DATAINT + AUTORIZADA + PRORROGADA;
    SUSPEND;
  end
END
 ^


ALTER PROCEDURE "QTDCONVENIO" 
(
  "CONSULTA" VARCHAR(6000),
  "QTDE" INTEGER
)
RETURNS
(
  "CONVENIO" INTEGER,
  "DESCRICAO" VARCHAR(50),
  "VALOR" FLOAT
)
AS
declare variable Total Float;
begin
     Total = 0;
     FOR select convenio.convenio, convenio.a_nome, sum(valor) from cps(:consulta)
     LEFT join convenio on (convenio.convenio = cps.convenio)
     where cobrar = 'S' or cobrar is null
     group by 1,2
     order by 3 desc, 2
     into convenio, descricao, valor do
     begin
          qtde = qtde -1;
          if (qtde > 0) then
          suspend;
          else
               total = total + valor;
     end
     if (qtde <= 0) then
     begin
          convenio = 0;
          descricao = 'Outros';
          valor = total;
          suspend;
     end
end
 ^


ALTER PROCEDURE "QTDEALAALTA" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "A_TIPO" VARCHAR(2)
)
RETURNS
(
  "ALA" INTEGER,
  "NOMEALA" VARCHAR(40),
  "QTDE" INTEGER
)
AS
declare variable cps integer;
declare variable cpsaux integer;
declare variable alaaux integer;
declare variable  datafim timestamp;
begin
   cpsaux = 0;
   ala = 0;
   qtde = 0;
   for select cps1.codigocps, inter4.a_ala, inter4.datafim
   from cps1
   inner join inter4 on ( inter4.codigoint = cps1.codigocps )
   inner join leitos on (leitos.leito = inter4.leito)
   where ( ( Inter4.DATAFIM between :inicio and :fim ) and ( CPS1.codigopla = 3) ) and ((:a_tipo = 0) or (leitos.a_tipo = :a_tipo))
   order by inter4.a_ala, cps1.codigocps, inter4.datafim desc
   into cps, alaaux, datafim do
   begin
     if ( ( ala <> alaaux ) and ( ala <> 0 ) ) then
     begin
         select a_nome from alas where a_ala = :ala into nomeala;
         suspend;
         qtde = 0;
     end
     if ( cps <> cpsaux ) then
     begin
        qtde = qtde + 1;
     end
     ala = alaaux;
     cps = cpsaux;
  end
  select a_nome from alas where a_ala = :ala into nomeala;
  suspend;
end
 ^


ALTER PROCEDURE "QTDEINTER32" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "CODIGOMM" INTEGER,
  "QTDE" INTEGER,
  "A_NOME" VARCHAR(50)
)
AS
begin
if (codigocps = 0) then
for
select matmed.a_nome,inter32.codigomm, sum(inter32.quantidade) from inter32
inner join inter2
on inter2.codigoint = inter32.codigoint
inner join matmed
on matmed.codigomm = inter32.codigomm
where (inter2.a_data between :inicio and :fim)
group by matmed.a_nome,inter32.codigomm order by inter32.codigomm into a_nome, codigomm, qtde do
suspend;
if (codigocps > 0) then
for
select matmed.a_nome,inter32.codigomm, sum(inter32.quantidade) from inter32
inner join inter2
on inter2.codigoint = inter32.codigoint
inner join matmed
on matmed.codigomm = inter32.codigomm
where (inter2.a_data between :inicio and :fim) and (inter2.codigoint = :codigocps)
group by matmed.a_nome,inter32.codigomm order by inter32.codigomm into a_nome, codigomm, qtde do
suspend;
end
 ^


ALTER PROCEDURE "QTDELINHA" 
(
  "LINHA" INTEGER
)
RETURNS
(
  "ORD" INTEGER
)
AS
begin
  ord = 0;
  while (ord < linha ) do
  begin
    ord = ord + 1;
    suspend;
  end
end
 ^


ALTER PROCEDURE "QTD_ANO_PAC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" FLOAT,
  "PROCEDIMENTO" VARCHAR(10),
  "ANO_NASC" VARCHAR(4),
  "IDADE" INTEGER
)
AS
DECLARE VARIABLE GRUPOSUS VARCHAR(2);
DECLARE VARIABLE PROC VARCHAR(8);
BEGIN
   FOR select  cps1.codigopac, cps1.gruposus, cps1.principal, Extract(Year From nasc) ANO_Nascimento, (select ano from idade_calc(paciente.nasc, 'now' ) ) ANO  from cps1
       inner join paciente on (paciente.codigopac = cps1.codigopac)
       where cps1.a_datafat between :inicio and :fim
       into  :CODIGOPAC, :GRUPOSUS, :PROC, :ANO_NASC, :IDADE DO
   BEGIN
       IF (( GRUPOSUS IS NOT NULL) AND ( PROC IS NOT NULL) )THEN
          PROCEDIMENTO = GRUPOSUS || PROC;
       ELSE IF ((GRUPOSUS IS NOT NULL ) AND (PROC IS NULL)) THEN
         PROCEDIMENTO = GRUPOSUS;
       ELSE IF ((GRUPOSUS IS NULL) AND (PROC IS NOT NULL )) THEN
         PROCEDIMENTO = '00' || PROC;
       SUSPEND;
   END
END
 ^


ALTER PROCEDURE "RATEIOCONTABIL" 
(
  "CONSULTA" VARCHAR(20000)
)
RETURNS
(
  "CODIGOCONTABIL" VARCHAR(20),
  "CCUSTO" INTEGER,
  "TIPO" CHAR(1),
  "VALOR" DOUBLE PRECISION
)
AS
DECLARE VARIABLE TOTAL DOUBLE PRECISION;
DECLARE VARIABLE CONVENIO INTEGER;
DECLARE VARIABLE CODIGOCONTABILMM VARCHAR(20);
begin
  TOTAL = 0;
  for select unidadenegocio.ccustocontabil, cps.convenio, tipoproc.contabil,'C',sum(valor) from cps(:consulta)
      left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> 'M')
      left join tipoproc on (tipoproc.a_tipo = servicos.a_tipo)
      left join unidadenegocio on (unidadenegocio.codigo = cps.unidadenegocio)
      WHERE (cps.COBRAR = 'S' or cps.cobrar is null) and valor >= 0.01 AND A_SITUACAO <= '3'
      group by 1,2,3,4 into ccusto, convenio, codigocontabil, tipo, valor do
  begin
    if (total = 0) then
      SELECT CONTABILMM FROM CONVENIO WHERE CONVENIO = :convenio into codigocontabilmm;
    if (codigocontabil is null) then
      codigocontabil = codigocontabilmm;
    TOTAL = TOTAL + VALOR;
    suspend;
  end
  if (total > 0) then
  begin
    VALOR = TOTAL;
    TIPO = 'D';
    SELECT CONTABIL FROM CONVENIO WHERE CONVENIO = :convenio into codigocontabil;
    suspend;
  end
end
 ^


ALTER PROCEDURE "RECEITA_ESPECIALIDADE_CPC" 
(
  "CONSULTA" VARCHAR(5000)
)
RETURNS
(
  "CODIGO" INTEGER,
  "TITULO" VARCHAR(50),
  "DESCRICAO" BLOB,
  "A_MEDICOS" INTEGER,
  "DATA2" TIMESTAMP,
  "DATASINC" TIMESTAMP,
  "TIPO" VARCHAR(20),
  "PAPEL" CHAR(2),
  "CABECALHO" CHAR(1),
  "PARAMETRO" BLOB,
  "ESPECIALIDADE" VARCHAR(30)
)
AS
begin
    FOR execute statement 'SELECT   CODIGO, TITULO,  DESCRICAO,  A_MEDICOS,  DATA2,  DATASINC,  TIPO,  PAPEL,  CABECALHO, DESCRICAO, PARAMETRO, ESPECIALIDADE FROM RECEITA
     ' || :CONSULTA
    into :CODIGO, :TITULO,  :DESCRICAO,  :A_MEDICOS,  :DATA2,  :DATASINC,  :TIPO,  :PAPEL,  :CABECALHO, :DESCRICAO, :PARAMETRO, :ESPECIALIDADE do
    begin
          suspend;
    end
end
 ^


ALTER PROCEDURE "RELESTCIRCONV" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "CONVENIO" VARCHAR(40),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER
)
AS
declare variable cont integer;
declare variable qtde integer;
declare variable ultconvenio varchar(40);
begin
    CONVENIO = '';
    PRREGIS = 0;
    PRREALI = 0;
    PRSUSPE = 0;
    PROBITO = 0;
    NPREGIS = 0;
    NPREALI = 0;
    NPSUSPE = 0;
    NPOBITO = 0;
    for select convenio.a_nome, marcacirurgia.feito, count( marcaCirurgia.feito) from marcacirurgia
    inner join convenio on marcacirurgia.convenio = convenio.convenio
    inner join medicos on marcacirurgia.a_medicos = medicos.a_medicos
    where ( MarcaCirurgia.data between :inicio and :fim) and ( MarcaCirurgia.convenio between :convinicio and :convfim) and (medicos.a_nome between :medinicio and :medfim)
    group by convenio.a_nome, marcaCirurgia.feito
    order by convenio.a_nome into ultconvenio, cont, qtde do
    begin
       If (( convenio <> ultconvenio) and (convenio <> '')) then
          begin
          suspend;
          PRREGIS = 0;
          PRREALI = 0;
          PRSUSPE = 0;
          PROBITO = 0;
          NPREGIS = 0;
          NPREALI = 0;
          NPSUSPE = 0;
          NPOBITO = 0;
       end
       if (cont = 0) then PRREGIS = qtde;
       if (cont = 1) then PRREALI = qtde;
       if (cont = 2) then PRSUSPE = qtde;
       if (cont = 3) then PROBITO = qtde;
       if (cont = 4) then NPREGIS = qtde;
       if (cont = 5) then NPREALI = qtde;
       if (cont = 6) then NPSUSPE = qtde;
       if (cont = 7) then NPOBITO = qtde;
       convenio = ultconvenio;
    end
    SUSPEND;
end
 ^


ALTER PROCEDURE "RELESTCIRESPEC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "ESPECIALIDADE" VARCHAR(40),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER
)
AS
declare variable cont integer;
declare variable qtde integer;
declare variable ultESPECIALIDADE varchar(40);
begin
    ESPECIALIDADE = '';
    PRREGIS = 0;
    PRREALI = 0;
    PRSUSPE = 0;
    PROBITO = 0;
    NPREGIS = 0;
    NPREALI = 0;
    NPSUSPE = 0;
    NPOBITO = 0;
    for select ESPECIALIDADE.nome, marcacirurgia.feito, count( marcaCirurgia.feito) from marcacirurgia
    inner join ESPECIALIDADE on marcacirurgia.especialidade = ESPECIALIDADE.codESP
    inner join medicos on marcacirurgia.a_medicos = medicos.a_medicos
    where ( MarcaCirurgia.data between :inicio and :fim) and ( MarcaCirurgia.CONVENIO between :convinicio and :convfim) and (medicos.a_nome between :medinicio and :medfim)
    group by ESPECIALIDADE.nome, marcaCirurgia.feito
    order by ESPECIALIDADE.nome into ultESPECIALIDADE, cont, qtde do
    begin
       If (( ESPECIALIDADE <> ultESPECIALIDADE) and (ESPECIALIDADE <> '')) then
          begin
          suspend;
          PRREGIS = 0;
          PRREALI = 0;
          PRSUSPE = 0;
          PROBITO = 0;
          NPREGIS = 0;
          NPREALI = 0;
          NPSUSPE = 0;
          NPOBITO = 0;
       end
       if (cont = 0) then PRREGIS = qtde;
       if (cont = 1) then PRREALI = qtde;
       if (cont = 2) then PRSUSPE = qtde;
       if (cont = 3) then PROBITO = qtde;
       if (cont = 4) then NPREGIS = qtde;
       if (cont = 5) then NPREALI = qtde;
       if (cont = 6) then NPSUSPE = qtde;
       if (cont = 7) then NPOBITO = qtde;
       ESPECIALIDADE = ultESPECIALIDADE;
    end
    SUSPEND;
end
 ^


ALTER PROCEDURE "RELESTCIRPROC" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(70),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER
)
AS
declare variable cont integer;
declare variable qtde integer;
declare variable ultprocedimento varchar(70);
begin
PROCEDIMENTO = '';
PRREGIS = 0;
PRREALI = 0;
PRSUSPE = 0;
PROBITO = 0;
NPREGIS = 0;
NPREALI = 0;
NPSUSPE = 0;
NPOBITO = 0;
  for select marcacirurgia.codigoamb, feito, count( feito )
      from marcacirurgia
      inner join medicos on (medicos.a_medicos = marcacirurgia.a_medicos)
      where (data between :inicio and :fim) and ( convenio between :convinicio and :convfim)
      group by 1, feito
      order by 1 into ultprocedimento, cont, qtde do
  begin
    select first 1 servicos.a_nome from servicos where a_codamb = :ultprocedimento into :ultprocedimento;
    PRREGIS = 0;
    PRREALI = 0;
    PRSUSPE = 0;
    PROBITO = 0;
    NPREGIS = 0;
    NPREALI = 0;
    NPSUSPE = 0;
    NPOBITO = 0;
    if (cont = 0) then PRREGIS = qtde;
    if (cont = 1) then PRREALI = qtde;
    if (cont = 2) then PRSUSPE = qtde;
    if (cont = 3) then PROBITO = qtde;
    if (cont = 4) then NPREGIS = qtde;
    if (cont = 5) then NPREALI = qtde;
    if (cont = 6) then NPSUSPE = qtde;
    if (cont = 7) then NPOBITO = qtde;
    suspend;
    procedimento = ultprocedimento;
  end
END
 ^


ALTER PROCEDURE "RELESTCIRPROF" 
(
  "INICIO" TIMESTAMP,
  "FIM" TIMESTAMP,
  "CONVINICIO" INTEGER,
  "CONVFIM" INTEGER,
  "MEDINICIO" VARCHAR(40),
  "MEDFIM" VARCHAR(40)
)
RETURNS
(
  "MEDICOS" VARCHAR(40),
  "PRREGIS" INTEGER,
  "PRREALI" INTEGER,
  "PRSUSPE" INTEGER,
  "PROBITO" INTEGER,
  "NPREGIS" INTEGER,
  "NPREALI" INTEGER,
  "NPSUSPE" INTEGER,
  "NPOBITO" INTEGER,
  "SALA" INTEGER
)
AS
declare variable cont integer;
declare variable qtde integer;
declare variable ultmedico varchar(40);
declare variable salax integer;
begin
medicos = '';
salax = 0;
PRREGIS = 0;
PRREALI = 0;
PRSUSPE = 0;
PROBITO = 0;
NPREGIS = 0;
NPREALI = 0;
NPSUSPE = 0;
NPOBITO = 0;
  for select medicos.a_nome, feito, count(feito) from marcacirurgia
      inner join medicos on (marcacirurgia.a_medicos = medicos.a_medicos)
      where (data between :inicio and :fim) and (convenio between :convinicio and :convfim) and (medicos.a_nome between :medinicio and :medfim)
      group by medicos.a_nome, feito
      order by 1
      into :ultmedico, :cont, :qtde do
  begin
    If ((medicos <> ultmedico) and (medicos <> '')) then
       begin
       suspend;
       PRREGIS = 0;
       PRREALI = 0;
       PRSUSPE = 0;
       PROBITO = 0;
       NPREGIS = 0;
       NPREALI = 0;
       NPSUSPE = 0;
       NPOBITO = 0;
       end
    if (cont = 0) then PRREGIS = qtde;
    if (cont = 1) then PRREALI = qtde;
    if (cont = 2) then PRSUSPE = qtde;
    if (cont = 3) then PROBITO = qtde;
    if (cont = 4) then NPREGIS = qtde;
    if (cont = 5) then NPREALI = qtde;
    if (cont = 6) then NPSUSPE = qtde;
    if (cont = 7) then NPOBITO = qtde;
    medicos = ultmedico;
  end
  SUSPEND;
end
 ^


ALTER PROCEDURE "RELLABSUS" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP,
  "MEDICO1" INTEGER,
  "MEDICO2" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "NOMEPACIENTE" VARCHAR(50),
  "PROCEDIMENTO" VARCHAR(10),
  "NOMEPROC" VARCHAR(70),
  "DATACPS2" TIMESTAMP,
  "VALOR" FLOAT,
  "CODMEDICO" INTEGER,
  "NOMEMEDICO" VARCHAR(40),
  "CODIGOPLA" INTEGER
)
AS
declare variable auxCodamb Varchar(8);
declare variable auxGrupoSUS char(2);
begin
auxCodamb = null;
auxGrupoSUS = null;
 for Select cps1.codigocps, paciente.a_nome, cps2.gruposus, cps2.codigoamb, servicos.a_nome, cps2.data,cps2.valor, cps2.a_medicos, medicos.a_nome, cps1.codigopla  from cps1
    inner join paciente on (cps1.codigopac = paciente.codigopac)
    inner join cps2 on ( cps1.codigocps = cps2.codigocps2 )
    inner join servicos on (cps2.codigoserv = servicos.codigoserv)
    inner join medicos on (medicos.a_medicos = cps2.a_medicos)
    where (cps2.data between :datainicio and :datafim) and (cps2.a_medicos between :medico1 and :medico2)
    into :codigocps, :nomepaciente, :auxGrupoSUS, :auxCodamb, :NomeProc ,:dataCps2, :Valor, :codmedico, :nomemedico, :codigopla do
    begin
       if (auxGrupoSUS is not null) then
          procedimento = auxGrupoSUS || auxCodAmb;
       else
          procedimento = '00' || auxCodAmb;
       suspend;
    end
end
 ^


ALTER PROCEDURE "RELPROENTREGAAIH" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" FLOAT,
  "NOMEPAC" VARCHAR(60),
  "CLINICA" VARCHAR(35),
  "DATAADMI" TIMESTAMP,
  "PROCEDIMENTO" VARCHAR(10),
  "CID" VARCHAR(4)
)
AS
declare variable tipoClinica char(2);
declare variable gruposus char(2);
declare variable codigoamb varchar(8);
begin
  tipoClinica = '00';
  gruposus = '';
  codigoamb= '';
  for select cps1.codigopac, paciente.a_nome, cps1.a_datafat, cps1.a_cid, cps1.AIHESPECIALIDADE, cps1.gruposus, cps1.principal from paciente
      inner join cps1 on (paciente.codigopac = cps1.codigopac)
      where (cps1.a_datafat between :data1 and :data2 ) and cps1.codigopla = 7
      into :codigopac, :nomepac, :dataAdmi, :cid, :tipoClinica, :gruposus, :codigoamb do
      begin/* pesquisa o tipo de clinica*/
            if (tipoClinica = '01') then
                 clinica = '01 - Cirurgia Geral';
            else if (tipoClinica = '02') then
                 clinica = '02 - Obstetrcia';
            else if (tipoClinica = '03') then
                 clinica = '03 - Clinica Mdica';
            else if (tipoClinica = '04') then
                 clinica = '04 - Cronico / FPT';
            else if (tipoClinica = '05') then
                 clinica = '05 - Psiquiatria';
            else if (tipoClinica = '06') then
                 clinica = '06 - Tisiologia';
            else if (tipoClinica = '07') then
                 clinica = '07 - Pediatria';
            else if (tipoClinica = '08') then
                 clinica = '08 - Reabilitao';
            else if (tipoClinica = '09') then
                 clinica = '09 - Psiquiatria Hosp. Dia';
            else
                 clinica = 'No Informado';
            /*pesquisa o codigo do procedimento*/
            if ((gruposus is not null) and (codigoamb is not null)) then
                procedimento = gruposus || codigoamb;
                else if ((gruposus is null ) and (codigoamb is not null)) then
                   procedimento = '00'||codigoamb;
         suspend;
      end
end
 ^


ALTER PROCEDURE "REMETER" 
(
  "CONSULTAPEN" VARCHAR(30000),
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "MES1" DOUBLE PRECISION,
  "MES2" DOUBLE PRECISION,
  "MES3" DOUBLE PRECISION,
  "MES4" DOUBLE PRECISION,
  "MES5" DOUBLE PRECISION,
  "MES6" DOUBLE PRECISION,
  "MES7" DOUBLE PRECISION,
  "MES8" DOUBLE PRECISION,
  "MES9" DOUBLE PRECISION,
  "MES10" DOUBLE PRECISION,
  "MES11" DOUBLE PRECISION,
  "MES12" DOUBLE PRECISION,
  "DIA1" DOUBLE PRECISION,
  "DIA2" DOUBLE PRECISION,
  "DIA3" DOUBLE PRECISION,
  "DIA4" DOUBLE PRECISION,
  "DIA5" DOUBLE PRECISION,
  "DIA6" DOUBLE PRECISION,
  "DIA7" DOUBLE PRECISION,
  "DIA8" DOUBLE PRECISION,
  "DIA9" DOUBLE PRECISION,
  "DIA10" DOUBLE PRECISION,
  "DIA11" DOUBLE PRECISION,
  "DIA12" DOUBLE PRECISION,
  "DIA13" DOUBLE PRECISION,
  "DIA14" DOUBLE PRECISION,
  "DIA15" DOUBLE PRECISION,
  "DIA16" DOUBLE PRECISION,
  "DIA17" DOUBLE PRECISION,
  "DIA18" DOUBLE PRECISION,
  "DIA19" DOUBLE PRECISION,
  "DIA20" DOUBLE PRECISION,
  "DIA21" DOUBLE PRECISION,
  "DIA22" DOUBLE PRECISION,
  "DIA23" DOUBLE PRECISION,
  "DIA24" DOUBLE PRECISION,
  "DIA25" DOUBLE PRECISION,
  "DIA26" DOUBLE PRECISION,
  "DIA27" DOUBLE PRECISION,
  "DIA28" DOUBLE PRECISION,
  "DIA29" DOUBLE PRECISION,
  "DIA30" DOUBLE PRECISION,
  "DIA31" DOUBLE PRECISION
)
AS
declare variable total double precision;
declare variable data timestamp;
declare variable mes integer;
declare variable dia integer;
declare variable qtde integer;
begin
  qtde = 0;
  dia1=0;
  dia2=0;
  dia3=0;
  dia4=0;
  dia5=0;
  dia6=0;
  dia7=0;
  dia8=0;
  dia9=0;
  dia10=0;
  dia11=0;
  dia12=0;
  dia13=0;
  dia14=0;
  dia15=0;
  dia16=0;
  dia17=0;
  dia18=0;
  dia19=0;
  dia20=0;
  dia21=0;
  dia22=0;
  dia23=0;
  dia24=0;
  dia25=0;
  dia26=0;
  dia27=0;
  dia28=0;
  dia29=0;
  dia30=0;
  dia31=0;
  for select convenio, extract(month from a_datafat), sum(valor) from cps(:consultapen) where cobrar = 'S' and fatura = 0 and a_situacao <= '3' group by 1,2 order by 1, 2 into :convenio,mes, total do
  begin
    mes1=0;
    mes2=0;
    mes3=0;
    mes4=0;
    mes5=0;
    mes6=0;
    mes7=0;
    mes8=0;
    mes9=0;
    mes10=0;
    mes11=0;
    mes12=0;
    if (mes= 1) then
      mes1 = total;
    if (mes= 2) then
      mes2 = total;
    if (mes= 3) then
      mes3 = total;
    if (mes= 4) then
      mes4 = total;
    if (mes= 5) then
      mes5 = total;
    if (mes= 6) then
      mes6 = total;
    if (mes= 7) then
      mes7 = total;
    if (mes= 8) then
      mes8 = total;
    if (mes= 9) then
      mes9 = total;
    if (mes= 10) then
      mes10 = total;
    if (mes= 11) then
      mes11 = total;
    if (mes= 12) then
      mes12 = total;
    suspend;
  end
  mes1=0;
  mes2=0;
  mes3=0;
  mes4=0;
  mes5=0;
  mes6=0;
  mes7=0;
  mes8=0;
  mes9=0;
  mes10=0;
  mes11=0;
  mes12=0;
  for select convenio, extract(day from data), sum(total) from fechamento where notafiscaldata between :data1 and :data2 and total >0 group by 1,2 order by 1, 2 into :convenio,dia, total do
  begin
    dia1=0;
    dia2=0;
    dia3=0;
    dia4=0;
    dia5=0;
    dia6=0;
    dia7=0;
    dia8=0;
    dia9=0;
    dia10=0;
    dia11=0;
    dia12=0;
    dia13=0;
    dia14=0;
    dia15=0;
    dia16=0;
    dia17=0;
    dia18=0;
    dia19=0;
    dia20=0;
    dia21=0;
    dia22=0;
    dia23=0;
    dia24=0;
    dia25=0;
    dia26=0;
    dia27=0;
    dia28=0;
    dia29=0;
    dia30=0;
    dia31=0;
    if (dia= 1) then
      dia1 = total;
    if (dia= 2) then
      dia2 = total;
    if (dia= 3) then
      dia3 = total;
    if (dia= 4) then
      dia4 = total;
    if (dia= 5) then
      dia5 = total;
    if (dia= 6) then
      dia6 = total;
    if (dia= 7) then
      dia7 = total;
    if (dia= 8) then
      dia8 = total;
    if (dia= 9) then
      dia9 = total;
    if (dia= 10) then
      dia10 = total;
    if (dia= 11) then
      dia11 = total;
    if (dia= 12) then
      dia12 = total;
    if (dia= 13) then
      dia13 = total;
    if (dia= 14) then
      dia14 = total;
    if (dia= 15) then
      dia15 = total;
    if (dia= 16) then
      dia16 = total;
    if (dia= 17) then
      dia17 = total;
    if (dia= 18) then
      dia18 = total;
    if (dia= 19) then
      dia19 = total;
    if (dia= 20) then
      dia20 = total;
    if (dia= 21) then
      dia21 = total;
    if (dia= 22) then
      dia22 = total;
    if (dia= 23) then
      dia23 = total;
    if (dia= 24) then
      dia24 = total;
    if (dia= 25) then
      dia25 = total;
    if (dia= 26) then
      dia26 = total;
    if (dia= 27) then
      dia27 = total;
    if (dia= 28) then
      dia28 = total;
    if (dia= 29) then
      dia29 = total;
    if (dia= 30) then
      dia30 = total;
    if (dia= 31) then
      dia31 = total;
    suspend;
  end
end
 ^


ALTER PROCEDURE "RESUMOPAC" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
declare variable resumo varchar(250);
declare variable resumoaux varchar(250);
declare variable textoaux varchar(30000);
declare variable textoaux2 varchar(30000);
declare variable textoaux3 varchar(30000);
declare variable textoaux4 varchar(30000);
declare variable textoaux5 varchar(30000);
declare variable textoaux6 varchar(30000);
declare variable textoaux7 varchar(30000);
declare variable textoaux8 varchar(30000);
declare variable textoaux9 varchar(30000);
declare variable textoaux10 varchar(30000);
declare variable conteudo blob;
declare variable tipocps integer;
begin
  texto = '';
  resumoaux = null;
  texto = '';
  select codigopla from cps1 where codigocps = :codigocps into :tipocps;
  if (tipocps > 2) Then
  begin
-------------------------------------------------------------------------------------------------------
 /*   if (texto is null) then
      texto = '';
    select first 1 extract(day from  datahora)|| '/' || extract(month from  datahora) || '/' || extract(year from  datahora), medicament
    from notamed INNER join notamed2 on notamed.A_NOTAMED = notamed2.A_NOTAMED
    where notamed.CODIGOCPS = :CODIGOCPS and notamed.TIPO = 10
    order by notamed2.SEQUENCIA desc
     into :texto, textoaux3;
     texto =  texto || ' ' || textoaux3; -- sinalizacao de leitos
    if (rtrim(texto) <> '') then
      suspend;*/
 ----------------------------------------------------------------------------------------------------------------
    if (texto is null) then
       texto = '';
    for select extract(day from  datahora)|| '/' || extract(month from  datahora) || '/' || extract(year from  datahora), medicament
    from notamed INNER join notamed2 on notamed.A_NOTAMED = notamed2.A_NOTAMED
    where notamed.CODIGOCPS = :CODIGOCPS --and notamed.TIPO = 10 and medicament not containing 'Risco'   -- sinalizacao de leitos 18092020 eduardo
    order by notamed2.SEQUENCIA desc
     into :resumo, textoaux3 do
    begin
         texto =  texto ||  resumo || '  ->   ' || textoaux3 || ' ' || ascii_char(13)|| ascii_char(10);
    end
    if (strlen(texto) > 10) then
      suspend;
------------------------------------------------------------------------------------------------------------
    conteudo = null;
    SELECT FIRST 1 (select texto from RTF_CONVERT(PLANO_CONDUTA)),  extract(day from DATAHORA) || '/' || extract(month from DATAHORA) FROM EVOLUCAOENF WHERE CODIGOCPS = :CODIGOCPS AND TIPO = 'D' and
    PLANO_CONDUTA is not null ORDER BY DATAHORA DESC, EVOLUCAO into conteudo, textoaux3;
    if (conteudo <> '') then
    begin
      texto = ' Conduta Diarista:  ' ||  textoaux3 || ' ' || ascii_char(13)|| ascii_char(10)|| substring(conteudo from 1 for 3000);
   --   texto = substring(conteudo from 1 for 3000);
      suspend;
    end
-------------------------------------------------------------------------------------------------------
   /*   texto = '';
    for select pacote1.NOME, min(cast(notamed.datahora as date)), max(cast(notamed.datahora as date)), count(distinct cast(notamed.datahora as date)) from notamed
        inner join notamed2 on (notamed.a_notamed = notamed2.a_notamed)
        inner join pacote1 on (pacote1.PACOTE = notamed2.A_KITS)
        where notamed.CODIGOCPS = :codigocps and notamed.impresso = 'S' and notamed.tipo = '0' group by 1 into resumo, textoaux, textoaux2, textoaux3 do
    begin
          textoaux = extract(day from cast(textoaux as date)) || '/' || extract(month from cast(textoaux as date));
          textoaux2 = extract(day from cast(textoaux2 as date)) || '/' || extract(month from cast(textoaux2 as date));
          texto = texto || resumo || ' desde ' || textoaux || ' ate ' || textoaux2 || ' dias ' ||  textoaux3 || ascii_char(13)|| ascii_char(10);
    end
    if (strlen(texto) > 10) then
       suspend;*/
    -------------------------- lab 1
  /*  texto = '';
    for select  cpslaudovar.descricao,  list(': ' || extract(day from CPSLAUDO1.A_DATAFAT) || '/' || extract(month from CPSLAUDO1.A_DATAFAT) || ' => ' || CPSLAUDOVAR.VALOR)
       FROM CPSLAUDO1
       INNER JOIN CPSLAUDOVAR ON (CPSLAUDOVAR.CODIGOCPS = CPSLAUDO1.CODIGOCPS)
       WHERE CPSLAUDO1.NUMEROORIGEM = :codigocps and cpslaudovar.data >= cast('today' as timestamp) - 1 and cpslaudovar.valor is not null
       and  cpslaudovar.descricao in ('ddimero', 'CPK', 'CKMB',  'Calcio', 'Crea', 'Fosforo', 'Gama GT', 'Magnesio', 'Potassio')
       group by cpslaudovar.descricao, cast(cpslaudo1.A_DATAFAT as date), cpslaudovar.data
         order by cast(cpslaudo1.A_datafat as date) desc, cpslaudovar.descricao asc,  cpslaudovar.data
       into textoaux, textoaux3 do
       begin
           texto =  texto || ' ' ||  textoaux || ' ' ||  substring(textoaux3 from 1 for 3000) || ascii_char(13)|| ascii_char(10);
       end
       if (rtrim(texto) <> '') then
           suspend;*/
     -------------------------- lab 3
 /*   texto = '';
    for select  cpslaudovar.descricao,  list(': ' || extract(day from CPSLAUDO1.A_DATAFAT) || '/' || extract(month from CPSLAUDO1.A_DATAFAT) || ' => ' || CPSLAUDOVAR.VALOR)
       FROM CPSLAUDO1
       INNER JOIN CPSLAUDOVAR ON (CPSLAUDOVAR.CODIGOCPS = CPSLAUDO1.CODIGOCPS)
       WHERE CPSLAUDO1.NUMEROORIGEM = :codigocps and cpslaudovar.data >= cast('today' as timestamp) - 1 and cpslaudovar.valor is not null
       and  cpslaudovar.descricao in ('Sodio', 'TGO', 'TGP', 'Ureia','BilDireta','BilIndireta', 'BilTotal')
       group by cpslaudovar.descricao, cast(cpslaudo1.A_DATAFAT as date), cpslaudovar.data
         order by cast(cpslaudo1.A_datafat as date) desc, cpslaudovar.descricao asc,  cpslaudovar.data
       into textoaux, textoaux3 do
       begin
           texto =  texto || ' ' ||  textoaux || ' ' ||  substring(textoaux3 from 1 for 3000) || ascii_char(13)|| ascii_char(10);
       end
       if (rtrim(texto) <> '') then
           suspend;*/
  -------------------------- lab gaso
   /* texto = '';
    for select  cpslaudovar.descricao,  list(': ' || extract(day from CPSLAUDO1.A_DATAFAT) || '/' || extract(month from CPSLAUDO1.A_DATAFAT) || ' => ' || CPSLAUDOVAR.VALOR)
       FROM CPSLAUDO1
       INNER JOIN CPSLAUDOVAR ON (CPSLAUDOVAR.CODIGOCPS = CPSLAUDO1.CODIGOCPS)
       WHERE CPSLAUDO1.NUMEROORIGEM = :codigocps and cpslaudovar.data >= cast('today' as timestamp) - 1 and cpslaudovar.valor is not null
       and  cpslaudovar.descricao in ('PO2', 'PCO2', 'BIC', 'LAC')
       group by cpslaudovar.descricao, cast(cpslaudo1.A_DATAFAT as date), cpslaudovar.data
         order by cast(cpslaudo1.A_datafat as date) desc, cpslaudovar.descricao asc,  cpslaudovar.data
       into textoaux, textoaux3 do
       begin
           texto =  texto || ' ' ||  textoaux || ' ' ||  substring(textoaux3 from 1 for 3000) || ascii_char(13)|| ascii_char(10);
       end
       if (rtrim(texto) <> '') then
           suspend;*/
 -------------------------- lab hemo
 /*   texto = '';
    for select  cpslaudovar.descricao,  list(': ' || extract(day from CPSLAUDO1.A_DATAFAT) || '/' || extract(month from CPSLAUDO1.A_DATAFAT) || ' => ' || CPSLAUDOVAR.VALOR)
       FROM CPSLAUDO1
       INNER JOIN CPSLAUDOVAR ON (CPSLAUDOVAR.CODIGOCPS = CPSLAUDO1.CODIGOCPS)
       WHERE CPSLAUDO1.NUMEROORIGEM = :codigocps and cpslaudovar.data >= cast('today' as timestamp) - 1 and cpslaudovar.valor is not null
       and  cpslaudovar.descricao in ('HEMA', 'HEMO', 'HEMT', 'GlobalH', 'Baston', 'PlaquetasH')
       group by cpslaudovar.descricao, cast(cpslaudo1.A_DATAFAT as date), cpslaudovar.data
         order by cast(cpslaudo1.A_datafat as date) desc, cpslaudovar.descricao asc,  cpslaudovar.data
       into textoaux, textoaux3 do
       begin
           texto =  texto || ' ' ||  textoaux || ' ' ||  substring(textoaux3 from 1 for 3000) || ascii_char(13)|| ascii_char(10);
       end
       if (rtrim(texto) <> '') then
           suspend;*/
   end
end
 ^


ALTER PROCEDURE "RESUMOSINAIS" 
(
  "CODIGOCPS" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(3000)
)
AS
declare variable resumo varchar(250);
declare variable resumoaux varchar(250);
declare variable textoaux1 varchar(30000);
declare variable textoaux2 varchar(30000);
declare variable textoaux3 varchar(30000);
declare variable textoaux4 varchar(30000);
declare variable textoaux5 varchar(30000);
declare variable textoaux6 varchar(30000);
declare variable textoaux7 varchar(30000);
begin
  texto = '';
  resumoaux = null;
  textoaux1 = '';textoaux2 = '';textoaux3 = '';textoaux4 = ''; textoaux5 = ''; textoaux6= ''; textoaux7 = '';
--  for SELECT   CPSCONTROLEPAC.TIPO,  list(' dia: ' || extract(day from CPSCONTROLEPAC.DATAHORA) || '/' || extract(month from CPSCONTROLEPAC.DATAHORA) || ' ==> ' || cast(CPSCONTROLEPAC.VALOR as numeric(15,0)))
  if (texto is null) then  texto = '';
  SELECT extract(day from CPSCONTROLEPAC.DATAHORA) || '/' ||
  extract(month from CPSCONTROLEPAC.DATAHORA) || ' -- ' || CPSCONTROLEPAC.TIPO || ' - ' || CAST(cast(coalesce(CPSCONTROLEPAC.VALOR,0) as numeric(15,0)) AS VARCHAR(50))
  FROM CPSCONTROLEPAC
      LEFT JOIN CONTROLEPAC ON (CONTROLEPAC.DESCRICAO = CPSCONTROLEPAC.TIPO)
      WHERE CPSCONTROLEPAC.CODIGOCPS = :codigocps
      and tipo = 'PA SISTOLICA'
      and cast(datahora as date) >= 'today'
      group by 1
      ORDER BY 1
      into textoaux1;
      if (textoaux1 is not null) then
         TEXTO = textoaux1;
      else
         TEXTO =  '';
  if (texto is null) then  texto = '';
  SELECT extract(day from CPSCONTROLEPAC.DATAHORA) || '/' ||
  extract(month from CPSCONTROLEPAC.DATAHORA) || ' -- ' || CPSCONTROLEPAC.TIPO || ' - ' || CAST(cast(coalesce(CPSCONTROLEPAC.VALOR,0) as numeric(15,0)) AS VARCHAR(50))
  FROM CPSCONTROLEPAC
      LEFT JOIN CONTROLEPAC ON (CONTROLEPAC.DESCRICAO = CPSCONTROLEPAC.TIPO)
      WHERE CPSCONTROLEPAC.CODIGOCPS = :codigocps
      and tipo = 'PA DIASTOLICA'
      and cast(datahora as date) >= 'today'
      group by 1
      ORDER BY 1
      into textoaux2;
      if (textoaux2 is not null)  then
          TEXTO = TEXTO || ascii_char(13)|| ascii_char(10) || textoaux2;
 suspend;
 --('PA SISTOLICA', 'PA DIASTOLICA', 'FREQ CARDiACA', 'FREQ RESPIRATORIA', 'SPO2', 'TEMPERATURA', 'GLICEMIA')
end
 ^


ALTER PROCEDURE "ROUPAPESOFNOVA" 
(
  "DATA" TIMESTAMP,
  "USUARIO" INTEGER,
  "IDROUPA" INTEGER
)
RETURNS
(
  "OK" CHAR(1)
)
AS
DECLARE variable IDSETOR integer;
begin
   -- indice = gen_id(GEN_PRESCSAE_CUIDADOS,0);
    FOR SELECT IDROUPARIA_SETOR from ROUPARIA_SETOR into :IDSETOR DO
    begin
        insert into ROUPARIA_PESO ( DATA, SETOR, PESO, USUARIO, IDROUPADIA) values
         (:DATA, :IDSETOR, 0, :USUARIO, :IDROUPA);
        suspend;
    end
end
 ^


ALTER PROCEDURE "ROUPARIA" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CONVENIO" INTEGER,
  "USUARIO" INTEGER,
  "MES1" DOUBLE PRECISION,
  "MES2" DOUBLE PRECISION,
  "MES3" DOUBLE PRECISION,
  "MES4" DOUBLE PRECISION,
  "MES5" DOUBLE PRECISION,
  "MES6" DOUBLE PRECISION,
  "MES7" DOUBLE PRECISION,
  "MES8" DOUBLE PRECISION,
  "MES9" DOUBLE PRECISION,
  "MES10" DOUBLE PRECISION,
  "MES11" DOUBLE PRECISION,
  "MES12" DOUBLE PRECISION,
  "DIA1" DOUBLE PRECISION,
  "DIA2" DOUBLE PRECISION,
  "DIA3" DOUBLE PRECISION,
  "DIA4" DOUBLE PRECISION,
  "DIA5" DOUBLE PRECISION,
  "DIA6" DOUBLE PRECISION,
  "DIA7" DOUBLE PRECISION,
  "DIA8" DOUBLE PRECISION,
  "DIA9" DOUBLE PRECISION,
  "DIA10" DOUBLE PRECISION,
  "DIA11" DOUBLE PRECISION,
  "DIA12" DOUBLE PRECISION,
  "DIA13" DOUBLE PRECISION,
  "DIA14" DOUBLE PRECISION,
  "DIA15" DOUBLE PRECISION,
  "DIA16" DOUBLE PRECISION,
  "DIA17" DOUBLE PRECISION,
  "DIA18" DOUBLE PRECISION,
  "DIA19" DOUBLE PRECISION,
  "DIA20" DOUBLE PRECISION,
  "DIA21" DOUBLE PRECISION,
  "DIA22" DOUBLE PRECISION,
  "DIA23" DOUBLE PRECISION,
  "DIA24" DOUBLE PRECISION,
  "DIA25" DOUBLE PRECISION,
  "DIA26" DOUBLE PRECISION,
  "DIA27" DOUBLE PRECISION,
  "DIA28" DOUBLE PRECISION,
  "DIA29" DOUBLE PRECISION,
  "DIA30" DOUBLE PRECISION,
  "DIA31" DOUBLE PRECISION
)
AS
declare variable total double precision;
declare variable data timestamp;
declare variable mes integer;
declare variable dia integer;
declare variable qtde integer;
begin
  qtde = 0;
  dia1=0;
  dia2=0;
  dia3=0;
  dia4=0;
  dia5=0;
  dia6=0;
  dia7=0;
  dia8=0;
  dia9=0;
  dia10=0;
  dia11=0;
  dia12=0;
  dia13=0;
  dia14=0;
  dia15=0;
  dia16=0;
  dia17=0;
  dia18=0;
  dia19=0;
  dia20=0;
  dia21=0;
  dia22=0;
  dia23=0;
  dia24=0;
  dia25=0;
  dia26=0;
  dia27=0;
  dia28=0;
  dia29=0;
  dia30=0;
  dia31=0;
  for select USUARIO, extract(month from data), sum(peso) from rouparia_peso
  where data between :data1 and :data2   group by 1,2    order by 1, 2
  into :USUARIO, mes, total do
  begin
    mes1=0;
    mes2=0;
    mes3=0;
    mes4=0;
    mes5=0;
    mes6=0;
    mes7=0;
    mes8=0;
    mes9=0;
    mes10=0;
    mes11=0;
    mes12=0;
    if (mes= 1) then
      mes1 = total;
    if (mes= 2) then
      mes2 = total;
    if (mes= 3) then
      mes3 = total;
    if (mes= 4) then
      mes4 = total;
    if (mes= 5) then
      mes5 = total;
    if (mes= 6) then
      mes6 = total;
    if (mes= 7) then
      mes7 = total;
    if (mes= 8) then
      mes8 = total;
    if (mes= 9) then
      mes9 = total;
    if (mes= 10) then
      mes10 = total;
    if (mes= 11) then
      mes11 = total;
    if (mes= 12) then
      mes12 = total;
    suspend;
  end
  mes1=0;
  mes2=0;
  mes3=0;
  mes4=0;
  mes5=0;
  mes6=0;
  mes7=0;
  mes8=0;
  mes9=0;
  mes10=0;
  mes11=0;
  mes12=0;
  for select USUARIO, extract(day from data), sum(peso) from rouparia_peso
  where data between :data1 and :data2   group by 1,2    order by 1, 2
  into :convenio, dia, total do
  begin
    dia1=0;
    dia2=0;
    dia3=0;
    dia4=0;
    dia5=0;
    dia6=0;
    dia7=0;
    dia8=0;
    dia9=0;
    dia10=0;
    dia11=0;
    dia12=0;
    dia13=0;
    dia14=0;
    dia15=0;
    dia16=0;
    dia17=0;
    dia18=0;
    dia19=0;
    dia20=0;
    dia21=0;
    dia22=0;
    dia23=0;
    dia24=0;
    dia25=0;
    dia26=0;
    dia27=0;
    dia28=0;
    dia29=0;
    dia30=0;
    dia31=0;
    if (dia= 1) then
      dia1 = total;
    if (dia= 2) then
      dia2 = total;
    if (dia= 3) then
      dia3 = total;
    if (dia= 4) then
      dia4 = total;
    if (dia= 5) then
      dia5 = total;
    if (dia= 6) then
      dia6 = total;
    if (dia= 7) then
      dia7 = total;
    if (dia= 8) then
      dia8 = total;
    if (dia= 9) then
      dia9 = total;
    if (dia= 10) then
      dia10 = total;
    if (dia= 11) then
      dia11 = total;
    if (dia= 12) then
      dia12 = total;
    if (dia= 13) then
      dia13 = total;
    if (dia= 14) then
      dia14 = total;
    if (dia= 15) then
      dia15 = total;
    if (dia= 16) then
      dia16 = total;
    if (dia= 17) then
      dia17 = total;
    if (dia= 18) then
      dia18 = total;
    if (dia= 19) then
      dia19 = total;
    if (dia= 20) then
      dia20 = total;
    if (dia= 21) then
      dia21 = total;
    if (dia= 22) then
      dia22 = total;
    if (dia= 23) then
      dia23 = total;
    if (dia= 24) then
      dia24 = total;
    if (dia= 25) then
      dia25 = total;
    if (dia= 26) then
      dia26 = total;
    if (dia= 27) then
      dia27 = total;
    if (dia= 28) then
      dia28 = total;
    if (dia= 29) then
      dia29 = total;
    if (dia= 30) then
      dia30 = total;
    if (dia= 31) then
      dia31 = total;
    suspend;
  end
end
 ^


ALTER PROCEDURE "RTF_CONVERT" 
(
  "RTF" BLOB CHARACTER SET ISO8859_1
)
RETURNS
(
  "TEXTO" BLOB CHARACTER SET ISO8859_1
)
AS
declare variable de varchar(250);
declare variable para varchar(250);
begin
  for select de, para from rtfconvert order by ordem, strlen(de) desc into de, para do
  begin
    rtf = replace(rtf,'{' || :de || ' ' ,:para);
    rtf = replace(rtf,'{' || :de || '}}' ,:para);
    rtf = replace(rtf,'{' || :de || '}' ,:para);
    rtf = replace(rtf,'{' || :de ,:para);
    rtf = replace(rtf,:de || ' ' ,:para);
    rtf = replace(rtf,:de || '}}' ,:para);
    rtf = replace(rtf,:de || '}' ,:para);
    rtf = replace(rtf,:de,:para);
  end
  texto = rtf;
   suspend;
end
 ^


ALTER PROCEDURE "SAPCAMPOS" 
(
  "PRESCRICAOGRUPO" INTEGER,
  "SAPIN" INTEGER
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(100),
  "TIPO" VARCHAR(30),
  "ORDEM" INTEGER,
  "MINIMO" VARCHAR(200),
  "MAXIMO" VARCHAR(200),
  "PADRAO" VARCHAR(200),
  "LISTAGEM" VARCHAR(5000),
  "VALOR" VARCHAR(500),
  "REQUERIDO" CHAR(1),
  "PRESCRICAOGRUPOCAMPO" INTEGER,
  "SAP" INTEGER,
  "VALORBLOB" BLOB
)
AS
begin
  sap = sapin;
  for select indice, descricao, tipo, ordem, minimo, maximo, padrao, listagem, requerido from prescricaogrupocampo where prescricaogrupo = :prescricaogrupo
      into indice, descricao, tipo, ordem, minimo, maximo, padrao, listagem, requerido do
  begin
    prescricaogrupocampo = indice;
    valor = null;
    if (tipo = 'Observacao') then
      select valor,valorblob from sapitem where sap = :sap and prescricaogrupocampo = :indice into valor, valorblob;
    else
      select valor from sapitem where sap = :sap and prescricaogrupocampo = :indice into valor;
    If (sap > 0 ) Then
    suspend;
  end
end
 ^


ALTER PROCEDURE "SAPIBOTOESPROC" 
(
  "GRUPOIN" VARCHAR(50)
)
RETURNS
(
  "TITULO" VARCHAR(50),
  "GRUPO" VARCHAR(30),
  "COMANDO" VARCHAR(30),
  "ORDEM" INTEGER,
  "IMAGEM" BLOB,
  "SQLCONSULTA" VARCHAR(1000)
)
AS
begin
  for select titulo,grupo,comando,ordem,imagem,sqlconsulta from sapibotoes where grupo = :grupoin
      into titulo,grupo,comando,ordem,imagem,sqlconsulta do
    suspend;
end
 ^


ALTER PROCEDURE "SAPINCLUIR" 
(
  "CPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "PRESCRICAOTITULO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "SAP" INTEGER
)
AS
declare data timestamp;
begin
  insert into sap (prescricaotitulo,codigocps,tratamento,datahora,usuario,impresso) values (:prescricaotitulo,:cps,:tratamento,'now',:usuario,0);
  sap = gen_id(gen_sap,0);
  suspend;
end
 ^


ALTER PROCEDURE "SAPINSERTUPDATE" 
(
  "SAP" INTEGER,
  "PRESCRICAOGRUPOCAMPO" INTEGER,
  "VALOR" VARCHAR(500),
  "USUARIO" INTEGER,
  "VALORBLOB" BLOB
)
RETURNS
(
  "INDICE" INTEGER
)
AS
begin
  indice = null;
  select first 1 indice from sapitem where sap = :sap and prescricaogrupocampo = :prescricaogrupocampo into :indice;
  If (indice is null) then
    insert into sapitem (sap,prescricaogrupocampo,valor, valorblob) values (:sap, :prescricaogrupocampo,:valor,:valorblob);
  else
    update sapitem set valor = :valor,valorblob = :valorblob where indice =:indice and sap = :sap and prescricaogrupocampo = :prescricaogrupocampo;
  suspend;
end
 ^


ALTER PROCEDURE "SAPNOVO" 
(
  "CPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "PRESCRICAOTITULO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "DESCRICAO" VARCHAR(40),
  "SAP" INTEGER,
  "TIPO" CHAR(1)
)
AS
declare data timestamp;
begin
  descricao = 'Novo';
  sap = 0;
  tipo = '0';
  suspend;
  for select first 3 indice, datahora from sap where codigocps = :cps and prescricaotitulo = :prescricaotitulo order by datahora desc into sap, data do
  begin
    descricao = 'Copia do dia ' || extract(day from data) || '/' || extract(month from data) || '/' || extract(year from data);
    Tipo = '1';
    suspend;
  end
  for select indice, titulo from sapmodelo where usuario = :usuario and prescricaotitulo = :prescricaotitulo order by titulo into sap, descricao do
  begin
    Tipo = '2';
    suspend;
  end
end
 ^


ALTER PROCEDURE "SAPS3MORTALIDADE" 
(
  "PONTUACAO" INTEGER
)
RETURNS
(
  "PD" VARCHAR(150)
)
AS
begin
pd = cast(exp(cast(-32.6659 +ln(:pontuacao+20.5958)*7.3068 as numeric(15,2)))/(1+exp(cast(-32.6659 +ln(:pontuacao+20.5958)*7.3068 as numeric(15,2)))) as numeric(15,2))*100;
pd = cast(pd as numeric(15,0));
pd = pd || '%';
suspend;
end
 ^


ALTER PROCEDURE "SC" 
(
  "PESO" DOUBLE PRECISION,
  "ALTURA" DOUBLE PRECISION
)
RETURNS
(
  "VALOR" NUMERIC(15, 4)
)
AS
begin
  valor = sqrt((:peso*:altura)/3600);
  suspend;
end
 ^


ALTER PROCEDURE "SERVICOSCONVENIO" 
(
  "CONVENIO" INTEGER,
  "DATA" TIMESTAMP,
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER,
  "A_NOME" VARCHAR(250),
  "LAB" VARCHAR(10),
  "APELIDO" VARCHAR(40),
  "GRUPO" CHAR(1),
  "A_CODAMB" VARCHAR(8),
  "CO" DOUBLE PRECISION,
  "CH" DOUBLE PRECISION,
  "A_FILME" DOUBLE PRECISION,
  "SP" DOUBLE PRECISION,
  "CHB" CHAR(3),
  "TABELA" SMALLINT,
  "ATIVO" CHAR(1),
  "A_PORTE" DOUBLE PRECISION,
  "A_AUXILIO" SMALLINT,
  "AUTORIZACAO" CHAR(1),
  "A_TIPO" CHAR(1),
  "A_SEXO" CHAR(1),
  "A_MINIMO" SMALLINT,
  "A_MAXIMO" SMALLINT,
  "ANEST" CHAR(1),
  "INCIDENCIA" SMALLINT,
  "DHE" CHAR(1),
  "OBSERVACAO" BLOB,
  "CC" CHAR(1),
  "UTI" CHAR(1),
  "GRAUPARTICIPACAO" CHAR(2),
  "APTODOBRA" CHAR(1),
  "TIPOTABELA" CHAR(1),
  "MSGMATERIAL" CHAR(1),
  "TIPOPROC" CHAR(1),
  "GRUPOSUS" CHAR(2),
  "MOEDAAMB" INTEGER,
  "MOEDAEME" INTEGER,
  "MOEDAINT" INTEGER,
  "FILME" DOUBLE PRECISION,
  "CBHPM" CHAR(1),
  "A_VEZES" SMALLINT,
  "CODESP" VARCHAR(2),
  "AUTAMB" CHAR(1),
  "AUTEMG" CHAR(1),
  "AUTINT" CHAR(1),
  "UCO" DOUBLE PRECISION,
  "PERCENTUAL" DOUBLE PRECISION
)
AS
declare variable codigoamb1 varchar(10);
declare variable codigoamb2 varchar(10);
declare variable tabelataxa integer;
begin
  for select codigoamb1, codigoamb2, tabhon, moedaamb, moedaeme, moedaint, filme, cbhpm, uco, percentual from tabela where (convenio = :convenio) and (:data between inicio and fim)  and ((tipoatend = :codigopla) or (tipoatend is null) or (tipoatend = 0)) order by tipoatend desc, inicio desc into :codigoamb1, :codigoamb2, :tabela, :moedaamb, :moedaeme, :moedaint, :filme, :cbhpm, :uco, :percentual do
  begin
    select moedas from moedastab where a_codmoe = :moedaamb into :moedaamb;
    select moedas from moedastab where a_codmoe = :moedaeme into :moedaeme;
    select moedas from moedastab where a_codmoe = :moedaint into :moedaint;
    for select CODIGOSERV, A_NOME, LAB, APELIDO, GRUPO, A_CODAMB, CO, CH, A_FILME, SP, CHB, TABELA, ATIVO, A_PORTE, A_AUXILIO, AUTORIZACAO, GRUPOSUS, A_TIPO, A_SEXO, A_MINIMO, A_MAXIMO, ANEST, INCIDENCIA, DHE, OBSERVACAO, CC, UTI, GRAUPARTICIPACAO, APTODOBRA, (SELECT TIPO FROM TABELAHON WHERE NUMERO = SERVICOS.TABELA), MSGMATERIAL, TIPOPROC, A_VEZES, CODESP, AUTAMB, AUTEMG, AUTINT FROM SERVICOS
        WHERE TABELA = :tabela and a_codamb between :codigoamb1 and :codigoamb2 and (ativo = 'S' or ativo is null)
        into :CODIGOSERV, :A_NOME, :LAB, :APELIDO, :GRUPO, :A_CODAMB, :CO, :CH, :A_FILME,  :SP, :CHB, :TABELA, :ATIVO, :A_PORTE, :A_AUXILIO, :AUTORIZACAO, :GRUPOSUS, :A_TIPO, :A_SEXO, :A_MINIMO, :A_MAXIMO, :ANEST, :INCIDENCIA, :DHE, :OBSERVACAO, :CC, :UTI, :GRAUPARTICIPACAO, :APTODOBRA, :TIPOTABELA, :MSGMATERIAL, :TIPOPROC, :A_VEZES, :CODESP, :AUTAMB, :AUTEMG, :AUTINT do
    begin
      suspend;
    end
  end
  tabelataxa = null;
  if ((tabela is null) and (exists(select tabelamista from convenio where convenio = :convenio and (tabelamista= 'N' or tabelamista is null)))) then
  begin
    filme = 0;
    cbhpm = 'N';
    select moetabhon,tabhon from convenio where convenio = :convenio into :moedaamb, :tabela;
    moedaeme = moedaamb;
    moedaint = moedaamb;
    for select CODIGOSERV, A_NOME, LAB, APELIDO, GRUPO, A_CODAMB, CO, CH, A_FILME, SP, CHB, TABELA, ATIVO, A_PORTE, A_AUXILIO, AUTORIZACAO, GRUPOSUS, A_TIPO, A_SEXO, A_MINIMO, A_MAXIMO, ANEST, INCIDENCIA, DHE, OBSERVACAO, CC, UTI, GRAUPARTICIPACAO, APTODOBRA, (SELECT TIPO FROM TABELAHON WHERE NUMERO = SERVICOS.TABELA), MSGMATERIAL, TIPOPROC, A_VEZES, CODESP, AUTAMB, AUTEMG, AUTINT FROM SERVICOS
        WHERE TABELA = :tabela and (ativo = 'S' or ativo is null)
        into :CODIGOSERV, :A_NOME, :LAB, :APELIDO, :GRUPO, :A_CODAMB, :CO, :CH, :A_FILME,  :SP, :CHB, :TABELA, :ATIVO, :A_PORTE, :A_AUXILIO, :AUTORIZACAO, :GRUPOSUS, :A_TIPO, :A_SEXO, :A_MINIMO, :A_MAXIMO, :ANEST, :INCIDENCIA, :DHE, :OBSERVACAO, :CC, :UTI, :GRAUPARTICIPACAO, :APTODOBRA, :TIPOTABELA, :MSGMATERIAL, :TIPOPROC, :A_VEZES, :CODESP, :AUTAMB, :AUTEMG, :AUTINT do
    begin
      suspend;
    end
  end
  If (tabelataxa > 0) then
  begin
    filme = 0;
    cbhpm = 'N';
    select moetabtaxa,tabtaxa from convenio where convenio = :convenio into :moedaamb, :tabela;
    moedaeme = moedaamb;
    moedaint = moedaamb;
    for select CODIGOSERV, A_NOME, LAB, APELIDO, GRUPO, A_CODAMB, CO, CH, A_FILME,  SP, CHB, TABELA, ATIVO, A_PORTE, A_AUXILIO, AUTORIZACAO, GRUPOSUS, A_TIPO, A_SEXO, A_MINIMO, A_MAXIMO, ANEST, INCIDENCIA, DHE, OBSERVACAO, CC, UTI, GRAUPARTICIPACAO, APTODOBRA, (SELECT TIPO FROM TABELAHON WHERE NUMERO = SERVICOS.TABELA), MSGMATERIAL, TIPOPROC, AUTAMB, AUTEMG, AUTINT  FROM SERVICOS
    where TABELA = :tabelataxa
    into :CODIGOSERV, :A_NOME, :LAB, :APELIDO, :GRUPO, :A_CODAMB, :CO, :CH, :A_FILME,  :SP, :CHB, :TABELA, :ATIVO, :A_PORTE, :A_AUXILIO, :AUTORIZACAO, :GRUPOSUS, :A_TIPO, :A_SEXO, :A_MINIMO, :A_MAXIMO, :ANEST, :INCIDENCIA, :DHE, :OBSERVACAO, :CC, :UTI, :GRAUPARTICIPACAO, :APTODOBRA, :TIPOTABELA, :MSGMATERIAL, :TIPOPROC, :AUTAMB, :AUTEMG, :AUTINT  do
    begin
      suspend;
    end
  end
end
 ^


ALTER PROCEDURE "SINAISVITAIS" 
(
  "CODIGOCPS" INTEGER,
  "DATA" TIMESTAMP,
  "FILTRO" VARCHAR(70)
)
RETURNS
(
  "DESCRICAO" VARCHAR(300),
  "RESUMO" VARCHAR(300),
  "GRUPO" VARCHAR(300),
  "VALOR" DOUBLE PRECISION,
  "HORA08" VARCHAR(300),
  "HORA09" VARCHAR(300),
  "HORA10" VARCHAR(300),
  "HORA11" VARCHAR(300),
  "HORA12" VARCHAR(300),
  "HORA13" VARCHAR(300),
  "HORA14" VARCHAR(300),
  "HORA15" VARCHAR(300),
  "HORA16" VARCHAR(300),
  "HORA17" VARCHAR(300),
  "HORA18" VARCHAR(300),
  "HORA19" VARCHAR(300),
  "HORA20" VARCHAR(300),
  "HORA21" VARCHAR(300),
  "HORA22" VARCHAR(300),
  "HORA23" VARCHAR(300),
  "HORA00" VARCHAR(300),
  "HORA01" VARCHAR(300),
  "HORA02" VARCHAR(300),
  "HORA03" VARCHAR(300),
  "HORA04" VARCHAR(300),
  "HORA05" VARCHAR(300),
  "HORA06" VARCHAR(300),
  "HORA07" VARCHAR(300),
  "ORDEM" INTEGER,
  "USER1" INTEGER,
  "USER2" INTEGER,
  "DATACONTROLE" TIMESTAMP
)
AS
DECLARE VARIABLE DATAHORA TIMESTAMP;
DECLARE VARIABLE VALORAUX VARCHAR(300);
BEGIN
IF (FILTRO = ' ') THEN FILTRO = '';
IF (FILTRO = 'NULL') THEN FILTRO = '';
  data = cast(data as date);
  FOR
      SELECT CPSCONTROLEPAC.TIPO, CONTROLEPAC.RESUMO, CONTROLEPAC.GRUPO, cast(CPSCONTROLEPAC.VALOR as numeric(15,3)), CPSCONTROLEPAC.DATAHORA, CONTROLEPAC.ORDEM, CPSCONTROLEPAC.DATAHORA, CPSCONTROLEPAC.USER1, CPSCONTROLEPAC.USER2 FROM CPSCONTROLEPAC
      LEFT JOIN CONTROLEPAC ON (CONTROLEPAC.DESCRICAO = CPSCONTROLEPAC.TIPO)
      WHERE CPSCONTROLEPAC.CODIGOCPS = :CODIGOCPS AND ((CAST(CPSCONTROLEPAC.DATAHORA AS DATE) = :DATA AND (CAST(CPSCONTROLEPAC.DATAHORA AS TIME) >= '08:00')) OR
                                                       (CAST(CPSCONTROLEPAC.DATAHORA AS DATE) = :DATA+1 AND (CAST(CPSCONTROLEPAC.DATAHORA AS TIME) < '08:00')))
      ORDER BY 6,3,1
  INTO DESCRICAO, RESUMO, GRUPO, VALORAUX, DATAHORA, ORDEM, DATACONTROLE, USER1, USER2 DO
  BEGIN
    if (valoraux like '%.000%') then valoraux = cast(valoraux as integer);
    if (descricao in ('Diurese','Dejees')) then
    begin
       if (valoraux = '1') then valoraux = '+';
       if (valoraux = '2') then valoraux = '++';
       if (valoraux = '3') then valoraux = '+++';
       if (valoraux = '4') then valoraux = '++++';
       if (valoraux = '5') then valoraux = '+++++';
    end
    hora00 = null;
    hora01 = null;
    hora02 = null;
    hora03 = null;
    hora04 = null;
    hora05 = null;
    hora06 = null;
    hora07 = null;
    hora08 = null;
    hora09 = null;
    hora10 = null;
    hora11 = null;
    hora12 = null;
    hora13 = null;
    hora14 = null;
    hora15 = null;
    hora16 = null;
    hora17 = null;
    hora18 = null;
    hora19 = null;
    hora20 = null;
    hora21 = null;
    hora22 = null;
    hora23 = null;
    If (extract(hour from datahora) =  8) then hora08 = valoraux;
    If (extract(hour from datahora) =  9) then hora09 = valoraux;
    If (extract(hour from datahora) = 10) then hora10 = valoraux;
    If (extract(hour from datahora) = 11) then hora11 = valoraux;
    If (extract(hour from datahora) = 12) then hora12 = valoraux;
    If (extract(hour from datahora) = 13) then hora13 = valoraux;
    If (extract(hour from datahora) = 14) then hora14 = valoraux;
    If (extract(hour from datahora) = 15) then hora15 = valoraux;
    If (extract(hour from datahora) = 16) then hora16 = valoraux;
    If (extract(hour from datahora) = 17) then hora17 = valoraux;
    If (extract(hour from datahora) = 18) then hora18 = valoraux;
    If (extract(hour from datahora) = 19) then hora19 = valoraux;
    If (extract(hour from datahora) = 20) then hora20 = valoraux;
    If (extract(hour from datahora) = 21) then hora21 = valoraux;
    If (extract(hour from datahora) = 22) then hora22 = valoraux;
    If (extract(hour from datahora) = 23) then hora23 = valoraux;
    If (extract(hour from datahora) =  0) then hora00 = valoraux;
    If (extract(hour from datahora) =  1) then hora01 = valoraux;
    If (extract(hour from datahora) =  2) then hora02 = valoraux;
    If (extract(hour from datahora) =  3) then hora03 = valoraux;
    If (extract(hour from datahora) =  4) then hora04 = valoraux;
    If (extract(hour from datahora) =  5) then hora05 = valoraux;
    If (extract(hour from datahora) =  6) then hora06 = valoraux;
    If (extract(hour from datahora) =  7) then hora07 = valoraux;
    if (filtro = '' or grupo = filtro) then
    if ((hora00 is not null) or
        (hora01 is not null) or
        (hora02 is not null) or
        (hora03 is not null) or
        (hora04 is not null) or
        (hora05 is not null) or
        (hora06 is not null) or
        (hora07 is not null) or
        (hora08 is not null) or
        (hora09 is not null) or
        (hora10 is not null) or
        (hora11 is not null) or
        (hora12 is not null) or
        (hora13 is not null) or
        (hora14 is not null) or
        (hora15 is not null) or
        (hora16 is not null) or
        (hora17 is not null) or
        (hora18 is not null) or
        (hora19 is not null) or
        (hora20 is not null) or
        (hora21 is not null) or
        (hora22 is not null) or
        (hora23 is not null)
        ) then
      suspend;
  END
  FOR
      SELECT CONTROLEPAC.RESUMO, CONTROLEPAC.RESUMO, CONTROLEPAC.GRUPO, CPSLAUDOVAR.VALOR, CPSLAUDOVAR.DATAHORA, CONTROLEPAC.ORDEM FROM CPSLAUDO1
      INNER JOIN CPSLAUDOVAR ON (CPSLAUDOVAR.CODIGOCPS = CPSLAUDO1.CODIGOCPS)
      INNER JOIN CONTROLEPAC ON (CONTROLEPAC.descricao = CPSLAUDOVAR.DESCRICAO)
      WHERE CPSLAUDO1.NUMEROORIGEM = :CODIGOCPS AND ((CAST(CPSLAUDOVAR.DATAHORA AS DATE) = :DATA AND (CAST(CPSLAUDOVAR.DATAHORA AS TIME) >= '08:00')) OR
                                                       (CAST(CPSLAUDOVAR.DATAHORA AS DATE) = :DATA+1 AND (CAST(CPSLAUDOVAR.DATAHORA AS TIME) < '08:00')) and valor is not null) and liberado = 'S'
      ORDER BY 6, 3, 1
  INTO DESCRICAO, RESUMO, GRUPO, VALORAUX, DATAHORA, ORDEM DO
  BEGIN
    if (valoraux like '%.000%') then valoraux = cast(substring(valoraux from 1 for 10) as integer);
    hora00 = null;
    hora01 = null;
    hora02 = null;
    hora03 = null;
    hora04 = null;
    hora05 = null;
    hora06 = null;
    hora07 = null;
    hora08 = null;
    hora09 = null;
    hora10 = null;
    hora11 = null;
    hora12 = null;
    hora13 = null;
    hora14 = null;
    hora15 = null;
    hora16 = null;
    hora17 = null;
    hora18 = null;
    hora19 = null;
    hora20 = null;
    hora21 = null;
    hora22 = null;
    hora23 = null;
    If (extract(hour from datahora) =  8) then hora08 = valoraux;
    If (extract(hour from datahora) =  9) then hora09 = valoraux;
    If (extract(hour from datahora) = 10) then hora10 = valoraux;
    If (extract(hour from datahora) = 11) then hora11 = valoraux;
    If (extract(hour from datahora) = 12) then hora12 = valoraux;
    If (extract(hour from datahora) = 13) then hora13 = valoraux;
    If (extract(hour from datahora) = 14) then hora14 = valoraux;
    If (extract(hour from datahora) = 15) then hora15 = valoraux;
    If (extract(hour from datahora) = 16) then hora16 = valoraux;
    If (extract(hour from datahora) = 17) then hora17 = valoraux;
    If (extract(hour from datahora) = 18) then hora18 = valoraux;
    If (extract(hour from datahora) = 19) then hora19 = valoraux;
    If (extract(hour from datahora) = 20) then hora20 = valoraux;
    If (extract(hour from datahora) = 21) then hora21 = valoraux;
    If (extract(hour from datahora) = 22) then hora22 = valoraux;
    If (extract(hour from datahora) = 23) then hora23 = valoraux;
    If (extract(hour from datahora) =  0) then hora00 = valoraux;
    If (extract(hour from datahora) =  1) then hora01 = valoraux;
    If (extract(hour from datahora) =  2) then hora02 = valoraux;
    If (extract(hour from datahora) =  3) then hora03 = valoraux;
    If (extract(hour from datahora) =  4) then hora04 = valoraux;
    If (extract(hour from datahora) =  5) then hora05 = valoraux;
    If (extract(hour from datahora) =  6) then hora06 = valoraux;
    If (extract(hour from datahora) =  7) then hora07 = valoraux;
    if (filtro = '' or grupo = filtro) then
    if ((hora00 is not null) or
        (hora01 is not null) or
        (hora02 is not null) or
        (hora03 is not null) or
        (hora04 is not null) or
        (hora05 is not null) or
        (hora06 is not null) or
        (hora07 is not null) or
        (hora08 is not null) or
        (hora09 is not null) or
        (hora10 is not null) or
        (hora11 is not null) or
        (hora12 is not null) or
        (hora13 is not null) or
        (hora14 is not null) or
        (hora15 is not null) or
        (hora16 is not null) or
        (hora17 is not null) or
        (hora18 is not null) or
        (hora19 is not null) or
        (hora20 is not null) or
        (hora21 is not null) or
        (hora22 is not null) or
        (hora23 is not null)
        ) then
      suspend;
  END
/*  FOR
      SELECT CONTROLEPAC.RESUMO, CONTROLEPAC.RESUMO, CONTROLEPAC.GRUPO, VALOR, DATA, CONTROLEPAC.ORDEM FROM LABRESULTADO
      inner JOIN CONTROLEPAC ON (CONTROLEPAC.descricao = labresultado.resultado)
      WHERE idresultado = :codigocps and equipamento = 'Cobas' and valor containing '.' and  ((CAST(DATA AS DATE) = :DATA AND (CAST(DATA AS TIME) >= '08:00')) OR
                                                       (CAST(DATA AS DATE) = :DATA+1 AND (CAST(DATA AS TIME) < '08:00')))
      ORDER BY 6, 3, 1  INTO DESCRICAO, RESUMO, GRUPO, VALORAUX, DATAHORA, ORDEM DO
  BEGIN
    if (valoraux like '%.000%') then valoraux = cast(substring(valoraux from 1 for 10) as integer);
    hora00 = null;
    hora01 = null;
    hora02 = null;
    hora03 = null;
    hora04 = null;
    hora05 = null;
    hora06 = null;
    hora07 = null;
    hora08 = null;
    hora09 = null;
    hora10 = null;
    hora11 = null;
    hora12 = null;
    hora13 = null;
    hora14 = null;
    hora15 = null;
    hora16 = null;
    hora17 = null;
    hora18 = null;
    hora19 = null;
    hora20 = null;
    hora21 = null;
    hora22 = null;
    hora23 = null;
    If (extract(hour from datahora) =  8) then hora08 = valoraux;
    If (extract(hour from datahora) =  9) then hora09 = valoraux;
    If (extract(hour from datahora) = 10) then hora10 = valoraux;
    If (extract(hour from datahora) = 11) then hora11 = valoraux;
    If (extract(hour from datahora) = 12) then hora12 = valoraux;
    If (extract(hour from datahora) = 13) then hora13 = valoraux;
    If (extract(hour from datahora) = 14) then hora14 = valoraux;
    If (extract(hour from datahora) = 15) then hora15 = valoraux;
    If (extract(hour from datahora) = 16) then hora16 = valoraux;
    If (extract(hour from datahora) = 17) then hora17 = valoraux;
    If (extract(hour from datahora) = 18) then hora18 = valoraux;
    If (extract(hour from datahora) = 19) then hora19 = valoraux;
    If (extract(hour from datahora) = 20) then hora20 = valoraux;
    If (extract(hour from datahora) = 21) then hora21 = valoraux;
    If (extract(hour from datahora) = 22) then hora22 = valoraux;
    If (extract(hour from datahora) = 23) then hora23 = valoraux;
    If (extract(hour from datahora) =  0) then hora00 = valoraux;
    If (extract(hour from datahora) =  1) then hora01 = valoraux;
    If (extract(hour from datahora) =  2) then hora02 = valoraux;
    If (extract(hour from datahora) =  3) then hora03 = valoraux;
    If (extract(hour from datahora) =  4) then hora04 = valoraux;
    If (extract(hour from datahora) =  5) then hora05 = valoraux;
    If (extract(hour from datahora) =  6) then hora06 = valoraux;
    If (extract(hour from datahora) =  7) then hora07 = valoraux;
    if (filtro = '' or grupo = filtro) then
    if ((hora00 is not null) or
        (hora01 is not null) or
        (hora02 is not null) or
        (hora03 is not null) or
        (hora04 is not null) or
        (hora05 is not null) or
        (hora06 is not null) or
        (hora07 is not null) or
        (hora08 is not null) or
        (hora09 is not null) or
        (hora10 is not null) or
        (hora11 is not null) or
        (hora12 is not null) or
        (hora13 is not null) or
        (hora14 is not null) or
        (hora15 is not null) or
        (hora16 is not null) or
        (hora17 is not null) or
        (hora18 is not null) or
        (hora19 is not null) or
        (hora20 is not null) or
        (hora21 is not null) or
        (hora22 is not null) or
        (hora23 is not null)
        ) then
      suspend;
  END*/
END
 ^


ALTER PROCEDURE "SINAISVITAISDATA" 
(
  "CODIGOCPS" FLOAT,
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "CPS" INTEGER,
  "PACIENTE" VARCHAR(550),
  "HORARIO" TIMESTAMP,
  "COREN" VARCHAR(30),
  "NOME" VARCHAR(100),
  "SINAIS1" VARCHAR(100),
  "SINAIS2" VARCHAR(100),
  "SINAIS3" VARCHAR(100),
  "SINAIS4" VARCHAR(100),
  "SINAIS5" VARCHAR(100),
  "SINAIS6" VARCHAR(100),
  "SINAIS7" VARCHAR(100),
  "SINAIS8" VARCHAR(100),
  "SINAIS9" VARCHAR(100),
  "SINAIS10" VARCHAR(100),
  "SINAIS11" VARCHAR(100),
  "SINAIS12" VARCHAR(100),
  "SINAIS13" VARCHAR(100),
  "SINAIS14" VARCHAR(100),
  "SINAIS15" VARCHAR(100)
)
AS
declare variable "SINAIS1X" VARCHAR(100);
declare variable "SINAIS2X" VARCHAR(100);
declare variable "SINAIS3X" VARCHAR(100);
declare variable "SINAIS4X" VARCHAR(100);
declare variable "SINAIS5X" VARCHAR(100);
declare variable "SINAIS6X" VARCHAR(100);
declare variable "SINAIS7X" VARCHAR(100);
declare variable "SINAIS8X" VARCHAR(100);
declare variable "SINAIS9X" VARCHAR(100);
declare variable "SINAIS10X" VARCHAR(100);
declare variable tipo varchar(250);
DECLARE VARIABLE VALOR_AUX DOUBLE PRECISION;
DECLARE VARIABLE alanome varchar(250);
DECLARE VARIABLE leitonome varchar(250);
DECLARE VARIABLE horarioant timestamp;
begin
  horarioant = '1.1.1';
  data2 = cast(data2 as date) + 0.99999;
  cps = codigocps;
    SELECT First 1 leitos.A_NOME, alas.a_nome FROM INTER4 inner join leitos on (leitos.LEITO = inter4.leito) inner join alas on (leitos.a_grupo = alas.A_ALA)
    WHERE ( inter4.codigoint = :codigocps )
    ORDER BY inter4.data DESC, inter4.hora desc into leitonome,alanome;
     select first 1 paciente.a_nome from cps1 inner join paciente on (paciente.codigopac = cps1.codigopac) where cps1.codigocps = :codigocps into paciente;
     if ((alanome || ' -- ' || leitonome) is not null) then
       paciente = paciente || ' -- ' || alanome || ' -- ' || leitonome;
     sinais1x = ''; sinais2x = ''; sinais3x = ''; sinais4x = ''; sinais5x = ''; sinais6x = ''; sinais7x = ''; sinais8x = ''; sinais9x = ''; sinais10x = '';
     For select cpscontrolepac.tipo, cpscontrolepac.datahora , cpscontrolepac.valor, medicos.A_CREMEB , medicos.A_nome from cpscontrolepac
         inner join usuarios on cpscontrolepac.user1 = usuarios.codigo
         inner join medicos on usuarios.medico = medicos.a_medicos
         where cpscontrolepac.codigocps=:codigocps and cpscontrolepac.datahora between :data1 and :data2
         order by 2,1
         into :tipo, :HORARIO, :VALOR_AUX, :coren, :nome do
         begin
           if (horarioant = '1.1.1') then horarioant = :horario;
           if (sinais1x = '') then sinais1x = tipo;
           else if (sinais2x  = '') then sinais2x = tipo;
           else if (sinais3x  = '') then sinais3x = tipo;
           else if (sinais4x  = '') then sinais4x = tipo;
           else if (sinais5x  = '') then sinais5x = tipo;
           else if (sinais6x  = '') then sinais6x = tipo;
           else if (sinais7x  = '') then sinais7x = tipo;
           else if (sinais8x  = '') then sinais8x = tipo;
           else if (sinais9x  = '') then sinais9x = tipo;
           else if (sinais10x = '') then sinais8x = tipo;
           sinais1  = sinais1x;
           sinais2  = sinais2x;
           sinais3  = sinais3x;
           sinais4  = sinais4x;
           sinais5  = sinais5x;
           sinais6  = sinais6x;
           sinais7  = sinais7x;
           sinais8  = sinais8x;
           sinais9  = sinais9x;
           sinais10 = sinais10x;
         end
           horario = '1.1.1';
          suspend;
           sinais1  = '';
           sinais2  = '';
           sinais3  = '';
           sinais4  = '';
           sinais5  = '';
           sinais6  = '';
           sinais7  = '';
           sinais8  = '';
           sinais9  = '';
     For select cpscontrolepac.tipo, cpscontrolepac.datahora , cpscontrolepac.valor, medicos.A_CREMEB , medicos.A_nome from cpscontrolepac
         inner join usuarios on cpscontrolepac.user1 = usuarios.codigo
         inner join medicos on usuarios.medico = medicos.a_medicos
         where cpscontrolepac.codigocps=:codigocps and cpscontrolepac.datahora between :data1 and :data2
         order by 2,1
         into :tipo, :HORARIO, :VALOR_AUX, :coren, :nome do
         begin
           sinais10 = sinais10x;
           if (sinais1x = tipo) then sinais1 = cast(valor_aux as numeric(15,2));
           else if (sinais2x  = tipo) then sinais2 = cast(valor_aux as numeric(15,2));
           else if (sinais3x  = tipo) then sinais3 = cast(valor_aux as numeric(15,2));
           else if (sinais4x  = tipo) then sinais4 = cast(valor_aux as numeric(15,2));
           else if (sinais5x  = tipo) then sinais5 = cast(valor_aux as numeric(15,2));
           else if (sinais6x  = tipo) then sinais6 = cast(valor_aux as numeric(15,2));
           else if (sinais7x  = tipo) then sinais7 = cast(valor_aux as numeric(15,2));
           else if (sinais8x  = tipo) then sinais8 = cast(valor_aux as numeric(15,2));
           else if (sinais9x  = tipo) then sinais9 = cast(valor_aux as numeric(15,2));
           else if (sinais10x = tipo) then sinais8 = cast(valor_aux as numeric(15,2));
           if (horarioant <> horario) then
           begin
             suspend;
             horarioant = horario;
                        sinais1  = '';
           sinais2  = '';
           sinais3  = '';
           sinais4  = '';
           sinais5  = '';
           sinais6  = '';
           sinais7  = '';
           sinais8  = '';
           sinais9  = '';
           end
         end
         suspend;
end
 ^


ALTER PROCEDURE "SMSLISTACONTATOS" 
(
  "DATAINICIO" TIMESTAMP,
  "DATAFIM" TIMESTAMP
)
RETURNS
(
  "CODIGO" INTEGER,
  "NOME" VARCHAR(100),
  "TELEFONE" VARCHAR(15),
  "CELULAR" VARCHAR(15),
  "FAX" VARCHAR(15),
  "EMAIL" VARCHAR(80),
  "TIPO" VARCHAR(120)
)
AS
begin
     suspend;
end
 ^


ALTER PROCEDURE "SMS_ENVIO" 
(
  "TELEFONE" VARCHAR(30),
  "MENSAGEM" VARCHAR(3000),
  "DESTINATARIO" VARCHAR(100),
  "TIPO_DESTINATARIO" VARCHAR(20),
  "CODIGO_DESTINATARIO" INTEGER,
  "CNPJ" VARCHAR(18)
)
RETURNS
(
  "STATUS" VARCHAR(1)
)
AS
declare variable texto varchar(2000);
begin
  if ( (DESTINATARIO IS NOT NULL) AND (TIPO_DESTINATARIO IS NOT NULL) AND ( CODIGO_DESTINATARIO IS NOT NULL)  )then
        insert into smslista(telefone, mensagem,cnpj, destinatario, codigo_destinatario, tipo_destinatario) values (:telefone,:MENSAGEM,:CNPJ, :destinatario, :codigo_destinatario, :tipo_destinatario);
  else
     insert into smslista(telefone, mensagem,cnpj) values (:telefone,:MENSAGEM,:CNPJ);
suspend;
end
 ^


ALTER PROCEDURE "SOLICITACAO" 
(
  "TIPOIN" VARCHAR(50)
)
RETURNS
(
  "DESCRICAO" VARCHAR(1250),
  "ATIVO" CHAR(1),
  "TIPO" VARCHAR(50),
  "INDICE" VARCHAR(30),
  "TABELA" VARCHAR(100)
)
AS
declare variable filtro varchar(30);
declare variable grupo varchar(130);
begin
   If (TIPOin like 'Medica%') then
    filtro = '20';
  else If (TIPOin like 'Prof%') then
  begin
    for select codigomm, matmed.a_nome, a_nome from matmed
        where codigomm in (0) into :indice, :descricao, :grupo do
    begin
      suspend;
    end
    filtro = '';
  end
  else If (TIPOin like 'Antimi%') then
  begin
    for select codigomm, matmed.a_nome, a_nome from matmed
        where codigomm in (0) into :indice, :descricao, :grupo do
    begin
      suspend;
    end
    filtro = '';
  end
  else If (TIPOin = 'DVA') then
  begin
   /* for select codigomm, matmed.a_nome, a_nome from matmed
        where codigomm in (0) into :indice, :descricao, :grupo do
    begin
      suspend;
    end
    for select pacote, nome, nome from pacote1
        where pacote in (380,41,42,43,44,63,65,66,67,68,69,71,72,73,74,75,76,77,79,80,81,83,86,87,88,89,93,94,95,96,97,98,99,100,102,107,109,110,115,116,117,
        119,120,122,123,125,128,132,133,134,137,138,139,140,141,143,144,145,149,151,152,153,154,156,157,158,159,161,162,164,165,166,168,170,171,172,174,175,
        182,183,184,185,186,187,188,190,191,381,194,195,197,198,200,201,202,203,204,205,206,212,213,214,215,216,219,224,225,227,229,230,232,235,240,241,242,244,
        246,247,249,253,254,256,258,259,260,262,263,265,266,270,271,279,281,282,283,284,285,286,287,289,290,291,293,295,296,297,300,301,302,303,306,307,308,310,
        311,314,315,316,317,319,326,327,328,329,331,332,333,334,336,337,339,342,343,344,345,348,349,350,351,354,355,359,360,363,364,365,366,368,376,377,383,384,
        385,386,387,388,389,391,392,393,394,395,458,459,460,464,483,463,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,489,480,481,482,484,492,485,
        493,486,494,487,495,488,496,490,497,491,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,515,516,517,518,519,520,521,522,523,524,525,527,
        528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,557,558,559,560,561,562,563,564,565,566,
        567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583) into :indice, :descricao, :grupo do
    begin
      suspend;
    end
    filtro = '';   */
  end
  else If (TIPOin like 'Paco%') then
  begin
   for select pacote, nome, nome from pacote1
   where ativo = 'S' or ativo is null  into :indice, :descricao, :grupo do
   --    where pacote in (612,613,614,615,616,617,618,619,620,621,622) into :indice, :descricao, :grupo do
    begin
      tipo = 'Pacote';
      suspend;
    end
    filtro = '';
  end
  else if (tipoin like 'Prot%') then
  begin
    for select codigomm, matmed.a_nome, tissdominiosapi.descricao from matmed
        left join tissdominiosapi on (tissdominiosapi.codigo = matmed.tussbras and tissdominiosapi.descricao <> '')
        where codigomm in (0) into :indice, :descricao, :grupo do
    begin
      if (:grupo is not null) then
        descricao = grupo;
      else
        grupo = descricao;
      suspend;
    end
    filtro = '';
  end
  else if (tipoin like 'MatMed') then
  begin
   for select pacote, nome, nome from pacote1
   where ativo = 'S' or ativo is null  into :indice, :descricao, :grupo do
   --    where pacote in (612,613,614,615,616,617,618,619,620,621,622) into :indice, :descricao, :grupo do
    begin
      tipo = 'Pacote';
      suspend;
    end
    filtro = '';
  end
  /*begin
   for select pacote, nome, nome from pacote1
        where pacote in (0) into :indice, :descricao, :grupo do
    begin
      suspend;
    end
    for select pacote, nome, nome from pacote1
        where pacote in (380,41,42,43,44,63,65,66,67,68,69,71,72,73,74,75,76,77,79,80,81,83,86,87,88,89,93,94,95,96,97,98,99,100,102,107,109,110,115,116,117,
        119,120,122,123,125,128,129,132,133,134,137,138,139,140,141,143,144,145,149,151,152,153,154,156,157,158,159,161,162,164,165,166,168,170,171,172,174,175,
        182,183,184,185,186,187,188,190,191,381,194,195,197,198,200,201,202,203,204,205,206,212,213,214,215,216,219,224,225,227,229,230,232,235,240,241,242,244,
        246,247,249,253,254,256,258,259,260,262,263,265,266,270,271,279,281,282,283,284,285,286,287,289,290,291,293,295,296,297,300,301,302,303,306,307,308,310,
        311,314,315,316,317,319,326,327,328,329,331,332,333,334,336,337,339,342,343,344,345,348,349,350,351,354,355,359,360,363,364,365,366,368,376,377,383,384,
        385,386,387,388,389,391,392,393,394,395,458,459,460,464,483,463,465,466,467,468,469,470,471,472,473,474,475,476,477,478,479,489,480,481,482,484,492,485,
        493,486,494,487,495,488,496,490,497,491,498,499,500,501,502,503,504,505,506,507,508,509,510,511,512,513,515,516,517,518,519,520,521,522,523,524,525,527,
        528,529,530,531,532,533,534,535,536,537,538,539,540,541,542,543,544,545,546,547,548,549,550,551,552,553,554,555,557,558,559,560,561,562,563,564,565,566,
        567,568,569,570,571,572,573,574,575,576,577,578,579,580,581,582,583,609,627, 245, 632,633,634) into :indice, :descricao, :grupo do
    begin
      suspend;
    end
    filtro = '';
  end*/
  else if (tipoin in ('Devolucao','Pedido')) then
  begin
    for select codigomm, a_nome, 'MatMed' from matmed
    where (a_ativo = 'S' or a_ativo is null) and not a_codamb in ('99999999')
        into :indice, :descricao, :grupo do
    begin
      tipo =grupo;
      suspend;
    end
    filtro = '';
      for select pacote, nome, 'Pacotes' from pacote1
      where ativo = 'S' or ativo is null
          into :indice, :descricao, :grupo do
      begin
        tipo = 'Pacote';
        suspend;
      end
    filtro = '';
  end
  else if (upper(tipoin) like 'CID') then
  begin
    for select distinct cid10, descr || ' ' || cid10,'CID' from cid order by 2 into :indice, :descricao, :grupo do
      suspend;
  end
  else if (tipoin like('Procedimentos')) then
  begin
     filtro = '54';
  end
  else
    filtro = '22';
  if (( Filtro = '54') and ( tipoin = 'Procedimentos') ) then
  begin
     -- for select gruposus ||a_codamb, a_nome from servicos where tabela = :filtro into :indice, :descricao do
      for select gruposus ||a_codamb, a_nome from servicos where tabela = 148 into :indice, :descricao do --EDU042020
      suspend;
  end
  else if (filtro <> '') then
--  for select codigo, descricao, grupo from tissdominiosapi where tipo = :filtro and versao = '3.02.00' and descricao <> '' into indice, descricao, grupo do
  begin
  if (filtro = '22') then
  begin
    if (tipoin = 'RX') then
      for select gruposus ||a_codamb, a_nome from servicos where tabela = 148 and A_tipo = 'R' order by 2 into :indice, :descricao do
      suspend;
    else if (tipoin = 'TC') then
      for select gruposus ||a_codamb, a_nome from servicos where tabela = 148 and A_tipo = 'Q' order by 2 into :indice, :descricao do
      suspend;
    else if (tipoin like 'Lab%')  then
      for select gruposus ||a_codamb, a_nome from servicos where tabela = 148 and A_tipo = 'E' order by 2 into :indice, :descricao do
      suspend;
   /* else if ((tipoin = 'Cultura') and ((indice starting with '4030') or (indice starting with '4031') or (indice starting with '4032')) and (descricao like '%Cultura%')) then
      suspend;
     */
    else if (tipoin = 'RM') then
      for select gruposus ||a_codamb, a_nome from servicos where tabela = 148 and (a_nome starting with 'RESSO') order by 2 into :indice, :descricao do
      suspend;
    else if (tipoin = 'US') then
      for select gruposus ||a_codamb, a_nome from servicos where tabela = 148 and (a_nome starting with 'ULT') order by 2 into :indice, :descricao do
      suspend;
    else if (tipoin = 'Visita') then
      for  select gruposus ||a_codamb, a_nome from servicos where tabela = 148 AND
      a_codamb in ('01010170', '01010030', '01010072', '01010161', '01010030', '01010072', '01010064',
       '01010145' , '01010129', '01010110'  ) order by 2 into :indice, :descricao do
      suspend;
    else if (tipoin in ('Outros','Procedimentos')) then
       for select gruposus ||a_codamb, a_nome from servicos where tabela = 148
           and NOT (A_tipo in  ('R', 'E', 'Q'))
          AND NOT (a_codamb in ('01010170', '01010030', '01010072', '01010161', '01010030', '01010072', '01010064',
           '01010145' , '01010129', '01010110' ) ) and NOT (a_nome starting with 'RESSO')  and NOT (a_nome starting with 'ULT')
       into :indice, :descricao do
       suspend;
  end
  else
/*    if (grupo = tipoin) then*/
      suspend;
  end
end
 ^


ALTER PROCEDURE "SOLICITACAOALVARO" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(200),
  "TIPO" VARCHAR(50),
  "NASC" TIMESTAMP,
  "SEXO" CHAR(1),
  "LAUDO" INTEGER,
  "ALVARO" VARCHAR(30),
  "ALVAROMATERIAL" VARCHAR(30),
  "NOMELAUDO" VARCHAR(250),
  "INDICECPSLAUDO2" FLOAT
)
AS
begin
  for SELECT paciente.codigopac,paciente.a_nome,paciente.nasc,paciente.sexo, cpslaudo1.codigocps, laudopadrx.alvaro,  laudopadrx.alvaromaterial, laudopadrx.laudo, CPSLAUDO2.INDICE FROM CPSLAUDO1
      INNER JOIN CPSLAUDO2 ON (CPSLAUDO2.CODIGOCPS2 = CPSLAUDO1.CODIGOCPS)
      inner join laudopadrx on (laudopadrx.laudo = cpslaudo2.laudopadrao)
      inner join paciente on (paciente.codigopac = cpslaudo1.codigopac)
      WHERE cpslaudo1.a_datafat between :inicio and :final and ( cpslaudo2.status = 'C' or cpslaudo2.status is null) into codigopac, paciente,nasc, sexo, laudo,alvaro,alvaromaterial, nomelaudo, :INDICECPSLAUDO2 do
  begin
    if (alvaro <> '') then
    suspend;
  end
end
 ^


ALTER PROCEDURE "SOLICITACAOPARDINI" 
(
  "INICIO" TIMESTAMP,
  "FINAL" TIMESTAMP
)
RETURNS
(
  "CODIGOPAC" INTEGER,
  "PACIENTE" VARCHAR(200),
  "TIPO" VARCHAR(50),
  "NASC" TIMESTAMP,
  "SEXO" VARCHAR(20),
  "LAUDO" INTEGER,
  "COD_PARDINI" INTEGER,
  "PARDINI_MNM" VARCHAR(30),
  "PARDINI_DESCRICAO" VARCHAR(80),
  "PARDINI_MNM_MATERIAL" VARCHAR(30),
  "PARDINI_MATERIAL" VARCHAR(30),
  "PARDINI_CONSERVANTE" VARCHAR(50),
  "NOMELAUDO" VARCHAR(250),
  "INDICECPSLAUDO2" FLOAT,
  "A_DATAFAT" TIMESTAMP,
  "A_HORA" TIMESTAMP,
  "INFO_COMP" VARCHAR(1)
)
AS
begin
  for SELECT paciente.codigopac,paciente.a_nome,paciente.nasc,paciente.sexo, cpslaudo1.codigocps, cpslaudo1.a_datafat, cpslaudo1.a_hora,  laudopadrx.cod_pardini,  laudopadrx.laudo, CPSLAUDO2.INDICE FROM CPSLAUDO1
      INNER JOIN CPSLAUDO2 ON (CPSLAUDO2.CODIGOCPS2 = CPSLAUDO1.CODIGOCPS)
      inner join laudopadrx on (laudopadrx.laudo = cpslaudo2.laudopadrao)
      inner join paciente on (paciente.codigopac = cpslaudo1.codigopac)
      WHERE cpslaudo1.a_datafat between :inicio and :final AND laudopadrx.cod_pardini is not null and  ( cpslaudo2.status = 'C' or cpslaudo2.status is null)
      into codigopac, paciente,nasc, sexo, laudo, a_datafat, :a_hora ,cod_pardini, nomelaudo, :INDICECPSLAUDO2 do
  begin
    if (cod_pardini > 0) then
    begin
        INFO_COMP = 'N';
        if (exists(select first 1 laudo from laudopadrx_complemento where laudo like :nomelaudo) ) then
            INFO_COMP = 'S';
        if (sexo = 'M') then sexo = 'Masculino';
        else if (sexo = 'F') then sexo = 'Feminino';
        select MNEXA, DESCEXA, MNMAT, DESCMATREAL, conservante from lab_pardini
           where lab_pardini.indice = :cod_pardini
        into :PARDINI_MNM, :PARDINI_DESCRICAO, :PARDINI_MNM_MATERIAL,  :PARDINI_MATERIAL, :PARDINI_CONSERVANTE ;
        suspend;
    end
  end
end
 ^


ALTER PROCEDURE "SP_AIH_PROCEDIMENTO" 
(
  "CONSULTA" VARCHAR(5000)
)
RETURNS
(
  "MEDCNS" VARCHAR(30),
  "CBO" VARCHAR(10),
  "PROCEDIMENTO" VARCHAR(10),
  "QTDEPROC" INTEGER,
  "GRAUPARTICIPACAO" VARCHAR(2),
  "VALOR" DOUBLE PRECISION
)
AS
declare variable auxGrupo varchar(2);
declare variable auxCodigoamb varchar(10);
declare variable cobrar varchar(1);
DECLARE VARIABLE auxCnpj_forn varchar(14);
declare variable senha varchar(20);
begin
  for select medicos.sus, especialidade.cbosus, cps.gruposus || cps.codigoamb, cps.gruposus, cps.codigoamb,  cps.grauparticipacao, cps.cobrar, cps.senha, sum(cps.valor) ,sum(cps.quantidade)
        from cps(:consulta)
        inner join medicos on (medicos.a_medicos = cps.a_medicos)
        inner join especialidade on (especialidade.codesp = cps.codespitem)
        where (( ( (cps.cobrar = 'S') or (cps.cobrar is null) ) and ( (cps.grauparticipacao <> '08' or cps.grauparticipacao is null )) ) or (cps.cobrar = 'B' and cps.gruposus = '02' and cps.codigoamb between '01000000' and '10999999')) and cps.dhe <> 'M' and cps.a_guia <> '' and cps.codigoamb1 is null
        group by  1,3,2,4,5,6,7,8
        --order by cps.valor desc , 3, 1,2,4,5,6,7,8,9
        order by cast(cps.senha as integer ) asc NULLS LAST, 3, 1,2,4,5,6,7,8
        into medcns, cbo, procedimento, auxGrupo, auxCodigoamb, grauparticipacao, cobrar, senha ,valor ,qtdeproc do
  begin
    suspend;
    if ((cobrar = 'S') and (grauparticipacao = '00')) then
    begin
        auxCnpj_forn = null;
        for select medicos.sus, especialidade.cbosus, cps.gruposus || cps.codigoamb, cps.gruposus, cps.codigoamb,  cps.grauparticipacao, cps.cobrar, cps.valor ,sum(cps.quantidade)
            from cps(:consulta)
            inner join medicos on (medicos.a_medicos = cps.a_medicos)
            LEFT join especialidade on (especialidade.codesp = cps.codespitem)
            --LEFT JOIN tiss_anvisa_matmed on (tiss_anvisa_matmed.codigocps = cps.codigocps) and tiss_anvisa_matmed.procedimento = cps.gruposus||cps.codigoamb
            where (cps.cobrar IN ('B')) and cps.dhe <> 'M' and cps.a_guia <> '' and (cps.codigoamb = :auxcodigoamb ) and cps.gruposus= :auxGrupo or (CPS.CODIGOAMB1 = :auxcodigoamb and cps.cobrar='S')
            group by 3,6, 1,2,4,5,7,8
            order by  cps.gruposus , cps.grauparticipacao, cps.valor desc , 3, 1,2,4,5,7,8
            into medcns, cbo, procedimento, auxGrupo, auxCodigoamb, grauparticipacao, cobrar, valor , qtdeproc do
        begin
           -- if (auxCnpj_forn is not null) then
           --    medcns = auxCnpj_forn;
           --if(  ( substr(procedimento,1,4 ) = '0201' ) or ( substr(procedimento,1,4 ) = '0202') or ( substr(procedimento,1,4 ) = '0203')  or ( substr(procedimento,1,4 ) = '0204') or ( substr(procedimento,1,4 ) = '0205') or ( substr(procedimento,1,4 ) = '0206') or ( substr(procedimento,1,4 ) = '0207') ) then  --ZERA CBO, INDICACAO E CNS QUANDO FOR PROCEDIMENTO DE LABORATORIO
          -- begin
           --    cbo    = '000000';
            --   medcns = '000000000000000';
           --end
            if (cbo is null ) then
               cbo = '000000';
            suspend;
        end
    end
  end
end
 ^


ALTER PROCEDURE "SP_APAC_CPC" 
(
  "CPS" FLOAT
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CAMPO01" VARCHAR(250),
  "CAMPO02" VARCHAR(30),
  "CAMPO03" VARCHAR(250),
  "CAMPO04" VARCHAR(30),
  "CAMPO05" VARCHAR(30),
  "CAMPO06" VARCHAR(30),
  "CAMPO07" DATE,
  "CAMPO08" VARCHAR(30),
  "CAMPO08_01" VARCHAR(30),
  "CAMPO09" VARCHAR(250),
  "CAMPO10" VARCHAR(30),
  "CAMPO11" VARCHAR(250),
  "CAMPO12" VARCHAR(30),
  "CAMPO13" VARCHAR(250),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(30),
  "CAMPO16" VARCHAR(10),
  "CAMPO17" VARCHAR(30),
  "CAMPO18" VARCHAR(10),
  "CAMPO19" VARCHAR(250),
  "CAMPO20" INTEGER,
  "CAMPO21" VARCHAR(10),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" INTEGER,
  "CAMPO24" VARCHAR(10),
  "CAMPO25" VARCHAR(250),
  "CAMPO26" INTEGER,
  "CAMPO27" VARCHAR(10),
  "CAMPO28" VARCHAR(250),
  "CAMPO29" INTEGER,
  "CAMPO30" VARCHAR(10),
  "CAMPO31" VARCHAR(250),
  "CAMPO32" INTEGER,
  "CAMPO33" VARCHAR(10),
  "CAMPO34" VARCHAR(250),
  "CAMPO35" INTEGER,
  "CAMPO36" VARCHAR(250),
  "CAMPO37" VARCHAR(30),
  "CAMPO38" VARCHAR(30),
  "CAMPO39" VARCHAR(30),
  "CAMPO40" VARCHAR(1000),
  "CAMPO41" VARCHAR(250),
  "CAMPO42" DATE,
  "CAMPO43" VARCHAR(30),
  "CAMPO44" VARCHAR(30),
  "CAMPO46" VARCHAR(250),
  "CAMPO47" VARCHAR(30),
  "CAMPO48" VARCHAR(30),
  "CAMPO49" VARCHAR(30),
  "CAMPO50" DATE,
  "CAMPO54" VARCHAR(250),
  "CAMPO55" VARCHAR(30),
  "CAMPO56" VARCHAR(250),
  "CAMPO57" VARCHAR(30),
  "CAMPO58" VARCHAR(30),
  "CAMPO58_01" VARCHAR(30),
  "CAMPO59" VARCHAR(250),
  "CAMPO60" VARCHAR(50),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(30),
  "CAMPO63" VARCHAR(250),
  "CAMPO64" DATE,
  "CAMPO65" VARCHAR(10),
  "CAMPO66_01" VARCHAR(250),
  "CAMPO67_01" DATE,
  "CAMPO66_02" VARCHAR(250),
  "CAMPO67_02" DATE,
  "CAMPO66_03" VARCHAR(250),
  "CAMPO67_03" DATE,
  "CAMPO68" VARCHAR(10),
  "CAMPO69" DATE,
  "CAMPO70" VARCHAR(30),
  "CAMPO71" VARCHAR(30),
  "CAMPO72" VARCHAR(30),
  "CAMPO73" VARCHAR(30),
  "CAMPO74_01" VARCHAR(250),
  "CAMPO75_01" DATE,
  "CAMPO74_02" VARCHAR(250),
  "CAMPO75_02" DATE,
  "CAMPO74_03" VARCHAR(250),
  "CAMPO75_03" DATE,
  "CAMPO76" VARCHAR(30),
  "CAMPO77" DATE,
  "CAMPO78" VARCHAR(30),
  "CAMPO79_01" VARCHAR(10),
  "CAMPO80_01" VARCHAR(150),
  "CAMPO81_01" VARCHAR(30),
  "CAMPO82_01" DATE,
  "CAMPO83_01" DATE,
  "CAMPO79_02" VARCHAR(10),
  "CAMPO80_02" VARCHAR(150),
  "CAMPO81_02" VARCHAR(30),
  "CAMPO82_02" DATE,
  "CAMPO83_02" DATE,
  "CAMPO79_03" VARCHAR(10),
  "CAMPO80_03" VARCHAR(150),
  "CAMPO81_03" VARCHAR(30),
  "CAMPO82_03" DATE,
  "CAMPO83_03" DATE,
  "CAMPO84_DATA" DATE,
  "CAMPO84_ALTURA" VARCHAR(10),
  "CAMPO84_PESO" VARCHAR(10),
  "CAMPO84_DIURESE" VARCHAR(10),
  "CAMPO84_GLICOSE" VARCHAR(10),
  "CAMPO84_ALBUMINA" VARCHAR(10),
  "CAMPO84_HB" VARCHAR(10),
  "CAMPO84_VASCULAR" VARCHAR(10),
  "CAMPO84_HIV" VARCHAR(10),
  "CAMPO84_HCV" VARCHAR(10),
  "CAMPO84_HBS" VARCHAR(10),
  "CAMPO84_US" VARCHAR(10),
  "CAMPO85_TRU" VARCHAR(10),
  "CAMPO85_HB" VARCHAR(10),
  "CAMPO85_ALBUMINA" VARCHAR(10),
  "CAMPO85_INTERVENCAO" VARCHAR(10),
  "CAMPO85_CNCDO" VARCHAR(10),
  "CAMPO85_HIV" VARCHAR(10),
  "CAMPO85_HCV" VARCHAR(10),
  "CAMPO85_HBS" VARCHAR(10),
  "CAMPO45" VARCHAR(10)
)
AS
declare variable codigopac integer;
declare variable user1 integer;
declare variable medico integer;
begin
    user1 = 0; medico = 0;
  --select first 1 sus from medicos where a_cpf = :campo29 and sus is not null into campo29;
   codigopac = 0;
   select cps1.codigopac,a_nome, sexo, paciente.matricula, paciente.nasc, paciente.cor, paciente.etnia, paciente.mae, paciente.telefone, paciente.segurado,
          paciente.celular, paciente.endereco || ', ' || paciente.numero || ', ' || paciente.bairro, paciente.cidade, paciente.cep, paciente.uf from cps1
   inner join paciente on (paciente.codigopac = cps1.codigopac)
    where codigocps = :cps
   into :codigopac, :campo03, campo04, campo06, campo07, campo08, campo08_01, campo09, campo10, campo11,
        campo12, campo13, campo14, campo17, campo16  ;
   if ( codigopac > 0 ) then
   begin
      campo05 = codigopac;
      if ( campo04 = 'F' ) then campo04 = 'Feminino';
      else if ( campo04 = 'M' ) then campo04 = 'Masculino';
      if ( ( campo08 = '1' ) or ( campo08 = 'B' ))then campo08 = 'Branca';
      else if ( ( campo08 = '2' ) or ( campo08 = 'N'  ))then campo08 = 'Negra';
      else if ( ( campo08 = '3' ) or ( campo08 = 'P' ))then campo08 = 'Parda';
      else if ( campo08 = '4' ) then campo08 = 'Amarela';
      else if ( campo08 = '5' ) then campo08 = 'Indigena';
      else if ( campo08 = '9' ) then campo08 = 'Sem Informacao';
      --consulta codigo ibge
     SELECT first 1 CadMun.MUNCOD FROM Cadmun
     INNER JOIN CAduf ON ( Cadmun.UFCOD = Caduf.UFCOD)
     WHERE Caduf.UFSIGLA = 'BA' AND UPPER(Cadmun.MUNNOMEX) containing UPPER(:CAMPO14)
     ORDER BY Cadmun.MUNNOMEX
     INTO :campo15 ;
   end
   select   CAMPO18,  CAMPO19,  CAMPO20,  CAMPO21,  CAMPO22,  CAMPO23,  CAMPO24,  CAMPO25,  CAMPO26,  CAMPO27,  CAMPO28,
            CAMPO29,  CAMPO30,  CAMPO31,  CAMPO32,  CAMPO33,  CAMPO34,  CAMPO35,  CAMPO36,  CAMPO37,  CAMPO38,  CAMPO39,
            CAMPO40,  CAMPO41,  CAMPO42,  CAMPO43,  CAMPO44,  CAMPO46,  CAMPO47,  CAMPO48,  CAMPO49,  CAMPO50,  CAMPO54,
            CAMPO55,  CAMPO56,  CAMPO57,  CAMPO58,  CAMPO58_01,  CAMPO59,  CAMPO60,  CAMPO61,  CAMPO62,  CAMPO63,  CAMPO64,
            CAMPO65,  CAMPO66_01,  CAMPO67_01,  CAMPO66_02,  CAMPO67_02,  CAMPO66_03,  CAMPO67_03,  CAMPO68,  CAMPO69,  CAMPO70,
            CAMPO71,  CAMPO72,  CAMPO73,  CAMPO74_01,  CAMPO75_01,  CAMPO74_02,  CAMPO75_02,  CAMPO74_03,  CAMPO75_03,  CAMPO76,
            CAMPO77,  CAMPO78,  CAMPO79_01,  CAMPO80_01,  CAMPO81_01,  CAMPO82_01,  CAMPO83_01,  CAMPO79_02,  CAMPO80_02,  CAMPO81_02,
            CAMPO82_02,  CAMPO83_02,  CAMPO79_03,  CAMPO80_03,  CAMPO81_03,  CAMPO82_03,  CAMPO83_03,  CAMPO84_DATA,  CAMPO84_ALTURA,  CAMPO84_PESO,
            CAMPO84_DIURESE,  CAMPO84_GLICOSE,  CAMPO84_ALBUMINA,  CAMPO84_HB,  CAMPO84_VASCULAR,  CAMPO84_HIV,  CAMPO84_HCV,  CAMPO84_HBS,  CAMPO84_US,
            CAMPO85_TRU,   CAMPO85_HB,  CAMPO85_ALBUMINA,  CAMPO85_INTERVENCAO,  CAMPO85_CNCDO,  CAMPO85_HIV,  CAMPO85_HCV,  CAMPO85_HBS, USER1 from apac_cpc
   where codigocps = :cps
   into     CAMPO18,  CAMPO19,  CAMPO20,  CAMPO21,  CAMPO22,  CAMPO23,  CAMPO24,  CAMPO25,  CAMPO26,  CAMPO27,  CAMPO28,
            CAMPO29,  CAMPO30,  CAMPO31,  CAMPO32,  CAMPO33,  CAMPO34,  CAMPO35,  CAMPO36,  CAMPO37,  CAMPO38,  CAMPO39,
            CAMPO40,  CAMPO41,  CAMPO42,  CAMPO43,  CAMPO44,  CAMPO46,  CAMPO47,  CAMPO48,  CAMPO49,  CAMPO50,  CAMPO54,
            CAMPO55,  CAMPO56,  CAMPO57,  CAMPO58,  CAMPO58_01,  CAMPO59,  CAMPO60,  CAMPO61,  CAMPO62,  CAMPO63,  CAMPO64,
            CAMPO65,  CAMPO66_01,  CAMPO67_01,  CAMPO66_02,  CAMPO67_02,  CAMPO66_03,  CAMPO67_03,  CAMPO68,  CAMPO69,  CAMPO70,
            CAMPO71,  CAMPO72,  CAMPO73,  CAMPO74_01,  CAMPO75_01,  CAMPO74_02,  CAMPO75_02,  CAMPO74_03,  CAMPO75_03,  CAMPO76,
            CAMPO77,  CAMPO78,  CAMPO79_01,  CAMPO80_01,  CAMPO81_01,  CAMPO82_01,  CAMPO83_01,  CAMPO79_02,  CAMPO80_02,  CAMPO81_02,
            CAMPO82_02,  CAMPO83_02,  CAMPO79_03,  CAMPO80_03,  CAMPO81_03,  CAMPO82_03,  CAMPO83_03,  CAMPO84_DATA,  CAMPO84_ALTURA,  CAMPO84_PESO,
            CAMPO84_DIURESE,  CAMPO84_GLICOSE,  CAMPO84_ALBUMINA,  CAMPO84_HB,  CAMPO84_VASCULAR,  CAMPO84_HIV,  CAMPO84_HCV,  CAMPO84_HBS,  CAMPO84_US,
            CAMPO85_TRU,   CAMPO85_HB,  CAMPO85_ALBUMINA,  CAMPO85_INTERVENCAO,  CAMPO85_CNCDO,  CAMPO85_HIV,  CAMPO85_HCV,  CAMPO85_HBS, USER1 ;
   BEGIN
       select  FIRST 1 medicosolicitante.nome, medicos.sus, medicosolicitante.cremeb, 'CNS' from cps1
               inner join medicosolicitante on cps1.SOLCREMEB = medicosolicitante.cremeb
               INNER JOIN MEDICOS on cps1.SOLCREMEB  = medicos.a_cremeb
               where codigocps = :cps
               INTO :CAMPO41, :CAMPO44, :CAMPO45, :CAMPO43 ;
       IF (CAMPO47 IS NULL) THEN
       BEGIN
           select first 1 valor from empresaconfig where parametro like 'OrgaoEmissorSUS' into campo47;
       END
       IF (CAMPO01 IS NULL ) THEN
       BEGIN
          select first 1 RAZAOSOCIAL,cnes from empresas into CAMPO01, CAMPO02;
          CAMPO54 = CAMPO01;
          CAMPO55 = CAMPO02;
       END
       campo48 = '(  ) CNS  (  ) CPF';
       IF (CAMPO58 = 'S') THEN CAMPO58 = 'Sim';
       ELSE IF (CAMPO58 = 'N') THEN CAMPO58 = 'Nao';
       IF (CAMPO65 = 'S') THEN CAMPO65 = 'Sim';
       ELSE IF (CAMPO65 = 'N') THEN CAMPO65 = 'Nao';
       IF (CAMPO68 = 'S') THEN CAMPO68 = 'Sim';
       ELSE IF (CAMPO68 = 'N') THEN CAMPO68 = 'Nao';
       IF (CAMPO73 = 'S') THEN CAMPO73 = 'Sim';
       ELSE IF (CAMPO73 = 'N') THEN CAMPO73 = 'Nao';
       IF (CAMPO76 = 'S') THEN CAMPO76 = 'Sim';
       ELSE IF (CAMPO76 = 'N') THEN CAMPO76 = 'Nao';
       IF (CAMPO78 = '1') THEN CAMPO78 = 'RADICAL';
       ELSE IF (CAMPO78 = '2') THEN CAMPO78 = 'PALIATIVA';
       ELSE IF (CAMPO78 = '3') THEN CAMPO78 = 'ADJUVANTE';
       ELSE IF (CAMPO78 = '4') THEN CAMPO78 = 'PREVIA';
       ELSE IF (CAMPO78 = '5') THEN CAMPO78 = 'ANTIALGICA';
       ELSE IF (CAMPO78 = '6') THEN CAMPO78 = 'ANTIHEMORRAGICA';
   END
   suspend;
end
 ^


ALTER PROCEDURE "SP_APELIDOPROCEDIMENTO" 
(
  "CODIGOAMB" VARCHAR(10),
  "CONVENIO" INTEGER,
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(10)
)
AS
begin
   select first 1 a_codamb2 from apelidocodamb
   where convenio =:convenio  and :codigoamb between a_codamb1 and a_codambfinal into :procedimento;
   if (procedimento is null) then procedimento = :codigoamb;
   if ((procedimento in( '10101012', '00010014')) and (codigopla =2) ) then
   begin
      select codemerg from convenio where convenio =:convenio and (codemerg is not null) into :procedimento;
   end
   if ( procedimento is null ) then procedimento = :codigoamb;
   suspend;
end
 ^


ALTER PROCEDURE "SP_CLINICA_CPS" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "LEITO" INTEGER,
  "INTER4NO" INTEGER,
  "A_GRUPO" INTEGER,
  "LEITO_NOME" VARCHAR(100),
  "ALA_NOME" VARCHAR(100)
)
AS
BEGIN
       SELECT First 1 inter4.leito, inter4.inter4no, leitos.a_grupo, leitos.a_nome, alas.a_nome
       FROM INTER4
       left join leitos on (leitos.leito = inter4.leito)
       left join alas on (alas.a_ala = leitos.a_grupo )
       WHERE ( inter4.codigoint = :CODIGOCPS )
       ORDER BY inter4.data DESC, inter4.hora desc
       INTO :LEITO, :INTER4NO, :A_GRUPO , :LEITO_NOME, :ALA_NOME;
   SUSPEND;
END
 ^


ALTER PROCEDURE "SP_CODIGOAMBVISITA" 
(
  "CODIGOAMB" VARCHAR(10),
  "CONVENIO" INTEGER,
  "ESPECIALIDADE" VARCHAR(2),
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(10)
)
AS
declare variable auxCod varchar(10);
declare variable auxCod1 varchar(10);
BEGIN
   procedimento = codigoamb;
   FOR SELECT EspecConvenio.CODIGOAMB, EspecConvenio.CODIGOAMB1 from EspecConvenio
       INNER JOIN ESPECIALIDADE Especialidade ON ( EspecConvenio.ESPECIALIDADE = Especialidade.CODESP)
       WHERE EspecConvenio.CONVENIO = :CONVENIO and EspecConvenio.ESPECIALIDADE =:ESPECIALIDADE
       into :auxCod, :auxCod1 do
   begin
        if  ( (codigopla in (1,2) ) and (auxCod is not null) ) then
           procedimento = auxCod;
        else if ( (codigopla in (3,7) ) and (auxCod1 is not null) ) then
           procedimento = auxCod1;
   end
   suspend;
END
 ^


ALTER PROCEDURE "SP_COMPESQ" 
(
  "TEXTO" VARCHAR(100),
  "TAMANHO" INTEGER
)
RETURNS
(
  "RETORNO" VARCHAR(100)
)
AS
declare variable numero varchar(100);
begin
    if (texto = '') then
      retorno = texto;
    else if (tamanho = 10 ) then
    begin
       -- texto = CAST( CAST( :texto as INTEGER ) as CHAR(100) );
        While (substring ( :texto from 10 for 1 ) = '') do
          begin
            texto = '0' || texto ;
          end
        texto = Substring ( :texto from 1 for 100 );
        retorno = texto;
   end
   else if (tamanho = 8) then
   begin
       -- texto = CAST( CAST( :texto as INTEGER ) as CHAR(100) );
        While (substring ( :texto from 8 for 1 ) = '') do
          begin
            texto = '0' || texto ;
          end
        texto = Substring ( :texto from 1 for 100 );
        retorno = texto;
   end
   else
   begin
        --texto = CAST( CAST( :texto as INTEGER ) as CHAR(100) );
        While (substring ( :texto from 10 for 1 ) = '') do
          begin
            texto = '0' || texto ;
          end
        texto = Substring ( :texto from 1 for 100 );
        retorno = texto;
   end
   suspend;
end
 ^


ALTER PROCEDURE "SP_CONVCODCRED" 
(
  "PROCEDIMENTO" VARCHAR(10),
  "CONVENIO" INTEGER,
  "CODIGOPLA" INTEGER
)
RETURNS
(
  "CODCRED" VARCHAR(20)
)
AS
begin
    select first 1 convcodcred.codcred from convcodcred
    where convenio = :convenio and ( :procedimento  >= codigoamb1 and :procedimento <= codigoamb2   ) and codigopla = :codigopla
    order by convcodcred.codigoamb1 asc
    into :CODCRED;
   suspend;
end
 ^


ALTER PROCEDURE "SP_COPIA_APAC" 
(
  "CPSORIGEM" INTEGER,
  "CPSDESTINO" INTEGER
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "CAMPO01" VARCHAR(250),
  "CAMPO02" VARCHAR(30),
  "CAMPO03" VARCHAR(250),
  "CAMPO04" VARCHAR(30),
  "CAMPO05" VARCHAR(30),
  "CAMPO06" VARCHAR(30),
  "CAMPO07" DATE,
  "CAMPO08" VARCHAR(30),
  "CAMPO08_01" VARCHAR(30),
  "CAMPO09" VARCHAR(250),
  "CAMPO10" VARCHAR(30),
  "CAMPO11" VARCHAR(250),
  "CAMPO12" VARCHAR(30),
  "CAMPO13" VARCHAR(250),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(30),
  "CAMPO16" VARCHAR(10),
  "CAMPO17" VARCHAR(30),
  "CAMPO18" VARCHAR(10),
  "CAMPO19" VARCHAR(250),
  "CAMPO20" INTEGER,
  "CAMPO21" VARCHAR(10),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" INTEGER,
  "CAMPO24" VARCHAR(10),
  "CAMPO25" VARCHAR(250),
  "CAMPO26" INTEGER,
  "CAMPO27" VARCHAR(10),
  "CAMPO28" VARCHAR(250),
  "CAMPO29" INTEGER,
  "CAMPO30" VARCHAR(10),
  "CAMPO31" VARCHAR(250),
  "CAMPO32" INTEGER,
  "CAMPO33" VARCHAR(10),
  "CAMPO34" VARCHAR(250),
  "CAMPO35" INTEGER,
  "CAMPO36" VARCHAR(250),
  "CAMPO37" VARCHAR(30),
  "CAMPO38" VARCHAR(30),
  "CAMPO39" VARCHAR(30),
  "CAMPO40" VARCHAR(1000),
  "CAMPO41" VARCHAR(250),
  "CAMPO42" DATE,
  "CAMPO43" VARCHAR(30),
  "CAMPO44" VARCHAR(30),
  "CAMPO46" VARCHAR(250),
  "CAMPO47" VARCHAR(30),
  "CAMPO48" VARCHAR(30),
  "CAMPO49" VARCHAR(30),
  "CAMPO50" DATE,
  "CAMPO54" VARCHAR(250),
  "CAMPO55" VARCHAR(30),
  "CAMPO56" VARCHAR(250),
  "CAMPO57" VARCHAR(30),
  "CAMPO58" VARCHAR(30),
  "CAMPO58_01" VARCHAR(30),
  "CAMPO59" VARCHAR(250),
  "CAMPO60" VARCHAR(50),
  "CAMPO61" VARCHAR(100),
  "CAMPO62" VARCHAR(30),
  "CAMPO63" VARCHAR(250),
  "CAMPO64" DATE,
  "CAMPO65" VARCHAR(10),
  "CAMPO66_01" VARCHAR(250),
  "CAMPO67_01" DATE,
  "CAMPO66_02" VARCHAR(250),
  "CAMPO67_02" DATE,
  "CAMPO66_03" VARCHAR(250),
  "CAMPO67_03" DATE,
  "CAMPO68" VARCHAR(10),
  "CAMPO69" DATE,
  "CAMPO70" VARCHAR(30),
  "CAMPO71" VARCHAR(30),
  "CAMPO72" VARCHAR(30),
  "CAMPO73" VARCHAR(30),
  "CAMPO74_01" VARCHAR(250),
  "CAMPO75_01" DATE,
  "CAMPO74_02" VARCHAR(250),
  "CAMPO75_02" DATE,
  "CAMPO74_03" VARCHAR(250),
  "CAMPO75_03" DATE,
  "CAMPO76" VARCHAR(30),
  "CAMPO77" DATE,
  "CAMPO78" VARCHAR(30),
  "CAMPO79_01" VARCHAR(10),
  "CAMPO80_01" VARCHAR(150),
  "CAMPO81_01" VARCHAR(30),
  "CAMPO82_01" DATE,
  "CAMPO83_01" DATE,
  "CAMPO79_02" VARCHAR(10),
  "CAMPO80_02" VARCHAR(150),
  "CAMPO81_02" VARCHAR(30),
  "CAMPO82_02" DATE,
  "CAMPO83_02" DATE,
  "CAMPO79_03" VARCHAR(10),
  "CAMPO80_03" VARCHAR(150),
  "CAMPO81_03" VARCHAR(30),
  "CAMPO82_03" DATE,
  "CAMPO83_03" DATE,
  "CAMPO84_DATA" DATE,
  "CAMPO84_ALTURA" VARCHAR(10),
  "CAMPO84_PESO" VARCHAR(10),
  "CAMPO84_DIURESE" VARCHAR(10),
  "CAMPO84_GLICOSE" VARCHAR(10),
  "CAMPO84_ALBUMINA" VARCHAR(10),
  "CAMPO84_HB" VARCHAR(10),
  "CAMPO84_VASCULAR" VARCHAR(10),
  "CAMPO84_HIV" VARCHAR(10),
  "CAMPO84_HCV" VARCHAR(10),
  "CAMPO84_HBS" VARCHAR(10),
  "CAMPO84_US" VARCHAR(10),
  "CAMPO85_TRU" VARCHAR(10),
  "CAMPO85_HB" VARCHAR(10),
  "CAMPO85_ALBUMINA" VARCHAR(10),
  "CAMPO85_INTERVENCAO" VARCHAR(10),
  "CAMPO85_CNCDO" VARCHAR(10),
  "CAMPO85_HIV" VARCHAR(10),
  "CAMPO85_HCV" VARCHAR(10),
  "CAMPO85_HBS" VARCHAR(10),
  "CAMPO45" VARCHAR(10)
)
AS
begin
   if ( ( cpsorigem > 0 ) and ( cpsdestino > 0 ) ) then
   begin
     if ( exists(select codigocps from apac_cpc where codigocps = :cpsorigem) ) then
     begin
        select CAMPO01, CAMPO02, CAMPO03, CAMPO04, CAMPO05, CAMPO06, CAMPO07, CAMPO08, CAMPO08_01, CAMPO09, CAMPO10,
               CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20, CAMPO21,
               CAMPO22, CAMPO23, CAMPO24, CAMPO25, CAMPO26, CAMPO27, CAMPO28, CAMPO29, CAMPO30, CAMPO31, CAMPO32,
               CAMPO33, CAMPO34, CAMPO35, CAMPO36, CAMPO37, CAMPO38, CAMPO39, CAMPO40, CAMPO41, CAMPO42, CAMPO43,
               CAMPO44, CAMPO46, CAMPO47, CAMPO48, CAMPO49, CAMPO50, CAMPO54, CAMPO55, CAMPO56, CAMPO57,
               CAMPO58, CAMPO58_01, CAMPO59, CAMPO60, CAMPO61, CAMPO62, CAMPO63, CAMPO64, CAMPO65, CAMPO66_01,
               CAMPO67_01, CAMPO66_02, CAMPO67_02, CAMPO66_03, CAMPO67_03, CAMPO68, CAMPO69, CAMPO70, CAMPO71,
               CAMPO72, CAMPO73, CAMPO74_01, CAMPO75_01, CAMPO74_02, CAMPO75_02, CAMPO74_03, CAMPO75_03, CAMPO76,
               CAMPO77, CAMPO78, CAMPO79_01, CAMPO80_01, CAMPO81_01, CAMPO82_01, CAMPO83_01, CAMPO79_02, CAMPO80_02,
               CAMPO81_02, CAMPO82_02, CAMPO83_02, CAMPO79_03, CAMPO80_03, CAMPO81_03, CAMPO82_03, CAMPO83_03,
               CAMPO84_DATA, CAMPO84_ALTURA, CAMPO84_PESO, CAMPO84_DIURESE, CAMPO84_GLICOSE, CAMPO84_ALBUMINA,
               CAMPO84_HB, CAMPO84_US, CAMPO85_TRU, CAMPO85_HB, CAMPO85_ALBUMINA, CAMPO85_INTERVENCAO, CAMPO85_CNCDO,
               CAMPO85_HIV, CAMPO85_HCV, CAMPO85_HBS
        from apac_cpc
        where codigocps = :cpsorigem
        into :CAMPO01, :CAMPO02, :CAMPO03, :CAMPO04, :CAMPO05, :CAMPO06, :CAMPO07, :CAMPO08, :CAMPO08_01, :CAMPO09, :CAMPO10,
               :CAMPO11, :CAMPO12, :CAMPO13, :CAMPO14, :CAMPO15, :CAMPO16, :CAMPO17, :CAMPO18, :CAMPO19, :CAMPO20, :CAMPO21,
               :CAMPO22, :CAMPO23, :CAMPO24, :CAMPO25, :CAMPO26, :CAMPO27, :CAMPO28, :CAMPO29, :CAMPO30, :CAMPO31, :CAMPO32,
               :CAMPO33, :CAMPO34, :CAMPO35, :CAMPO36, :CAMPO37, :CAMPO38, :CAMPO39, :CAMPO40, :CAMPO41, :CAMPO42, :CAMPO43,
               :CAMPO44, :CAMPO46, :CAMPO47, :CAMPO48, :CAMPO49, :CAMPO50, :CAMPO54, :CAMPO55, :CAMPO56, :CAMPO57,
               :CAMPO58, :CAMPO58_01, :CAMPO59, :CAMPO60, :CAMPO61, :CAMPO62, :CAMPO63, :CAMPO64, :CAMPO65, :CAMPO66_01,
               :CAMPO67_01, :CAMPO66_02, :CAMPO67_02, :CAMPO66_03, :CAMPO67_03, :CAMPO68, :CAMPO69, :CAMPO70, :CAMPO71,
               :CAMPO72, :CAMPO73, :CAMPO74_01, :CAMPO75_01, :CAMPO74_02, :CAMPO75_02, :CAMPO74_03, :CAMPO75_03, :CAMPO76,
               :CAMPO77, :CAMPO78, :CAMPO79_01, :CAMPO80_01, :CAMPO81_01, :CAMPO82_01, :CAMPO83_01, :CAMPO79_02, :CAMPO80_02,
               :CAMPO81_02, :CAMPO82_02, :CAMPO83_02, :CAMPO79_03, :CAMPO80_03, :CAMPO81_03, :CAMPO82_03, :CAMPO83_03,
               :CAMPO84_DATA, :CAMPO84_ALTURA, :CAMPO84_PESO, :CAMPO84_DIURESE, :CAMPO84_GLICOSE, :CAMPO84_ALBUMINA,
               :CAMPO84_HB, :CAMPO84_US, :CAMPO85_TRU, :CAMPO85_HB, :CAMPO85_ALBUMINA, :CAMPO85_INTERVENCAO, :CAMPO85_CNCDO,
               :CAMPO85_HIV, :CAMPO85_HCV, :CAMPO85_HBS ;
        BEGIN
          if (campo18 is not null) then --
          begin
           insert into apac_cpc ( codigocps, CAMPO01, CAMPO02, CAMPO03, CAMPO04, CAMPO05, CAMPO06, CAMPO07, CAMPO08, CAMPO08_01, CAMPO09, CAMPO10,
               CAMPO11, CAMPO12, CAMPO13, CAMPO14, CAMPO15, CAMPO16, CAMPO17, CAMPO18, CAMPO19, CAMPO20, CAMPO21,
               CAMPO22, CAMPO23, CAMPO24, CAMPO25, CAMPO26, CAMPO27, CAMPO28, CAMPO29, CAMPO30, CAMPO31, CAMPO32,
               CAMPO33, CAMPO34, CAMPO35, CAMPO36, CAMPO37, CAMPO38, CAMPO39, CAMPO40, CAMPO41, CAMPO42, CAMPO43,
               CAMPO44, CAMPO46, CAMPO47, CAMPO48, CAMPO49, CAMPO50, CAMPO54, CAMPO55, CAMPO56, CAMPO57,
               CAMPO58, CAMPO58_01, CAMPO59, CAMPO60, CAMPO61, CAMPO62, CAMPO63, CAMPO64, CAMPO65, CAMPO66_01,
               CAMPO67_01, CAMPO66_02, CAMPO67_02, CAMPO66_03, CAMPO67_03, CAMPO68, CAMPO69, CAMPO70, CAMPO71,
               CAMPO72, CAMPO73, CAMPO74_01, CAMPO75_01, CAMPO74_02, CAMPO75_02, CAMPO74_03, CAMPO75_03, CAMPO76,
               CAMPO77, CAMPO78, CAMPO79_01, CAMPO80_01, CAMPO81_01, CAMPO82_01, CAMPO83_01, CAMPO79_02, CAMPO80_02,
               CAMPO81_02, CAMPO82_02, CAMPO83_02, CAMPO79_03, CAMPO80_03, CAMPO81_03, CAMPO82_03, CAMPO83_03,
               CAMPO84_DATA, CAMPO84_ALTURA, CAMPO84_PESO, CAMPO84_DIURESE, CAMPO84_GLICOSE, CAMPO84_ALBUMINA,
               CAMPO84_HB, CAMPO84_US, CAMPO85_TRU, CAMPO85_HB, CAMPO85_ALBUMINA, CAMPO85_INTERVENCAO, CAMPO85_CNCDO,
               CAMPO85_HIV, CAMPO85_HCV, CAMPO85_HBS, CPS_ORIGEM_COPIA )
           values ( :cpsdestino, :CAMPO01, :CAMPO02, :CAMPO03, :CAMPO04, :CAMPO05, :CAMPO06, :CAMPO07, :CAMPO08, :CAMPO08_01, :CAMPO09, :CAMPO10,
               :CAMPO11, :CAMPO12, :CAMPO13, :CAMPO14, :CAMPO15, :CAMPO16, :CAMPO17, :CAMPO18, :CAMPO19, :CAMPO20, :CAMPO21,
               :CAMPO22, :CAMPO23, :CAMPO24, :CAMPO25, :CAMPO26, :CAMPO27, :CAMPO28, :CAMPO29, :CAMPO30, :CAMPO31, :CAMPO32,
               :CAMPO33, :CAMPO34, :CAMPO35, :CAMPO36, :CAMPO37, :CAMPO38, :CAMPO39, :CAMPO40, :CAMPO41, :CAMPO42, :CAMPO43,
               :CAMPO44, :CAMPO46, :CAMPO47, :CAMPO48, :CAMPO49, :CAMPO50, :CAMPO54, :CAMPO55, :CAMPO56, :CAMPO57,
               :CAMPO58, :CAMPO58_01, :CAMPO59, :CAMPO60, :CAMPO61, :CAMPO62, :CAMPO63, :CAMPO64, :CAMPO65, :CAMPO66_01,
               :CAMPO67_01, :CAMPO66_02, :CAMPO67_02, :CAMPO66_03, :CAMPO67_03, :CAMPO68, :CAMPO69, :CAMPO70, :CAMPO71,
               :CAMPO72, :CAMPO73, :CAMPO74_01, :CAMPO75_01, :CAMPO74_02, :CAMPO75_02, :CAMPO74_03, :CAMPO75_03, :CAMPO76,
               :CAMPO77, :CAMPO78, :CAMPO79_01, :CAMPO80_01, :CAMPO81_01, :CAMPO82_01, :CAMPO83_01, :CAMPO79_02, :CAMPO80_02,
               :CAMPO81_02, :CAMPO82_02, :CAMPO83_02, :CAMPO79_03, :CAMPO80_03, :CAMPO81_03, :CAMPO82_03, :CAMPO83_03,
               :CAMPO84_DATA, :CAMPO84_ALTURA, :CAMPO84_PESO, :CAMPO84_DIURESE, :CAMPO84_GLICOSE, :CAMPO84_ALBUMINA,
               :CAMPO84_HB, :CAMPO84_US, :CAMPO85_TRU, :CAMPO85_HB, :CAMPO85_ALBUMINA, :CAMPO85_INTERVENCAO, :CAMPO85_CNCDO,
               :CAMPO85_HIV, :CAMPO85_HCV, :CAMPO85_HBS, :CPSORIGEM
               );
              suspend;
          end
        END
     end
   end
end
 ^


ALTER PROCEDURE "SP_CPS6EXAMES" 
(
  "CPS" FLOAT,
  "TIPO_EXAME" VARCHAR(1)
)
RETURNS
(
  "CODIGOAMB" VARCHAR(10),
  "TIPO" VARCHAR(1),
  "DESCRICAO" VARCHAR(250),
  "SEQ" INTEGER,
  "CID_SOLICITACAO" VARCHAR(10),
  "OBSERVACAO" VARCHAR(500)
)
AS
DECLARE VARIABLE TEXTO VARCHAR(200);
DECLARE VARIABLE sequencia integer;
begin
   if ( cps > 0 ) then
   begin
       sequencia = 0;
       IF (TIPO_EXAME = '') THEN
          TEXTO = '';
       ELSE IF (TIPO_EXAME = 'E') THEN
          TEXTO = ' AND SERVICOS.A_TIPO = ''E''';
       ELSE IF (TIPO_EXAME <> 'E') THEN
          TEXTO = ' AND SERVICOS.A_TIPO <> ''E''';
      FOR EXECUTE STATEMENT ' select cps6.codigoamb, servicos.a_nome, servicos.a_tipo, CID_SOLICITACAO, CPS6.OBSERVACAO from cps6
       inner join servicos on ( servicos.codigoserv = cps6.codigoserv)
       where cps6.codigocps6 =' || :cps  || TEXTO ||
       ' order by a_nome asc '
       into :codigoamb,  :descricao, :tipo, :CID_SOLICITACAO, :OBSERVACAO do
       BEGIN
          if (tipo <> 'E') then
          BEGIN
              sequencia = sequencia + 1 ;
              SEQ = SEQUENCIA;
          END
          else
              SEQ = 0;
       suspend;
       END
   end
end
 ^


ALTER PROCEDURE "SP_CPSMANCHESTER" 
(
  "CPS" FLOAT
)
RETURNS
(
  "A_NOME" VARCHAR(100),
  "CODIGOCPS" INTEGER,
  "CODIGOPAC" INTEGER,
  "NASC" TIMESTAMP,
  "SEXO" VARCHAR(1),
  "NATURALIDADE" VARCHAR(100),
  "A_DATAFAT" TIMESTAMP,
  "DATASAIDA" TIMESTAMP,
  "QUEIXA" BLOB,
  "HISTORIA" BLOB,
  "PESO" VARCHAR(20),
  "SAT" VARCHAR(20),
  "HGT" VARCHAR(20),
  "OBSERVACAO" BLOB,
  "ALERGIAS" BLOB,
  "MEDICACAO" BLOB,
  "MEDIDA" BLOB,
  "REAVALIACAO" BLOB,
  "DATA" TIMESTAMP,
  "RISCO" INTEGER,
  "RISCOMEDICO" INTEGER,
  "P" VARCHAR(20),
  "PA" VARCHAR(20),
  "FR" VARCHAR(20),
  "TAX" VARCHAR(20),
  "FC" VARCHAR(250),
  "USER1" INTEGER,
  "DATAHORA" TIMESTAMP
)
AS
BEGIN
    select paciente.a_nome, cpsmanchester.codigocps, paciente.codigopac, paciente.nasc, paciente.sexo, paciente.naturalidade, cps1.a_datafat, cps1.datasaida,
     cpsmanchester.queixa, cpsmanchester.historia, cpsmanchester.peso, cpsmanchester.HGT, cpsmanchester.SAT, cpsmanchester.observacao, cpsmanchester.alergias,
     cpsmanchester.medicacao, cpsmanchester.medida, cpsmanchester.reavaliacao, cpsmanchester.data, cpsmanchester.risco, cpsmanchester.riscomedico, cpsmanchester.p,
     cpsmanchester.pa, cpsmanchester.fr, cpsmanchester.tax, cpsmanchester.FC, CPSMANCHESTER.USER1, CPSMANCHESTER.datahora
     from cpsmanchester
     inner join cps1 on cps1.codigocps = cpsmanchester.codigocps
     inner join paciente on cps1.codigopac = paciente.codigopac
     where paciente.codigopac = :codigopac
     order by cpsmanchester.data
     desc
    into  :a_nome,  :codigocps,  :codigopac, :nasc, :sexo, :naturalidade, :a_datafat, :datasaida,
    :queixa, :historia, :peso, :hgt, :sat, :observacao, :alergias,
    :medicacao,  :medida ,  :reavaliacao, :data, :risco,  riscomedico, :p, :pa, :fr, :tax,
    :FC, :USER1, :DATAHORA;
END
 ^


ALTER PROCEDURE "SP_DATAMAXALTA" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "DATA" TIMESTAMP,
  "HORA" TIMESTAMP
)
AS
BEGIN
     for select first 1 data,hora from cps2 where codigocps2 = :codigocps
         union
         select first 1 data,hora from cps3 where codigocps = :codigocps
         order by 1 desc, 2 desc into data,hora do
     begin
     suspend;
     exit;
     end
END
 ^


ALTER PROCEDURE "SP_ENCAMINHAPACCPS" 
(
  "CPS" FLOAT,
  "CODESP" VARCHAR(3)
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
declare variable vrisco integer;
declare variable vmotivoclas integer;
begin
   select first 1 risco, motivoclas from cpsmanchester where codigocps = :cps into  :vrisco, :vmotivoclas;
   if (:vrisco = 0) Then
     exception exc_dinamica 'Necessario informa a cor da classificacao';
   if (:vmotivoclas = 0) Then
     exception exc_dinamica 'Necessario informa o motivo da classificao';
   if ( ( cps > 0 ) and (codesp is not null and codesp = '999')) then    --alta
   begin
    --   update cps1 set datasaida = 'now', horasaida='now', user5= rdb$get_context('USER_SESSION', 'USUARIO') where codigocps = :cps;
       update cps1 set  medresp= rdb$get_context('USER_SESSION', 'PROF'), cps1.a_ala = 26,  cps1.a_leito =421 where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '10')) then    -- encaminhar pra  sala emerg pediatrica
   begin
       update cps1 set  medresp =630, especialidade='36' , cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '11')) then    -- encaminhar pra  sala emerg obstetrica
   begin
       update cps1 set  medresp =631, especialidade='29' , cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '15')) then    -- encaminhar pra  sala emerg clinica medica
   begin
       update cps1 set  medresp =16, especialidade='15' , cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
    if ( ( cps > 0 ) and (codesp is not null and codesp = '16')) then    -- encaminhar pra emerg clinica cirugica
   begin
       update cps1 set  medresp =511, especialidade='15' , cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
     if ( ( cps > 0 ) and (codesp is not null and codesp = '17')) then    -- encaminhar pra ORTOPEDIA
   begin
       update cps1 set  medresp =518, especialidade='15' , cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
      ---   FIM DAS SALAS
   if ( ( cps > 0 ) and (codesp is not null and codesp = '20')) then     --  voltar pra PED
   begin
       update cps1 set medresp =508, especialidade='01', gravidade=null,  cps1.a_ala = 0,  cps1.a_leito =0  where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '30')) then     --  voltar pra COVID
   begin
       update cps1 set medresp =510, especialidade='01', gravidade=null,  cps1.a_ala = 0,  cps1.a_leito =0  where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '40')) then     -- voltar pra classif obstetrica
   begin
       update cps1 set medresp =509, especialidade='01', gravidade=null,  cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '50')) then     -- voltar pra ADULTO
   begin
       update cps1 set medresp =507, especialidade='01', gravidade=null,  cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '55')) then     -- voltar pra ADULTO
   begin
       update cps1 set medresp =653, especialidade='01', gravidade=null,  cps1.a_ala = 0,  cps1.a_leito =0 where codigocps = :cps;
       codigocps = cps;
   end
   if ( ( cps > 0 ) and (codesp is not null and codesp = '60')) then     -- voltar obs enf
   begin
   --   exception  exc_dinamica 'teste';
       update cps1 set  medresp =517, cps1.a_ala = 30,  cps1.a_leito =424 where codigocps = :cps;
       codigocps = cps;
   end
   suspend;
end
 ^


ALTER PROCEDURE "SP_ENCAMINHAPACOBS" 
(
  "CPS" FLOAT,
  "TIPO" CHAR(1)
)
RETURNS
(
  "CODIGOCPS" FLOAT
)
AS
begin
  if  ((cps > 0 ) and (tipo = 'S')) then
   begin
      update cps1 set a_leito=424, a_ala=30, medresp = 517 where codigocps=:CPS;
       codigocps = cps;
       suspend;
   end
    if  ((cps > 0 ) and (tipo = 'O')) then
   begin
       update cps1 set a_leito=424, a_ala=30, medresp = 517 where codigocps=:CPS;
       codigocps = cps;
       suspend;
   end
   if  ((cps > 0 ) and (tipo = 'A')) then
   begin
       update cps1 set a_leito=421, a_ala=26 where codigocps=:CPS;
       codigocps = cps;
       suspend;
   end
end
 ^


ALTER PROCEDURE "SP_ENCAMINHARPACIENTE" 
(
  "CONSULTA" VARCHAR(3000)
)
RETURNS
(
  "CODIGO" VARCHAR(30),
  "NOME" VARCHAR(250)
)
AS
begin

    codigo = '10';            --PEDIATRIA
    nome = 'EMERG. PEDITRICA';
    SUSPEND;

    codigo = '11';            --OBSTERTICIA
    nome = 'EMERG. OBSTTRICA';
    SUSPEND;

    codigo = '15';            --clinicamedica
    nome = 'EMERG. CLNICA MDICA';
    SUSPEND;
    codigo = '16';            --CRIRGUICA
    nome = 'EMERG. CIRRGICA';
    SUSPEND;
    
    codigo = '17';            --ORTOPEDIA
    nome = 'EMERG. ORTOPDICA';
    SUSPEND;
    
    codigo = '20';
    nome = 'ACOLHIMENTO PEDITRICO';
    SUSPEND;
    codigo = '30';
    nome = 'ACOLHIMENTO COVID-19';
    SUSPEND;
    codigo = '40';
    nome = 'ACOLHIMENTO OBSTTRICO';
    SUSPEND;
    codigo = '50';
    nome = 'ACOLHIMENTO ADULTO';
    SUSPEND;

    codigo = '55';
    nome = 'ACOLHIMENTO ORTOPEDIA';
    SUSPEND;
    
    codigo = '60';
    nome = 'OBSERVAO DE ENFERMAGEM';
    SUSPEND;
    
    codigo = '999';
    nome = 'ALTA';
    SUSPEND;
end
 ^


ALTER PROCEDURE "SP_FAIXA" 
(
  "TIPO" VARCHAR(30)
)
RETURNS
(
  "CODIGOAMB1" VARCHAR(10),
  "CODIGOAMB2" VARCHAR(10)
)
AS
BEGIN EXIT; END
 ^


ALTER PROCEDURE "SP_LAUDODACPS" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "CODLAUDO" FLOAT
)
AS
begin
    select first 1 codigocps from cpslaudo1 where numeroorigem = :codigocps order by a_datafat desc
       into :codlaudo;
    suspend;
end
 ^


ALTER PROCEDURE "SP_LAUDOPADRAO_CODSERV" 
(
  "CODSERV" INTEGER
)
RETURNS
(
  "LAUDO" VARCHAR(60),
  "MNM" VARCHAR(10),
  "QTDLINHA" INTEGER,
  "QUEBRA" VARCHAR(1),
  "ORDEM" INTEGER
)
AS
DECLARE VARIABLE CODIGOAMB VARCHAR(10);
begin
   SELECT A_CODAMB FROM SERVICOS WHERE CODIGOSERV = :CODSERV INTO :CODIGOAMB;
   select first 1 distinct  ld.laudo, ld.mnm, ld.qtdelinha, ld.quebra, ld.ordem from laudopadrx ld
   inner join vinculorx vl on (vl.laudo = ld.laudo)
   where ld.laudotipo = 1 and vl.a_codamb1 = :codigoamb
   into laudo, mnm, qtdlinha, quebra, ordem;
   suspend;
end
 ^


ALTER PROCEDURE "SP_LAUDOPADRAO_MNM" 
(
  "MNM_CPS2" VARCHAR(20),
  "CODSERV" INTEGER
)
RETURNS
(
  "LAUDO" VARCHAR(60),
  "MNM" VARCHAR(10),
  "QTDLINHA" INTEGER,
  "QUEBRA" VARCHAR(1),
  "ORDEM" INTEGER
)
AS
DECLARE VARIABLE CODIGOAMB VARCHAR(10);
begin
   if ( MNM_CPS2 IS NOT NULL ) THEN
   BEGIN
      select first 1 distinct  ld.laudo, ld.mnm, ld.qtdelinha, ld.quebra, ld.ordem from laudopadrx ld
      inner join vinculorx vl on (vl.laudo = ld.laudo)
      where ld.laudotipo = 1 and ld.mnm = :MNM_CPS2
      into laudo, mnm, qtdlinha, quebra, ordem;
   END
   else IF ( CODSERV > 0) THEN
   begin
       SELECT A_CODAMB FROM SERVICOS WHERE CODIGOSERV = :CODSERV INTO :CODIGOAMB;
       select first 1 distinct  ld.laudo, ld.mnm, ld.qtdelinha, ld.quebra, ld.ordem from laudopadrx ld
       inner join vinculorx vl on (vl.laudo = ld.laudo)
       where ld.laudotipo = 1 and vl.a_codamb1 = :codigoamb
       into laudo, mnm, qtdlinha, quebra, ordem;
   end
   suspend;
end
 ^


ALTER PROCEDURE "SP_LAUDOPADRAO_RESULTADO" 
(
  "CODIGOAMB" VARCHAR(8)
)
RETURNS
(
  "LAUDO" VARCHAR(100),
  "RESULTADO" VARCHAR(20)
)
AS
begin
   select first 1 distinct  ld.laudo, ld.resultado from laudopadrx ld
   inner join vinculorx vl on (vl.laudo = ld.laudo)
   where ld.laudotipo = 1 and vl.a_codamb1 =:codigoamb into :laudo,:resultado ;
   suspend;
end
 ^


ALTER PROCEDURE "SP_MATMED_CODIGOS" 
(
  "CONVENIO" INTEGER,
  "MATMED" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "SIMPRO" VARCHAR(30),
  "TUSSBRAS" VARCHAR(30),
  "TISSBRAS" VARCHAR(30),
  "COB_ESP" VARCHAR(30)
)
AS
BEGIN
    select simpro, tussbras, tissbras from matmed where codigomm = :matmed into :simpro, :TUSSBRAS, :TISSBRAS ;
     select first 1 codigoconv from matmedconv where codigomm = :matmed and convenio = :convenio into :cob_esp;
  SUSPEND;
END
 ^


ALTER PROCEDURE "SP_MEDICOCOBRANCA" 
(
  "MEDICO" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "RAZAOSOCIAL" VARCHAR(100),
  "CPF_CNPJ" VARCHAR(30)
)
AS
DECLARE VARIABLE AUX_CPF VARCHAR(30);
DECLARE VARIABLE AUX_CNPJ VARCHAR(30);
BEGIN
   SELECT FIRST 1 RAZAOSOCIAL, CPF, CNPJ FROM MEDICOCOBRANCA
   WHERE A_MEDICOS =:MEDICO AND CONVENIO =:CONVENIO
   INTO :RAZAOSOCIAL, :AUX_CPF, :AUX_CNPJ;
   BEGIN
   IF (AUX_CPF IS NOT NULL) THEN
      CPF_CNPJ =AUX_CPF;
   ELSE IF (AUX_CNPJ IS NOT NULL) THEN
      CPF_CNPJ =AUX_CNPJ;
  ELSE
    CPF_CNPJ =NULL;
  END
  SUSPEND;
END
 ^


ALTER PROCEDURE "SP_MEDICOCREDENCIADO" 
(
  "MEDICO" INTEGER,
  "CONVENIO" INTEGER,
  "CODIGOPLA" INTEGER,
  "DATA" TIMESTAMP
)
RETURNS
(
  "STATUS" VARCHAR(100)
)
AS
declare variable amb varchar(10);
declare variable eme varchar(10);
declare variable inter varchar(10);
declare variable conv integer;
begin
     select first 1 DefProf4.AMB, DefProf4.EME, DefProf4.INTER, defprof4.convenio
     From DEFPROF4
     left JOIN CONVENIO Convenio ON ( Convenio.CONVENIO = DefProf4.CONVENIO )
     WHERE ( DefProf4.A_MEDICOS = :medico ) and ( :data between DefProf4.inicio and DefProf4.fim ) and (defprof4.convenio = :convenio)
     into :amb, :eme, :inter, :conv;
     begin
        status = 'N';
        if ( conv > 0 )then
        begin
           if ( codigopla is not null and codigopla > 0 ) then
           begin
             if ( codigopla = 1 and amb = 'S' ) then
                status = 'S';
             else if ( codigopla = 2 and eme = 'S' ) then
                status = 'S';
             else if ( codigopla = 3 and inter = 'S' ) then
                status = 'S';
           end
        end
     end
    suspend;
end
 ^


ALTER PROCEDURE "SP_ORD_PROC_AIH" 
(
  "CODIGOCPS" FLOAT
)
RETURNS
(
  "PROCEDIMENTO" VARCHAR(10),
  "A_MEDICOS" INTEGER,
  "CODESP" VARCHAR(2),
  "QUANTIDADE" INTEGER,
  "VALOR" DOUBLE PRECISION
)
AS
declare variable gruposus varchar(2);
declare variable codigoamb varchar(8);
begin
     for SELECT inter3.GRUPOSUS || inter3.CODIGOAMB, inter3.A_MEDICOS, inter3.codesp, INTER3.CODIGOAMB, INTER3.GRUPOSUS, sum(inter3.QUANTIDADE), sum(inter3.valor) FROM inter3
              WHERE inter3.codigoint = :codigocps  and  inter3.cobrar = 'S'
              group by 2,1,3, 4,5
              ORDER BY  7 desc, 1,2,3,4 asc
              into :procedimento, :a_medicos, :codesp, codigoamb, gruposus, :quantidade, :valor do
              begin
                 suspend;
                 for SELECT inter3.GRUPOSUS || inter3.CODIGOAMB, inter3.A_MEDICOS, inter3.codesp, inter3.QUANTIDADE, inter3.valor  FROM inter3
                 WHERE inter3.codigoint = :codigocps  and  INTER3.codigoamb = :codigoamb and inter3.cobrar = 'B'
                 and ( inter3.gruposus= :gruposus  and inter3.codigoamb = :codigoamb )
                 ORDER BY  5 desc, 1,2,3,4 asc
                 into :procedimento, :a_medicos, :codesp, :quantidade, :valor do
                 begin
                    suspend;
                 end
              end
       for SELECT inter3.GRUPOSUS || inter3.CODIGOAMB, inter3.A_MEDICOS, inter3.codesp, sum(inter3.QUANTIDADE), sum(inter3.valor)  FROM inter3
              WHERE inter3.codigoint = :codigocps  and  (inter3.cobrar = 'B' and inter3.gruposus = '02' and inter3.codigoamb between '01000000' and '10999999')
              group by 2,1,3
              ORDER BY  5 desc, 1,2,3,4 asc
              into :procedimento, :a_medicos, :codesp, :quantidade, :valor  do
              suspend;
end
 ^


ALTER PROCEDURE "SP_PACOTE_ITEM" 
(
  "CODPACOTE" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODIGOMM" INTEGER,
  "DESCRICAO" VARCHAR(250),
  "QTDE" INTEGER
)
AS
begin
   for select pacote2.codigo, pacote2.quantidade,matmed.a_nome  from pacote1
       inner join pacote2 on (pacote2.pacote = pacote1.pacote)
       inner join matmed on (matmed.codigomm = pacote2.codigo)
       where pacote1.pacote = :codPacote  and ( pacote2.a_ativo = 'S' or pacote2.a_ativo is null )
       order by 3 asc
       into :codigomm, :qtde, :descricao do
   suspend;
end
 ^


ALTER PROCEDURE "SP_PRESCRICAO_INFOR" 
(
  "COD_PRESCRICAO" INTEGER
)
RETURNS
(
  "A_NOTAMED" INTEGER,
  "CPS" FLOAT,
  "CODIGOPAC" FLOAT,
  "NOME_PACIENTE" VARCHAR(250),
  "MEDICO_RESP" VARCHAR(250),
  "NOME_CONVENIO" VARCHAR(250),
  "DATA_ADMISSAO" TIMESTAMP,
  "HORA_ADMISSAO" TIMESTAMP,
  "CODIGO_PRINCIPAL" VARCHAR(10),
  "DATA_PEDIDO" TIMESTAMP,
  "TRATAMENTO" VARCHAR(250),
  "ALA_LEITO" VARCHAR(250),
  "MEDICO_PRESCRICAO" VARCHAR(250)
)
AS
declare variable convenio integer;
declare variable medresp integer;
declare variable codtratamento integer;
declare variable medresp_presc integer;
declare variable datahora timestamp;
declare variable cod_leito integer;
declare variable ala varchar(30);
declare variable Leito varchar(50);
BEGIN
    a_notamed = cod_prescricao;
    select codigocps, tratamento, a_medicos, datahora from notamed where a_notamed = :cod_prescricao into :cps, :codtratamento, :medresp_presc, :datahora;
    select convenio.a_nome, paciente.a_nome, cps1.codigopac, cps1.medresp from cps1
    inner join convenio on (convenio.convenio = cps1.convenio)
    inner join paciente on (paciente.codigopac = cps1.codigopac)
    where cps1.codigocps = :cps
    into :nome_convenio, :nome_paciente, :CODIGOPAC, medresp;
    if ( medresp > 0 )then
    begin
       select a_nome from medicos where a_medicos = :medresp into :medico_resp;
    end
    if ( medresp_presc > 0 )then
    begin
       select a_nome from medicos where a_medicos = :medresp_presc into :MEDICO_PRESCRICAO;
    end
    if ( codtratamento >0 ) then
    begin
       select nome from tratamento where tratamento = :codtratamento into :tratamento;
    end
    SELECT first 1 Inter4.LEITO, Alas.A_NOME, Leitos.A_NOME
    FROM INTER4
    INNER JOIN ALAS alas on ( Alas.A_ALA = Inter4.A_ALA )
    INNER JOIN Leitos Leitos on ( Leitos.LEITO = Inter4.LEITO )
    WHERE Inter4.CODIGOINT = :cps and inter4.data <= :datahora
    ORDER BY Inter4.DATA DESC,  Inter4.HORA DESC
    into :cod_leito, :ala, :leito ;
    ALA_LEITO = ala || '-' || leito;
    SUSPEND;
END
 ^


ALTER PROCEDURE "SP_PRESCRICAO_KIT" 
(
  "CODIGOCPS" FLOAT,
  "COD_PRESCRICAO" INTEGER
)
RETURNS
(
  "COD_KIT" INTEGER,
  "POSOLOGIA" VARCHAR(50),
  "QTDE" INTEGER,
  "DESCRICAO" VARCHAR(150)
)
AS
BEGIN
    FOR select notamed2.a_kits,  notamed2.posologia, notamed2.quantidade ,cast( notamed2.medicament as varchar(250)) from notamed
        inner join notamed2 on (notamed.a_notamed = notamed2.a_notamed)
        where notamed.a_notamed = :COD_PRESCRICAO and notamed.codigocps = :codigocps
        order by notamed2.datasinc asc
        into :cod_kit, :posologia, :qtde, :descricao do
        if ( descricao is not null ) then
               suspend;
END
 ^


ALTER PROCEDURE "SP_SERVICOSCREDENCIADO" 
(
  "PROCEDIMENTO" VARCHAR(10),
  "CONVENIO" INTEGER
)
RETURNS
(
  "CODCRED" VARCHAR(20)
)
AS
begin
    select first 1 CODCRED from SERVCONVENIO
    where convenio = :convenio and (  :procedimento between codigoamb1 and codigoamb2 )
    order by codigoamb1 asc
    into :CODCRED;
   suspend;
end
 ^


ALTER PROCEDURE "TAXAMEDICAMENTOSSUS" 
(
  "CODIGOCPS" INTEGER,
  "QUANTIDADE" INTEGER
)
RETURNS
(
  "CODIGOSERV" INTEGER
)
AS
begin
   insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
   (:codigocps,(select max(codigoserv) from  servicos where a_codamb = '01100012'),'01100012',307,
   (:QUANTIDADE)
   ,1,0.63,0.63,'today','now','N',0,0,0,01,'03','C','S');
  suspend;
end
 ^


ALTER PROCEDURE "TEMPOESPERAMARCACAO_SESAB" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "PACIENTE" VARCHAR(250),
  "AGENDA" VARCHAR(250),
  "PROCEDIMENTO" VARCHAR(250),
  "OBSERVACAO" VARCHAR(250),
  "AGENDAMENTO" TIME,
  "CHEGADA" TIME,
  "TEMPOESPERA" TIME
)
AS
begin
      FOR select marcacao.data, paciente, medicos.a_nome, servicos.a_nome, marcacao.observacao,
      cast(hora as time) Agendamento, cast(hora3 as time) Chegada,
      -- cast(cast(hora3 as timestamp) - cast(hora as timestamp) as integer),
      cast(dateadd (( (datediff(minute from cast(hora as time) to cast(hora3 as time)))) minute to cast('30.12.1899' as timestamp)) as time)
      from marcacao
      inner join medicos on marcacao.a_medicos = medicos.a_medicos
      inner join servicos on marcacao.codigoamb = servicos.a_codamb and tabela =7
      where  data between :DATA1 and :DATA2
      and medicos.a_grupom = 5
      and codigopac is not null
      and hora3 is not null
      order by 3,1 asc
      INTO
      :DATA, :PACIENTE, :AGENDA, :PROCEDIMENTO, :OBSERVACAO, :AGENDAMENTO, :CHEGADA, :TEMPOESPERA DO
      Begin
         IF (AGENDAMENTO > CHEGADA) THEN
            TEMPOESPERA = '00:00';
        suspend;
      end
end
 ^


ALTER PROCEDURE "TEMPOESPERAMARCACAO_SESAB_CPC" 
(
  "DATA1" TIMESTAMP,
  "DATA2" TIMESTAMP
)
RETURNS
(
  "DATA" TIMESTAMP,
  "PACIENTE" VARCHAR(250),
  "AGENDA" VARCHAR(250),
  "PROCEDIMENTO" VARCHAR(250),
  "OBSERVACAO" VARCHAR(250),
  "AGENDAMENTO" TIME,
  "CHEGADA" TIME,
  "TEMPOESPERA" TIME
)
AS
begin
      FOR select marcacao.data, paciente, medicos.a_nome, servicos.a_nome, marcacao.observacao,
      cast(hora as time) Agendamento, cast(hora3 as time) Chegada,
      -- cast(cast(hora3 as timestamp) - cast(hora as timestamp) as integer),
      cast(dateadd (( (datediff(minute from cast(hora as time) to cast(hora3 as time)))) minute to cast('30.12.1899' as timestamp)) as time)
      from marcacao
      inner join medicos on marcacao.a_medicos = medicos.a_medicos
      inner join servicos on marcacao.codigoamb = servicos.a_codamb and tabela =7
      where  data between :DATA1 and :DATA2
      and medicos.a_grupom = 5
      and codigopac is not null
      and hora3 is not null
      order by 3,1 asc
      INTO
      :DATA, :PACIENTE, :AGENDA, :PROCEDIMENTO, :OBSERVACAO, :AGENDAMENTO, :CHEGADA, :TEMPOESPERA DO
      Begin
         IF (AGENDAMENTO > CHEGADA) THEN
            TEMPOESPERA = '00:00';
        suspend;
      end
end
 ^


ALTER PROCEDURE "TIPOVARLAUDO" 
(
  "LAUDONOME" VARCHAR(60),
  "DESCRICAOVAR" VARCHAR(25)
)
RETURNS
(
  "INDICE" INTEGER,
  "DESCRICAO" VARCHAR(25),
  "TITULO" VARCHAR(30),
  "LAUDO" VARCHAR(60),
  "TIPOCONSULTA" VARCHAR(30)
)
AS
begin
  select FIRST 1 indice, descricao, titulo, laudo, tipoconsulta from laudovar
  where laudo =:LAUDONOME and descricao = :DESCRICAOVAR
  INTO :INDICE, :DESCRICAO ,:TITULO, :LAUDO, :TIPOCONSULTA ;
  SUSPEND;
end
 ^


ALTER PROCEDURE "TISSBRAS_NAOENCONTRADO" 
RETURNS
(
  "CODIGOMM" INTEGER,
  "A_NOME" VARCHAR(100),
  "TISSBRAS" VARCHAR(30)
)
AS
declare variable Med_Codi varchar(50);
declare variable Apr_codi varchar(50);
declare variable LABOBras Integer;
declare variable Brasindice varchar(100);
begin
  for Select Codigomm, a_nome, Med_Codi, Apr_codi, LABOBras, TissBras, Brasindice FROM matmed
      where TissBras <> '' and a_ativo <> 'N'
      order by codigomm
      into Codigomm, a_nome, Med_Codi, Apr_codi, LABOBras, TissBras, Brasindice do
 if ( not exists(SELECT NUM_TISS FROM BRASINDICE3 WHERE PRE_MEDI = :MED_CODI AND PRE_APRE = :APR_CODI AND PRE_LABO = :LABOBRAS) ) then
  suspend;
end
 ^


ALTER PROCEDURE "TISSSIMPROANVISA" 
RETURNS
(
  "CODIGOMM" INTEGER,
  "SIMPRO" INTEGER,
  "ANVISA" VARCHAR(150),
  "REF_FABRICANTE" VARCHAR(150)
)
AS
begin
  for select codigomm, simpro from matmed where simpro is not null and anvisa is null into codigomm, simpro do
  begin
    anvisa = null;
    ref_fabricante = null;
    select first 1 tissdominio.anvisa, tissdominio.ref_fabricante from tisssimpro
    left join tissdominio on (tissdominio.anvisa = tisssimpro.anvisa)
    where tisssimpro.simpro = :simpro and tissdominio.anvisa is not null into anvisa, ref_fabricante;
    if (anvisa is not null) then
    begin
     update matmed set anvisa = :anvisa, ref_fabricante = :ref_fabricante where codigomm = :codigomm;
     suspend;
    end
  end
end
 ^


ALTER PROCEDURE "TISS_CONSULTA_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" TIMESTAMP,
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" DOUBLE PRECISION,
  "CAMPO23" BLOB,
  "CODIGOCPS" INTEGER,
  "CRITICA" VARCHAR(100),
  "CODESP" VARCHAR(2),
  "LOGOEMPRESA" BLOB,
  "LOGOCONVENIO" BLOB
)
AS
declare variable medico integer;
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable fromconvenio integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable unimed varchar(100);
declare variable tipoconsulta varchar(4);
declare variable dtAtendimento timestamp;
declare variable tipoCobrar varchar(1);
declare variable campoguiasol varchar(100);
declare variable autoriza varchar(30);
declare variable versao varchar(30);
declare variable tabpadraotiss varchar(2);
begin
  select first 1 cps25.convenio, cps25.medresp, cps25.a_datafat, cps25.versaoguia from cps25(:consulta,'CONSULTATISS','','','S','','') into :convenio, :medico, :dtAtendimento, :versao;
  select fromconvenio from convenio where convenio = :convenio into FROMCONVENIO;
  if ( exists (select status from sp_medicocredenciado(:medico,:convenio,1, :dtAtendimento) where status = 'S' ) )then
  begin
       if  ( fromconvenio in (3,19,27) ) then
       begin
         if ( exists ( select first 1 valor from buscaconfiguracao('MEDICO' || :medico,'MedCredUnimedCobrarCONSULTA') where valor is not null)) then
           select first 1 valor from buscaconfiguracao('MEDICO' || :medico,'MedCredUnimedCobrarCONSULTA') into :tipoCobrar;
         else if ( exists ( select first 1 valor from buscaconfiguracao('MEDICO' || :medico,'MedCredUnimedCobrar') where valor is not null))  then
           select first 1 valor from buscaconfiguracao('MEDICO' || :medico,'MedCredUnimedCobrar') into :tipoCobrar;
       end
       else
          tipoCobrar = 'H';
  end
  if ( tipoCobrar is null ) then tipoCobrar = 'S';
  tabpadraotiss = null;
 select first 1 cast(cps25.codigocps as integer), cast(cps25.codigocps as integer), cps25.a_guia, cps25.matricula, cps1.a_validade, cps1.atdrn, cps1.indicaacidente,  cps25.a_datafat, cps1.prenatal, cps25.codigoamb, cps25.valor, cps1.obscps,
                cps25.medresp, cps25.codigopac, cps25.codigoserv, cps1.especialidade, cps1.maquineta, cps1.solcnpj, cps25.convenio, cps1.guiasol, cps1.autoriza, cps1.versaoguia, servicos.tabpadraotiss
                from cps25(:consulta,'CONSULTATISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 inner join servicos on (cps25.codigoserv = servicos.codigoserv)
 where cobrar = :tipoCobrar and servicos.a_tipo = 'B' and cps1.codigopla=1 and cps1.tipoatendimentotiss = '04'
 into                codigocps,       campo02,    campo03,       campo04,        campo05,    campo06,             campo17,        campo18,       campo19,       campo21,   campo22,     campo23,
                medico, codigopac, codigoserv, especialidade, maquineta, solcnpj, convenio, :campoguiasol, autoriza, :versao, :tabpadraotiss;
 if (campo06 is null) then campo06 = 'N';
 if ( ( exists ( select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'CONS_CAMPO03_AUTORIZACAO') where valor = 'S')) AND (autoriza is not null) ) then
     campo03 = autoriza;
 if (campo03 is null) then campo03 = campo02;
 select a_nome, cartao from paciente where codigopac =:codigopac into :campo07, campo08;
 if (exists(select valor from empresaconfig where sistema = 'syshosp' AND PARAMETRO = 'TissComCodigopac' and valor = 'S' )) then
   campo07 = codigopac || ' ' || campo07;
 select ans, empresa, logomarca, codcred, cbonovo,fromconvenio from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01,fromconvenio;
 SELECT first 1 CBOTISSV3 FROM ESPECIALIDADE WHERE CODESP = :especialidade into campo16;
 if ((:empresa is null) or (:empresa = 0)) then
   empresa = 1;
 select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo10, campo11, campo09, logoempresa;
 if ( exists(select codcred from SP_SERVICOSCREDENCIADO(:campo21, :convenio) where codcred is not null ))then
 begin
   select codcred from SP_SERVICOSCREDENCIADO(:campo21, :convenio)
   into :codcred;
 end
 if (codcred <> '') then campo09 = codcred;
 if (campo10 is null) then
   select first 1 razaosocial, cnes,cnpj, logo from empresas into campo10, campo11, campo09, :logoempresa;
 select valor from empresaconfig where sistema = 'CONVENIO' || :CONVENIO AND PARAMETRO = 'ConsultaContratoSolicitante' INTO :PARAMETRO;
 if (parametro = 'S') then
 begin
   select first 1 nome, cnes from solicitante where cnpj = :solcnpj into campoaux01, campoaux02;
   if (campoaux01 is not null) then
   begin
     campo09 = solcnpj;
     campo10 = campoaux01;
     campo11 = campoaux02;
   end
 end
 parametro= null;
 select valor from empresaconfig where sistema = 'CONVENIO' || :CONVENIO AND PARAMETRO = 'ConsultaCampo10Executante' INTO :PARAMETRO;
 if (parametro = 'S') then
 begin
   select a_nome from medicos where a_medicos = :medico into campo10;
 end
 select a_nome, tipoconselho,a_cremeb,ufcremeb,unimed from medicos where a_medicos = :medico into campo12, campo13, campo14, campo15, unimed;
 select first 1 codigo from tissdominio where descricao containing :campo13 and tipo = '26' into :campo13;
 if (campo13 = 'OUT') then campo13 = '10';
 if (CAMPO13 like '0%') then campo13 = cast(campo13 as integer);
 if ((CAMPO13 = 6) and (versao = '3.03.01')) then campo13 = '0'|| rtrim(campo13);
 if ((CAMPO13 = 7) and (versao = '3.03.01')) then campo13 = '0'|| rtrim(campo13);
 if ((CAMPO13 = 6) and (versao = '3.04.01')) then campo13 = '0'|| rtrim(campo13);
 if ((CAMPO13 = 7) and (versao = '3.04.01')) then campo13 = '0'|| rtrim(campo13);
 if ((versao like '3.03.0%') and (strlen(rtrim(campo13))=1)) then campo13 = '0'|| rtrim(campo13);
 if ((versao like '3.04.0%') and (strlen(rtrim(campo13))=1)) then campo13 = '0'|| rtrim(campo13);
 if ((versao like '3.05.0%') and (strlen(rtrim(campo13))=1)) then campo13 = '0'|| rtrim(campo13);
 select first 1 codigo from tissdominio where descricao = :campo15 and tipo = '59' into campo15;
 campo20 = '22';
 if (campo17 is null) then campo17 = '9';
 if (maquineta <> '') then campo09 = maquineta;
 if ((fromconvenio in (3,19,27)) and (unimed <> '')) then
   campo09 = unimed;
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'SadtUnimedGuiaPrinc_Operadora') where valor = 'S')) then
 begin
   if ((:campoguiasol is null) or (:campoguiasol = '')) then
      campoguiasol = codigocps;
   campo02 = :campoguiasol;  -- soliciado pelo sistema SAW
--   campo03 = campo07;
 end
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'TabelaSulAmericaConsultaDif') where valor = 'S')) then
 begin
      campo20 = '00';
 end
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo20Cons_Planserv') where valor = 'S')) then
 begin
     if ( TABPADRAOTISS is null or tabpadraotiss = '00' ) then
        campo20 = '00';
     else
        campo20 = tabpadraotiss;
 end
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo21_Cons_RemoveZero') where valor = 'S')) then
 begin
       campo21= cast(:campo21 as integer);
 end
 suspend;
end
 ^


ALTER PROCEDURE "TISS_CONSULTA_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" TIMESTAMP,
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" DOUBLE PRECISION,
  "CAMPO23" BLOB,
  "CODIGOCPS" INTEGER,
  "CRITICA" VARCHAR(100),
  "CODESP" VARCHAR(2),
  "LOTE" INTEGER,
  "QTDE" INTEGER
)
AS
begin
 LOTE = 1;
 qtde = 0;
 for select distinct cps25.codigocps from cps25(:consulta,'CONSULTATISS','','','S','','') into codigocps do
 begin
   select campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo19, campo20,
          campo21, campo22, campo23 from tiss_consulta_v3('where codigocps = ' || :codigocps)
   into   campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo19, campo20,
          campo21, campo22, campo23;
    if (campo22 >= 0.01) then
   begin
     qtde = qtde + 1;
     if (gen_id(GEN_ENVIO,0) = 0) THEN
       suspend;
     else
       EXCEPTION EXC_AVISO;
     if (qtde = 100) then
     begin
       qtde = 0;
       lote = lote + 1;
     end
   end
 end
end
 ^


ALTER PROCEDURE "TISS_GLOSA_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(250),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" TIMESTAMP,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" VARCHAR(30000),
  "CAMPO28" DOUBLE PRECISION,
  "CAMPO29" VARCHAR(30000),
  "CAMPO30" DOUBLE PRECISION,
  "CAMPO31" DOUBLE PRECISION,
  "CAMPO32" TIMESTAMP,
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "LOGOEMPRESA" BLOB,
  "LOGOCONVENIO" BLOB,
  "PAGINA" INTEGER,
  "QTDE" INTEGER
)
AS
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable fromconvenio integer;
declare variable guia varchar(20);
declare variable dhe char(1);
declare variable tipo char(1);
declare variable codigopla integer;
declare variable codcred varchar(100);
declare variable tiss varchar(100);
declare variable tuss varchar(100);
declare variable laboratorio varchar(100);
declare variable codamb varchar(100);
declare variable simpro varchar(10);
declare variable auxConsTussMM varchar(100);
declare variable auxCodConv varchar(100);
declare variable bcColunaPesq varchar(100);
declare variable tipoMatMed varchar(10);
declare variable ondePegou varchar(30);
declare variable NovoNome varchar(250);
declare variable JustiGlosa150 varchar(30);
declare variable auxParcela integer;
begin
 PAGINA = 1;
 QTDE = 0;
   select sum(cps25.representa)
   from cps25(:consulta,'GLOSATISS','','','S','','')
   where cobrar = 'S' and cps25.glosa >= 0.01 and cps25.representa >= 0.01 and (glosadefinitiva <> 'S' or glosadefinitiva is null) into campo30;
 for select cast(cps25.codigocps as integer), cps25.convenio, cps25.a_guia, cps25.codigoserv, cps25.dhe, cps25.codigopla, cps1.autoriza, cps25.grauparticipacao, cps25.glosatipo,cps25.justificativaglosa,cps25.datarepresenta,cast(cps25.tratamento as integer),cast(cps25.fatura as integer),cps25.numeroguiaoperadora,
        max(cps25.data), max(cps25.a_datafat), sum(cps25.representa) from cps25(:consulta,'GLOSATISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 where cobrar = 'S' and cps25.glosa >= 0.01 and cps25.representa >= 0.01 and (glosadefinitiva <> 'S' or glosadefinitiva is null)
 group by 1,2,3,4,5,6,7,8,9,10,11,12,13, 14
 order by dhe desc
 into  codigocps,  convenio, guia, codigoserv,dhe, codigopla, campo15,campo24,campo25,campo27,campo32, tratamento,campo08,campo14,
       campo19,campo20,campo26 do
 begin
   select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'JustiGlosa150') into :JustiGlosa150 ;
   if ( JustiGlosa150 is null or JustiGlosa150 = 'S' ) then
      campo27 = substring(campo27 from 1 for 500);
   campo09 = campo08;
   qtde = qtde + 1;
   campo02 = codigocps;
   if ( (auxParcela > 0 ) AND ( (codigopla <> 1 and codigopla <> 2) ) ) then
      campo02 = :campo02 || :auxParcela;
   campo13=campo02;
   campo04='2';
   campo31=0;
   if (empresa is null) then
   begin
     select ans, empresa, logomarca, codcred, fromconvenio, a_nome from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, fromconvenio, campo03;
     if ((:empresa is null) or (:empresa = 0)) then
       empresa = 1;
     select first 1 razaosocial,  cnpj, logo from empresas where codigo = :empresa into campo07, campo06, logoempresa;
     if (campo06 is null) then
       select first 1 razaosocial, cnpj, logo from empresas into campo07, campo06, :logoempresa;
     if (codcred <> '') then
         campo06 = codcred;
     if (guia is not null) then campo05 = guia; else campo05 = codigocps;
     if (campo14 is null or campo14 = '') then
        campo14= campo05;
   end
   select tiss from motivoglosa where numero = :campo25 and tiss <> '' into campo25;
   campo21 = null;
   campo22 = null;
   campo23 = null;
   if (dhe = 'M') then
   begin
      campo21='19';
            select a_codamb, a_nome, tissbras, tussbras, a_labo, simpro from matmed where codigomm = :codigoserv into codamb, campo23, tiss, tuss, laboratorio, :simpro;
      select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'CONS_TUSS_MATMED') into :auxConsTussMM ;
      select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'CONS_COLU_CODCONV') into :bcColunaPesq ;
      if ( auxConsTussMM = 'M' or auxConsTussMM is null ) then
      BEGIN
         if ( tuss is null or tuss = '' ) then
         begin
             if ( bcColunaPesq is null or bcColunaPesq = 'T' ) then
                 select first 1 codtiss, a_codamb,novonome,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed,:novonome ,:ondePegou;
             else if ( bcColunaPesq = 'C' ) then
                 select first 1 codigoconv, a_codamb,novonome,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:ondePegou;
             campo22 = tuss;
             if (tuss is null or tuss = '') then
             begin
                select tissbras, simpro, a_codamb, 'MatMed' from matmed where codigomm = :codigoserv into tiss, simpro, :tipoMatmed, :ondePegou ;
                if ( simpro is not null) then
                    campo22 = simpro;
                else if (tiss is not null) then
                     campo22 = tiss;
             end
             campo21 = '00';
         end
         else
         begin
            campo22 = tuss;
         end
      END
      ELSE if ( auxConsTussMM = 'C' ) then
      begin
           if ( bcColunaPesq = 'T' ) then
                 select first 1 codtiss, a_codamb, novonome,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:ondePegou;
           else if ( bcColunaPesq = 'C' ) then
                 select first 1 codigoconv, a_codamb,novonome, 'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:ondePegou;
           campo22 = tuss;
           if (tuss is null or tuss = '') then
           begin
                select tissbras, simpro, a_codamb, 'MatMed' from matmed where codigomm = :codigoserv into :tiss, :simpro, :tipoMatmed, :ondePegou;
                if ( simpro is not null) then
                    campo22 = simpro;
                else if (tiss is not null) then
                     campo22 = tiss;
           end
      end
      select first 1 substr(descricao,1,100) from tissdominio where codigo = :campo22 and tipo = '19' AND descricao is not null into campo23;
      if ( codamb in ('72140011', '72000002')) then
      begin
         campo21 = '20';
         select first 1 substr(descricao || ' ' || tipo || ' ' || apresentacao,1,100) from tissdominio where codigo = :campo22 and tipo = '20' AND descricao is not null into campo23;
      end
      -- CASO NAO TENHO TUSS O CAMPO DEVE TER 10 DIGITOS
      if ((campo21 = '00') and (strlen(Rtrim(campo22)) < 10 ) )then
      begin
         select retorno from sp_compesq(:campo22, 10) into :campo22;
      end
   end
   else
   begin
     campo21='22';
     campo22= null;
     select a_tipo, a_codamb, substr(a_nome,1,100) from servicos where codigoserv =:codigoserv into :tipo, :campo22, campo23;
     if (codigopla in(1,2)) then
        select first 1 codigoamb from cps2 where codigocps2 = :codigocps and codigoserv = :codigoserv into :campo22;
     else
        select first 1 codigoamb from inter3 where codigoint = :codigocps and codigoserv = :codigoserv into :campo22;
     select first 1 procedimento from sp_apelidoprocedimento(:campo22,:convenio,:codigopla) into :campo22;
     if (tipo not in ('T','A', 'N','D','G') ) then
     begin
        if ( not exists (select first 1 substr(descricao,1,100) decricao from tissdominio where codigo = :campo22 and tipo = '22' AND descricao is not null )  )then
           campo21 ='00';
     end
     else if (tipo in ('T','A', 'N','D','G') ) then
     begin
         campo21 = '18';
         if ( not exists (select first 1 substr(descricao,1,100) decricao from tissdominio where codigo = :campo22 and tipo = '18' AND descricao is not null )  )then
             campo21 = '00';
     end
   end
   --if (campo24 is null) then campo24 = '11';
   if (campo16 is not null) then
   begin
       campo19 = null;
       campo20 = null;
       campo21 = null;
       campo22 = null;
       campo23 = null;
       campo24 = null;
       campo25 = null;
       campo26 = null;
       campo27 = null;
       campo28 = null;
       campo29 = null;
   end
   suspend;
 end
end
 ^


ALTER PROCEDURE "TISS_GLOSA_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(250),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" TIMESTAMP,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" VARCHAR(30000),
  "CAMPO28" DOUBLE PRECISION,
  "CAMPO29" VARCHAR(30000),
  "CAMPO30" DOUBLE PRECISION,
  "CAMPO31" DOUBLE PRECISION,
  "CAMPO32" TIMESTAMP,
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER,
  "LOGOEMPRESA" BLOB,
  "LOGOCONVENIO" BLOB,
  "PAGINA" INTEGER,
  "LOTE" INTEGER,
  "CRITICA" VARCHAR(100),
  "QTDE" INTEGER
)
AS
begin
 LOTE = 1;
 QTDE = 0;
 for select distinct cps25.codigocps from cps25(:consulta,'GLOSATISS','','','S','','') where representa >= 0.01 into codigocps do
 begin
   select first 1 campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo30,
          campo31, campo32,tratamento from tiss_glosa_v3('where codigocps = ' || :codigocps)
   into   campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo30,
          campo31, campo32, tratamento;
   if (campo16 is not null) then
   begin
       campo19 = null;
       campo20 = null;
       campo21 = null;
       campo22 = null;
       campo23 = null;
       campo24 = null;
       campo25 = null;
       campo26 = null;
       campo27 = null;
       campo28 = null;
       campo29 = null;
   end
   If (campo30 >= 0.01) then
   begin
     qtde = qtde + 1;
     if (gen_id(GEN_ENVIO,0) = 0) THEN
       suspend;
     else
       EXCEPTION EXC_AVISO;
   end
   if (qtde = 100) then
   begin
     qtde = 0;
     lote = lote + 1;
   end
 end
end
 ^


ALTER PROCEDURE "TISS_GLOSA_V3_ITEM" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIMESTAMP,
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" DOUBLE PRECISION,
  "CAMPO25" VARCHAR(250),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" VARCHAR(250),
  "CODIGOCPS" INTEGER,
  "TRATAMENTO" INTEGER
)
AS
begin
  campo18 = '1.1.1';
    campo20 = '2xxx';
      codigocps = 33;
      tratamento = 1;
  suspend;
end
 ^


ALTER PROCEDURE "TISS_HONORARIO_V3" 
(
  "CONSULTA" VARCHAR(30000),
  "MEDICO" INTEGER
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" VARCHAR(100),
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" TIMESTAMP,
  "CAMPO16" TIMESTAMP,
  "CAMPO37" VARCHAR(100),
  "CAMPO38" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable auxcarater_int varchar(100);
declare variable aux_tipointernacao integer;
declare variable qtdepag integer;
declare variable tipoaltaInter2 varchar(100);
begin
 aux_tipointernacao = 0;
 PAGINA = 1;
 for select distinct
                cast(cps25.codigocps as integer),
                cast(cps25.codigocps as integer),
                cps1.guiasol,  cps1.DATAAUTORIZA,
                cps25.codigopac, cps1.especialidade, cps1.maquineta, cps1.solcnpj, cps25.convenio,
                cps1.AUTORIZA, cps1.VALIDGUIA, cps1.A_GUIA, cps1.matricula, cps1.A_VALIDADE, cps1.atdrn, cps1.origem,
                min(inter2.a_data), max(inter2.a_datafim)
                from cps25(:consulta,'HONORARIOTISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 inner join inter2 on (inter2.codigoint = cps25.codigocps and cps25.tratamento = inter2.tratamento)
 left join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
 where cps25.a_medicos = :medico or :medico = 0
 group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16
 into                codigocps,                campo02,                         campo03,          campo04,
                codigopac, especialidade, maquineta, solcnpj, convenio,
                CAMPO04, campo06, CAMPO05, CAMPO06, campo09, CAMPO08, :auxcarater_int,
                CAMPO15, CAMPO16 do
 begin
 if (CAMPO05 is not null) then
   campo02 = CAMPO05;
 if (campo03 is null) then campo03 = campo02;
 select a_nome, cartao from paciente where codigopac =:codigopac into :CAMPO07, :campo11;
 if (exists(select valor from empresaconfig where sistema = 'syshosp' AND PARAMETRO = 'TissComCodigopac' and valor = 'S' )) then
   CAMPO07 = codigopac || ' ' || CAMPO07;
 select ans, empresa, logomarca, codcred, cbonovo from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01;
 if ((:empresa is null) or (:empresa = 0)) then
   empresa = 1;
-- select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo30, campo31, logoempresa;
 if (codcred <> '') then
    CAMPO09 = codcred;
 if (codcred is null) then
   select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo =:empresa into CAMPO10, CAMPO11, CAMPO09, :logoempresa;
 else
   select first 1 razaosocial, cnes, logo from empresas where codigo =:empresa into CAMPO10, CAMPO11, :logoempresa;
select sum(campo28), max(pagina) from TISS_HONORARIO_V3_PROC(:consulta,:medico) where codigocps = :codigocps into campo38, qtdepag;
campo14= campo11;
CAMPO12=CAMPO09;
CAMPO13=CAMPO10;
  if  (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'CnpjEmpresaSolicitante') where valor ='S')) then
  begin
       select first 1  cnpj, nome, cnes from SOLICITANTE where cnpj= :solcnpj INTO :CAMPO09, :CAMPO10, :campo11;
  end
if (CAMPO08 is null) then CAMPO08 = 'N';
 pagina = 0;
 while (qtdepag > 0) do
 begin
   qtdepag = qtdepag -1;
   pagina = pagina + 1;
   suspend;
 end
 end
end
 ^


ALTER PROCEDURE "TISS_HONORARIO_V3_PROC" 
(
  "CONSULTA" VARCHAR(30000),
  "MEDICO" INTEGER
)
RETURNS
(
  "CAMPO17" TIMESTAMP,
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIMESTAMP,
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" VARCHAR(250),
  "CAMPO23" INTEGER,
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" DOUBLE PRECISION,
  "CAMPO28" DOUBLE PRECISION,
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO36" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "CODMEDICO" INTEGER
)
AS
DECLARE VARIABLE QTDE INTEGER;
DECLARE VARIABLE QTDEPROC INTEGER;
DECLARE VARIABLE FROMCONVENIO INTEGER;
DECLARE VARIABLE linha INTEGER;
DECLARE VARIABLE unimed varchar(30);
DECLARE VARIABLE convenio integer;
declare variable dhe varchar(20);
declare variable aptodobra char(1);
declare variable tipoguia varchar(20);
declare variable tipoproc varchar(20);
declare variable tipoPacote char(1);
declare variable auxPorte varchar(10);
declare variable versao varchar(10);
begin
  QTDEPROC = 0;
  QTDE = 0;
  PAGINA = 1;
  linha = 10;
  tipopacote = 'T';
  if (exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) then
         tipopacote = 'X';
  FOR  select cps25.convenio, cps25.codigocps,cps25.data, cps25.hora, cps25.horafinal, tabelahon.padraotiss, cps25.codigoamb, servicos.a_nome, cps25.quantidade, cps25.via, cps25.tecnica, cps25.valor,
              cps25.grauparticipacao,medicos.a_nome,medicos.tipoconselho,medicos.a_cremeb, medicos.ufcremeb,(select first 1 cbotissv3 from especialidade where codesp = medicos.especial), medicos.unimed, cps25.dhe, cps25.tipoguia, servicos.a_tipo, servicos.aptodobra, cps25.porte, medicos.a_medicos
       from cps25(:consulta,'HONORARIOTISS','','','S','','')
       inner join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
       inner join medicos on (cps25.a_medicos = medicos.a_medicos)
       inner join tabelahon on (tabelahon.numero = servicos.tabela)
       where cobrar = 'H' and (cps25.A_medicos = :medico or :medico = 0)
 into convenio, codigocps, CAMPO17, CAMPO18, CAMPO19, CAMPO20, CAMPO21, CAMPO22, CAMPO23, CAMPO24, CAMPO25, CAMPO28,
      CAMPO30, CAMPO32, CAMPO33,CAMPO34,CAMPO35,CAMPO36,unimed, :dhe, :tipoguia, :tipoproc, aptodobra, :auxPorte, :codmedico do
 begin
   if (aptodobra is null) then aptodobra = 'S';
   CAMPO20 = '22';
   if  (not exists(select codigo from tissdominio where tipo = '22' and codigo = :CAMPO21 )) then
      CAMPO20 = '00';
   CAMPO26 = 1.00;
   if (tipoguia = '+') then
       tipoguia = '1';
   if (auxPorte = '70%') then
      CAMPO26 = 0.70;
   else if (auxporte = '50%' ) then
      CAMPO26 = 0.50;
   else if (auxPorte = '30%') then
      CAMPO26 = 0.30;
   else if (auxPorte = '15%') then
      CAMPO26 = 0.15;
   if (tipoproc = 'H' and tipoguia = 2 and aptodobra = 'S' and auxPorte <> '' and CAMPO26 > 0)then
      CAMPO26 = ( CAMPO26 * 2 );
   else if ((dhe = 'S') and (tipoproc = 'H') and (tipoguia=1) and (exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'RedAcres0.3') where valor = 'S')))  then
       CAMPO26 = 0.30;
   else if ((dhe = 'S') and (tipoproc = 'H') and (tipoguia=1))  then
       CAMPO26 = 1.30;
   else if (tipoproc = 'H' and tipoguia = 2 and dhe='S' and aptodobra = 'S')then
      CAMPO26 = 2.30;
   else if (tipoproc = 'H' and tipoguia = 2 and aptodobra = 'S' )then
      CAMPO26 = 2.00;
   select codcred, fromconvenio from convenio where convenio = (select convenio from cps1 where codigocps =:codigocps) into CAMPO31, FROMCONVENIO;
   select versaoguia from cps1 where codigocps =:codigocps into versao;
   IF ((FROMCONVENIO IN (3,27)) and (unimed <> '')) THEN
     CAMPO31 = unimed;
   if (CAMPO21 = '10104011') then
   begin
       CAMPO26 = 1.00;
   end
   if (fromconvenio = 4) then
   begin
       if (CAMPO21 = '10104020')  then
       begin
           CAMPO26 = 1.00;
       end
   end
   if ((CAMPO31 is null) or (CAMPO31 = '')) then
     SELECT FIRST 1 CNPJ FROM EMPRESAS WHERE CODIGO = 1 INTO CAMPO31;
   QTDEPROC = QTDEPROC+1;
   CAMPO29 = QTDEPROC;
    IF (CAMPO19 IS NULL) THEN CAMPO19 = CAMPO18 + 0.0139;
   CAMPO27 = CAMPO28 /CAMPO23;
   if (CAMPO30 is null) then CAMPO30 = '11';
   if (CAMPO24 is null) then CAMPO24 = '1';
   if (CAMPO24 = 'U') then CAMPO24 = '1';
   if (CAMPO24 = 'M') then CAMPO24 = '2';
   if (CAMPO24 = 'D') then CAMPO24 = '3';
   if ((CAMPO24 <> '1') and (CAMPO24 <> '2') and (CAMPO24 <> '3')) then CAMPO24 = '1';
   if (CAMPO25 = 'C') then CAMPO25 = '1';
   if (CAMPO25 = 'V') then CAMPO25 = '2';
   if (CAMPO25 = 'R') then CAMPO25 = '3';
   select first 1 codigo from tissdominio where descricao containing :CAMPO33 and tipo = '26' into :CAMPO33;
   if (CAMPO33 = 'OUT') then CAMPO33 = '10';
   if (CAMPO33 like '0%') then CAMPO33 = cast(CAMPO33 as integer);
   select first 1 codigo from tissdominio where descricao = :CAMPO35 and tipo = '59' into CAMPO35;
   qtde = qtde + 1;
   if (qtde > linha) then
   begin
     pagina = pagina + 1;
     qtde = 1;
     linha = 20;
   end
   if ((strlen(rtrim(CAMPO33)) = 1) and (versao like '3.03%')) then campo33 = '0'|| rtrim(campo33);
   if ((strlen(rtrim(CAMPO33)) = 1) and (versao like '3.04%')) then campo33 = '0'|| rtrim(campo33);
   if ((strlen(rtrim(CAMPO33)) = 1) and (versao like '3.05%')) then campo33 = '0'|| rtrim(campo33);
   suspend;
 end
end
 ^


ALTER PROCEDURE "TISS_INTERNACAO" 
(
  "CONSULTA" VARCHAR(6000),
  "EMPRESA" CHAR(1),
  "FLAG" VARCHAR(15),
  "FILTRO" VARCHAR(6000)
)
RETURNS
(
  "CODIGOCPS" FLOAT,
  "A_GUIA" VARCHAR(20),
  "CONVENIO" INTEGER,
  "PARCELA" SMALLINT,
  "REGANS_01" VARCHAR(6),
  "ID_02" VARCHAR(20),
  "GUIASOL_03" VARCHAR(20),
  "AUT_04" TIMESTAMP,
  "SENHA_05" VARCHAR(20),
  "SENHAVAL_06" TIMESTAMP,
  "EMISSAO_07" TIMESTAMP,
  "CARTEIRA_08" VARCHAR(25),
  "PLANO_09" VARCHAR(40),
  "CARTEIRAVAL_10" TIMESTAMP,
  "NOME_11" VARCHAR(70),
  "CNS_12" VARCHAR(20),
  "IDPRESTADOR_13" VARCHAR(20),
  "NOMEPRESTADOR_14" VARCHAR(70),
  "CNES_15" VARCHAR(7),
  "TIPOLOG_16" CHAR(3),
  "LOG_17" VARCHAR(40),
  "NUMERO_18" VARCHAR(5),
  "COMPLEMENTO_19" VARCHAR(15),
  "MUNICIPIO_20" VARCHAR(40),
  "UF_21" VARCHAR(2),
  "CODIBGE_22" VARCHAR(7),
  "CEP_23" VARCHAR(8),
  "CARATERINT_24" CHAR(1),
  "TIPOACOMODACAO_25" VARCHAR(2),
  "DATAINICIO_26" TIMESTAMP,
  "DATASAIDA_27" TIMESTAMP,
  "TIPOINT_28" CHAR(1),
  "REGIMEINT_29" CHAR(1),
  "EMGESTACAO_30A" CHAR(1),
  "ABORTO_30B" CHAR(1),
  "TRANSTORNO_30C" CHAR(1),
  "PUERPERIO_30D" CHAR(1),
  "ATNDRNPARTO_30E" CHAR(1),
  "COMPLNEONATAL_30F" CHAR(1),
  "BXPESO_30G" CHAR(1),
  "CESARIO_30H" CHAR(1),
  "NORMAL_30I" CHAR(1),
  "OBITOMULHER_31" CHAR(1),
  "OBITONEONATALPREC_32A" INTEGER,
  "OBITONEONATALTARD_32B" INTEGER,
  "DECLVIVO_33" VARCHAR(15),
  "QTDEVIVO_34" INTEGER,
  "QTDEMORTO_35" INTEGER,
  "QTDEPREMATURO_36" INTEGER,
  "CIDPRIN_37" VARCHAR(5),
  "CIDSEC_38" VARCHAR(5),
  "CIDTERC_39" VARCHAR(5),
  "CIDQUA_40" VARCHAR(5),
  "INDICADORACID_41" CHAR(1),
  "MOTIVOSAIDA_42" VARCHAR(2),
  "CIDOBITO_43" VARCHAR(5),
  "DECLARACAOOBITO_44" VARCHAR(12),
  "TIPOFAT_73" CHAR(1),
  "TOTALPROC_74" DOUBLE PRECISION,
  "TOTALDIARIA_75" DOUBLE PRECISION,
  "TOTALTAXAALUG_76" DOUBLE PRECISION,
  "TOTALMAT_77" DOUBLE PRECISION,
  "TOTALMED_78" DOUBLE PRECISION,
  "TOTALGAS_79" DOUBLE PRECISION,
  "TOTALGERAL_80" DOUBLE PRECISION,
  "OBSERVACAO_81" BLOB,
  "DATACONTRATADO_82" TIMESTAMP,
  "DATAAUDITOR_83" TIMESTAMP
)
AS
declare variable tratamento integer;
declare variable cidaux varchar(5);
declare variable datafim timestamp;
declare variable horaini timestamp;
declare variable horafim timestamp;
declare variable datafaturamento timestamp;
declare variable valor double precision;
declare variable cobrar char(1);
declare variable tipointobs char(1);
declare variable a_tipo varchar(1);
declare variable a_codamb char(8);
declare variable guiaaux varchar(20);
declare variable codcred varchar(30);
begin
  totalproc_74 = 0;
  totaldiaria_75 = 0;
  totaltaxaalug_76 = 0;
  totalmat_77 = 0;
  totalmed_78 = 0;
  totalgas_79 = 0;
  totalgeral_80 = 0;
  datainicio_26 = cast('now' as timestamp) + 30;
  datasaida_27 = '1/1/1900';
  for execute statement 'select convenio.ans, cps1.guiasol, cps1.dataautoriza, cps1.autoriza, cps1.validguia, cps.a_datafat, cps1.matricula, convplano.descricao, cps1.a_validade, paciente.a_nome, paciente.cartao,
      cps1.origem, cast(cps1.a_tipo as varchar(2)), cps1.tipoatend1, cps1.dayhospital,cps1.OBTOMULHER, cast(cps1.OBTONEONATAL as integer), cps1.OBTONEONATALTARDIO, cast(cps1.NASCIDOVIVOS as varchar(15)), cps1.QUANTNASCVIVOS, cps1.QUANTNASCMORTOS, cps1.QUANTNASCPREMAT,
      cps.a_cid,cps1.INDICAACIDENTE, cast(CPS1.TIPOALTATISS as varchar(2)), CPS1.CIDOBITO, CPS1.NUMEROOBITO,
      cps.codigocps, cps.tratamento, cps1.a_guia, cps.datasaida, cps.a_hora, cps.horasaida, inter2.motivoalta, cast(cps.valor as double precision), servicos.a_tipo, matmed.a_codamb, cps.cobrar, cps.convenio, cps.parcela, inter2.a_guia, cast(convenio.codcred as varchar(30)), TIPOINTERNAOBSTR, cps1.A_DATA from cps(''' || :consulta || ''')
      inner join cps1 on (cps1.codigocps = cps.codigocps)
      inner join paciente on (paciente.codigopac = cps.codigopac)
      inner join convenio on (convenio.convenio = cps.convenio)
      left join convplano on (convplano.codigo = cps1.plano)
      inner join inter2 on (inter2.codigoint = cps.codigocps and cps.tratamento = inter2.tratamento)
      left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> ''M'')
      left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = ''M'')'
      || filtro
      into :regans_01, guiasol_03, :aut_04, :senha_05, senhaval_06, :emissao_07, :carteira_08, :plano_09, :carteiraval_10, :nome_11, :cns_12,
           :caraterint_24, :tipoacomodacao_25, :tipoint_28, :regimeint_29, :obitomulher_31, :obitoneonatalprec_32a, :obitoneonataltard_32b, :declvivo_33, :qtdevivo_34, :qtdemorto_35, :qtdeprematuro_36,
           :cidprin_37, :indicadoracid_41, :MOTIVOSAIDA_42, :CIDOBITO_43, :DECLARACAOOBITO_44,
           :codigocps, :tratamento, :a_guia, :datafim, :horaini, :horafim, :tipofat_73, :valor, :a_tipo, :a_codamb, :cobrar, :convenio, :parcela, :guiaaux, :codcred, :tipointobs, :DATAFATURAMENTO  do
  begin
    if (cobrar = 'S') then
    begin
     if (a_tipo = 'D') then
       totaldiaria_75 = totaldiaria_75 + valor;
     else if ((a_tipo = 'T') or (a_tipo = 'N') or (a_tipo = 'A')) then
       totaltaxaalug_76 = totaltaxaalug_76 + valor;
     else if ((a_codamb = '72140011') or (a_codamb = '72000002')) then
       totalmed_78 = totalmed_78 + valor;
     else if (a_codamb is not null) then
       totalmat_77 = totalmat_77 + valor;
     else if (a_tipo = 'G') then
       totalgas_79 = totalgas_79 + valor;
     else
       totalproc_74 = totalproc_74 + valor;
    end
    datafim = cast(datafim as date) + cast(horafim as time);
    emissao_07 = cast(emissao_07 as date) + cast(horaini as time);
    if (datainicio_26 > emissao_07) then
      datainicio_26 = emissao_07;
    if ((datafim is not null) and (datasaida_27 < datafim )) then
      datasaida_27 = datafim;
  end
  if (guiaaux is not null) then
    a_guia = guiaaux;
  if ((caraterint_24 = '2') or (caraterint_24 is not null)) then
    caraterint_24 = 'U';
  else
    caraterint_24 = 'E';
  if (tipoacomodacao_25 = '1') then
    tipoacomodacao_25 = '1';
  else if (tipoacomodacao_25 = '2') then
    tipoacomodacao_25 = '7';
  else if (tipoacomodacao_25 = '3') then
    tipoacomodacao_25 = '3';
  if ((tipoint_28 is not null) and (tipoint_28 <> '0')) then
    tipoint_28 = cast(cast(tipoint_28 as integer) - 5 as char(1));
  if ((regimeint_29 is not null) and (regimeint_29 = 'S')) then
    regimeint_29 = '2';
  else
    regimeint_29 = '1';
  cidsec_38 = null;
  cidterc_39 = null;
  cidqua_40 = null;
  for select cid10 from cps5 where codigocps = :codigocps into :cidaux do
  begin
    if (cidsec_38 is null ) then
      cidsec_38 = :cidaux;
    else if (cidterc_39 is null ) then
      cidterc_39 = :cidaux;
    else if (cidqua_40 is null ) then
      cidqua_40 = :cidaux;
  end
  select first 1 razaosocial, cnes, logradouro, endereco, numero, cidade, uf, cidadeibge, cep, cnpj from empresas where codigo = :empresa
  into :nomeprestador_14, :cnes_15, :tipolog_16, :log_17, :numero_18, :municipio_20, :uf_21, :codibge_22, :cep_23, :idprestador_13;
  if (codcred <> '') then
    idprestador_13 = codcred;
  if (tipointobs = '1') then
    EMGESTACAO_30A = 'S';
  if (tipointobs = '2') then
    ABORTO_30B = 'S';
  if (tipointobs = '3') then
    TRANSTORNO_30C = 'S';
  if (tipointobs = '4') then
    PUERPERIO_30D = 'S';
  if (tipointobs = '5') then
    ATNDRNPARTO_30E = 'S';
  if (tipointobs = '6') then
    COMPLNEONATAL_30F = 'S';
  if (tipointobs = '7') then
    BXPESO_30G = 'S';
  if (tipointobs = '8') then
    CESARIO_30H = 'S';
  if (tipointobs = '9') then
    NORMAL_30I = 'S';
  if (datasaida_27 is null) then
    datasaida_27  = cast('now' as timestamp);
  if (tipofat_73 = '6') then
    tipofat_73 = 'P';
  else
    tipofat_73 = 'T';
  totalgeral_80 = totalproc_74 + totaldiaria_75 + totaltaxaalug_76 + totalmat_77 + totalmed_78 + totalgas_79;
  if (datasaida_27 = '1/1/1900') then
    datasaida_27 = cast('now' as timestamp);
  suspend;
end
 ^


ALTER PROCEDURE "TISS_INTERNACAO_ITEM" 
(
  "CONSULTA" VARCHAR(6000),
  "EMPRESA" CHAR(1),
  "FLAG" VARCHAR(15),
  "FILTRO" VARCHAR(1000),
  "CONDENSA" VARCHAR(50),
  "PROFISSIONAL" CHAR(1)
)
RETURNS
(
  "PROCDATA_45" TIMESTAMP,
  "PROCHORAINI_46" TIMESTAMP,
  "PROCHORAFIM_47" TIMESTAMP,
  "PROCTABELA_48" VARCHAR(2),
  "PROCCODIGOPROC_49" VARCHAR(10),
  "PROCDESCRICAO_50" VARCHAR(200),
  "PROCQTDE_51" INTEGER,
  "PROCVIA_52" CHAR(1),
  "PROCTEC_53" CHAR(1),
  "PROCREDACR_54" DOUBLE PRECISION,
  "PROCUNITARIO_55" FLOAT,
  "PROCTOTAL_56" FLOAT,
  "EQUIPSEQ_57" INTEGER,
  "EQUIPGRAU_58" CHAR(2),
  "EQUIPCODOPER_59" VARCHAR(20),
  "EQUIPNOME_60" VARCHAR(70),
  "EQUIPTIPOCRM_61" VARCHAR(7),
  "EQUIPCRM_62" VARCHAR(15),
  "EQUIPUF_63" VARCHAR(2),
  "EQUIPCPF_64" VARCHAR(11),
  "QTDEPROC" INTEGER,
  "OPMTABELA_65" VARCHAR(2),
  "OPMCODOPM_66" VARCHAR(10),
  "OPMDESCRICAO_67" VARCHAR(60),
  "OPMQTDE_68" INTEGER,
  "OPMBARRA_69" VARCHAR(20),
  "OPMUNITARIO_70" DOUBLE PRECISION,
  "OPMTOTAL_71" DOUBLE PRECISION,
  "QTDEOPM" INTEGER,
  "TIPO" VARCHAR(100),
  "TIPOORDEM" SMALLINT,
  "ORDEM" INTEGER,
  "PAGINA" INTEGER
)
AS
declare variable codigocps float;
declare variable tratamento integer;
declare variable a_guia varchar(20);
declare variable a_tipo varchar(1);
declare variable a_codamb char(8);
declare variable codigoamb1 char(8);
declare variable qtdeequipe integer;
declare variable pagproc integer;
declare variable pagopm integer;
declare variable convenio integer;
declare variable pagequipe integer;
declare variable codigoserv float;
declare variable cobrar char(1);
declare variable dhe char(1);
declare variable porte varchar(4);
declare variable ordaux smallint;
declare variable fromconvenio integer;
declare variable codcred varchar(30);
declare variable impcodigounimed char(1);
declare variable codespitem char(2);
declare variable medicounimed varchar(20);
declare variable especitem varchar(60);
begin
  ordem = 0;
  pagina = 1;
  qtdeproc = 0;
  qtdeequipe = 0;
  qtdeopm = 1;
  pagproc = 1;
  pagequipe = 1;
  pagopm = 1;
  if (condensa = 'S') then
    condensa = 'cps.a_datafat, cps.a_hora, cps.a_hora,';
  else
    condensa = 'cps.data, cps.hora, cps.horafinal,';
  for execute statement 'select ' || condensa || ' cast(cps.codigoamb as varchar(10)), servicos.a_nome, cast(sum(cps.quantidade) as integer), cast(sum(cps.valor) as float), servicos.a_tipo,
                      matmed.a_codamb, cps.cobrar, medicos.a_nome, medicos.tipoconselho, medicos.cremeb2, medicos.ufcremeb,
                      medicos.a_cpf, matmed.a_nome, cps.convenio, cps.grauparticipacao, cps.codigoamb1, servicos.ordem, cps.dhe, cps.tecnica, cps.porte, cps.codigoserv, medicos.unimed, cast(convenio.codcred as varchar(30)), convenio.impcodigounimed, convenio.fromconvenio, cps.codespitem from cps(''' ||:consulta || ''')
                      inner join convenio on (convenio.convenio = cps.convenio)
                      left join servicos on (servicos.codigoserv = cps.codigoserv and cps.dhe <> ''M'')
                      left join matmed on (matmed.codigomm = cps.codigoserv and cps.dhe = ''M'')
                      left join medicos on (medicos.a_medicos = cps.a_medicos) '
                      || filtro ||
                      'group by 1,2,3,4,5,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29
                      order by  Servicos.ORDEM, Servicos.A_NOME'
                      into :procdata_45, :prochoraini_46, :prochorafim_47, :proccodigoproc_49, :procdescricao_50, :procqtde_51, :proctotal_56, :a_tipo,
                           :a_codamb, :cobrar, :EQUIPNOME_60, :EQUIPTIPOCRM_61, :EQUIPCRM_62, :EQUIPUF_63, :equipcpf_64, :OPMDESCRICAO_67, :convenio,
                           :equipgrau_58, :codigoamb1, :ordaux, :dhe, PROCTEC_53, :porte, :codigoserv, :medicounimed, :codcred, :impcodigounimed, :fromconvenio, :codespitem do
  begin
    if (((a_tipo <> 'D') and (a_tipo <> 'T') and (a_tipo <> 'A') and (a_tipo <> 'N') and (a_tipo <> 'G')) or (a_codamb = '72000008') or (a_codamb = '72000000')) Then
    begin
      if (codigoamb1 is not null) then
        proccodigoproc_49 = codigoamb1;
      if (a_codamb is not null) then
      begin
        opmtabela_65 = '00';
        opmcodopm_66 = null;
        if (A_CODAMB = '72000000' ) then
          select codesp from convenio where convenio = :convenio into :opmcodopm_66;
        else if (A_CODAMB = '72000008' ) then
          select codortprot from convenio where convenio = :convenio into :opmcodopm_66;
        if (opmcodopm_66 is null) then
          opmcodopm_66 = a_codamb;
        tipo = 'OPM Utilizados';
        tipoordem = 3;
        qtdeopm = qtdeopm + 1;
        if (qtdeopm/pagopm > 6) then
         pagopm = pagopm + 1;
        pagina = pagopm+1;
        opmqtde_68 = procqtde_51;
        opmtotal_71 = proctotal_56;
        OPMUNITARIO_70 = OPMTOTAL_71 / OPMQTDE_68;
        suspend;
      end
      else
      begin
        if ((cobrar = flag) or (flag = 'T')) then
        begin
          if ((cobrar = 'H') and (flag = 'T')) then
            proctotal_56 = 0;
          if (dhe = 'S') then
            PROCREDACR_54 = '130';
          else
            PROCREDACR_54 = null;
          if ((proccodigoproc_49 = '00020010') or (proccodigoproc_49 = '10102019'))  then
          begin
            especitem = null;
            select nome from especialidade where codesp = :codespitem into :especitem;
            if (especitem is not null) then
              procdescricao_50 = procdescricao_50 || '(' || especitem || ')';
            else
            begin
              select first 1 especialidade.nome from medicos inner join especialidade on (especialidade.codesp = medicos.especial) where medicos.a_nome = :EQUIPNOME_60 into :especitem;
              if (especitem is not null) then
                procdescricao_50 = procdescricao_50 || '(' || especitem || ')';
            end
          end
          if (profissional = 'S') then
            procdescricao_50 = procdescricao_50 || ', ' || equipnome_60;
          If (porte = '50%') then
            PROCVIA_52 = 'M';
          else if (porte = '70%') then
            PROCVIA_52 = 'D';
          else
            PROCVIA_52 = 'U';
          select tiss15.codigo FROM Servicos
          inner join tabelahon ON ( Tabelahon.NUMERO = Servicos.TABELA )
          inner JOIN TISS15 on ( tiss15.codigo = tabelahon.padraotiss )
          where servicos.codigoserv = :CODIGOSERV into :PROCTABELA_48;
          PROCUNITARIO_55 = PROCTOTAL_56 / PROCQTDE_51;
          qtdeproc = qtdeproc + 1;
          tipoordem = 1;
          If (qtdeproc <= 5 ) then
          begin
            pagproc = 1;
            tipo = 'Procedimentos e Exames Realizados';
          end
          else
          begin
            If (qtdeproc = 6 ) then
              pagproc = 2;
            tipo = 'Procedimentos e Exames Realizados (Continuao)';
            if ((qtdeproc - 5)/pagproc > 14) then
              pagproc = pagproc + 1;
          end
          pagina = pagproc;
          if ((cobrar = flag) or ((flag = 'T') and ((cobrar = 'S') or (cobrar = 'H')))) then
          suspend;
        end
        if (equipcpf_64 is not null) then
        begin
          qtdeequipe = qtdeequipe + 1;
          tipoordem = 2;
          if (cobrar = flag) then
            equipseq_57 = qtdeproc;
          else
            equipseq_57 = null;
          if ((impcodigounimed = 'S')  and (medicounimed is not null) and ((fromconvenio = 3) or (fromconvenio = 19))) then
            EQUIPCODOPER_59 = medicounimed;
          else if (CODCRED is not null) then
            EQUIPCODOPER_59 = CODCRED;
          else
            select cnpj from empresas where codigo = :empresa into :EQUIPCODOPER_59;
          If (qtdeequipe <= 5 ) then
          begin
            pagequipe = 1;
            tipo = 'Identificao da Equipe';
          end
          else
          begin
            If (qtdeequipe = 6 ) then
              pagequipe = 2;
            tipo = 'Identificao da Equipe (Continuao)';
            if ((qtdeequipe - 5)/pagequipe > 14) then
              pagequipe = pagequipe + 1;
          end
          pagina = pagequipe;
          suspend;
        end
      end
    end
  end
end
 ^


ALTER PROCEDURE "TISS_OUTRASDESP_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" VARCHAR(100),
  "CAMPO05" VARCHAR(100),
  "CAMPO06" VARCHAR(100),
  "CAMPO07" TIMESTAMP,
  "CAMPO08" TIMESTAMP,
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" DOUBLE PRECISION,
  "CAMPO13" VARCHAR(100),
  "CAMPO14" DOUBLE PRECISION,
  "CAMPO15" DOUBLE PRECISION,
  "CAMPO16" DOUBLE PRECISION,
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(250),
  "CAMPO21" DOUBLE PRECISION,
  "CAMPO22" DOUBLE PRECISION,
  "CAMPO23" DOUBLE PRECISION,
  "CAMPO24" DOUBLE PRECISION,
  "CAMPO25" DOUBLE PRECISION,
  "CAMPO26" DOUBLE PRECISION,
  "CAMPO27" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB,
  "QTDE" INTEGER,
  "INDICELISTA" VARCHAR(3000)
)
AS
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable fromconvenio integer;
declare variable parametro varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable codamb varchar(100);
declare variable tiss varchar(100);
declare variable tuss varchar(100);
declare variable simpro varchar(100);
declare variable laboratorio varchar(100);
declare variable guia varchar(30);
declare variable dhe char(1);
declare variable tipo char(1);
declare variable medida integer;
declare variable unitario double precision;
declare variable codigopla integer;
declare variable indice integer;
declare variable auxAnvisa varchar(30);
declare variable auxRefMF varchar(30);
declare variable auxAutFunc varchar(30);
declare variable auxConsTussMM varchar(100);
declare variable auxCodConv varchar(100);
declare variable bcColunaPesq varchar(100);
declare variable tipoMatMed varchar(10);
declare variable ondePegou varchar(30);
declare variable via varchar(30);
declare variable tipocobrar char(1);
declare variable TABPADRAOTISS varchar(10);
declare variable aux_medresp integer;
declare variable NovoNome varchar(250);
declare variable tabMatMedConv varchar(2);
declare variable fator double precision;
declare variable codmedida varchar(10);
declare variable anvisaconv varchar(30);
begin
 PAGINA = 1;
 QTDE = 0;
  select first 1 convenio, codigopla, medresp from cps25(:consulta,'DESPESA','','','S','','') into :convenio, codigopla, :aux_medresp;
  select fromconvenio from convenio where convenio = :convenio into fromconvenio;
  if ( (exists(select first 1 valor from buscaconfiguracao('MEDICO' || :AUX_MEDRESP,'MedCredUnimedCobrar') where valor = 'N')) and ( fromconvenio in (3,19,27)))then
  begin
      tipoCobrar = 'N';
      consulta = consulta || ' and medresp = ' || aux_medresp;
  end
  else
      tipoCobrar = 'S';
 if (exists(select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'OutrasDespDetalhada') where valor <> 'S')) then
 begin
 for select cast(cps25.codigocps as integer), cps25.convenio, cps25.a_guia, cps25.codigoserv, cps25.dhe, cps25.codigopla, cast(cps25.valor/cps25.quantidade as numeric(15,2)), cps25.via,
        max(cps25.indice), min(cps25.data) as data,  min(cps25.hora)   , sum(cps25.quantidade), sum(cps25.valor), LIST(CPS25.INDICE) from cps25(:consulta,'DESPESA','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 where cobrar = 'S' and quantidade > 0
 group by 1,2,3,4,5,6,7,8
 order by dhe desc
 into  codigocps,  convenio, guia, codigoserv,dhe, codigopla, unitario, via, indice,
       campo07,campo08,campo12,campo16, indicelista do
 begin
    if (dhe = 'M') then
   begin
       if (codigopla = 3) then
          Select a_Data, A_hora from inter32 where inter3no = :indice into :campo07, :campo08;
   end
   select ans, empresa, logomarca, codcred, cbonovo, fromconvenio from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01, fromconvenio;
   tipo = null;
   codamb = null;
   campo06=null;
   campo17= null;
   fator = null;
   anvisaconv = null;
   select first 1 fator, anvisa from matmedconv where codigomm = :codigoserv and convenio = :convenio into :fator, :anvisaconv;
   if (fator is not null) Then
      campo12 = campo12 * fator;
   if (campo12 >0) then
     campo15 = CAST(campo16 AS NUMERIC(15,2)) /campo12;
   else
     campo15 = 0;
   campo09 = campo08 + 0.001;
   if (dhe = 'M') then
   begin
      campo11 = null;
      campo10='19';
      codamb = null;
      campo17 = null;
      medida = null;
      campo20 = null;
      tiss = null;
      tuss = null;
      simpro = null;
      laboratorio = null;
      campo18 = null;
      auxConsTussMM = null;
      bcColunaPesq = null;
      tipoMatMed = null;
      ondePegou = null;
      select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'CONS_TUSS_MATMED') into :auxConsTussMM ;
      select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'CONS_COLU_CODCONV') into :bcColunaPesq ;
      if (not exists(select pagtgenerico from convenio where convenio = :convenio and pagtgenerico = 'S')) then
      select a_codamb,anvisa,COD_EMBALAGEM, a_nome,tissbras,tussbras, a_labo, ref_fabricante from matmed where codigomm = :codigoserv into codamb,campo17, medida, campo20, tiss, tuss, laboratorio, campo18;
      else
      begin
        select a_codamb,anvisa,COD_EMBALAGEM, a_nome,tissbrasg,tussbrasg, a_labo, ref_fabricante from matmed where codigomm = :codigoserv into codamb,campo17, medida, campo20, tiss, tuss, laboratorio, campo18;
        if ((tiss is null) and (tuss is null)) then
          select tissbras,tussbras from matmed where codigomm = :codigoserv into tiss, tuss;
      end
      if (anvisaconv <> '') then
         campo17 = anvisaconv;
      if ( codamb in ('72140011', '72000002', '72000001') ) then
        campo10 = '20';
      if (exists(select first 1 a_codamb from matmedconv where codigomm = :codigoserv and convenio = :convenio and a_codamb is not null )) then
        select first 1 a_codamb from matmedconv where codigomm = :codigoserv and convenio = :convenio and a_codamb is not null into codamb;
      campo11=null;
      novonome = null;
      if (tuss is not null) then campo11 = tuss;
      --else if (tiss is not null) then campo11 = tiss;
      if ( auxConsTussMM = 'M' or auxConsTussMM is null ) then
      BEGIN
         tabMatMedConv = null;
         if ( campo11 is null or campo11 = '' ) then
         begin
             if ( bcColunaPesq is null or bcColunaPesq = 'T' ) then
                 select first 1 codtiss, a_codamb,novonome,tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed,:novonome ,:tabMatMedConv,:ondePegou;
             else if ( bcColunaPesq = 'C' ) then
                 select first 1 codigoconv, a_codamb,novonome,tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:tabMatMedConv,:ondePegou;
             campo11 = tuss;
             if (tuss is null or tuss = '') then
             begin
                select tissbras, simpro, a_codamb, 'MatMed' from matmed where codigomm = :codigoserv into tiss, simpro, :tipoMatmed, :ondePegou ;
                if (tiss is not null and tiss <> '') then
                     campo11 = tiss;
                else if ( simpro is not null and simpro <> '') then
                    campo11 = simpro;
             end
             campo10 = '00';
         end
      END
      ELSE if ( auxConsTussMM = 'C' ) then
      begin
           tabMatMedConv = null;
           if ( bcColunaPesq = 'T' ) then
                 select first 1 codtiss, a_codamb, novonome,tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:tabMatMedConv,:ondePegou;
           else if ( bcColunaPesq = 'C' ) then
                 select first 1 codigoconv, a_codamb,novonome, tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:tabMatMedConv,:ondePegou;
           campo11 = tuss;
           if (tuss is null or tuss = '') then
           begin
                select tissbras, simpro, a_codamb, 'MatMed' from matmed where codigomm = :codigoserv into :tiss, :simpro, :tipoMatmed, :ondePegou;
                if (tiss is not null and tiss <> '') then
                     campo11 = tiss;
                else if ( simpro is not null and simpro <> '') then
                    campo11 = simpro;
           end
           if (tabMatMedConv is not null ) then campo10 = tabMatMedConv;
      end
      if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'MatMed_AMIL') where valor = 'S')) then
      begin
          tuss=null;
          if (ondePegou in('CONVENIO', 'MatMed')) then
          begin
               IF  ( ( tipoMatmed IN ( '72140046','72000000', '72000008' ) ) and (simpro is not null  ) ) then
               begin
                    select retorno from sp_compesq(:simpro,10) into :campo11;
                    campo10 = '00';
               end
               else IF  ( ( tipoMatmed in( '72140011', '72000002') ) and (tiss is not null  ) ) then
               begin
                    select retorno from sp_compesq(:tiss,10) into :campo11;
                    campo10 = '00';
               end
          end
      end
      if (( novonome is not null )and ( novonome <> '')) then
         campo20 = :novonome;
      if ( (fromconvenio = 4) and ( campo11 is not null) ) then --so para geap
      begin
          if (ondepegou = 'CONVENIO') THEN
          begin
              if ( tipoMatmed in ('72140011', '72000002', '72000001') ) then
              begin
                  if ( tabMatMedConv is null ) then
                  begin
                    if (strlen(Rtrim(campo11)) = 10) then
                         campo11 = '05' || substr(campo11,3,10);
                    else
                    begin
                         select retorno from sp_compesq(:campo11,8) into :campo11;
                         campo11 = '05' || campo11;
                    end
                 end
                 else
                 begin
                    if (strlen(Rtrim(campo11)) = 10) then
                         campo11 = campo11; -- substr(campo11,3,10);
                    else
                    begin
                         select retorno from sp_compesq(:campo11,8) into :campo11;
                         campo11 = campo11;
                    end
                 end
              end
              else if ( tipoMatmed in ('72140046', '72000000')) then
              begin
                  if ( tabMatMedConv is null) then
                  begin
                      if (strlen(Rtrim(campo11)) = 10) then
                          campo11 = '12' || substr(campo11,3,10);
                      else
                      begin
                          select retorno from sp_compesq(:campo11,8) into :campo11;
                          campo11 = '12' || campo11;
                      end
                  end
                  else
                  begin
                      if (strlen(Rtrim(campo11)) = 10) then
                          campo11 = campo11;--substr(campo11,3,10);
                      else
                      begin
                          select retorno from sp_compesq(:campo11,8) into :campo11;
                          campo11 = campo11;
                      end
                  end
              end
              if ( tabMatMedConv = '00' or tabMatMedConv is null) then
                 campo10 ='00';
          end
          else if (ondePegou = 'MatMed') then
          begin
              if ( tipoMatmed in ('72140011', '72000002', '72000001') ) then
              begin
                    if (strlen(Rtrim(campo11)) = 10) then
                         campo11 = '05' || substr(campo11,3,10);
                    else
                    begin
                         select retorno from sp_compesq(:campo11,8) into :campo11;
                         campo11 = '05' || campo11;
                    end
              end
              else if ( tipoMatmed in ('72140046', '72000000')) then
              begin
                  if (strlen(Rtrim(campo11)) = 10) then
                       campo11 = '12' || substr(campo11,3,10);
                  else
                  begin
                       select retorno from sp_compesq(:campo11,8) into :campo11;
                       campo11 = '12' || campo11;
                  end
              end
              campo10 ='00';
          end
      end
     if (fromconvenio = 5) then -- so para cassi
      begin
           if (ondePegou in('CONVENIO', 'MatMed')) then
           begin
              select retorno from sp_compesq(:campo11,10) into :campo11;
              if ( tabMatMedConv is not null ) then
                 campo10 = tabMatMedConv;
              else
                 campo10='00';
           end
      end
      if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'SIMPROBRAS_MATMED_SEMTUSS') where valor = 'S')) then
      begin
           if (ondePegou in('MatMed')) then
           begin
              if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'TamanhoCodTISS') where valor = '8')) then
                  select retorno from sp_compesq(:campo11,8) into :campo11;
              else
                  select retorno from sp_compesq(:campo11,10) into :campo11;
              campo10 = '00';
           end
      end
      if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'EXCESSAO_CASSI_MATMED') where valor = 'S')) then                 -- eduardo
      begin
              SELECT FIRST 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :CONVENIO and tabela is not null into :campo11;
      end
      if (laboratorio is not null) then
        campo20 = campo20 || ' ' || laboratorio;
      if (medida is not null) then
      begin
        select first 1 tiss from medidas where unidade = :medida into campo13;
      end
      select first 1 substr(descricao,1,100),ref_fabricante,anvisa, '19' from tissdominio where codigo = :campo11 and tipo = '19' AND descricao is not null into campo20, campo18,campo17, :campo10;
      if ( codamb in ('72000002','72140011', '72000001')) then
      begin
         campo06 = '02';
         --campo10 = '20';
         select first 1 substr(descricao || ' ' || tipo || ' ' || apresentacao,1,100), '20' from tissdominio where codigo = :campo11 and tipo = '20' AND descricao is not null into campo20, :campo10;
      end
      else if ( codamb in ('72000000','72000008', '72000009')) then
         campo06 = '08';
      else if ( dhe = 'M') then
         campo06 = '03';
      auxAnvisa  = null;
      auxRefMF   = null;
      auxAutFunc = null;
      if (exists(select tabela from matmedconv where convenio =171 and codigomm = :codigoserv and tabela is not null)) then
        select tabela from matmedconv where convenio =171 and codigomm = :codigoserv and tabela is not null into campo10;
   end
   else
   begin
     campo10='18';
     select a_tipo, a_codamb, a_nome,TABPADRAOTISS from servicos where codigoserv =:codigoserv into :tipo, :campo11, campo20, :TABPADRAOTISS;
     select procedimento from sp_apelidoprocedimento(:campo11,:convenio,:codigopla) into :campo11;
     campoaux01 = null;
     select first 1 substr(descricao,1,250),codigo from tissdominio where codigo = :campo11 and tipo = '18' AND descricao is not null into campo20, campoaux01;
     if (campoaux01 is null) then
       campo10 = '00';
     campoaux01 = null;
       if ((tipo = 'X') and (( exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) and
           ( exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'RetiraPacoteOutraDespInt') where valor <> 'S')))
           ) then
      begin
         campo06 = '07';
         campo10 = '98';
      end
      if (tipo in ('T','A', 'N') ) then
         campo06 = '07';
      else if (tipo = 'D') then
         campo06 = '05';
      else if (tipo = 'G') then
         campo06 = '01';
      if (TABPADRAOTISS is not null) then
       campo10 =tabpadraotiss;
   end
   if ((qtde = 0) and (campo06 is not null)) then
   begin
     if (campo03 is null) then campo03 = campo02;
    -- select ans, empresa, logomarca, codcred, cbonovo, fromconvenio from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01, fromconvenio;
     if ((:empresa is null) or (:empresa = 0)) then
       empresa = 1;
     select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo04, campo05, campo03, logoempresa;
     if (campo03 is null) then
       select first 1 razaosocial, cnes,cnpj, logo from empresas into campo04, campo05, campo03, :logoempresa;
     select first 1 gases,medicamentos,materiais,opme,taxas,diarias,geral from tiss_total_conta_v3(:consulta)
     into :campo21, :campo22, :campo23, :campo24, :campo25, :campo26, :campo27;
     campo27 = :campo21 + :campo22 + :campo23 + :campo24 + :campo25 + :campo26;
     if (codcred <> '') then
       campo03 = codcred;
     if (guia is not null) then campo02 = guia; else campo02 = codigocps;
   end
   campo14= 1;
   if (via = '1') then campo14 = 0.70;
   if (via = '2') then campo14 = 0.50;
   if (via = '3') then campo14 = 0.50;
   if (via = '4') then campo14 = 0.80;
   if ((campo13 is null) or (campo13 not like '0%')) then
     campo13 = '036';
   codmedida = null;
   select first 1 cod_medida from matmedconv where codigomm = :codigoserv and convenio = :convenio into :codmedida;
   if (codmedida is not null) then
      campo13 = codmedida;
   if (campo06 is not null) then
   begin
     qtde = qtde + 1;
     suspend;
   end
 end
 end
 else
 begin
 for select cast(cps25.codigocps as integer), cps25.convenio, cps25.a_guia, cps25.codigoserv, cps25.dhe, cps25.codigopla, cast(cps25.valor/cps25.quantidade as numeric(15,2)), cps25.via,
        max(cps25.indice), cps25.data as data,  cps25.hora   , sum(cps25.quantidade), sum(cps25.valor), LIST(CPS25.INDICE) from cps25(:consulta,'DESPESA','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 where cobrar = 'S' and quantidade > 0
 group by 1,2,3,4,5,6,7,8,10,11
 order by dhe desc
 into  codigocps,  convenio, guia, codigoserv,dhe, codigopla, unitario, via, indice,
       campo07,campo08,campo12,campo16, indicelista do
 begin
    if (dhe = 'M') then
   begin
       if (codigopla = 3) then
          Select a_Data, A_hora from inter32 where inter3no = :indice into :campo07, :campo08;
   end
   select ans, empresa, logomarca, codcred, cbonovo, fromconvenio from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01, fromconvenio;
   tipo = null;
   codamb = null;
   campo06=null;
   campo17= null;
   fator = null;
   select first 1 fator, anvisa from matmedconv where codigomm = :codigoserv and convenio = :convenio into :fator, anvisaconv;
   if (fator is not null) Then
      campo12 = campo12 * fator;
   if (campo12 >0) then
     campo15 = CAST(campo16 AS NUMERIC(15,2)) /campo12;
   else
     campo15 = 0;
   campo09 = campo08 + 0.001;
   if (dhe = 'M') then
   begin
      campo11 = null;
      campo10='19';
      codamb = null;
      campo17 = null;
      medida = null;
      campo20 = null;
      tiss = null;
      tuss = null;
      simpro = null;
      laboratorio = null;
      campo18 = null;
      auxConsTussMM = null;
      bcColunaPesq = null;
      tipoMatMed = null;
      ondePegou = null;
      select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'CONS_TUSS_MATMED') into :auxConsTussMM ;
      select valor from BUSCACONFIGURACAO('CONVENIO' || :CONVENIO, 'CONS_COLU_CODCONV') into :bcColunaPesq ;
      if (not exists(select pagtgenerico from convenio where convenio = :convenio and pagtgenerico = 'S')) then
      select a_codamb,anvisa,COD_EMBALAGEM, a_nome,tissbras,tussbras, a_labo, ref_fabricante from matmed where codigomm = :codigoserv into codamb,campo17, medida, campo20, tiss, tuss, laboratorio, campo18;
      else
      begin
        select a_codamb,anvisa,COD_EMBALAGEM, a_nome,tissbrasg,tussbrasg, a_labo, ref_fabricante from matmed where codigomm = :codigoserv into codamb,campo17, medida, campo20, tiss, tuss, laboratorio, campo18;
        if ((tiss is null) and (tuss is null)) then
          select tissbras,tussbras from matmed where codigomm = :codigoserv into tiss, tuss;
      end
      if ( codamb in ('72140011', '72000002', '72000001') ) then
        campo10 = '20';
      if (exists(select first 1 a_codamb from matmedconv where codigomm = :codigoserv and convenio = :convenio and a_codamb is not null )) then
        select first 1 a_codamb from matmedconv where codigomm = :codigoserv and convenio = :convenio and a_codamb is not null into codamb;
      campo11=null;
      novonome = null;
      if (tuss is not null) then campo11 = tuss;
      --else if (tiss is not null) then campo11 = tiss;
      if ( auxConsTussMM = 'M' or auxConsTussMM is null ) then
      BEGIN
         tabMatMedConv = null;
         if ( campo11 is null or campo11 = '' ) then
         begin
             if ( bcColunaPesq is null or bcColunaPesq = 'T' ) then
                 select first 1 codtiss, a_codamb,novonome,tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed,:novonome ,:tabMatMedConv,:ondePegou;
             else if ( bcColunaPesq = 'C' ) then
                 select first 1 codigoconv, a_codamb,novonome,tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:tabMatMedConv,:ondePegou;
             campo11 = tuss;
             if (tuss is null or tuss = '') then
             begin
                select tissbras, simpro, a_codamb, 'MatMed' from matmed where codigomm = :codigoserv into tiss, simpro, :tipoMatmed, :ondePegou ;
                if (tiss is not null and tiss <> '') then
                     campo11 = tiss;
                else if ( simpro is not null and simpro <> '') then
                    campo11 = simpro;
             end
             campo10 = '00';
         end
      END
      ELSE if ( auxConsTussMM = 'C' ) then
      begin
           tabMatMedConv = null;
           if ( bcColunaPesq = 'T' ) then
                 select first 1 codtiss, a_codamb, novonome,tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:tabMatMedConv,:ondePegou;
           else if ( bcColunaPesq = 'C' ) then
                 select first 1 codigoconv, a_codamb,novonome, tabela,'CONVENIO' from matmedconv where codigomm = :codigoserv and convenio = :convenio into :tuss, :tipoMatmed, :novonome,:tabMatMedConv,:ondePegou;
           campo11 = tuss;
           if (tuss is null or tuss = '') then
           begin
                select tissbras, simpro, a_codamb, 'MatMed' from matmed where codigomm = :codigoserv into :tiss, :simpro, :tipoMatmed, :ondePegou;
                if (tiss is not null and tiss <> '') then
                     campo11 = tiss;
                else if ( simpro is not null and simpro <> '') then
                    campo11 = simpro;
           end
           if (tabMatMedConv is not null ) then campo10 = tabMatMedConv;
      end
      if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'MatMed_AMIL') where valor = 'S')) then
      begin
          tuss=null;
          if (ondePegou in('CONVENIO', 'MatMed')) then
          begin
               IF  ( ( tipoMatmed IN ( '72140046','72000000', '72000008' ) ) and (simpro is not null  ) ) then
               begin
                    select retorno from sp_compesq(:simpro,10) into :campo11;
                    campo10 = '00';
               end
               else IF  ( ( tipoMatmed in( '72140011', '72000002') ) and (tiss is not null  ) ) then
               begin
                    select retorno from sp_compesq(:tiss,10) into :campo11;
                    campo10 = '00';
               end
          end
      end
      if (( novonome is not null )and ( novonome <> '')) then
         campo20 = :novonome;
      if ( (fromconvenio = 4) and ( campo11 is not null) ) then --so para geap
      begin
          if (ondepegou = 'CONVENIO') THEN
          begin
              if ( tipoMatmed in ('72140011', '72000002', '72000001') ) then
              begin
                  if ( tabMatMedConv is null ) then
                  begin
                    if (strlen(Rtrim(campo11)) = 10) then
                         campo11 = '05' || substr(campo11,3,10);
                    else
                    begin
                         select retorno from sp_compesq(:campo11,8) into :campo11;
                         campo11 = '05' || campo11;
                    end
                 end
                 else
                 begin
                    if (strlen(Rtrim(campo11)) = 10) then
                         campo11 = campo11; -- substr(campo11,3,10);
                    else
                    begin
                         select retorno from sp_compesq(:campo11,8) into :campo11;
                         campo11 = campo11;
                    end
                 end
              end
              else if ( tipoMatmed in ('72140046', '72000000')) then
              begin
                  if ( tabMatMedConv is null) then
                  begin
                      if (strlen(Rtrim(campo11)) = 10) then
                          campo11 = '12' || substr(campo11,3,10);
                      else
                      begin
                          select retorno from sp_compesq(:campo11,8) into :campo11;
                          campo11 = '12' || campo11;
                      end
                  end
                  else
                  begin
                      if (strlen(Rtrim(campo11)) = 10) then
                          campo11 = campo11;--substr(campo11,3,10);
                      else
                      begin
                          select retorno from sp_compesq(:campo11,8) into :campo11;
                          campo11 = campo11;
                      end
                  end
              end
              if ( tabMatMedConv = '00' or tabMatMedConv is null) then
                 campo10 ='00';
          end
          else if (ondePegou = 'MatMed') then
          begin
              if ( tipoMatmed in ('72140011', '72000002', '72000001') ) then
              begin
                    if (strlen(Rtrim(campo11)) = 10) then
                         campo11 = '05' || substr(campo11,3,10);
                    else
                    begin
                         select retorno from sp_compesq(:campo11,8) into :campo11;
                         campo11 = '05' || campo11;
                    end
              end
              else if ( tipoMatmed in ('72140046', '72000000')) then
              begin
                  if (strlen(Rtrim(campo11)) = 10) then
                       campo11 = '12' || substr(campo11,3,10);
                  else
                  begin
                       select retorno from sp_compesq(:campo11,8) into :campo11;
                       campo11 = '12' || campo11;
                  end
              end
              campo10 ='00';
          end
      end
     if (fromconvenio = 5) then -- so para cassi
      begin
           if (ondePegou in('CONVENIO', 'MatMed')) then
           begin
              select retorno from sp_compesq(:campo11,10) into :campo11;
              if ( tabMatMedConv is not null ) then
                 campo10 = tabMatMedConv;
              else
                 campo10='00';
           end
      end
      if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'SIMPROBRAS_MATMED_SEMTUSS') where valor = 'S')) then
      begin
           if (ondePegou in('MatMed')) then
           begin
              if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'TamanhoCodTISS') where valor = '8')) then
                  select retorno from sp_compesq(:campo11,8) into :campo11;
              else
                  select retorno from sp_compesq(:campo11,10) into :campo11;
              campo10 = '00';
           end
      end
      if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'EXCESSAO_CASSI_MATMED') where valor = 'S')) then                 -- eduardo
      begin
              SELECT FIRST 1 codigoconv from matmedconv where codigomm = :codigoserv and convenio = :CONVENIO and tabela is not null into :campo11;
      end
      if (laboratorio is not null) then
        campo20 = campo20 || ' ' || laboratorio;
      if (medida is not null) then
      begin
        select first 1 tiss from medidas where unidade = :medida into campo13;
      end
      select first 1 substr(descricao,1,100),ref_fabricante,anvisa, '19' from tissdominio where codigo = :campo11 and tipo = '19' AND descricao is not null into campo20, campo18,campo17, :campo10;
      if ( codamb in ('72000002','72140011', '72000001')) then
      begin
         campo06 = '02';
         --campo10 = '20';
         select first 1 substr(descricao || ' ' || tipo || ' ' || apresentacao,1,100), '20' from tissdominio where codigo = :campo11 and tipo = '20' AND descricao is not null into campo20, :campo10;
      end
      else if ( codamb in ('72000000','72000008', '72000009')) then
         campo06 = '08';
      else if ( dhe = 'M') then
         campo06 = '03';
      auxAnvisa  = null;
      auxRefMF   = null;
      auxAutFunc = null;
      if (exists(select tabela from matmedconv where convenio =171 and codigomm = :codigoserv and tabela is not null)) then
        select tabela from matmedconv where convenio =171 and codigomm = :codigoserv and tabela is not null into campo10;
   end
   else
   begin
     campo10='18';
     select a_tipo, a_codamb, a_nome,TABPADRAOTISS from servicos where codigoserv =:codigoserv into :tipo, :campo11, campo20, :TABPADRAOTISS;
     select procedimento from sp_apelidoprocedimento(:campo11,:convenio,:codigopla) into :campo11;
     campoaux01 = null;
     select first 1 substr(descricao,1,250),codigo from tissdominio where codigo = :campo11 and tipo = '18' AND descricao is not null into campo20, campoaux01;
     if (campoaux01 is null) then
       campo10 = '00';
     campoaux01 = null;
       if ((tipo = 'X') and (( exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) and
           ( exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'RetiraPacoteOutraDespInt') where valor <> 'S')))
           ) then
      begin
         campo06 = '07';
         campo10 = '98';
      end
      if (tipo in ('T','A', 'N') ) then
         campo06 = '07';
      else if (tipo = 'D') then
         campo06 = '05';
      else if (tipo = 'G') then
         campo06 = '01';
      if (TABPADRAOTISS is not null) then
       campo10 =tabpadraotiss;
   end
   if ((qtde = 0) and (campo06 is not null)) then
   begin
     if (campo03 is null) then campo03 = campo02;
    -- select ans, empresa, logomarca, codcred, cbonovo, fromconvenio from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01, fromconvenio;
     if ((:empresa is null) or (:empresa = 0)) then
       empresa = 1;
     select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo04, campo05, campo03, logoempresa;
     if (campo03 is null) then
       select first 1 razaosocial, cnes,cnpj, logo from empresas into campo04, campo05, campo03, :logoempresa;
     select first 1 gases,medicamentos,materiais,opme,taxas,diarias,geral from tiss_total_conta_v3(:consulta)
     into :campo21, :campo22, :campo23, :campo24, :campo25, :campo26, :campo27;
     campo27 = :campo21 + :campo22 + :campo23 + :campo24 + :campo25 + :campo26;
     if (codcred <> '') then
       campo03 = codcred;
     if (guia is not null) then campo02 = guia; else campo02 = codigocps;
   end
   campo14= 1;
   if (via = '1') then campo14 = 0.70;
   if (via = '2') then campo14 = 0.50;
   if (via = '3') then campo14 = 0.50;
   if (via = '4') then campo14 = 0.80;
   if ((campo13 is null) or (campo13 not like '0%')) then
     campo13 = '036';
   codmedida = null;
   select first 1 cod_medida from matmedconv where codigomm = :codigoserv and convenio = :convenio into :codmedida;
   if (anvisaconv <> '') then campo17 = anvisaconv;
   if (codmedida is not null) then
      campo13 = codmedida;
   if (campo06 is not null) then
   begin
     qtde = qtde + 1;
     suspend;
   end
 end
 end
end
 ^


ALTER PROCEDURE "TISS_RESUMO_INT_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
declare variable medico integer;
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable auxcarater_int varchar(100);
declare variable aux_tipointernacao integer;
declare variable qtdepag integer;
declare variable tipoaltaInter2 varchar(100);
declare variable parcela integer;
begin
 parcela = 0;
 aux_tipointernacao = 0;
 PAGINA = 1;
 select first 1
                cast(cps25.codigocps as integer),
                cast(cps25.codigocps as integer),
                cps1.guiasol,  cps1.DATAAUTORIZA,
                cps1.indicaacidente,
                cps25.codigopac, cps1.especialidade, cps1.maquineta, cps1.solcnpj, cps25.convenio,
                cps1.AUTORIZA, cps1.VALIDGUIA, cps1.A_GUIA, cps1.matricula, cps1.A_VALIDADE, cps1.atdrn, cps1.NASCIDOVIVOS, cps1.origem,
                inter2.tipofaturamento, min(inter2.a_data), min(inter2.A_HORA), max(inter2.a_datafim), max(inter2.a_horafim), cps1.TIPOATEND1,
                cps1.dayhospital, cps1.a_cid, cps1.INDICAACIDENTE, cps1.tipoaltatiss, cps1.DECLARACAONASCIDOVIVOS, cps1.CIDOBITO,
                cps1.NUMEROOBITO, min(inter2.TIPOALTATISS), cps25.parcela
                from cps25(:consulta,'INTERNACAOTISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 inner join inter2 on (inter2.codigoint = cps25.codigocps and cps25.tratamento = inter2.tratamento)
 left join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
 group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,24,25,26,27,28,29,30,31,33
 into                codigocps,                campo02,                         campo03,          campo04,
                campo28,
                codigopac, especialidade, maquineta, solcnpj, convenio,
                campo05, campo06, campo07, campo08, campo09, campo12, campo33, :auxcarater_int,
                campo17, campo18, campo19, campo20, campo21, aux_tipointernacao,
                campo23, campo24, campo28, campo29, campo30, campo31, campo32, :tipoaltaInter2, :parcela;
 select min(a_hora) from inter2 where codigoint = :codigocps and a_data = :campo18 and parcela = :parcela into campo19;
 select max(a_horafim) from inter2 where codigoint = :codigocps and a_datafim = :campo20 and parcela = :parcela into campo21;
 if ((auxcarater_int = 1) or (auxcarater_int = 4)) then --carater na internacao conforme guia antiga
    campo16 = '1';
 else
    campo16 = '2';
 if (campo17 = '1') then
 begin
    campo29 = tipoaltaInter2;
    campo31 = null;
    campo32 = null;
 end
 if (parcela > 0 )then campo02 = campo02 || parcela;
 if (campo07 is not null) then
   campo02 = campo07;
 if (campo17 is null) then
   campo17 = '4';
 if (campo03 is null) then campo03 = campo02;
 if ((aux_tipointernacao = 0) or (aux_tipointernacao = 6)) then campo22 = 1;
 if (aux_tipointernacao = 7) then campo22 = 2;
 if (aux_tipointernacao = 8) then campo22 = 3;
 if (aux_tipointernacao = 9) then campo22 = 4;
 if (campo23 =  0 or campo23 is null) then
     campo23 = 1;
 else
     campo23 = 2; --hospital dia tabela dominio 41
 select a_nome, cartao from paciente where codigopac =:codigopac into :campo10, :campo11;
 if (exists(select valor from empresaconfig where sistema = 'syshosp' AND PARAMETRO = 'TissComCodigopac' and valor = 'S' )) then
   campo10 = codigopac || ' ' || campo10;
 select ans, empresa, logomarca, codcred, cbonovo from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01;
 if ((:empresa is null) or (:empresa = 0)) then
   empresa = 1;
-- select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo30, campo31, logoempresa;
 if (codcred <> '') then
    campo13 = codcred;
 if (codcred is null) then
   select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo =:empresa into campo14, campo15, campo13, :logoempresa;
 else
   select first 1 razaosocial, cnes, logo from empresas where codigo =:empresa into campo14, campo15, :logoempresa;
 select procedimento, diarias, taxas, materiais, opme, medicamentos, gases, geral from TISS_TOTAL_CONTA_V3(:consulta) into
 :campo54, campo55, campo56, campo57, campo58, campo59, campo60, campo61;
select max(pagina) from TISS_RESUMO_INT_V3_PROC(:consulta) into qtdepag;
if (campo12 is null) then campo12 = 'N';
if (campo28 is null) then campo28 = '9';
 pagina = 0;
 if ((campo61 >=0.01) and (qtdepag is null)) then
 begin
   pagina = 1;
   suspend;
 end
 if (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo03embranco') where valor = 'S')) then
   campo03 = '';
 if (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'NASCIDOVIVOSN') where valor = 'S')) then
 BEGIN
   if (CAMPO33 = '0') then CAMPO33 = 'S';
   if (CAMPO33 = '1') then CAMPO33 = 'N';
 END
 while (qtdepag > 0) do
 begin
   qtdepag = qtdepag -1;
   pagina = pagina + 1;
   suspend;
 end
end
 ^


ALTER PROCEDURE "TISS_RESUMO_INT_V3_CSSGNASCVIVO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
declare variable medico integer;
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable auxcarater_int varchar(100);
declare variable aux_tipointernacao integer;
declare variable qtdepag integer;
declare variable tipoaltaInter2 varchar(100);
declare variable parcela integer;
begin
 parcela = 0;
 aux_tipointernacao = 0;
 PAGINA = 1;
 select first 1
                cast(cps25.codigocps as integer),
                cast(cps25.codigocps as integer),
                cps1.guiasol,  cps1.DATAAUTORIZA,
                cps1.indicaacidente,
                cps25.codigopac, cps1.especialidade, cps1.maquineta, cps1.solcnpj, cps25.convenio,
                cps1.AUTORIZA, cps1.VALIDGUIA, cps1.A_GUIA, cps1.matricula, cps1.A_VALIDADE, cps1.atdrn, cps1.nascidovivos, cps1.origem,
                inter2.tipofaturamento, min(inter2.a_data), min(inter2.A_HORA), max(inter2.a_datafim), max(inter2.a_horafim), cps1.TIPOATEND1,
                cps1.dayhospital, cps1.a_cid, cps1.INDICAACIDENTE, cps1.tipoaltatiss, cps1.DECLARACAONASCIDOVIVOS, cps1.CIDOBITO,
                cps1.NUMEROOBITO, min(inter2.TIPOALTATISS), cps25.parcela
                from cps25(:consulta,'INTERNACAOTISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 inner join inter2 on (inter2.codigoint = cps25.codigocps and cps25.tratamento = inter2.tratamento)
 left join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
 group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,24,25,26,27,28,29,30,31,33
 into                codigocps,                campo02,                         campo03,          campo04,
                campo28,
                codigopac, especialidade, maquineta, solcnpj, convenio,
                campo05, campo06, campo07, campo08, campo09, campo12, campo33, :auxcarater_int,
                campo17, campo18, campo19, campo20, campo21, aux_tipointernacao,
                campo23, campo24, campo28, campo29, campo30, campo31, campo32, :tipoaltaInter2, :parcela;
 select min(a_hora) from inter2 where codigoint = :codigocps and a_data = :campo18 and parcela = :parcela into campo19;
 select max(a_horafim) from inter2 where codigoint = :codigocps and a_datafim = :campo20 and parcela = :parcela into campo21;
 if ((auxcarater_int = 1) or (auxcarater_int = 4)) then --carater na internacao conforme guia antiga
    campo16 = '1';
 else
    campo16 = '2';
 if (campo17 = '1') then
 begin
    campo29 = tipoaltaInter2;
    campo31 = null;
    campo32 = null;
 end
 if (parcela > 0 )then campo02 = campo02 || parcela;
 if (campo07 is not null) then
   campo02 = campo07;
 if (campo17 is null) then
   campo17 = '4';
 if (campo03 is null) then campo03 = campo02;
 if ((aux_tipointernacao = 0) or (aux_tipointernacao = 6)) then campo22 = 1;
 if (aux_tipointernacao = 7) then campo22 = 2;
 if (aux_tipointernacao = 8) then campo22 = 3;
 if (aux_tipointernacao = 9) then campo22 = 4;
 if (campo23 =  0 or campo23 is null) then
     campo23 = 1;
 else
     campo23 = 2; --hospital dia tabela dominio 41
 select a_nome, cartao from paciente where codigopac =:codigopac into :campo10, :campo11;
 if (exists(select valor from empresaconfig where sistema = 'syshosp' AND PARAMETRO = 'TissComCodigopac' and valor = 'S' )) then
   campo10 = codigopac || ' ' || campo10;
 select ans, empresa, logomarca, codcred, cbonovo from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01;
 if ((:empresa is null) or (:empresa = 0)) then
   empresa = 1;
-- select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo30, campo31, logoempresa;
 if (codcred <> '') then
    campo13 = codcred;
 if (codcred is null) then
   select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo =:empresa into campo14, campo15, campo13, :logoempresa;
 else
   select first 1 razaosocial, cnes, logo from empresas where codigo =:empresa into campo14, campo15, :logoempresa;
 select procedimento, diarias, taxas, materiais, opme, medicamentos, gases, geral from TISS_TOTAL_CONTA_V3(:consulta) into
 :campo54, campo55, campo56, campo57, campo58, campo59, campo60, campo61;
select max(pagina) from TISS_RESUMO_INT_V3_PROC(:consulta) into qtdepag;
if (campo12 is null) then campo12 = 'N';
if (campo28 is null) then campo28 = '9';
 pagina = 0;
 if ((campo61 >=0.01) and (qtdepag is null)) then
 begin
   pagina = 1;
   suspend;
 end
 if (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo03embranco') where valor = 'S')) then
   campo03 = '';
 if (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'NASCIDOVIVOSN') where valor = 'S')) then
 BEGIN
   if (CAMPO33 = '0') then CAMPO33 = 'S';
   if (CAMPO33 = '1') then CAMPO33 = 'N';
 END
  if (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'NASCIDOVIVO=DECLARACAO') where valor = 'S')) then
 BEGIN
   CAMPO33 = CAMPO30;
 END
 while (qtdepag > 0) do
   qtdepag = qtdepag -1;
 begin
   pagina = pagina + 1;
   suspend;
 end
 --if ( exists( select DECLARACAONASCIDOVIVOS from cps1 where codigocps= :codigocps)
  --if (:campo30 = 0) then
  begin
      select first 1  DECLARACAONASCIDOVIVOS from cps1 where codigocps= :codigocps into :CAMPO30;
  end
end
 ^


ALTER PROCEDURE "TISS_RESUMO_INT_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB,
  "LOTE" INTEGER,
  "QTDE" INTEGER
)
AS
declare variable medico integer;
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable auxcarater_int varchar(100);
declare variable aux_tipointernacao integer;
declare variable qtdepag integer;
begin
 LOTE = 1;
 qtde = 0;
 for select distinct cps25.codigocps from cps25(:consulta,'INTERNACAOTISS','','','S','','') into codigocps do
 begin
   select campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo19, campo20,
          campo21, campo22, campo23, campo24, campo25, campo26,  campo27,  campo28, campo29, campo30, campo31, campo32, campo33,
          campo54,campo55,campo56,campo57,campo58,campo59,campo60,campo61,campo65 from TISS_RESUMO_INT_V3(:consulta || ' and codigocps = ' || :codigocps)
          where pagina = 1
   into   campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo19, campo20,
          campo21, campo22, campo23, campo24, campo25, campo26,  campo27,  campo28, campo29, campo30, campo31, campo32, campo33,
          campo54, campo55, campo56, campo57, campo58, campo59, campo60, campo61, campo65;
   qtde = qtde + 1;
   if (campo10 <> '') then
   begin
      if (gen_id(GEN_ENVIO,0) = 0) THEN
       suspend;
      else
       EXCEPTION EXC_AVISO;
   end
   if (qtde = 100) then
   begin
     qtde = 0;
     lote = lote + 1;
   end
 end
end
 ^


ALTER PROCEDURE "TISS_RESUMO_INT_V3_OLD" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" TIMESTAMP,
  "CAMPO19" TIME,
  "CAMPO20" TIMESTAMP,
  "CAMPO21" TIME,
  "CAMPO22" VARCHAR(100),
  "CAMPO23" VARCHAR(100),
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(100),
  "CAMPO27" VARCHAR(100),
  "CAMPO28" VARCHAR(100),
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO54" DOUBLE PRECISION,
  "CAMPO55" DOUBLE PRECISION,
  "CAMPO56" DOUBLE PRECISION,
  "CAMPO57" DOUBLE PRECISION,
  "CAMPO58" DOUBLE PRECISION,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO65" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
declare variable medico integer;
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable auxcarater_int varchar(100);
declare variable aux_tipointernacao integer;
declare variable qtdepag integer;
declare variable tipoaltaInter2 varchar(100);
declare variable parcela integer;
begin
 parcela = 0;
 aux_tipointernacao = 0;
 PAGINA = 1;
 select first 1
                cast(cps25.codigocps as integer),
                cast(cps25.codigocps as integer),
                cps1.guiasol,  cps1.DATAAUTORIZA,
                cps1.indicaacidente,
                cps25.codigopac, cps1.especialidade, cps1.maquineta, cps1.solcnpj, cps25.convenio,
                cps1.AUTORIZA, cps1.VALIDGUIA, cps1.A_GUIA, cps1.matricula, cps1.A_VALIDADE, cps1.atdrn, cps1.NASCIDOVIVOS, cps1.origem,
                inter2.tipofaturamento, min(inter2.a_data), min(inter2.A_HORA), max(inter2.a_datafim), max(inter2.a_horafim), cps1.TIPOATEND1,
                cps1.dayhospital, cps1.a_cid, cps1.INDICAACIDENTE, cps1.tipoaltatiss, cps1.nascidovivos, cps1.CIDOBITO,
                cps1.NUMEROOBITO, min(inter2.TIPOALTATISS), cps25.parcela
                from cps25(:consulta,'INTERNACAOTISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 inner join inter2 on (inter2.codigoint = cps25.codigocps and cps25.tratamento = inter2.tratamento)
 left join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
 group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,24,25,26,27,28,29,30,31,33
 into                codigocps,                campo02,                         campo03,          campo04,
                campo28,
                codigopac, especialidade, maquineta, solcnpj, convenio,
                campo05, campo06, campo07, campo08, campo09, campo12, campo33, :auxcarater_int,
                campo17, campo18, campo19, campo20, campo21, aux_tipointernacao,
                campo23, campo24, campo28, campo29, campo30, campo31, campo32, :tipoaltaInter2, :parcela;
 select min(a_hora) from inter2 where codigoint = :codigocps and a_data = :campo18 and parcela = :parcela into campo19;
 select max(a_horafim) from inter2 where codigoint = :codigocps and a_datafim = :campo20 and parcela = :parcela into campo21;
 if ((auxcarater_int = 1) or (auxcarater_int = 4)) then --carater na internacao conforme guia antiga
    campo16 = '1';
 else
    campo16 = '2';
 if (campo17 = '1') then
 begin
    campo29 = tipoaltaInter2;
    campo31 = null;
    campo32 = null;
 end
 if (parcela > 0 )then campo02 = campo02 || parcela;
 if (campo07 is not null) then
   campo02 = campo07;
 if (campo17 is null) then
   campo17 = '4';
 if (campo03 is null) then campo03 = campo02;
 if ((aux_tipointernacao = 0) or (aux_tipointernacao = 6)) then campo22 = 1;
 if (aux_tipointernacao = 7) then campo22 = 2;
 if (aux_tipointernacao = 8) then campo22 = 3;
 if (aux_tipointernacao = 9) then campo22 = 4;
 if (campo23 =  0 or campo23 is null) then
     campo23 = 1;
 else
     campo23 = 2; --hospital dia tabela dominio 41
 select a_nome, cartao from paciente where codigopac =:codigopac into :campo10, :campo11;
 if (exists(select valor from empresaconfig where sistema = 'syshosp' AND PARAMETRO = 'TissComCodigopac' and valor = 'S' )) then
   campo10 = codigopac || ' ' || campo10;
 select ans, empresa, logomarca, codcred, cbonovo from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01;
 if ((:empresa is null) or (:empresa = 0)) then
   empresa = 1;
-- select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo30, campo31, logoempresa;
 if (codcred <> '') then
    campo13 = codcred;
 if (codcred is null) then
   select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo =:empresa into campo14, campo15, campo13, :logoempresa;
 else
   select first 1 razaosocial, cnes, logo from empresas where codigo =:empresa into campo14, campo15, :logoempresa;
 select procedimento, diarias, taxas, materiais, opme, medicamentos, gases, geral from TISS_TOTAL_CONTA_V3(:consulta) into
 :campo54, campo55, campo56, campo57, campo58, campo59, campo60, campo61;
select max(pagina) from TISS_RESUMO_INT_V3_PROC(:consulta) into qtdepag;
if (campo12 is null) then campo12 = 'N';
if (campo28 is null) then campo28 = '9';
 pagina = 0;
 if ((campo61 >=0.01) and (qtdepag is null)) then
 begin
   pagina = 1;
   suspend;
 end
 if (exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo03embranco') where valor = 'S')) then
   campo03 = '';
 while (qtdepag > 0) do
 begin
   qtdepag = qtdepag -1;
   pagina = pagina + 1;
   suspend;
 end
end
 ^


ALTER PROCEDURE "TISS_RESUMO_INT_V3_PROC" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO34" TIMESTAMP,
  "CAMPO35" TIMESTAMP,
  "CAMPO36" TIMESTAMP,
  "CAMPO37" VARCHAR(100),
  "CAMPO38" VARCHAR(100),
  "CAMPO39" VARCHAR(250),
  "CAMPO40" INTEGER,
  "CAMPO41" VARCHAR(100),
  "CAMPO42" VARCHAR(100),
  "CAMPO43" DOUBLE PRECISION,
  "CAMPO44" DOUBLE PRECISION,
  "CAMPO45" DOUBLE PRECISION,
  "CAMPO46" VARCHAR(100),
  "CAMPO47" VARCHAR(100),
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(250),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "INDICELISTA" VARCHAR(3000)
)
AS
DECLARE VARIABLE QTDE INTEGER;
DECLARE VARIABLE QTDEPROC INTEGER;
DECLARE VARIABLE FROMCONVENIO INTEGER;
DECLARE VARIABLE linha INTEGER;
DECLARE VARIABLE unimed varchar(30);
DECLARE VARIABLE convenio integer;
declare variable dhe varchar(20);
declare variable aptodobra char(1);
declare variable tipoguia varchar(20);
declare variable tipoproc varchar(20);
declare variable tipoPacote char(1);
declare variable auxPorte varchar(10);
declare variable TABPADRAOTISS varchar(10);
declare variable Medico integer;
declare variable nome_medico varchar(100);
declare variable auxUnit double precision;
declare variable versao varchar(30);
begin
  QTDEPROC = 0;
  QTDE = 0;
  PAGINA = 1;
  linha = 10;
  tipopacote = 'T';
  --if (exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) then
  --       tipopacote = 'X';
  select first 1 cps25.convenio, cps25.versaoguia from  cps25(:consulta,'INTERNACAOTISS','','','S','','') into :convenio, :versao;
        if (( exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) or
         ( exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'RetiraPacoteOutraDespInt') where valor <> 'S'))
           ) then
           tipopacote = 'X';
  FOR  select cps25.convenio, cps25.codigocps,cps25.data, cps25.hora, cps25.horafinal, tabelahon.padraotiss, cps25.codigoamb, servicos.a_nome,  cps25.via, cps25.tecnica,
              cps25.grauparticipacao,medicos.a_nome,medicos.tipoconselho,medicos.a_cremeb, medicos.ufcremeb,medicos.especial, medicos.unimed, cps25.dhe, cps25.tipoguia, servicos.a_tipo, servicos.aptodobra, cps25.porte,servicos.TABPADRAOTISS, cps25.a_medicos,( cps25.valor / cps25.quantidade ) ,sum(cps25.quantidade), sum(cps25.valor), list(cps25.indice)
       from cps25(:consulta,'INTERNACAOTISS','','','S','','')
       inner join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
       inner join medicos on (cps25.a_medicos = medicos.a_medicos)
       inner join tabelahon on (tabelahon.numero = servicos.tabela)
       where cobrar = 'S' and not servicos.a_tipo in ('G','D','T','A','N', :tipopacote)  and cps25.quantidade > 0
       group by 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24, 25
 into convenio, codigocps, campo34, campo35, campo36, campo37, campo38, campo39, campo41, campo42,
      campo47, campo49, campo50,campo51,campo52,campo53,unimed, :dhe, :tipoguia, :tipoproc, aptodobra, :auxPorte, tabpadraotiss, :Medico, :auxUnit, campo40, campo45, indicelista do
 begin
   select first 1 cbotissv3 from especialidade where codesp = :campo53 into :campo53;
   campo39 = substr(campo39,1,150);
   if (aptodobra is null) then aptodobra = 'S';
   campo37 = '22';
   if  (not exists(select codigo from tissdominio where tipo = '22' and codigo = :campo38 )) then
      campo37 = '00';
   if (TABPADRAOTISS is not null)then
     campo37 = tabpadraotiss;
   campo43 = 1.00;
   if (tipoguia = '+') then
       tipoguia = '1';
   if (auxPorte = '70%') then
      campo43 = 0.70;
   else if (auxporte = '50%' ) then
      campo43 = 0.50;
   else if (auxPorte = '30%') then
      campo43 = 0.30;
   else if (auxPorte = '15%') then
      campo43 = 0.15;
   else if (auxPorte = '20%') then
      campo43 = 0.20;
   else if (auxPorte = '80%') then
      campo43 = 0.80 ;
   if (tipoproc = 'H' and tipoguia = '2' and aptodobra = 'S' and auxPorte <> '' and campo43 > 0)then
      campo43 = ( campo43 * 2 );
   else if ((dhe = 'S') and (tipoproc = 'H') and (tipoguia='1') and (exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'RedAcres0.3') where valor = 'S')))  then
       campo43 = 0.30;
   else if ((dhe = 'S') and (tipoproc = 'H') and (tipoguia='1'))  then
       campo43 = 1.30;
   else if (tipoproc = 'H' and tipoguia = '2' and dhe='S' and aptodobra = 'S')then
      campo43 = 2.30;
   else if (tipoproc = 'H' and tipoguia = '2' and aptodobra = 'S' )then
      campo43 = 2.00;
   select codcred, fromconvenio from convenio where convenio = (select convenio from cps1 where codigocps =:codigocps) into campo48, FROMCONVENIO;
   IF ((FROMCONVENIO IN (3,27)) and (unimed <> '')) THEN
     campo48 = unimed;
   if (campo38 = '10104011') then
   begin
       campo43 = 1.00;
   end
   if (fromconvenio = 4) then
   begin
       if (campo38 = '10104020')  then
       begin
           campo43 = 1.00;
       end
   end
   if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'TissMedicoCPF') where valor = 'S')) then
   begin
     SELECT RAZAOSOCIAL, CPF_CNPJ FROM SP_MEDICOCOBRANCA(:medico, :convenio) into :nome_medico, :campo48 ;
     if ( nome_medico is not null or nome_medico <> '' ) then
        campo49 = nome_medico;
     if (campo48 is null or campo48 = '') then
        select a_cpf from medicos where a_medicos = :medico into campo48;
   end
   if ((campo48 is null) or (campo48 = '')) then
     SELECT FIRST 1 CNPJ FROM EMPRESAS WHERE CODIGO = 1 INTO CAMPO48;
   QTDEPROC = QTDEPROC+1;
   CAMPO46 = QTDEPROC;
    IF (CAMPO36 IS NULL) THEN CAMPO36 = CAMPO35 + 0.0139;
   campo44 = campo45 /campo40;
   if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'GrauPartPadrao') where (valor = 'N' or valor is null))) then
   if (CAMPO47 is null) then campo47 = '11';
   if (CAMPO41 is null) then campo41 = '1';
   if (CAMPO41 = 'U') then campo41 = '1';
   if (CAMPO41 = 'M') then campo41 = '2';
   if (CAMPO41 = 'D') then campo41 = '3';
   if ((CAMPO41 <> '1') and (CAMPO41 <> '2') and (CAMPO41 <> '3')) then campo41 = '1';
   if (CAMPO42 = 'C') then campo42 = '1';
   if (CAMPO42 = 'V') then campo42 = '2';
   if (CAMPO42 = 'R') then campo42 = '3';
   select first 1 codigo from tissdominio where descricao containing :campo50 and tipo = '26' into :campo50;
   if (campo50 = 'OUT') then campo50 = '10';
   iF (FROMCONVENIO not IN (3,27)) THEN
   begin
       if (CAMPO50 like '0%') then campo50 = cast(campo50 as integer);
   end
   if ((versao like '3.03.0%') and (strlen(rtrim(campo50))=1)) then campo50 = '0'|| rtrim(campo50);
   if ((versao like '3.04.0%') and (strlen(rtrim(campo50))=1)) then campo50 = '0'|| rtrim(campo50);
   if ((versao like '3.05.0%') and (strlen(rtrim(campo50))=1)) then campo50 = '0'|| rtrim(campo50);
   select first 1 codigo from tissdominio where descricao = :campo52 and tipo = '59' into campo52;
   qtde = qtde + 1;
   if (qtde > linha) then
   begin
     pagina = pagina + 1;
     qtde = 1;
     linha = 20;
   end
   suspend;
 end
end
 ^


ALTER PROCEDURE "TISS_SPSADT_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" TIMESTAMP,
  "CAMPO23" BLOB,
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO58" BLOB,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO62" DOUBLE PRECISION,
  "CAMPO63" DOUBLE PRECISION,
  "CAMPO64" DOUBLE PRECISION,
  "CAMPO65" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "LOGOCONVENIO" BLOB,
  "LOGOEMPRESA" BLOB
)
AS
declare variable medico integer;
declare variable especialidade varchar(10);
declare variable maquineta varchar(20);
declare variable codigopac integer;
declare variable codigoserv integer;
declare variable empresa integer;
declare variable convenio integer;
declare variable fromconvenio integer;
declare variable parametro varchar(100);
declare variable solcnpj varchar(100);
declare variable campoaux01 varchar(100);
declare variable campoaux02 varchar(100);
declare variable campoaux03 varchar(100);
declare variable codcred varchar(100);
declare variable soltipo varchar(100);
declare variable unimed varchar(100);
declare variable solesp1 varchar(10);
declare variable principal varchar(10);
declare variable codigopla integer;
declare variable medresp integer;
declare variable campoguiasol varchar(20);
declare variable versao varchar(20);
begin
 PAGINA = 1;
 select first 1 cast(cps25.codigocps as integer), cast(cps25.codigocps as integer), cps1.guiasol, cps25.matricula, cps1.autoriza, cps1.validguia, cps1.indicaacidente,  cps25.a_datafat, cps1.prenatal, cps25.codigopla, cps25.valor, (select descr from cid where cid10 = cps1.a_cid), cps1.dataautoriza, cps1.a_validade,cps1.a_guia,cps1.atdrn,cps1.soldata,
                cps25.a_medicos, cps25.codigopac, cps25.codigoserv, cps1.especialidade, cps1.maquineta, cps1.solcnpj, cps25.convenio,
                cps1.soltipo, cps1.ufcremebsol, cps1.solcremeb, cps1.solesp1, cps1.tipoatendimentotiss, cps1.tipoaltatiss, cps1.principal, cps1.codigopla, cps1.medresp, cps1.guiasol, cps1.obscps, cps1.versaoguia
                from cps25(:consulta,'SPSADTTISS','','','S','','')
 inner join cps1 on (cps1.codigocps = cps25.codigocps)
 left join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
 into                codigocps,       campo02,    campo03,       campo08,        campo05,    campo06,             campo33,        campo18,       campo34,       campo21,   campo59,     campo23, campo04,campo09, campo07, campo12,campo22,
                medico, codigopac, codigoserv, especialidade, maquineta, solcnpj, convenio,
                soltipo, campo18, campo17, solesp1,campo32, campo35, :principal, :codigopla,:medresp, :campoguiasol, :campo58, :versao;
 campo02 = codigocps;
 if (campo03 is null) then campo03 = campo07;
 if (campo03 is null) then campo03 = campo02;
 if ((campo07 is not null) and (campo03 is null)) then campo03 = campo07;
 if (campo12 is null) then campo12 = 'N';
 select a_nome, cartao from paciente where codigopac =:codigopac into :campo10, campo11;
 if (exists(select valor from empresaconfig where sistema = 'syshosp' AND PARAMETRO = 'TissComCodigopac' and valor = 'S' )) then
   campo10 = codigopac || ' ' || campo10;
 select ans, empresa, logomarca, codcred, cbonovo, fromconvenio from convenio where convenio = :convenio into campo01, empresa, logoconvenio, codcred, campoaux01, fromconvenio;
 if (SOLTIPO in ('02','08','17')) then
    campo16 = 'CRO';
 else if (SOLTIPO = '03') then
    campo16 = 'CREFITO';
 else if (SOLTIPO in ('04','35','09','9')) then
    campo16 = 'CRP';
 else if (SOLTIPO = '05') then
    campo16 = 'CRF';
 else if (SOLTIPO in ('10','12','21')) then
    campo16 = 'OUT';
 else if (SOLTIPO = '11') then
    campo16 = 'CRB';
 else if (SOLTIPO in ('07', '36') ) then
    campo16 = 'CRN';
 else if (SOLTIPO = '37') then
    campo16 = 'CRBM';
 else
    campo16 = 'CRM';
 SELECT first 1 MedicoSolicitante.NOME, MedicoSolicitante.CBO, MedicoSolicitante.UNIMED
 FROM MEDICOSOLICITANTE
 WHERE MedicoSolicitante.TIPOCONSELHO= :campo16 AND MedicoSolicitante.UF= :campo18 AND MedicoSolicitante.CREMEB= :campo17
 into campo15, campo19, unimed;
 if ((:empresa is null) or (:empresa = 0)) then
   empresa = 1;
 select first 1 razaosocial, cnes, cnpj, logo from empresas where codigo = :empresa into campo30, campo31, campo29, logoempresa;
 if (campo10 is null) then
   select first 1 razaosocial, cnes,cnpj, logo from empresas into campo30, campo31, campo29, :logoempresa;
 SELECT first 1 CBOTISSV3 FROM ESPECIALIDADE WHERE CODESP = :solesp1 into campo19;
 campo13 = solcnpj;
 if ((fromconvenio in (3,19,27)) and (unimed <> '')) then
   campo13 = unimed;
 if ( exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'campo30ProfExecutante') where valor = 'S')) then
 begin
     select a_nome from medicos where a_medicos = :medresp into :campo30;
 end
 if ((fromconvenio = 16) and exists(select first 1 valor from buscaconfiguracao('SYSHOSP','SolitCoelba') where valor = 'S')) then
   campo13 = codcred;
 if (fromconvenio in(2,18)) then
 begin
     select CODCRED from SP_convcodcred(:Principal, :convenio,:codigopla) into :codcred;
     if (codcred is null or codcred ='') then
     begin
         select CODCRED FROM SP_SERVICOSCREDENCIADO(:Principal,:convenio) into :codcred;
     end
     if (codcred is null or codcred = '') then
         select codcred from convenio where convenio = :convenio into codcred ;
 end
 if ((campo13 = campo29) and (codcred <> '')) then
   campo13 = codcred;
 SELECT first 1 NOME FROM SOLICITANTE WHERE CNPJ = :SOLCNPJ INTO CAMPO14;
 IF (CAMPO14 IS NULL) THEN
   CAMPO14 = CAMPO15;
 select first 1 procedimento, taxas, materiais, opme, medicamentos, gases,geral from tiss_total_conta_v3(:consulta)
 into :campo59, :campo60, :campo61, :campo62, :campo63, :campo64, :campo65;
 if (codcred <> '') then campo29 = codcred;
 if (maquineta <> '') then campo29 = maquineta;
 if (maquineta <> '') then campo13 = maquineta;
 select first 1 codigo from tissdominio where descricao containing :campo16 and tipo = '26' into :campo16;
 if (campo16 = 'OUT') then campo16 = '10';
 if (CAMPO16 like '0%') then campo16 = cast(campo16 as integer);
 if ((CAMPO16 = 6) and (versao like '3.03%')) then campo16 = '0'|| rtrim(campo16);
 if ((CAMPO16 = 6) and (versao like '3.04%')) then campo16 = '0'|| rtrim(campo16);
 if ((CAMPO16 = 6) and (versao like '3.05%')) then campo16 = '0'|| rtrim(campo16);
 if (CAMPO33 is null) then campo33 = '9';
 if (not ((campo35 = '41') or (campo35 = '42') or (campo35 = '43'))) then
   campo35 = '';
 if (CAMPO35 is null) then campo35 = '';
 if (CAMPO07 is null) then campo07 = campo02;
 if ((fromconvenio in ( 3,19,27)) and exists(select first 1 valor from buscaconfiguracao('SYSHOSP','NumeraGuiaUnimed') where (valor <> '0' and valor <> ''))) then
 begin
   campo02 = campo07;
   campo03 = campo07;
 end
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'SadtUnimedGuiaPrinc_Operadora') where valor = 'S')) then
 begin
   if (campoguiasol is null)  then
      campoguiasol = :codigocps;
   campo02 = :campoguiasol;  -- soliciado pelo sistema SAW
   campo03 = null;
 end
 if ( campo04 is null ) then
    campo04=campo22;
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo14Bradesco') where valor = 'S')) then
 Begin
      campo13 = '0000429937'; -- fiz isso pra clam depois agente tira temporario pra bradesco foi mal ta feio depois melhoro
      campo14 = 'BIODIAGNOSE LABORATORIO DE ANALISES CLINICAS';
 end
 if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo13igualCampo29') where valor = 'S')) then  -- eduardo para angioclam a pedido de lucas
    campo13 = campo29;
 if ( fromconvenio = 30 ) then --tipo petrobras
 begin
    if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'ProfPetrobrasCredenc') where valor = 'S')) then
    begin
       select a_nome from medicos where a_medicos = :medresp into :campo14;
       campo30 =campo14;
       campo29 = campo13;
    end
 end
 if ( fromconvenio = 1 ) then --tipo planserv
 begin
    if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'CodPrestadorOperadora') where valor <> '')) then
    begin
       campo13 = ( select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'CodPrestadorOperadora') );
      -- campo29 = :campo13;
    end
 end
 select first 1 codigo from tissdominio where descricao = :campo18 and tipo = '59' into campo18;
 if (campo32 <> '04') then
 begin
   if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'Campo34NuloSADT') where valor = 'S')) then
     campo34 = null;
   suspend;
   select max(pagina) from tiss_spsadt_v3_proc(:codigocps) into codigoserv;
   while (pagina < codigoserv) do
   begin
     pagina = pagina + 1;
     suspend;
   end
 end
end
 ^


ALTER PROCEDURE "TISS_SPSADT_V3_ENVIO" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "CAMPO01" VARCHAR(100),
  "CAMPO02" VARCHAR(100),
  "CAMPO03" VARCHAR(100),
  "CAMPO04" TIMESTAMP,
  "CAMPO05" VARCHAR(100),
  "CAMPO06" TIMESTAMP,
  "CAMPO07" VARCHAR(100),
  "CAMPO08" VARCHAR(100),
  "CAMPO09" TIMESTAMP,
  "CAMPO10" VARCHAR(100),
  "CAMPO11" VARCHAR(100),
  "CAMPO12" VARCHAR(100),
  "CAMPO13" VARCHAR(100),
  "CAMPO14" VARCHAR(100),
  "CAMPO15" VARCHAR(100),
  "CAMPO16" VARCHAR(100),
  "CAMPO17" VARCHAR(100),
  "CAMPO18" VARCHAR(100),
  "CAMPO19" VARCHAR(100),
  "CAMPO20" VARCHAR(100),
  "CAMPO21" VARCHAR(100),
  "CAMPO22" TIMESTAMP,
  "CAMPO23" BLOB,
  "CAMPO29" VARCHAR(100),
  "CAMPO30" VARCHAR(100),
  "CAMPO31" VARCHAR(100),
  "CAMPO32" VARCHAR(100),
  "CAMPO33" VARCHAR(100),
  "CAMPO34" VARCHAR(100),
  "CAMPO35" VARCHAR(100),
  "CAMPO58" BLOB,
  "CAMPO59" DOUBLE PRECISION,
  "CAMPO60" DOUBLE PRECISION,
  "CAMPO61" DOUBLE PRECISION,
  "CAMPO62" DOUBLE PRECISION,
  "CAMPO63" DOUBLE PRECISION,
  "CAMPO64" DOUBLE PRECISION,
  "CAMPO65" DOUBLE PRECISION,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "QTDE" INTEGER,
  "LOTE" INTEGER
)
AS
begin
 LOTE = 1 ;
 qtde = 0;
 for select distinct cps25.codigocps from cps25(:consulta,'SPSADTTISS','','','S','','') into codigocps do
 begin
   select first 1 campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo19, campo20,
          campo21, campo22, campo23, campo29, campo30, campo31, campo32, campo33, campo34, campo35,
          campo58,campo59,campo60,campo61,campo62,campo63, campo64, campo65 from tiss_spsadt_v3('where codigocps = ' || :codigocps)
   into   campo01, campo02, campo03, campo04, campo05, campo06, campo07, campo08, campo09, campo10,
          campo11, campo12, campo13, campo14, campo15, campo16, campo17, campo18, campo19, campo20,
          campo21, campo22, campo23, campo29, campo30, campo31, campo32, campo33, campo34, campo35,
          campo58,campo59,campo60,campo61,campo62,campo63, campo64, campo65;
   qtde = qtde + 1;
   if (campo65 >= 0.01) then
   begin
      if (campo32 <> '04') then
      begin
        --suspend;
        if (gen_id(GEN_ENVIO,0) = 0) THEN
            suspend;
        else
            EXCEPTION EXC_AVISO;
        if (qtde = 100) then
        begin
          qtde = 0;
          lote = lote + 1;
        end
      end
     campo59 = null;
     campo60 = null;
     campo61 = null;
     campo62 = null;
     campo63 = null;
     campo64 = null;
     campo65 = null;
   end
 end
end
 ^


ALTER PROCEDURE "TISS_SPSADT_V3_PROC" 
(
  "CPS" INTEGER
)
RETURNS
(
  "CAMPO36" TIMESTAMP,
  "CAMPO37" TIMESTAMP,
  "CAMPO38" TIMESTAMP,
  "CAMPO39" VARCHAR(100),
  "CAMPO40" VARCHAR(100),
  "CAMPO41" VARCHAR(250),
  "CAMPO42" INTEGER,
  "CAMPO43" VARCHAR(100),
  "CAMPO44" VARCHAR(100),
  "CAMPO45" DOUBLE PRECISION,
  "CAMPO46" DOUBLE PRECISION,
  "CAMPO47" DOUBLE PRECISION,
  "CAMPO48" VARCHAR(100),
  "CAMPO49" VARCHAR(100),
  "CAMPO50" VARCHAR(100),
  "CAMPO51" VARCHAR(100),
  "CAMPO52" VARCHAR(100),
  "CAMPO53" VARCHAR(100),
  "CAMPO54" VARCHAR(100),
  "CAMPO55" VARCHAR(100),
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER,
  "INDICELISTA" VARCHAR(2000)
)
AS
declare variable qtde integer;
declare variable qtdeproc integer;
declare variable fromconvenio integer;
declare variable codcred varchar(30);
declare variable unimed varchar(30);
declare variable dhe char(1);
declare variable via char(1);
declare variable codigoamb1 varchar(10);
declare variable convenio integer;
declare variable codigopla integer;
declare variable aux_medresp integer;
declare variable tipoCobrar varchar(10);
declare variable tipoCobrar2 varchar(10);
declare variable tipoPacote varchar(1);
declare variable dtAtendimento timestamp;
declare variable TABPADRAOTISS varchar(10);
declare variable medico integer;
declare variable nome_medico varchar(100);
declare variable cobrar varchar(1);
declare variable exibirCodTuss varchar(1);
DECLARE VARIABLE procedimento varchar(10);
DECLARE VARIABLE nomeproced varchar(250);
DECLARE VARIABLE versao varchar(20);
begin
  QTDEPROC = 0;
  QTDE = 0;
  PAGINA = 1;
  codigoamb1 = null;
  TABPADRAOTISS = null;
  tipoCobrar = 'S';
  select convenio, codigopla, medresp, a_datafat,versaoguia from cps1 where codigocps = :cps into :convenio, codigopla, :aux_medresp, :dtatendimento, versao;
  tipopacote = 'T';
  if (exists(select valor from buscaconfiguracao('CONVENIO' || :convenio,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) then
         tipopacote = 'X';
  -- parametro para cobrar S ou N na unimed
  select fromconvenio, exibircodtuss from convenio where convenio = :convenio into :FROMCONVENIO, :exibircodtuss;
  if ( exists (select status from sp_medicocredenciado(:aux_medresp,:convenio,:codigopla, :dtAtendimento) where status = 'S' ) )then
  begin
       if ( ( fromconvenio in (3,19,27) )  and  ( exists ( select first 1 valor from buscaconfiguracao('MEDICO' || :AUX_MEDRESP,'MedCredUnimedCobrar') where valor is not null)) ) then
           select first 1 valor from buscaconfiguracao('MEDICO' || :AUX_MEDRESP,'MedCredUnimedCobrar') into :tipoCobrar;
       else
          tipoCobrar = 'H';
  end
  if ( tipoCobrar is null ) then tipoCobrar = 'S';
  tipoCobrar2 = '';
  IF ( ( FROMCONVENIO IN(3,19,27) ) and ( ( exists ( select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'UnimedCobrarHeS_SADT') where valor = 'S')) )  )THEN
    tipocobrar2 = 'H';
  FOR  select cps2.indice, cps2.data, cps2.hora, cps2.horasaida, tabelahon.padraotiss, cps2.codigoamb, cps2.codigoamb1, servicos.a_nome, cps2.quantidade, cps2.via, cps2.tecnica, cps2.valor,
              cps2.grauparticipacao,medicos.a_nome,medicos.tipoconselho,medicos.a_cremeb, medicos.ufcremeb,(select first 1 cbotissv3 from especialidade where codesp = medicos.especial), medicos.unimed, cps2.dhe, cps2.via, servicos.tabpadraotiss, cps2.a_medicos, cps2.cobrar
       from cps2
       inner join servicos on (cps2.codigoserv = servicos.codigoserv)
       inner join medicos on (cps2.a_medicos = medicos.a_medicos)
       inner join tabelahon on (tabelahon.numero = servicos.tabela)
       where codigocps2 = :cps and cobrar IN ( :tipoCobrar, :tipocobrar2 ) and not servicos.a_tipo in ('G','D','T','A','N',:tipopacote) and cps2.quantidade > 0
 into indicelista, campo36, campo37, campo38, campo39, campo40, codigoamb1, campo41, campo42, campo43, campo44, campo47,
      campo49, campo51, campo52,campo53,campo54,campo55,unimed,dhe, via, :tabpadraotiss, :medico, :cobrar do
 begin
    if (codigoamb1 is not null) then campo40 = codigoamb1;
    select procedimento from sp_apelidoprocedimento(:campo40,:convenio,:codigopla) into :campo40;
   campo39 = '22';
   procedimento = null;
   nomeproced = null;
   if ( exibircodtuss = 'S') then
   begin
       select codAmbTUSS, DESCRICAO from tusscodnome(:campo40,:CONVENIO, '' , 'now' ) into :procedimento, :nomeproced;
       if ( procedimento is not null ) then
          campo40 = procedimento;
       if ( nomeproced is not null ) then
          campo41 = nomeproced;
   end
   If ( exists ( select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'NomeProcedTabelaTiss22') where valor = 'S')) then
   begin
     nomeproced = null;
     select upper(descricao) from tissdominio where codigo = :campo40 and tipo = '22' and descricao is not null into nomeproced;
     IF (nomeproced is not null) then
       campo41 = nomeproced;
   end
   if  (not exists(select codigo from tissdominio where tipo = '22' and codigo = :campo40 )) then
      campo39 = '00';
   if (tabpadraotiss is not null) then
      campo39 = TABPADRAOTISS;
   campo45 = 1.00;
   if (dhe = 'S') then campo45 = 1.30;
   if ((via = '' or via is null) and (dhe <> 'S')) then campo45 = 1.00;
   if (via = '1') then campo45 = 0.70;
   if (via = '2') then campo45 = 0.50;
   if (via = '3') then campo45 = 0.50;
   if (via = '4') then campo45 = 0.80;
   select codcred, fromconvenio from convenio where convenio = (select convenio from cps1 where codigocps =:cps) into campo50, FROMCONVENIO;
   IF ((FROMCONVENIO IN (3,27)) and (unimed <> '')) THEN
     campo50 = unimed;
   if (fromconvenio in(2,18)) then
   begin
     select CODCRED from SP_convcodcred(:campo40, :convenio,:codigopla) into :codcred;
     if (codcred is null or codcred ='') then
     begin
         select CODCRED FROM SP_SERVICOSCREDENCIADO(:campo40,:convenio) into :codcred;
         campo50 = codcred;
     end
     else
       campo50 = codcred;
   end
   if ( fromconvenio = 1 ) then --tipo planserv
   begin
    if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'CodPrestadorOperadora') where valor <> '')) then
    begin
       campo50 = ( select first 1 valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'CodPrestadorOperadora') );
    end
   end
   if ( fromconvenio in (30) and ( (exists(select first 1 valor from buscaconfiguracao('MEDICO' || :AUX_MEDRESP,'CredCPFPetrobrasCampo50') where valor = 'S'))  ) ) then
   begin
        select a_cpf from medicos where a_medicos =:aux_medresp into :campo50;
   end
   nome_medico = null;
   if (exists(select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'TissMedicoCPF') where valor = 'S')) then
   begin
     SELECT RAZAOSOCIAL, CPF_CNPJ FROM SP_MEDICOCOBRANCA(:medico, :convenio) into :nome_medico, :campo50 ;
     if ( nome_medico is not null or nome_medico <> '' ) then
        campo51 = nome_medico;
     if (campo50 is null or campo50 = '') then
        select a_cpf from medicos where a_medicos = :medico into campo50;
   end
   if ((campo50 is null) or (campo50 = '')) then
   begin
     SELECT FIRST 1 CNPJ FROM EMPRESAS WHERE CODIGO = 1 INTO CAMPO50;
   end
   QTDEPROC = QTDEPROC+1;
   CAMPO48 = QTDEPROC;
    IF (CAMPO38 IS NULL) THEN CAMPO38 = CAMPO37 + 0.0139;
   if (campo43 = '0') then
     campo43 = 'U';
   else if (campo43 = '1') then
     campo43 = 'D';
   else if (campo43 = '4') then
     campo43 = 'D';
   else if (campo43 = '3') then
     campo43 = 'D';
   else if (campo43 = '2') then
     campo43 = 'M';
   else if (campo43 = '5') then
     campo43 = 'D';
   campo46 = campo47 /campo42;
   if ( ( tipoCobrar = 'H' ) or ( cobrar = 'H' ) ) then
   begin
      campo46 = 0;
      campo47 = 0;
   end
   if (campo49 = '99' and aux_medresp > 0) then
   begin
       select a_nome, medicos.tipoconselho, medicos.a_cremeb, medicos.ufcremeb, (select first 1 cbotissv3 from especialidade where codesp = medicos.especial) from medicos where a_medicos = :aux_medresp
       into :campo51, :campo52, :campo53, :campo54, :campo55;
       campo49 = null;
   end
   campo41 = substring(campo41 from 1 for 150);
   qtde = qtde + 1;
   if (qtde > 5) then
   begin
     pagina = pagina + 1;
     qtde = 1;
   end
   if (CAMPO43 is null) then campo43 = '1';
   if (CAMPO43 = 'U') then campo43 = '1';
   if (CAMPO43 = 'M') then campo43 = '2';
   if (CAMPO43 = 'D') then campo43 = '3';
   if (CAMPO44 = 'C') then campo44 = '1';
   if (CAMPO44 = 'V') then campo44 = '2';
   if (CAMPO44 = 'R') then campo44 = '3';
   select first 1 codigo from tissdominio where descricao containing :campo52 and tipo = '26' into :campo52;
   if (campo52 = 'OUT') then campo52 = '10';
   if (CAMPO52 like '0%') then campo52 = cast(campo52 as integer);
   if (((strlen(rtrim(CAMPO52)) = 1) and ((versao like '3.03%') OR (versao like '3.04%') OR (versao like '3.05%')))) then campo52 = '0'|| rtrim(campo52);
   select first 1 codigo from tissdominio where descricao = :campo54 and tipo = '59' into campo54;
   suspend;
 end
end
 ^


ALTER PROCEDURE "TISS_SPSADT_V3_SOL" 
(
  "CPS" INTEGER
)
RETURNS
(
  "CAMPO24" VARCHAR(100),
  "CAMPO25" VARCHAR(100),
  "CAMPO26" VARCHAR(250),
  "CAMPO27" INTEGER,
  "CAMPO28" INTEGER,
  "PAGINA" INTEGER,
  "CODIGOCPS" INTEGER
)
AS
declare variable convenio integer;
declare variable codigopla integer;
declare variable ExibirCodTuss varchar(1);
DECLARE VARIABLE QTDE INTEGER;
DECLARE VARIABLE procedimento varchar(10);
DECLARE VARIABLE nomeproced varchar(250);
DECLARE VARIABLE tabelahon varchar(250);
begin
  QTDE = 0;
  PAGINA = 1;
  select convenio,codigopla from cps1 where codigocps = :CPS into :convenio, :codigopla;
  select exibircodtuss from convenio where convenio =:convenio into :exibircodtuss;
  FOR SELECT TABELAHON.PADRAOTISS, CPSAUTSOL.CODIGOAMB, SERVICOS.A_NOME, CPSAUTSOL.QUANTSOL, CPSAUTSOL.QUANTAUT FROM CPSAUTSOL
      INNER JOIN SERVICOS ON (SERVICOS.CODIGOSERV = CPSAUTSOL.CODIGOSERV)
      INNER JOIN TABELAHON ON (TABELAHON.NUMERO = SERVICOS.TABELA)
      WHERE CODIGOCPS = :CPS AND NOT CPSAUTSOL.CODIGOAMB LIKE '171200%'
      INTO CAMPO24, CAMPO25, CAMPO26, CAMPO27, CAMPO28 DO
  BEGIN
    select procedimento from sp_apelidoprocedimento(:campo25,:convenio,:codigopla) into :campo25;
    campo26 = substring(campo26 from 1 for 100);
    tabelahon = CAMPO24;
    campo24 = '22';
   procedimento = null;
   nomeproced = null;
    If ( exists ( select first 1 valor from buscaconfiguracao('CONVENIO' || :convenio,'NomeProcedTabelaTiss22') where valor = 'S')) then
    begin
     nomeproced = null;
     select upper(descricao) from tissdominio where codigo = :campo25 and tipo = '22' and descricao is not null into nomeproced;
     IF (nomeproced is not null) then
       campo26 = nomeproced;
    end
     if  (not exists(select codigo from tissdominio where tipo = '22' and codigo = :campo25 )) then
     begin
       campo24 = '00';
       if (TABELAHON = '22') THEN
         campo24 = '22';
     end
    if (TABELAHON = '98') then
       campo24 = TABELAHON;
    QTDE = QTDE + 1;
    IF (QTDE > 5) THEN
    BEGIN
      PAGINA = PAGINA + 1;
      QTDE = 1;
    END
    SUSPEND;
  END
end
 ^


ALTER PROCEDURE "TISS_TOTAL_CONTA_V3" 
(
  "CONSULTA" VARCHAR(30000)
)
RETURNS
(
  "PROCEDIMENTO" DOUBLE PRECISION,
  "DIARIAS" DOUBLE PRECISION,
  "TAXAS" DOUBLE PRECISION,
  "MATERIAIS" DOUBLE PRECISION,
  "OPME" DOUBLE PRECISION,
  "MEDICAMENTOS" DOUBLE PRECISION,
  "GASES" DOUBLE PRECISION,
  "GERAL" DOUBLE PRECISION,
  "QTDEPROC" INTEGER
)
AS
declare variable dhe    varchar(10);
declare variable tipo   varchar(10);
declare variable codamb varchar(10);
declare variable valor  double precision;
declare variable convenio integer;
declare variable medresp integer;
declare variable codigoserv integer;
declare variable tipoCobrar varchar(1);
declare variable fromconvenio integer;
begin
   procedimento = 0;
   diarias      = 0;
   taxas        = 0;
   materiais    = 0;
   opme         = 0;
   medicamentos = 0;
   gases        = 0;
   geral        = 0;
   qtdeproc     = 0;
   select first 1 cps25.convenio, cps25.medresp from cps25(:consulta,'TISS','','','S','','') into :convenio, :medresp;
   select fromconvenio from convenio where convenio = :convenio into :fromconvenio;
   if ( (exists(select first 1 valor from buscaconfiguracao('MEDICO' || :medresp,'MedCredUnimedCobrar') where valor = 'N')) and ( fromconvenio in (3,19,27)))then
       tipoCobrar = 'N';
   else
       tipoCobrar = 'S';
   for select cps25.dhe, servicos.a_tipo, matmed.a_codamb, cps25.valor, cps25.codigoserv
   from cps25(:consulta,'TISS','','','S','','')
   left join matmed on (cps25.codigoserv = matmed.codigomm and cps25.dhe = 'M')
   left join servicos on (cps25.codigoserv = servicos.codigoserv and cps25.dhe <> 'M')
   where cobrar = :tipoCobrar
   into :dhe, :tipo, :codamb, :valor, :codigoserv do
   begin
       if (exists(select first 1 a_codamb from matmedconv where codigomm = :codigoserv and convenio = :convenio and a_codamb is not null )) then
          select first 1 a_codamb from matmedconv where codigomm = :codigoserv and convenio = :convenio and a_codamb is not null into codamb;
       if ((tipo = 'X') and (( exists(select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'GuiasSadtResumoIntSEMPacote') where valor = 'S')) or
           ( exists(  select valor from buscaconfiguracao('CONVENIO' || :CONVENIO,'RetiraPacoteOutraDespInt') where valor <> 'S')))
           ) then
         taxas = taxas + valor;
      else if (tipo in ('T','A', 'N') ) then
         taxas = taxas + valor;
      else if (tipo = 'D') then
         diarias = diarias + valor;
      else if (tipo = 'G') then
         gases = gases + valor;
      else if (dhe <> 'M') then
      begin
         procedimento = procedimento + valor;
         qtdeproc = qtdeproc + 1;
      end
      else if ( codamb in ('72140011', '72000002', '72000001')) then
         medicamentos = medicamentos + valor;
      else if ( codamb in ('72000008', '72000009', '72000000')) then
         opme = opme + valor;
      else if ( dhe = 'M') then
         materiais = materiais + valor;
      geral = geral + valor;
   end
   suspend;
end
 ^


ALTER PROCEDURE "TOTALDISCOANS" 
(
  "TIPO" INTEGER,
  "MEDICO" INTEGER,
  "CODIGOCPS" VARCHAR(10)
)
RETURNS
(
  "VALOR" DOUBLE PRECISION
)
AS
begin
   IF (TIPO = 3) THEN
   BEGIN
        select sum(valor) valor
        from cps('where codigocps = ' || :CODIGOCPS )
        where cobrar = 'H' and cps.a_medicos = :MEDICO into :valor;
   END
   IF (TIPO = 2) THEN
   BEGIN
       select sum(valor) valor
       from cps('where codigocps = ' || :CODIGOCPS )
       where cobrar = 'S' or cobrar is nulL INTO :VALOR;
   END
   IF (TIPO = 1) THEN
   BEGIN
       select sum(valor) valor
       from cps('where codigocps = ' || :CODIGOCPS )
       where cobrar <> 'S' and dhe <> 'M' and cps.a_medicos= :MEDICO INTO :VALOR;
   END
   suspend;
end
 ^


ALTER PROCEDURE "TRANSFEREAGENDACOMPLETA" 
(
  "DATA" TIMESTAMP,
  "NOVADATA" TIMESTAMP,
  "MEDICO" INTEGER,
  "MEDICODESTINO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "NADA" INTEGER
)
AS
Declare variable vNUMERO integer;
Declare variable vDATA date;
Declare variable vHORA time;
Declare variable vA_MEDICOS integer;
Declare variable vPACIENTE varchar(50);
Declare variable vCODIGOPAC integer;
Declare variable vCONVENIO integer;
Declare variable vTIPO varchar(1);
Declare variable vOBSERVACAO varchar(100);
Declare variable vTELEFONEAUX varchar(15);
Declare variable vTELEFONE varchar(15);
Declare variable vCODIGOAMB varchar(11);
Declare variable vCODIGOPROC integer;
Declare variable vSTATUS integer;
begin
for select Marcacao.numero, Marcacao.DATA, Marcacao.HORA, Marcacao.PACIENTE,
           Marcacao.CODIGOPAC, Marcacao.CONVENIO, Marcacao.TIPO, Marcacao.OBSERVACAO , Marcacao.TELEFONEAUX, Marcacao.TELEFONE,
           Marcacao.CODIGOAMB , Marcacao.CODIGOPROC, Marcacao.STATUS from marcacao
           where ( marcacao.data = :DATA and Marcacao.A_Medicos = :MEDICO )
           into :vNumero, :vDATA, :vHORA, :vPACIENTE,:vCODIGOPAC, :vCONVENIO, :vTIPO, :vOBSERVACAO , :vTELEFONEAUX, :vTELEFONE,
                :vCODIGOAMB , :vCODIGOPROC, :vSTATUS do
           insert into marcacao (DATA, HORA, A_MEDICOS, PACIENTE, CODIGOPAC, CONVENIO, TIPO, OBSERVACAO , TELEFONEAUX, TELEFONE,
                CODIGOAMB , CODIGOPROC, STATUS, CODIGO) values (:NOVADATA, :vHORA, :MEDICODESTINO, :vPACIENTE, :vCODIGOPAC, :vCONVENIO,
                :vTIPO, :vOBSERVACAO , :vTELEFONEAUX, :vTELEFONE,:vCODIGOAMB , :vCODIGOPROC, :vSTATUS, :USUARIO);
suspend;
delete from MARCACAO Where( marcacao.data = :DATA and Marcacao.A_Medicos = :MEDICO );
end
 ^


ALTER PROCEDURE "TRANSFEREAGENDASEMAPAGAR" 
(
  "DATA" TIMESTAMP,
  "NOVADATA" TIMESTAMP,
  "MEDICO" INTEGER,
  "MEDICODESTINO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "NADA" INTEGER
)
AS
Declare variable vNUMERO integer;
Declare variable vDATA date;
Declare variable vHORA time;
Declare variable vA_MEDICOS integer;
Declare variable vPACIENTE varchar(50);
Declare variable vCODIGOPAC integer;
Declare variable vCONVENIO integer;
Declare variable vTIPO varchar(1);
Declare variable vOBSERVACAO varchar(100);
Declare variable vTELEFONEAUX varchar(15);
Declare variable vTELEFONE varchar(15);
Declare variable vCODIGOAMB varchar(11);
Declare variable vCODIGOPROC integer;
Declare variable vSTATUS integer;
begin
for select Marcacao.numero, Marcacao.DATA, Marcacao.HORA, Marcacao.PACIENTE,
           Marcacao.CODIGOPAC, Marcacao.CONVENIO, Marcacao.TIPO, Marcacao.OBSERVACAO , Marcacao.TELEFONEAUX, Marcacao.TELEFONE,
           Marcacao.CODIGOAMB , Marcacao.CODIGOPROC, Marcacao.STATUS from marcacao
           where ( marcacao.data = :DATA and Marcacao.A_Medicos = :MEDICO )
           into :vNumero, :vDATA, :vHORA, :vPACIENTE,:vCODIGOPAC, :vCONVENIO, :vTIPO, :vOBSERVACAO , :vTELEFONEAUX, :vTELEFONE,
                :vCODIGOAMB , :vCODIGOPROC, :vSTATUS do
           insert into marcacao (DATA, HORA, A_MEDICOS, PACIENTE, CODIGOPAC, CONVENIO, TIPO, OBSERVACAO , TELEFONEAUX, TELEFONE,
                CODIGOAMB , CODIGOPROC, STATUS, CODIGO) values (:NOVADATA, :vHORA, :MEDICODESTINO, :vPACIENTE, :vCODIGOPAC, :vCONVENIO,
                :vTIPO, :vOBSERVACAO , :vTELEFONEAUX, :vTELEFONE,:vCODIGOAMB , :vCODIGOPROC, :vSTATUS, :USUARIO);
suspend;
end
 ^


ALTER PROCEDURE "TRANSFLEITO" 
(
  "CODIGOCPS" FLOAT,
  "LEITO" INTEGER,
  "USUARIO" INTEGER
)
RETURNS
(
  "STATUS" VARCHAR(250)
)
AS
DECLARE VARIABLE INDICE FLOAT;
DECLARE VARIABLE ALA FLOAT;
DECLARE VARIABLE tipoatend integer;
DECLARE VARIABLE codmedico integer;
DECLARE VARIABLE auxEspecialidade varchar(10);
BEGIN
  select codigopla from cps1 where codigocps = :CODIGOCPS into :tipoatend;
  begin
    SELECT FIRST 1 A_GRUPO FROM LEITOS WHERE LEITO = :LEITO INTO ALA;
    SELECT FIRST 1 INTER4NO FROM INTER4 WHERE CODIGOINT = :CODIGOCPS ORDER BY DATA DESC, HORA DESC INTO INDICE;
    IF (INDICE IS NOT NULL) THEN
      UPDATE INTER4 SET DATAFIM = 'TODAY', HORAFIM = cast(cast('now' as time) as timestamp), FOIPARA = :LEITO WHERE INTER4NO = :INDICE;
    INSERT INTO INTER4 (DATA,HORA,LEITO,A_ALA,CODIGO,CODIGOINT,data1)
    VALUES ('TODAY',cast(cast('now' as time) as timestamp),:LEITO,:ALA,:USUARIO,:CODIGOCPS,'now');
    STATUS = 'Paciente transferido com sucesso';
    SUSPEND;
  end
END
 ^


ALTER PROCEDURE "TRAVAMARC" 
(
  "W_MEDICO1" INTEGER,
  "W_MEDICO2" INTEGER,
  "W_DATA1" TIMESTAMP,
  "W_DATA2" TIMESTAMP,
  "TRAVA" SMALLINT
)
RETURNS
(
  "SOMA" INTEGER
)
AS
BEGIN
    If (Trava = 1) Then
    Update Marcacao SET ESTADO = ''
    WHERE ( A_MEDICOS >= :w_Medico1 ) AND ( A_MEDICOS <= :w_Medico2 ) AND
          ( Cast(DATA as Date) between cast(:w_Data1 as Date) AND cast(:w_Data2 as Date) )and
          ( Cast(Hora as Time) between cast(:w_Data1 as Time) AND cast(:w_Data2 as Time) );
    If (Trava = 0) Then
    Update Marcacao SET ESTADO = ' '
    WHERE ( A_MEDICOS >= :w_Medico1 ) AND ( A_MEDICOS <= :w_Medico2 ) AND
          ( Cast(DATA as Date) between cast(:w_Data1 as Date) AND cast(:w_Data2 as Date) )and
          ( Cast(Hora as Time) between cast(:w_Data1 as Time) AND cast(:w_Data2 as Time) );
END
 ^


ALTER PROCEDURE "TUSSCODNOME" 
(
  "COD_AMB" VARCHAR(10),
  "CODCONVENIO" INTEGER,
  "TIPOTABORIGEM" VARCHAR(1),
  "DATA" TIMESTAMP
)
RETURNS
(
  "CODAMBTUSS" VARCHAR(8),
  "DESCRICAO" VARCHAR(500)
)
AS
declare variable auxPadrao char(1);
begin
    auxPadrao = null ;
    if ( ( TIPOTABORIGEM = '' ) and ( CodCONVENIO > 0 ) ) then
    begin
        Select tabelahon.padrao from convenio
        left join tabelahon on (tabelahon.numero = convenio.tabhon) where tabelahon.tipo = 'H' and ( convenio.tabelamista <> 'S' or convenio.tabelamista is null ) and convenio = :CodCONVENIO
        into :auxPadrao ;
        if ( auxPadrao is not null ) then
            TIPOTABORIGEM = :auxPadrao;
        else 
        begin
           if (DATA IS NULL ) then
             DATA = 'now';
           Select first 1 tabelahon.padrao from tabela
           left join tabelahon on (tabelahon.numero = tabela.tabhon)
           where tabelahon.tipo = 'H' and tabela.convenio = :CodCONVENIO
           and ( tabela.codigoamb1 <= :COD_AMB and tabela.codigoamb2 >= :COD_AMB )
           and ( tabela.inicio <= :DATA and tabela.fim >= :DATA )
           INTO :auxPadrao;
           if ( auxPadrao is not null ) then
            TIPOTABORIGEM = :auxPadrao;
        end
    end
    if ( TIPOTABORIGEM <> '' ) then
    begin
         if ( TIPOTABORIGEM = '1') then
         begin
             select FIRST 1 DISTINCT codigoamb, substring(descricao from 1 for 250) from tuss where ( amb90 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
         else if ( TIPOTABORIGEM = '2') then
         begin
             select FIRST 1 DISTINCT codigoamb, substring(descricao from 1 for 250) from tuss where ( amb92 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
         else if ( TIPOTABORIGEM = '3') then
         begin
             select FIRST 1 DISTINCT codigoamb, descricao from tuss where ( amb96 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
         else if ( TIPOTABORIGEM = '4') then
         begin
             select FIRST 1 DISTINCT codigoamb, substring(descricao from 1 for 250) from tuss where ( amb99 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
         else if ( TIPOTABORIGEM = '5') then
         begin
             select FIRST 1 DISTINCT codigoamb, substring(descricao from 1 for 250) from tuss where ( CBHPM3 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
         else if ( TIPOTABORIGEM = '6') then
         begin
             select FIRST 1 DISTINCT codigoamb, substring(descricao from 1 for 250) from tuss where ( CBHPM4 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
         else if ( TIPOTABORIGEM = '9') then
         begin
             select FIRST 1 DISTINCT codigoamb, substring(descricao from 1 for 250) from tuss where ( CBHPM5 = :COD_AMB ) and ( tuss.convenio is null or tuss.convenio = :codconvenio )
             order by tuss.convenio
             into :codAmbTUSS, :descricao;
         end
    end
    suspend;
end
 ^


ALTER PROCEDURE "UNIPACIENTE" 
(
  "ERRADO" FLOAT,
  "CERTO" FLOAT
)
RETURNS
(
  "DETALHE" VARCHAR(100)
)
AS
declare variable a_nome varchar(50);
declare variable nasc timestamp;
declare variable mae varchar(50);
declare variable endereco varchar(50);
declare variable codigopac float;
begin
  select a_nome, nasc, mae, endereco from paciente where codigopac = :errado and (nasc is not null) and (mae is not null) and (endereco is not null)
  into :a_nome, :nasc, :mae, :endereco;
  select codigopac from paciente where codigopac = :certo and nasc= :nasc and mae = :mae and endereco = :endereco into :codigopac;
  If (codigopac = certo) then
  begin
    update cps1 set codigopac = :certo where codigopac = :errado;
    update marcacao set codigopac = :certo where codigopac = :errado;
    update cpslaudo1 set codigopac = :certo where codigopac = :errado;
    codigopac = 0;
    select codigopac from paciente  where codigopac = :errado and importa is not null into :codigopac;
    if (codigopac > 0) then
    begin
      codigopac = 0;
      select codigopac from paciente  where codigopac = :certo and importa is not null into :codigopac;
      if (codigopac > 0) then
        update paciente set importa = importa || (select importa from paciente where codigopac = :errado) where codigopac = :certo;
      else
        update paciente set importa = (select importa from paciente where codigopac = :errado) where codigopac = :certo;
    end
    update paciente set ativo = 'N', observacao = 'Paciente duplicado. Novo cdigo: ' || cast(cast(:certo as integer) as varchar(50)) where codigopac = :errado;
    detalhe = 'Paciente unificado';
  end
  else
    detalhe = 'Paciente diferente';
  suspend;
end
 ^


ALTER PROCEDURE "UNIPACIENTESIMPLES" 
(
  "ERRADO" FLOAT,
  "CERTO" FLOAT
)
RETURNS
(
  "DETALHE" VARCHAR(100)
)
AS
declare variable a_nome varchar(50);
declare variable nasc timestamp;
declare variable mae varchar(50);
declare variable endereco varchar(50);
declare variable codigopac float;
begin
  select a_nome, nasc, mae, endereco from paciente where codigopac = :errado and (nasc is not null) and (mae is not null) and (endereco is not null)
  into :a_nome, :nasc, :mae, :endereco;
  select codigopac from paciente where codigopac = :certo and  mae = :mae into :codigopac;
  If (codigopac = certo) then
  begin
    update cps1 set codigopac = :certo where codigopac = :errado;
    update marcacao set codigopac = :certo where codigopac = :errado;
    update cpslaudo1 set codigopac = :certo where codigopac = :errado;
    codigopac = 0;
    select codigopac from paciente  where codigopac = :errado and importa is not null into :codigopac;
    if (codigopac > 0) then
    begin
      codigopac = 0;
      select codigopac from paciente  where codigopac = :certo and importa is not null into :codigopac;
      if (codigopac > 0) then
        update paciente set importa = importa || (select importa from paciente where codigopac = :errado) where codigopac = :certo;
      else
        update paciente set importa = (select importa from paciente where codigopac = :errado) where codigopac = :certo;
    end
    update paciente set ativo = 'N', observacao = 'Paciente duplicado. Novo cdigo: ' || cast(cast(:certo as integer) as varchar(50)) where codigopac = :errado;
    detalhe = 'Paciente unificado';
  end
  else
    detalhe = 'Paciente diferente';
  suspend;
end
 ^


ALTER PROCEDURE "UPDATEMEDICORESPCPS" 
AS
declare variable medico integer;
declare variable cps integer;
begin
for select cps1.codigocps,cps2.a_medicos from cps1
inner join cps2 on cps2.codigocps2 = cps1.codigocps
 where cps1.convenio = 94 and ((cps1.medresp = 82) or (cps1.medresp = 67) or (cps1.medresp = 65)) and a_medicos <> 82 and a_medicos <> 65 and a_medicos <> 67
 order by cps1.codigocps,indice desc into cps, medico do
begin
update cps1 set medresp = :medico where codigocps = :cps;
end
end
 ^


ALTER PROCEDURE "UPDATEMEDICOSINTER32" 
(
  "MEDICO" INTEGER
)
RETURNS
(
  "INDICE" FLOAT
)
AS
begin
for select inter3no from inter32 inner join defprofmm on defprofmm.codigomm = inter32.codigomm and defprofmm.a_medicos = :medico and inter32.a_medicos is null into indice do
begin
  update inter32 set a_medicos = :medico where inter3no = :indice;
  suspend;
end
end
 ^


ALTER PROCEDURE "VALORAMB" 
(
  "CODIGOAMB" VARCHAR(9),
  "CONVENIO" FLOAT,
  "DHE" CHAR(1),
  "DATA" TIMESTAMP,
  "TIPO" SMALLINT,
  "VIA" INTEGER
)
RETURNS
(
  "VALOR" DOUBLE PRECISION,
  "CO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "PORTE" DOUBLE PRECISION,
  "AUX1" DOUBLE PRECISION,
  "AUX2" DOUBLE PRECISION,
  "AUX3" DOUBLE PRECISION
)
AS
declare variable valorch double precision;
declare variable moeda double precision;
declare variable tabmoeda integer;
declare variable tabhon integer;
declare variable aux double precision;
declare variable xtipo varchar(1);
declare variable filmevalor double precision;
declare variable tabelamista char(1);
declare variable cbhpm varchar(10);
begin
   aux = 0;
   select first 1 a_quantida from precos
   where (convenio = :convenio) and (a_codigoamb = :codigoamb) into :valor;
   select tabelamista, TABCBHPM from convenio where convenio = :convenio into :tabelamista, :cbhpm;
   if (tabelamista is null) then
     tabelamista = 'N';
   if (tabelamista = 'S') then
   begin
     IF (TIPO = 3 ) THEN
       select first 1 FILME,CBHPM, MOEDAINT, tabhon  from tabela inner join servicos on (servicos.a_codamb = :codigoamb and servicos.tabela = tabela.tabhon) where convenio = :convenio and 'today' between inicio and fim and :codigoamb between CODIGOAMB1 and CODIGOAMB2 and (servicos.ativo = 'S' or servicos.ativo is null) INTO FILMEVALOR, CBHPM, TABMOEDA, tabhon;
     IF (TIPO = 2 ) THEN
       select first 1 FILME,CBHPM, MOEDAEME, tabhon  from tabela inner join servicos on (servicos.a_codamb = :codigoamb and servicos.tabela = tabela.tabhon) where convenio = :convenio and 'today' between inicio and fim and :codigoamb between CODIGOAMB1 and CODIGOAMB2 and (servicos.ativo = 'S' or servicos.ativo is null) INTO FILMEVALOR, CBHPM, TABMOEDA, tabhon;
     ELSE
       select first 1 FILME,CBHPM, MOEDAAMB, tabhon  from tabela inner join servicos on (servicos.a_codamb = :codigoamb and servicos.tabela = tabela.tabhon) where convenio = :convenio and 'today' between inicio and fim and :codigoamb between CODIGOAMB1 and CODIGOAMB2 and (servicos.ativo = 'S' or servicos.ativo is null) INTO FILMEVALOR, CBHPM, TABMOEDA, tabhon;
   end
   if ( :valor is null ) then
   begin
       if ((:codigoamb = '00010014') or (:codigoamb = '00010022') or (:codigoamb = '10101012')) then
       begin
          if (:tipo = 1) then
             select consulta from convenio where convenio =:convenio into :valor;
          else if (:tipo = 2) then
             select consulta1 from convenio where convenio =:convenio into :valor;
       end
       else
       begin
          if (tabelamista = 'S') then
            filmevalor = :filmevalor;
          else if (((:codigoamb >='41000000') and (:codigoamb <='41199999')) or
             ((:codigoamb >='34000000') and (:codigoamb <='34999999')) or
             ((:codigoamb >='36000000') and (:codigoamb <='36999999'))) Then
          begin
            select filmetom from convenio where convenio = :convenio into :filmevalor;
            if (filmevalor is null) Then
              select filme from convenio where convenio = :convenio into :filmevalor;
          end
          else
            select filme from convenio where convenio = :convenio into :filmevalor;
          if (tabelamista = 'N') then
            select first 1 a_tipo, a_auxilio, a_porte, CO * (SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO'), CO*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO') + CH*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = (SELECT first 1 CHB FROM SERVICOS WHERE a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio))) from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio) into :xtipo, :aux, :porte, :co, :valor;
          else if (cbhpm = 'S') then
            select first 1 a_tipo, a_auxilio, a_porte, CO * (SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO'), CO*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO') + CH*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = (SELECT first 1 CHB FROM SERVICOS WHERE a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio))) from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = :tabhon into :xtipo, :aux, :porte, :co, :valor;
          if (:valor is null) then
          begin
             if (tabelamista = 'S') then
             begin
               select first 1 a_tipo, a_auxilio, a_porte, co, co + ch + sp  ch from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = :tabhon into :xtipo, :aux, :porte, :co, :valor;
               select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabtaxa from convenio where convenio = :convenio) and ativo = 'S' into :filme;
             end
             else
               select first 1 a_tipo, a_auxilio, a_porte, co, co + ch + sp  ch from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabhon from convenio where convenio = :convenio) into :xtipo, :aux, :porte, :co, :valor;
             if (:valor is null) then
             begin
                select first 1 a_tipo, a_auxilio, a_porte, co, co + ch + sp  ch from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabtaxa from convenio where convenio = :convenio) into :xtipo, :aux, :porte, :co, :valor;
                if (:valor is null) then
                   exit;
                else
                begin
                   select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabtaxa from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                   select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabtaxa from convenio where convenio = :convenio) and ativo = 'S' into :filme;
                end
             end
             else
             Begin
                if ( ( xtipo = 'R' ) or ( xTipo = 'U' ) or ( xTipo = 'M' ) ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabrx from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else if ( ( xtipo = 'E' ) or ( xTipo = 'P' ) ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabexame from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else if ( xtipo = 'S' ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabFisio from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else if ( xtipo = 'Q' ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moedatabtom from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabhon from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                if (tabelamista = 'N') then
                  select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabhon from convenio where convenio = :convenio) and ativo = 'S' into :filme;
                else
                  select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = :tabhon and ativo = 'S' into :filme;
             end
          end
          else
          begin
             moeda = 1;
             if (tabelamista = 'N') then
               select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio) and ativo = 'S' into :filme;
             else
               select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = :tabhon and ativo = 'S' into :filme;
          end
          if (tabelamista = 'S') then
            select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = :tabmoeda into moeda;
          co = co * moeda;
          valor = valor * moeda;
       end
       select first 1 a_quantida from precos where convenio = :convenio and a_codigoamb = :codigoamb into :valorch;
       If (:valorch > 0) Then
          valor = :valorch;
       select first 1 ((100 + inflacao)/100) from convenioinflacao where a_codamb1 <= :codigoamb and a_codamb2 >= :codigoamb and convenio = :convenio into :valorch;
       if (:valorch is not null) then
       begin
          valor = :valor*:valorch;
          co = :co*:valorch;
       end
       if (:via = 1) then
          valor = :valor*0.7;
       if (:via > 1) then
          valor = :valor*0.5;
       if (:dhe = 'S') then
          valor = :valor*1.3;
       if (:aux = 3) then
          aux3 = :valor*0.2;
       if (:aux >= 2) then
          aux2 = :valor*0.2;
       if (:aux >= 1) then
          aux1 = :valor*0.3;
       if (:porte > 3) then
          porte = :valor*0.1;
       else
           porte = null;
   end
   if (filme is null) then
      filme = 0;
   if (porte is null) then
      porte = 0;
   if (aux1 is null) then
      aux1 = 0;
   if (aux2 is null) then
      aux2 = 0;
   if (aux3 is null) then
      aux3 = 0;
   suspend;
end
 ^


ALTER PROCEDURE "VALORAMBEXATO" 
(
  "CODIGOSERV" INTEGER,
  "CODIGOAMB" VARCHAR(9),
  "CONVENIO" FLOAT,
  "DHE" CHAR(1),
  "DATA" TIMESTAMP,
  "TIPO" SMALLINT,
  "VIA" INTEGER
)
RETURNS
(
  "VALOR" DOUBLE PRECISION,
  "CO" DOUBLE PRECISION,
  "FILME" DOUBLE PRECISION,
  "PORTE" DOUBLE PRECISION,
  "AUX1" DOUBLE PRECISION,
  "AUX2" DOUBLE PRECISION,
  "AUX3" DOUBLE PRECISION
)
AS
declare variable valorch double precision;
declare variable moeda double precision;
declare variable aux double precision;
declare variable xtipo varchar(1);
declare variable filmevalor double precision;
begin
   aux = 0;
   select first 1 a_quantida from precos
   where (convenio = :convenio) and (a_codigoamb = :codigoamb) into :valor;
   if ( :valor is null ) then
   begin
       if ((:codigoamb = '00010014') or (:codigoamb = '00010022') or (:codigoamb = '10101012')) then
       begin
          if (:tipo = 1) then
             select consulta from convenio where convenio =:convenio into :valor;
          else if (:tipo = 2) then
             select consulta1 from convenio where convenio =:convenio into :valor;
       end
       else
       begin
          if (((:codigoamb >='41000000') and (:codigoamb <='41199999')) or ((:codigoamb >='34000000') and (:codigoamb <='34999999')) or
              ((:codigoamb >='36000000') and (:codigoamb <='36999999'))) then
          begin
            select filmetom from convenio where convenio = :convenio into :filmevalor;
            if (filmevalor is null) Then
              select filme from convenio where convenio = :convenio into :filmevalor;
          end
          else
            select filme from convenio where convenio = :convenio into :filmevalor;
          if (codigoserv > 0) then
            select first 1 a_tipo, a_auxilio, a_porte, CO * (SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO'), CO*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO') + CH*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = (SELECT first 1 CHB FROM SERVICOS WHERE a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio))) from servicos where codigoserv = :codigoserv into :xtipo, :aux, :porte, :co, :valor;
          else
            select first 1 a_tipo, a_auxilio, a_porte, CO * (SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO'), CO*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = 'UCO') + CH*(SELECT first 1 VALOR FROM CONVPORTE WHERE CONVENIO = :CONVENIO  AND PORTE = (SELECT first 1 CHB FROM SERVICOS WHERE a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio))) from servicos where ativo = 'S' and a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio) into :xtipo, :aux, :porte, :co, :valor;
          if (:valor is null) then
          begin
             select first 1 a_tipo, a_auxilio, a_porte, co, co + ch + sp  ch from servicos where ativo = 'S' and
             codigoserv = :codigoserv AND Tabela = (SELECT tabhon FROM convenio WHERE convenio = :convenio) into :xtipo, :aux, :porte, :co, :valor;
             if (:valor is null) then
             begin
               select first 1 a_tipo, a_auxilio, a_porte, co, co + ch + sp  ch from servicos where ativo = 'S' and
               codigoserv = :codigoserv AND Tabela = (SELECT tabtaxa FROM convenio WHERE convenio = :convenio) into :xtipo, :aux, :porte, :co, :valor;
                if (:valor is null) then
                   exit;
                else
                begin
                   select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabtaxa from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                   select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabtaxa from convenio where convenio = :convenio) into :filme;
                end
             end
             else
             begin
                if ( ( xtipo = 'R' ) or ( xTipo = 'U' ) or ( xTipo = 'M' ) ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabrx from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else if ( ( xtipo = 'E' ) or ( xTipo = 'P' ) ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabexame from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else if ( xtipo = 'S' ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabFisio from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else if ( xtipo = 'Q' ) then select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moedatabtom from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                else select first 1 a_valor from moedastab where a_inicio <= :data and a_fim >= :data and moedas = (select moetabhon from convenio where convenio = :convenio) order by a_fim desc into :moeda;
                select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabhon from convenio where convenio = :convenio) into :filme;
             end
          end
          else
          begin
             moeda = 1;
             select first 1 a_filme * :filmevalor from servicos where a_codamb = :codigoamb and tabela = (select tabcbhpm from convenio where convenio = :convenio) into :filme;
          end
          co = co * moeda;
          valor = valor * moeda;
       end
       select first 1 a_quantida from precos where convenio = :convenio and a_codigoamb = :codigoamb into :valorch;
       If (:valorch > 0) Then
          valor = :valorch;
       select first 1 ((100 + inflacao)/100) from convenioinflacao where a_codamb1 <= :codigoamb and a_codamb2 >= :codigoamb and convenio = :convenio into :valorch;
       if (:valorch is not null) then
       begin
          valor = :valor*:valorch;
          co = :co*:valorch;
       end
   end
   if (filme is null) then
      filme = 0;
   porte = 0;
   aux1 = 0;
   aux2 = 0;
   aux3 = 0;
   suspend;
end
 ^


ALTER PROCEDURE "VARIAVELBD" 
(
  "VARIAVEL" VARCHAR(50),
  "VALOR" VARCHAR(250)
)
RETURNS
(
  "STATUS" VARCHAR(10)
)
AS
BEGIN
  rdb$set_context('USER_SESSION', :VARIAVEL, :VALOR);
  STATUS = 'OK';
  SUSPEND;
END
 ^


ALTER PROCEDURE "VERIFICA_CHECAGEM" 
(
  "SEQUENCIA" FLOAT
)
RETURNS
(
  "CHECADA" CHAR(1)
)
AS
declare variable qx1 integer;
declare variable qx2 integer;
declare variable qx3 integer;
declare variable qx4 integer;
declare variable qx5 integer;
declare variable qx6 integer;
declare variable qx7 integer;
declare variable qx8 integer;
declare variable qx9 integer;
declare variable qx10 integer;
declare variable qx11 integer;
declare variable qx12 integer;
declare variable qx13 integer;
declare variable qx14 integer;
declare variable qx15 integer;
declare variable qx16 integer;
declare variable qx17 integer;
declare variable qx18 integer;
declare variable qx19 integer;
declare variable qx20 integer;
declare variable qx21 integer;
declare variable qx22 integer;
declare variable qx23 integer;
declare variable qx24 integer;
begin
  checada ='N';
  select qx1, qx2 , qx3, qx4, qx5,
         qx6, qx7,qx8, qx9, qx10,
         qx11, qx12, qx13, qx14,qx15,
         qx16, qx17, qx18, qx19, qx20,
         qx21, qx22, qx23, qx24 from notamed2 where sequencia = :sequencia
         into :qx1, :qx2 , :qx3, :qx4, :qx5,
              :qx6, :qx7,:qx8, :qx9, :qx10,
              :qx11, :qx12, :qx13, :qx14,:qx15,
              :qx16, :qx17, :qx18, :qx19, :qx20,
              :qx21, :qx22, :qx23, :qx24;
  if(:qx1 is not null)then
  begin
    checada = 'S';
  end
  if(:qx2 is not null) then
  begin
    checada = 'S';
  end
  if(:qx3 is not null) then
  begin
    checada = 'S';
  end
  if(:qx4 is not null) then
  begin
    checada = 'S';
  end
  if(:qx5 is not null) then
  begin
    checada = 'S';
  end
  if(:qx6 is not null) then
  begin
    checada = 'S';
  end
  if(:qx7 is not null) then
  begin
    checada = 'S';
  end
  if(:qx8 is not null) then
  begin
    checada = 'S';
  end
  if(:qx9 is not null) then
  begin
    checada = 'S';
  end
  if(:qx10 is not null) then
  begin
    checada = 'S';
  end
  if(:qx11 is not null) then
  begin
    checada = 'S';
  end
  if(:qx12 is not null) then
  begin
    checada = 'S';
  end
  if(:qx13 is not null) then
  begin
    checada = 'S';
  end
  if(:qx14 is not null) then
  begin
    checada = 'S';
  end
  if(:qx15 is not null) then
  begin
    checada = 'S';
  end
  if(:qx16 is not null) then
  begin
    checada = 'S';
  end
  if(:qx17 is not null) then
  begin
    checada = 'S';
  end
  if(:qx18 is not null) then
  begin
    checada = 'S';
  end
  if(:qx19 is not null) then
  begin
    checada = 'S';
  end
  if(:qx20 is not null) then
  begin
    checada = 'S';
  end
  if(:qx21 is not null) then
  begin
    checada = 'S';
  end
  if(:qx22 is not null) then
  begin
    checada = 'S';
  end
  if(:qx23 is not null) then
  begin
    checada = 'S';
  end
  if(:qx24 is not null) then
  begin
    checada = 'S';
  end
suspend;
end
 ^


ALTER PROCEDURE "VM_CAPAC_INSTAGI" 
RETURNS
(
  "ALA" INTEGER,
  "LEITONOME" VARCHAR(100),
  "CODIGOINT" FLOAT,
  "CNES" VARCHAR(50),
  "DESCRICAOSETOR" VARCHAR(150),
  "SERVICO" VARCHAR(100),
  "DESCRICAOLEITO" VARCHAR(30),
  "CNS" VARCHAR(250),
  "DESCRICAOTIPOLEITO" VARCHAR(150),
  "DESCRICAOSUBTIPOLEITO" VARCHAR(150),
  "DESCRICAOCLASSIFICACAO" VARCHAR(100),
  "DESCRICAOSITUACAOLEITO" VARCHAR(100)
)
AS
begin
  --23/10/2018
 cnes = 'CNES';
 DescricaoSetor = 'DescricaoSetor';
 Servico = 'Servico';
 DescricaoLeito = 'DescricaoLeito';
 cns = 'CNS';
 DESCRICAOTIPOLEITO = 'DescricaoTipoLeito';
 DescricaoSubTipoLeito = 'DescricaoSubTipoLeito';
 DescricaoClassificacao = 'DescricaoClassificacao';
 DescricaoSituacaoLeito = 'DescricaoSituacaoLeito';
 suspend;
  for select  alas.a_ala, leitos.A_NOME, leitos.codigoint,
  (select CNES from EMPRESAS CNES),
    ALAS.A_NOME, tipoleito.descricao from alas
      inner join leitos on alas.a_ala = leitos.a_grupo
      inner join tipoleito on Leitos.A_TIPO = tipoleito.codigo
      where (alas.a_ativo = 'S' or alas.a_ativo is null) and leitos.contar <> 'N'
  order by alas.a_nome
  into :ALA,  :DESCRICAOLEITO, :CODIGOINT,
   :CNES,
    :DescricaoSetor, :DESCRICAOTIPOLEITO do
  BEGIN
  DescricaoSituacaoLeito = 'Vago';
  CNS = '';
  DescricaoClassificacao = '';
  DESCRICAOSUBTIPOLEITO = '';
     if (:codigoint > 0) Then
     begin
         DescricaoSituacaoLeito = 'Ocupado';
         SELECT TIPOATEND.DESCRICAO, cast(cps1.matricula as varchar(250)), TIPOATEND.DESCRICAO, CPS1.TIPOATEND, TIPOGUIACPS.DESCRICAO, ESPECIALIDADE.NOME  FROM CPS1
           left join TIPOATEND on cps1.TIPOATEND1 = TIPOATEND.CODIGO
   left join TIPOGUIACPS on cps1.A_TIPO = TIPOGUIACPS.CODIGO
   left JOIN ESPECIALIDADE ON CPS1.ESPECIALIDADE = ESPECIALIDADE.CODESP
         WHERE CODIGOCPS = :codigoint
         into  :Servico, :CNS, :DESCRICAOTIPOLEITO, :DescricaoSubTipoLeito,   :DescricaoClassificacao, :DESCRICAOSUBTIPOLEITO;
     end
   suspend;
  end
end
 ^


ALTER PROCEDURE "WMS_FATURA_CONDESADO" 
RETURNS
(
  "CONVENIO" INTEGER,
  "NOME" VARCHAR(100),
  "RECEBIDO" NUMERIC(15, 2),
  "GLOSADO" NUMERIC(15, 2),
  "VALOR" NUMERIC(15, 2),
  "ANTECIPACAO" NUMERIC(15, 2),
  "ARECEBER" NUMERIC(15, 2)
)
AS
begin
   FOR Select Fechamento.CONVENIO, Convenio.A_NOME,  sum(Fechamento.RECEBIDO) recebido,  sum(Fechamento.glosa) glosado,
    sum(Fechamento.TOTAL) valor
    FROM FECHAMENTO
    INNER JOIN CONVENIO Convenio ON  ( Fechamento.CONVENIO = Convenio.CONVENIO)
    WHERE fechamento.data between '1.' || extract(month from cast('now' as timestamp)) ||'.'|| extract(year from cast('now' as timestamp))   and 'now'
    Group by 1,2
    ORDER BY Fechamento.convenio ASC INTO :CONVENIO, :NOME, :RECEBIDO, :GLOSADO, :VALOR DO
   for execute statement 'select sum(movimen.valor) from movimen  left join cadastro on movimen.codportador = cadastro.fornecedor where cadastro.convenio='|| :CONVENIO || '  '
   on external 'LOCALHOST:financeiro' as user 'sysdba' password 'ajuda' into :ANTECIPACAO  do
   Begin
      if (recebido is null) then
          recebido = 0;
      if (glosado is null) then
          glosado = 0;
      if (antecipacao is null) then
          antecipacao = 0;
      ARECEBER = VALOR - (RECEBIDO + GLOSADO + ANTECIPACAO);
      suspend;
   End
end
 ^


ALTER PROCEDURE "XMLIMPORTDEMO" 
(
  "XMLID" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(5000)
)
AS
declare variable guia varchar(50);
  declare variable mm char(1);
  declare variable codigocps float;
  declare variable tratamento integer;
  declare variable codigopla integer;
  declare variable registroans varchar(100);
  declare variable numeroguiaprestador varchar(100);
  declare variable datarealizacao varchar(30);
  declare variable numerocarteira varchar(100);
  declare variable valorinformadoguia numeric(15,2);
  declare variable valorliberadoguia numeric(15,2);
  declare variable valorglosaguia numeric(15,2);
  declare variable codigoprocedimento varchar(50);
  declare variable grauparticipacao varchar(50);
  declare variable valorinformado  numeric(15,2);
  declare variable valorglosa numeric(15,2);
  declare variable valorglosatotal double precision;
  declare variable tipoglosa integer;
  declare variable qtdexecutada integer;
  declare variable indice integer;
  declare variable indicelista varchar(1000);
  declare variable numeroguiaoperadora varchar(30);
begin
  valorglosatotal = 0;
  numeroguiaoperadora = null;
  for select indice,registroans,numeroguiaprestador, numerocarteira, valorinformadoguia,valorliberadoguia,valorglosaguia, codigoprocedimento, grauparticipacao, qtdexecutada, valorinformado,valorglosa,tipoglosa, datarealizacao, numeroguiaoperadora from xmldemonstrativo where xmlid = :xmlid and valorglosa >= 0.01
      into indice,registroans, numeroguiaprestador, numerocarteira, valorinformadoguia, valorliberadoguia, valorglosaguia, codigoprocedimento, grauparticipacao, qtdexecutada, valorinformado, valorglosa, tipoglosa, datarealizacao, numeroguiaoperadora do
  begin
    codigocps = null;
    tratamento = null;
    select first 1 cps1.codigocps, codigopla from cps1 inner join convenio on (convenio.convenio = cps1.convenio) where cps1.a_guia = :numeroguiaprestador and convenio.ans = :registroans and cps1.matricula = :numerocarteira order by codigocps desc into codigocps, codigopla;
    if (codigocps is null) then
      select first 1 cps1.codigocps, codigopla from cps1 inner join convenio on (convenio.convenio = cps1.convenio) where cps1.codigocps = :numeroguiaprestador and convenio.ans = :registroans and cps1.matricula = :numerocarteira order by codigocps desc  into codigocps, codigopla;
    if (codigocps is null) then
      select first 1 cps1.codigocps, codigopla from cps1 inner join convenio on (convenio.convenio = cps1.convenio) where cps1.codigocps = substring(:numeroguiaprestador from 1 for strlen(:numeroguiaprestador)-1) and convenio.ans = :registroans and cps1.matricula = :numerocarteira order by codigocps desc into codigocps, codigopla;
    if (codigocps is null) then
      select first 1 cps1.codigocps, codigopla from cps1 inner join convenio on (convenio.convenio = cps1.convenio) where cps1.codigocps = substring(:numeroguiaprestador from 1 for strlen(:numeroguiaprestador)-2) and convenio.ans = :registroans and cps1.matricula = :numerocarteira order by codigocps desc into codigocps, codigopla;
    if (codigocps is not null) then
    begin
      if (codigopla <> 3) then
         tratamento = 0;
      if (valorglosaguia = 0) then
      begin
      end
      else
      begin
        texto = codigocps || ' ' || :codigoprocedimento;
        indicelista = null;
        mm = 'N';
        if (codigopla <> 3) then
          select list(indicelista) from TISS_SPSADT_V3_PROC(:codigocps) where campo40 = :codigoprocedimento and campo42 = :qtdexecutada and cast(campo47 as numeric(15,2)) = cast(:valorinformado as numeric(15,2)) and campo36 = cast(:datarealizacao as date)
          into indicelista;
        else
          select list(indicelista) from TISS_RESUMO_INT_V3_PROC('where codigocps =' || cast(:codigocps as integer)) where  ( :codigoprocedimento containing campo38 ) and campo40 = :qtdexecutada and cast(campo45 as numeric(15,2)) = cast(:valorinformado as numeric(15,2)) and campo34 = cast(:datarealizacao as date)
          into indicelista;
        if (indicelista is null) then
        begin
          select list(indicelista) from TISS_OUTRASDESP_V3('where codigocps =' || cast(:codigocps as integer)) where campo11 = :codigoprocedimento and campo12 = :qtdexecutada and campo06 in ('01','05','07') and cast(campo07 as date) = cast(:datarealizacao as date) and cast(campo16 as numeric(15,2)) = cast(:valorinformado as numeric(15,2)) into indicelista;
          mm = 'S';
        end
        if (indicelista is null) then
        begin
          select list(indicelista) from TISS_OUTRASDESP_V3('where codigocps =' || cast(:codigocps as integer)) where campo11 = :codigoprocedimento and campo12 = :qtdexecutada and not campo06 in ('01','05','07') --and cast(campo07 as date) = cast(:datarealizacao as date) --and cast(campo16 as numeric(15,2)) = cast(:valorinformado as numeric(15,2))
          into indicelista;
        end
        if (indicelista is not null) then
        begin
          if (tipoglosa is null) then tipoglosa = '0';
          select first 1 texto from xmlupdateglosa(:codigopla,:mm,:codigocps,:indicelista,:valorglosa,:tipoglosa,:indice) into :texto;
          valorglosatotal = valorglosatotal + valorglosa;
          texto = 'select texto from xmlupdateglosa(' || :codigopla || ',''' || :mm || ''',' || :codigocps || ',''' || :indicelista || ''',' || :valorglosa || ',' || :tipoglosa || ',' || :indice || ')';
        end
        else
        begin
          texto = texto || ' Item nao encontrado';
        end
      end
    end
    else
      texto = 'CPS nao encontrada para a guia ' || numeroguiaprestador;
  end
  Texto = 'Foram glosados o valor de ' || cast(valorglosatotal as numeric(15,2));
  suspend;
end
 ^


ALTER PROCEDURE "XMLPAGCPS" 
(
  "CPS" VARCHAR(20),
  "CODIGOCPS" INTEGER,
  "ID" INTEGER
)
RETURNS
(
  "DATA" TIMESTAMP,
  "CODIGOAMB" VARCHAR(10),
  "QTDE" INTEGER,
  "VALOR" DOUBLE PRECISION,
  "GLOSA" DOUBLE PRECISION,
  "STATUS" VARCHAR(200)
)
AS
declare variable indiceitem integer;
declare variable indice integer;
declare variable qtdecps2 integer;
declare variable codigocpsant integer;
declare variable dhe char(1);
declare variable codigopla integer;
declare variable qtdecps integer;
declare variable valorcps double precision;
declare variable valoraux double precision;
declare variable glosaaux double precision;
declare variable glosacps double precision;
declare variable tipoglosa varchar(20);
declare variable codigoambaux varchar(10);
declare variable cobrar char(1);
begin
  codigocpsant = 0;
  for select xmlpag.numeroguiaprestador, xmlpag.datarealizacao, xmlpagitem.codigo, cast(xmlpagitem.codigoglosa as integer),
      sum(xmlpagitem.quantidadeexecutada) qtde, sum(xmlpagitem.valorliberado) valor, sum(xmlpagitem.valorglosa) glosa, min(indice) from xmlpag
      inner join xmlpagitem on (xmlpagitem.conta = xmlpag.numeroguiaprestador and xmlpagitem.id = xmlpag.id)
      where xmlpag.numeroguiaprestador = :cps and xmlpag.id = :id and xmlpagitem.valorglosa > 0
      group by 1,2,3,4
      order by xmlpag.numeroguiaprestador, xmlpagitem.codigo
      into cps,data,codigoamb, tipoglosa, qtde,valor,glosa, indice do
  begin
    valoraux = valor;
    glosaaux = glosa;
    for select codigocps, indice, codigopla,dhe, quantidade,valor,glosa, codigoamb, cobrar from cps('where codigocps =' || :codigocps || ' and (convenio =20 or convenio = 874)')
        where codigoamb = :codigoamb and cobrar = 'S' order by 4,5
        into codigocps, indiceitem, codigopla, dhe, qtdecps, valorcps, glosacps, codigoambaux, cobrar do
    begin
         if ((glosaaux >= 0.01) and (codigoambaux = :codigoamb) and (:cobrar = 'S')) then
         begin
           if (valorcps <= glosaaux) then
           begin
             if ((codigopla = 3) and (dhe = 'M')) then
               update inter32 set xmlid = :id, glosa = :valorcps, glosatipo = :tipoglosa where inter3no = :indiceitem;
             if ((codigopla = 3) and (dhe <> 'M')) then
               update inter3  set xmlid = :id, glosa = :valorcps, glosatipo = :tipoglosa where inter3no = :indiceitem;
             if ((codigopla <> 3) and (dhe = 'M')) then
               update cps3 set xmlid = :id, glosa = :valorcps, glosatipo = :tipoglosa where indice = :indiceitem;
             if ((codigopla <> 3) and (dhe <> 'M')) then
               update cps2 set xmlid = :id, glosa = :valorcps, glosatipo = :tipoglosa where indice = :indiceitem;
               glosaaux = glosaaux - valorcps;
             update xmlpagitem set glosacps = glosacps + :valorcps, codigocps = :codigocps where indice = :indice;
             suspend;
           end
           else
           begin
             if ((codigopla = 3) and (dhe = 'M')) then
               update inter32 set xmlid = :id, glosa= :glosaaux, glosatipo = :tipoglosa where inter3no = :indiceitem;
             if ((codigopla = 3) and (dhe <> 'M')) then
               update inter3  set xmlid = :id, glosa = :glosaaux, glosatipo = :tipoglosa where inter3no = :indiceitem;
             if ((codigopla <> 3) and (dhe = 'M')) then
               update cps3 set xmlid = :id, glosa = :glosaaux, glosatipo = :tipoglosa where indice = :indiceitem;
             if ((codigopla <> 3) and (dhe <> 'M')) then
               update cps2 set xmlid = :id, glosa = :glosaaux, glosatipo = :tipoglosa where indice = :indiceitem;
             update xmlpagitem set glosacps = glosacps + :glosaaux, codigocps = :codigocps where indice = :indice;
             glosaaux = 0;
             suspend;
           end
         end
    end
  end
end
 ^


ALTER PROCEDURE "XMLPAGIMPORT" 
(
  "ID" INTEGER,
  "CONVENIO" INTEGER
)
RETURNS
(
  "CPS" VARCHAR(20),
  "CODIGOCPS" INTEGER
)
AS
begin
  for select distinct xmlpag.numeroguiaprestador from xmlpag
      inner join xmlpagitem on (xmlpagitem.conta = xmlpag.numeroguiaprestador and xmlpagitem.id = xmlpag.id)
      where xmlpag.id = :id and xmlpagitem.valorglosa > 0
      into cps do
  begin
    codigocps = null;
    select first 1 codigocps from cps1 where a_guia = :cps and (convenio = 20 or convenio = 874) into codigocps;
    if (codigocps is not null) then
      suspend;
  end
end
 ^


ALTER PROCEDURE "XMLPAGREL" 
(
  "ID" INTEGER,
  "CPS" CHAR(1)
)
RETURNS
(
  "CONTA" INTEGER,
  "CODIGO" VARCHAR(100),
  "DESCRICAO" VARCHAR(100),
  "QUANTIDADEEXECUTADA" INTEGER,
  "VALORPROCESSADO" DOUBLE PRECISION,
  "VALORLIBERADO" DOUBLE PRECISION,
  "VALORGLOSA" DOUBLE PRECISION,
  "CODIGOCPS" DOUBLE PRECISION,
  "GLOSACPS" DOUBLE PRECISION,
  "GLOSACONTA" DOUBLE PRECISION
)
AS
begin
  for select codigocps, conta, codigo, descricao, sum(quantidadeexecutada) quantidadeexecutada, sum(valorprocessado) valorprocessado,
         sum(valorliberado) valorliberado, sum(valorglosa) valorglosa from xmlpagitem
      where id = :id and valorglosa > 0
      group by 1,2,3,4
      order by conta, descricao
      into codigocps, conta, codigo, descricao, quantidadeexecutada, valorprocessado, valorliberado, valorglosa do
  begin
    glosaconta = 0;
    if ((:codigocps > 0) and (cps = 'S')) then
      select sum(glosa) from cps('where codigocps =' || :codigocps) where codigoamb = :codigo and cobrar = 'S' into glosaconta;
    if ((cps = 'S') or (codigocps is null)) then
      suspend;
  end
end
 ^


ALTER PROCEDURE "XMLUPDATEGLOSA" 
(
  "CODIGOPLA" INTEGER,
  "MM" CHAR(1),
  "CODIGOCPS" FLOAT,
  "INDICELISTA" VARCHAR(2000),
  "VALORGLOSA" DOUBLE PRECISION,
  "TIPOGLOSA" INTEGER,
  "INDICEXML" INTEGER
)
RETURNS
(
  "TEXTO" VARCHAR(5000)
)
AS
declare variable dqltexto varchar(1000);
declare variable dmltexto varchar(1000);
declare variable tabela varchar(30);
declare variable glosa double precision;
declare variable valor double precision;
declare variable indice float;
declare variable tratamento integer;
begin
  if (tipoglosa is null) then
    tipoglosa = 0;
  if ((codigopla = 3) and (mm = 'N')) then
  begin
    dmltexto = 'update inter3 set glosa = :glosa, glosatipo = :tipo, xmlid = ' || gen_id(xmlpag,0) || ' where inter3no =';
    dqltexto = 'select inter3no, valor, tratamento from inter3 where inter3no in (' || indicelista ||')';
    tabela = 'inter3';
  end
  else if ((codigopla = 3) and (mm = 'S')) then
  begin
    dmltexto = 'update inter32 set glosa = :glosa, glosatipo = :tipo, xmlid = ' || gen_id(xmlpag,0) || ' where inter3no =';
    dqltexto = 'select inter3no, total, tratamento from inter32 where inter3no in (' || indicelista ||')';
    tabela = 'inter32';
  end
  else if ((codigopla <> 3) and (mm = 'N')) then
  begin
    dmltexto = 'update cps2 set glosa = :glosa, glosatipo = :tipo, xmlid = ' || gen_id(xmlpag,0) || ' where indice =';
    dqltexto = 'select indice, valor, 0 from cps2 where indice in (' || indicelista ||')';
    tabela = 'cps2';
  end
  else if ((codigopla <> 3) and (mm = 'S')) then
  begin
    dmltexto = 'update cps3 set glosa = :glosa, glosatipo = :tipo, xmlid = ' || gen_id(xmlpag,0) || ' where indice =';
    dqltexto = 'select indice, total, 0 from cps3 where indice in (' || indicelista ||')';
    tabela = 'cps3';
  end
  glosa = valorglosa;
  for execute statement :dqltexto into :indice, valor, tratamento do
  begin
    update xmldemonstrativo set codigocps = :codigocps, tratamento = :tratamento, indicetb = :indice, tabela = :tabela where indice = :indicexml;
    if (glosa >=0.01) then
    begin
      if (glosa > valor) then
      begin
        texto = replace(dmltexto,':glosa',cast(:valor as numeric(15,2))) || indice;
        texto = replace(texto,':tipo',:tipoglosa);
        glosa = glosa -valor;
      end
      else
      begin
        texto = replace(dmltexto,':glosa',cast(:glosa as numeric(15,2))) || indice;
        texto = replace(texto,':tipo',:tipoglosa);
        glosa = 0;
      end
      execute statement :texto;
    end
  end
  suspend;
end
 ^

SET TERM ; ^
COMMIT WORK;
SET AUTODDL ON;
SET TERM ^ ;


/* Triggers only will work for SQL triggers */

CREATE TRIGGER "INS_ABASOLU" FOR "ABASOLU" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_ABASOLU, 1);
END
 ^

CREATE TRIGGER "TRGBI_ACENTRAL" FOR "ACENTRAL" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_ACENTRAL, 1 );
end
 ^

CREATE TRIGGER "INSACESSOESTOQUE" FOR "ACESSOESTOQUE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_ACESSOESTOQUE, 1 );
END
 ^

CREATE TRIGGER "INSACESSOS" FOR "ACESSOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSO, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOS" FOR "ACESSOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOS" FOR "ACESSOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSA" FOR "ACESSOSA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOA, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSA" FOR "ACESSOSA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSA" FOR "ACESSOSA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DEL_ACESSOSA" FOR "ACESSOSA" 
ACTIVE BEFORE DELETE POSITION 0
AS
BEGIN
  insert into ACESSOSEXCLUIDOS
    ( ACESSO, INCLUIR, ALTERAR, EXCLUIR, IMPRIMIR, OPERADOR, PROGRAMA, CACHES,
      USER1, USER2, DATA1, DATA2 )
  SELECT
      ACESSO, INCLUIR, ALTERAR, EXCLUIR, IMPRIMIR, OPERADOR, PROGRAMA, CACHES,
      USER1, USER2, DATA1, DATA2
  FROM ACESSOSA
  WHERE ACESSO = OLD.ACESSO;
END
 ^

CREATE TRIGGER "INSACESSOSC" FOR "ACESSOSC" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.ACESSO = gen_id( gen_ACESSOSC, 1 );
end
 ^

CREATE TRIGGER "SINC1_ACESSOSC" FOR "ACESSOSC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSC" FOR "ACESSOSC" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSCONTABIL" FOR "ACESSOSCONTABIL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOSCONTABIL, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSCONTABIL" FOR "ACESSOSCONTABIL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSCONTABIL" FOR "ACESSOSCONTABIL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DC_ACESSOSCONTABIL" FOR "ACESSOSCONTABIL" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN NEW.DATA2 = 'NOW'; END
 ^

CREATE TRIGGER "INSACESSOSF" FOR "ACESSOSF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOF, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSF" FOR "ACESSOSF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSF" FOR "ACESSOSF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSI" FOR "ACESSOSI" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOI, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSI" FOR "ACESSOSI" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSI" FOR "ACESSOSI" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSL" FOR "ACESSOSL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOL, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSL" FOR "ACESSOSL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSL" FOR "ACESSOSL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSLAB" FOR "ACESSOSLAB" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOL, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSLAB" FOR "ACESSOSLAB" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSLAB" FOR "ACESSOSLAB" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOM" FOR "ACESSOSM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOM, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSM" FOR "ACESSOSM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSM" FOR "ACESSOSM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSO" FOR "ACESSOSO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOSO, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSO" FOR "ACESSOSO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSO" FOR "ACESSOSO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DEL_ACESSOSO" FOR "ACESSOSO" 
ACTIVE BEFORE DELETE POSITION 0
AS
BEGIN
  insert into ACESSOSRESERVA
    ( ACESSO, INCLUIR, ALTERAR, EXCLUIR, IMPRIMIR, OPERADOR, PROGRAMA, CACHES,
      USER1, USER2, DATA1, DATA2 )
  SELECT
      ACESSO, INCLUIR, ALTERAR, EXCLUIR, IMPRIMIR, OPERADOR, PROGRAMA, CACHES,
      USER1, USER2, DATA1, DATA2
  FROM ACESSOSO
  WHERE ACESSO = OLD.ACESSO;
END
 ^

CREATE TRIGGER "INSACESSOSP" FOR "ACESSOSP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOP, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSP" FOR "ACESSOSP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSP" FOR "ACESSOSP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_ACESSOSRESERVA" FOR "ACESSOSRESERVA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSRESERVA" FOR "ACESSOSRESERVA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSACESSOSX" FOR "ACESSOSX" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_ACESSOX, 1 );
END
 ^

CREATE TRIGGER "SINC1_ACESSOSX" FOR "ACESSOSX" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ACESSOSX" FOR "ACESSOSX" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_ADIANTAMENTO" FOR "ADIANTAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.NUMERO = GEN_ID( GEN_ADIANTAMENTO, 1 );
END
 ^

CREATE TRIGGER "SINC1_ADIANTAMENTO" FOR "ADIANTAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ADIANTAMENTO" FOR "ADIANTAMENTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ADMISSAO" FOR "ADMISSAOMEDICA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_ADMISSAOMEDICA, 1 );
end
 ^

CREATE TRIGGER "BIADMPED_LEITOALA" FOR "ADMPED" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "TRGBI_ADMPED" FOR "ADMPED" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.IDADMPED = GEN_ID( gen_ADMPED, 1 );
end
 ^

CREATE TRIGGER "TRGBI_ADMPEDPROB" FOR "ADMPED_PROB" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.IDADMPED_PROB = GEN_ID( GEN_ADMPED_PROB, 1 );
end
 ^

CREATE TRIGGER "TRGBI_AGENDAPROF" FOR "AGENDAPROF" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_agendaprof,1);
end
 ^

CREATE TRIGGER "SINC1_AJUDA" FOR "AJUDA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_AJUDA" FOR "AJUDA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.indice = gen_id(gen_ajuda,1);
end
 ^

CREATE TRIGGER "SINC2_AJUDA" FOR "AJUDA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_AJUSTACPS" FOR "AJUSTACPS" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_ajustacps,1);
end
 ^

CREATE TRIGGER "TRGBI_AJUSTACPSITEM" FOR "AJUSTACPSITEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_ajustacpsitem,1);
end
 ^

CREATE TRIGGER "INSALAS" FOR "ALAS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.A_ALA = GEN_ID( Gen_Alas, 1 );
    new.a_ativo = 'S';
end
 ^

CREATE TRIGGER "SINC1_ALAS" FOR "ALAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ALAS" FOR "ALAS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ALERGIAS" FOR "ALERGIAS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_ALERGIAS = GEN_ID( GEN_ALERGIAS, 1 );
end
 ^

CREATE TRIGGER "SINC1_ALIMENTO" FOR "ALIMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ALIMENTO" FOR "ALIMENTO" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
NEW.CODIGO = GEN_ID(GEN_ALIMENTO,1);
END
 ^

CREATE TRIGGER "SINC2_ALIMENTO" FOR "ALIMENTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_ALIMENTOINFO" FOR "ALIMENTOINFO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ALIMENTOINFO" FOR "ALIMENTOINFO" 
ACTIVE BEFORE INSERT POSITION 0
as begin
new.codigo = gen_id(gen_alimentoinfo,1);
end
 ^

CREATE TRIGGER "SINC2_ALIMENTOINFO" FOR "ALIMENTOINFO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_ALTA" FOR "ALTA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_ALTA" FOR "ALTA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.CODIGO = gen_id( gen_ALTA, 1 );
end
 ^

CREATE TRIGGER "SINC2_ALTA" FOR "ALTA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BIALTAENFUTI_LEITOALA" FOR "ALTAENFUTI" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
          --    NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "BI_ATUALIZA_LEITO" FOR "ALTAENFUTI" 
INACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
     IF (NEW.LEITO > 0 and new.statusleito <> '' ) Then
     BEGIN
          if (new.statusleito = 'Limpeza') then
               update leitos set estado = 7 where leito = new.leito;
          if (new.statusleito = 'Manuteno') then
               update leitos set estado = 8 where leito = new.leito;
          if (new.statusleito = '') then
               update leitos set estado = 1 where leito = new.leito;
     END
END
 ^

CREATE TRIGGER "TBI_ALTAENFUTIDATA1" FOR "ALTAENFUTI" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   new.data1 = 'NOW';
end
 ^

CREATE TRIGGER "TBI_GEN_ALTAENFUTI" FOR "ALTAENFUTI" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.IDALTAENFUTI = GEN_ID( GEN_ALTAENFUTI, 1 );
end
 ^

CREATE TRIGGER "BUALTAENFUTI_LEITOALA" FOR "ALTAENFUTI" 
ACTIVE BEFORE UPDATE POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
          --    NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "BU_ATUALIZA_LEITO" FOR "ALTAENFUTI" 
INACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
     IF (NEW.LEITO > 0 and new.statusleito <> '' ) Then
     BEGIN
          if (new.statusleito = 'Limpeza') then
               update leitos set estado = 7 where leito = new.leito;
          if (new.statusleito = 'Manuteno') then
               update leitos set estado = 8 where leito = new.leito;
          if (new.statusleito = '') then
               update leitos set estado = 1 where leito = new.leito;
     END
END
 ^

CREATE TRIGGER "TBU_ALTAENFUTI_DATASINC" FOR "ALTAENFUTI" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
   new.datasinc = 'NOW';
end
 ^

CREATE TRIGGER "TBDEL_ALTAENFUTI" FOR "ALTAENFUTI" 
INACTIVE BEFORE DELETE POSITION 0
AS
BEGIN
     if  (exists(select datasaida from cps1 where codigocps = old.Codigocps)) Then
     begin
        EXCEPTION exc_dinamica 'Probido excluir paciente esta com data de saida preenchida';
     end
end
 ^

CREATE TRIGGER "TRGBI_ALTAITEM" FOR "ALTAITEM" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    IF (NEW.INDICE IS NULL) THEN
      NEW.INDICE = GEN_ID( GEN_ALTAITEM, 1 );
END
 ^

CREATE TRIGGER "TRGBI_ALTAITEM_CODIGOSERV" FOR "ALTAITEM" 
ACTIVE BEFORE INSERT POSITION 40
as
begin
 select first 1 codigoserv from servicos where a_codamb = substring(new.codigoamb from 3 for 20) order by codigoserv desc into new.codigoserv;
 end
 ^

CREATE TRIGGER "TRGBU_ALTAITEM_BLOQFIM" FOR "ALTAITEM" 
ACTIVE BEFORE UPDATE POSITION 50
as
begin
  if ((new.fim is not null) and (new.fim <new.inicio)) then
    exception EXC_DINAMICA 'No permitido a hora fim menor que inicial';
  if (new.fim is null) then
    new.RESP_CHECAGEM = null;
end
 ^

CREATE TRIGGER "DEL_ALTAITEMX" FOR "ALTAITEM" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  INSERT INTO XALTAITEM (INDICE,  ALTA,  CODIGOAMB,  CODIGOSERV,  DESCRICAO,  INICIO,  FIM,
      OBSERVACAO,  CLASSE,  INDICE_PEDIDO,  RESP_CHECAGEM,  CPS,  USUARIODELETOU)
    SELECT INDICE,  ALTA,  CODIGOAMB,  CODIGOSERV,  DESCRICAO,  INICIO,  FIM,
      OBSERVACAO,  CLASSE,  INDICE_PEDIDO,  RESP_CHECAGEM,  CPS, rdb$get_context('USER_SESSION', 'USUARIO')
    from ALTAITEM WHERE INDICE = OLD.INDICE;
end
 ^

CREATE TRIGGER "TRGBI_FICHAANESTESIA" FOR "ANESTESIA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.IDANESTERIA = gen_id(GEN_ANESTESIA,1);
end
 ^

CREATE TRIGGER "TRGBI_ANTIBIOTICO" FOR "ANTIBIOTICOS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_ANTIBIOTICO, 1 );
end
 ^

CREATE TRIGGER "TRGBI_APACHE" FOR "APACHE" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.INDICE = GEN_ID( gen_Apache, 1 );
end
 ^

CREATE TRIGGER "INS_APARELHOFISICO" FOR "APARELHOFISIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   new.INDICE = GEN_ID( GEN_APARELHOFISICO, 1 );
END
 ^

CREATE TRIGGER "SINC1_APARELHOFISIO" FOR "APARELHOFISIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_APARELHOFISIO" FOR "APARELHOFISIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_APARELHO_AUDIMETRIA" FOR "APARELHO_AUDIMETRIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_APARELHO_AUDIMETRIA_1" FOR "APARELHO_AUDIMETRIA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     New.INDICE = gen_id( gen_aparelho_audiometria, 1 );
end
 ^

CREATE TRIGGER "SINC2_APARELHO_AUDIMETRIA" FOR "APARELHO_AUDIMETRIA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_APELIDOCODAMB" FOR "APELIDOCODAMB" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_APELIDOCODAMB" FOR "APELIDOCODAMB" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.codigo = gen_id(gen_apelidocodamb,1);
end
 ^

CREATE TRIGGER "SINC2_APELIDOCODAMB" FOR "APELIDOCODAMB" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_AREA" FOR "AREA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.CODIGO = GEN_ID( GEN_AREA, 1 );
END
 ^

CREATE TRIGGER "SINC1_AREA" FOR "AREA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_AREA" FOR "AREA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSAREAMED" FOR "AREAMED" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     New.CodigoArea = gen_id( gen_AreaMed, 1 );
end
 ^

CREATE TRIGGER "SINC1_AREAMED" FOR "AREAMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_AREAMED" FOR "AREAMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ATENDIMENTO" FOR "ATENDIMENTO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_ATENDIMENTO,1);
end
 ^

CREATE TRIGGER "INS_ATESTADO" FOR "ATESTADO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     New.idatestado = gen_id( gen_ATESTADO, 1 );
end
 ^

CREATE TRIGGER "TRGBI_ATUALIZA_BRAS" FOR "ATUALIZACAO_BRAS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_ATUALIZACAO_BRAS = GEN_ID( GEN_ATUALIZACAO_BRAS, 1 );
end
 ^

CREATE TRIGGER "TIG_ATUALIZAIMPCONV" FOR "ATUALIZAIMPCONV" 
ACTIVE BEFORE INSERT POSITION 0
AS
 BEGIN
  NEW.ATUALIZAIMPCONV = GEN_ID(GEN_ATUALIZAIMPCONV, 1);
 END
 ^

CREATE TRIGGER "TRGBI_AUD_VALIDADE_FUSMA" FOR "AUDITA_VALIDADE_FUSMA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_VALIDADEFUSMA = GEN_ID(GEN_AUDITAVALIDADEFUSMA, 1 );
end
 ^

CREATE TRIGGER "TRGBI_AUDITORIAREGRA" FOR "AUDITORIAREGRA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_auditoriaregra,1);
end
 ^

CREATE TRIGGER "SINC1_AUTORIZACAO" FOR "AUTORIZACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_AUTORIZACAO" FOR "AUTORIZACAO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.numero = gen_id(gen_autorizacao,1);
end
 ^

CREATE TRIGGER "SINC2_AUTORIZACAO" FOR "AUTORIZACAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_AVALIACAOESPECIALISTA" FOR "AVALIACAOESPECIALISTA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_AVALIACAOESPECIALISTA, 1 );
end
 ^

CREATE TRIGGER "TRGBI_AVALIA_ANEST" FOR "AVALIA_ANEST" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_avalia_anest, 1 );
end
 ^

CREATE TRIGGER "INS_BALANCOHIDR" FOR "BALANCOHIDR" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_BALANCOHIDR, 1 );
END
 ^

CREATE TRIGGER "SINC1_BANCADA" FOR "BANCADA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRG_BANCADA" FOR "BANCADA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
new.bancada_codigo = gen_id(gen_bancada,1);
end
 ^

CREATE TRIGGER "SINC2_BANCADA" FOR "BANCADA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_BANCADAEXAME" FOR "BANCADAEXAME" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRG_BANCADAEXAME" FOR "BANCADAEXAME" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
new.codigo = gen_id(gen_bancadaexame,1);
end
 ^

CREATE TRIGGER "SINC2_BANCADAEXAME" FOR "BANCADAEXAME" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BIBOLETIM_LEITOALA" FOR "BOLETIM" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
declare variable vUN integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito, alas.unidadenegocio from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito, vUN;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
       if (:vUN is not null) Then
       begin
         NEW.unidadenegocio = vUN;
           if (:vUN = 1) Then
             new.tipo = 'U';
           if (:vUN = 2) Then
             new.tipo = 'E';
       end
END
 
 ^

CREATE TRIGGER "INS_BOLETIM" FOR "BOLETIM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
     NEW.NUMERO = GEN_ID( GEN_BOLETIM, 1 );
END
 ^

CREATE TRIGGER "SINC1_BOLETIM" FOR "BOLETIM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGAILOG_BOLETIM" FOR "BOLETIM" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('BOLETIM',NEW.NUMERO,'I') into indice; end
 ^

CREATE TRIGGER "SINC2_BOLETIM" FOR "BOLETIM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGAULOG_BOLETIM" FOR "BOLETIM" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('BOLETIM',NEW.NUMERO,'U') into :indice;
if ((new.A_MEDICOS <> old.A_MEDICOS) or (new.A_MEDICOS is null and old.A_MEDICOS is not null) or (new.A_MEDICOS is not null and old.A_MEDICOS is null)) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,new.A_MEDICOS);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.CONSCIENCIA <> old.CONSCIENCIA) or (new.CONSCIENCIA is null and old.CONSCIENCIA is not null) or (new.CONSCIENCIA is not null and old.CONSCIENCIA is null)) then
 execute procedure insertlogitem(:indice,'CONSCIENCIA',old.CONSCIENCIA,new.CONSCIENCIA);
if ((new.IMPRESSAO <> old.IMPRESSAO) or (new.IMPRESSAO is null and old.IMPRESSAO is not null) or (new.IMPRESSAO is not null and old.IMPRESSAO is null)) then
 execute procedure insertlogitem(:indice,'IMPRESSAO',old.IMPRESSAO,new.IMPRESSAO);
if ((new.NUMERO <> old.NUMERO) or (new.NUMERO is null and old.NUMERO is not null) or (new.NUMERO is not null and old.NUMERO is null)) then
 execute procedure insertlogitem(:indice,'NUMERO',old.NUMERO,new.NUMERO);
if ((new.NUTRICAO <> old.NUTRICAO) or (new.NUTRICAO is null and old.NUTRICAO is not null) or (new.NUTRICAO is not null and old.NUTRICAO is null)) then
 execute procedure insertlogitem(:indice,'NUTRICAO',old.NUTRICAO,new.NUTRICAO);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.VENTILACAO <> old.VENTILACAO) or (new.VENTILACAO is null and old.VENTILACAO is not null) or (new.VENTILACAO is not null and old.VENTILACAO is null)) then
 execute procedure insertlogitem(:indice,'VENTILACAO',old.VENTILACAO,new.VENTILACAO);
 end
 ^

CREATE TRIGGER "TRGADLOG_BOLETIM" FOR "BOLETIM" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('BOLETIM',OLD.NUMERO,'D') into :indice;
if (old.A_MEDICOS is not null) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,null);
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.CONSCIENCIA is not null) then
 execute procedure insertlogitem(:indice,'CONSCIENCIA',old.CONSCIENCIA,null);
if (old.IMPRESSAO is not null) then
 execute procedure insertlogitem(:indice,'IMPRESSAO',old.IMPRESSAO,null);
if (old.NUMERO is not null) then
 execute procedure insertlogitem(:indice,'NUMERO',old.NUMERO,null);
if (old.NUTRICAO is not null) then
 execute procedure insertlogitem(:indice,'NUTRICAO',old.NUTRICAO,null);
if (old.OBSERVACAO is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,null);
if (old.VENTILACAO is not null) then
 execute procedure insertlogitem(:indice,'VENTILACAO',old.VENTILACAO,null);
 end
 ^

CREATE TRIGGER "INS_BOTAOEXAME" FOR "BOTAOEXAME" 
ACTIVE BEFORE INSERT POSITION 0
as
BEGIN
  NEW.INDICE = GEN_ID( GEN_BOTAOEXAME, 1 );
END
 ^

CREATE TRIGGER "TRGBI_BPAATENDIMENTO" FOR "BPAATENDIMENTO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_BPAATENDIMENTO,1);
end
 ^

CREATE TRIGGER "TRGBI_BPADISCO" FOR "BPADISCO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_BPADISCO,1);
end
 ^

CREATE TRIGGER "TRGBI_BPAESPECIALSUS" FOR "BPAESPECIALSUS" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_BPAESPECIALSUS,1);
end
 ^

CREATE TRIGGER "TRGBI_BPAFETARIA" FOR "BPAFETARIA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_BPAFETARIA,1);
end
 ^

CREATE TRIGGER "TRGBI_BPAGRUPO" FOR "BPAGRUPO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_BPAGRUPO,1);
end
 ^

CREATE TRIGGER "TRGBI_BRASINDICE" FOR "BRASINDICE" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_brasindice,1);
end
 ^

CREATE TRIGGER "SINC1_BRASINDICE1" FOR "BRASINDICE1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_BRASINDICE1" FOR "BRASINDICE1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_BRASINDICE2" FOR "BRASINDICE2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_BRASINDICE2" FOR "BRASINDICE2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_BRAS3" FOR "BRASINDICE3" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.ABAPREC = GEN_ID( Gen_BRASINDICE3, 1 );
end
 ^

CREATE TRIGGER "SINC1_BRASINDICE3" FOR "BRASINDICE3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_BRASINDICE3" FOR "BRASINDICE3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_BRASINDICE_ARQUIVO" FOR "BRASINDICE_ARQUIVO" 
ACTIVE BEFORE INSERT POSITION 0
as
BEGIN
   NEW.DATAIMPORTACAO = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CADMUN" FOR "CADMUN" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CADMUN" FOR "CADMUN" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CADUF" FOR "CADUF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CADUF" FOR "CADUF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CALENDARIOFATURA" FOR "CALENDARIOFATURA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.NUMERO = GEN_ID( Gen_CALENDARIOFATURA, 1 );
end
 ^

CREATE TRIGGER "SINC1_CALENDARIOFATURA" FOR "CALENDARIOFATURA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CALENDARIOFATURA" FOR "CALENDARIOFATURA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_GEN" FOR "CARGACOMPILAB" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.IDCARGACOMPILAB = GEN_ID( Gen_CARGACOMPILAB, 1 );
end
 ^

CREATE TRIGGER "INS_DT_CARGAERRO" FOR "CARGACOMPILAB_ERRO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   NEW.DATASINC = 'NOW';
end
 ^

CREATE TRIGGER "INS_GEN_CARGAERRO" FOR "CARGACOMPILAB_ERRO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.IDCARGACOMPILAB_ERRO = GEN_ID( Gen_CARGACOMPILABERRO, 1 );
end
 ^

CREATE TRIGGER "INS_CARTA" FOR "CARTA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_carta, 1 );
end
 ^

CREATE TRIGGER "SINC1_CATALOGO" FOR "CATALOGO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CATALOGO" FOR "CATALOGO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.CODIGO = GEN_ID( Gen_CATALOGO, 1 );
end
 ^

CREATE TRIGGER "SINC2_CATALOGO" FOR "CATALOGO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CATALOGOGRUPO" FOR "CATALOGOGRUPO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CATALOGOGRUPO" FOR "CATALOGOGRUPO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.CODIGO = GEN_ID( Gen_CATALOGO, 1 );
end
 ^

CREATE TRIGGER "SINC2_CATALOGOGRUPO" FOR "CATALOGOGRUPO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BI_CBOSUS" FOR "CBOSUS" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.SEQUENCIA = GEN_ID( GEN_CBOSUS, 1 );
END
 ^

CREATE TRIGGER "TRGBI_CCIH" FOR "CCIH" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_ccih, 1 );
end
 ^

CREATE TRIGGER "TRGBU_CCIH_TIPO_P_T" FOR "CCIH" 
ACTIVE BEFORE UPDATE POSITION 40
as
BEGIN
  IF (NEW.USOPROFILATICO = 'S') THEN
      new.USOTERAPEUTICO = 'N';
  if (new.USOTERAPEUTICO = 'S') Then
     NEW.USOPROFILATICO = 'N';
END
 ^

CREATE TRIGGER "DEL_X_CCIH" FOR "CCIH" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into XCCIH (INDICE,  CLINICA,  CPS,  ANTIMICROBIANO,  CID1,  CID2,  CID3,  DOSEDIARIA,
VIA,  TEMPO,  USOTERAPEUTICO,  INICIO,  PRORROGACAO,  FERIDACIRURGICA,  NENHUMA,
URINA,  SANGUE,  LIQUOR,  SECRETRAQUEAL,  LAVADOBRONCOALVEOLAR,  OUTROS,
PATOGENOIDENTIFICADO,  ANTIOBIOGRAMA,  USOPROFILATICO,  PROCEDIMENTO,  MEDICORESP,
DATA,  CRM,  MEDICOCCIH,  FARMACEUTICO,  CRMCCIH,  CRF,  PRESCRICAO,  PATOGENO1,
PATOGENO2,  ANTISENSIB,  USER1,  USER2,  DATAINICIO,  DATAFINAL,  ANTIMICROBIANO1,
DOSEDIARIA1,  VIA1,  TEMPO1	,  DIAGNOSTICO,  PONTACATETER,  PACIENTE,
LEITO,  CODIGOMED,  NOMEPAC,  IMPRESSO,  INDICE_NOTAMED2,  PARECER_FARMACEUTICO,
  PARECER_SCIH,  DATA_FARMA,  DATA_SCIH)
SELECT  INDICE,  CLINICA,  CPS,  ANTIMICROBIANO,  CID1,  CID2,  CID3,  DOSEDIARIA,
VIA,  TEMPO,  USOTERAPEUTICO,  INICIO,  PRORROGACAO,  FERIDACIRURGICA,  NENHUMA,
URINA,  SANGUE,  LIQUOR,  SECRETRAQUEAL,  LAVADOBRONCOALVEOLAR,  OUTROS,
PATOGENOIDENTIFICADO,  ANTIOBIOGRAMA,  USOPROFILATICO,  PROCEDIMENTO,  MEDICORESP,
DATA,  CRM,  MEDICOCCIH,  FARMACEUTICO,  CRMCCIH,  CRF,  PRESCRICAO,  PATOGENO1,
PATOGENO2,  ANTISENSIB,  USER1,  USER2,  DATAINICIO,  DATAFINAL,  ANTIMICROBIANO1,
  DOSEDIARIA1,  VIA1,  TEMPO1	,  DIAGNOSTICO,  PONTACATETER,  PACIENTE,
LEITO,  CODIGOMED,  NOMEPAC,  IMPRESSO,  INDICE_NOTAMED2,  PARECER_FARMACEUTICO,
PARECER_SCIH,  DATA_FARMA,  DATA_SCIH  FROM CCIH
WHERE INDICE = OLD.INDICE;
END
 ^

CREATE TRIGGER "TRG_IDCEPSUS" FOR "CEPSUS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
new.IDCEPSUS = gen_id(GEN_CEPSUS,1);
end
 ^

CREATE TRIGGER "GERA_N_CHAMADO" FOR "CHAMADOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.n_chamado = GEN_ID( novo_chamado, 1 );
END
 ^

CREATE TRIGGER "SINC1_CHAMADOS" FOR "CHAMADOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CHAMADOS" FOR "CHAMADOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "CHECKCVC_LEITOALA" FOR "CHECKCVC" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "TRGBI_CHECKCVC" FOR "CHECKCVC" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.IDCHECKCVC = gen_id(GEN_CHECKCVC,1);
end
 ^

CREATE TRIGGER "SINCUP_CHECKCVC" FOR "CHECKCVC" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
    NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TBI_GENERATOR_CHELIST" FOR "CHECKLIST_CIRURGICO_2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_CHECKLIST_CIRURGICO_2, 1 );
end
 ^

CREATE TRIGGER "TBI_CHECKLIST_DATA" FOR "CHECKLIST_CIRURGICO_2" 
ACTIVE BEFORE INSERT POSITION 1
AS
BEGIN
   NEW.DATA = 'NOW';
end
 ^

CREATE TRIGGER "TBU_CHECKLIST_DATASINC" FOR "CHECKLIST_CIRURGICO_2" 
ACTIVE BEFORE UPDATE POSITION 1
AS
BEGIN
   NEW.DATASINC = 'NOW';
end
 ^

CREATE TRIGGER "TRGBI_CHECKUP" FOR "CHECKUP" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.IDCHECKUP = gen_id(GEN_CHECKUP,1);
end
 ^

CREATE TRIGGER "TRGBI_CHECKUP_ESPC" FOR "CHECKUP_ESPEC" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.IDCHECKUP_ESPEC = gen_id(GEN_CHECKUP_ESPEC,1);
end
 ^

CREATE TRIGGER "SINC1_CID" FOR "CID" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CID" FOR "CID" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CIDPROF" FOR "CIDPROF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_CIDPROF, 1 );
END
 ^

CREATE TRIGGER "TRBBI_CIDPROT1" FOR "CIDPROT1" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( GEN_CIDPROT1, 1 );
end
 ^

CREATE TRIGGER "TRBBI_CIDPROT2" FOR "CIDPROT2" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( GEN_CIDPROT2, 1 );
end
 ^

CREATE TRIGGER "TRBBI_CIDPROTAMARRA" FOR "CIDPROTAMARRA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( GEN_CIDPROTAMARRA, 1 );
end
 ^

CREATE TRIGGER "TRIG_BI_CIRURGIA_COMPLEMENTO" FOR "CIRURGIA_COMPLEMENTO" 
ACTIVE BEFORE INSERT POSITION 20
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_CIRURGIA_COMPLEMENTO,1);
END
 ^

CREATE TRIGGER "SINC1_CNAE" FOR "CNAE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CNAE" FOR "CNAE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_COMPATSANGUE" FOR "COMPATSANGUE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "COMPATSANGUE_BI" FOR "COMPATSANGUE" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.CODIGO = GEN_ID( GEN_COMPATSANGUE, 1 );
END
 ^

CREATE TRIGGER "SINC2_COMPATSANGUE" FOR "COMPATSANGUE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_BLOQUEIO" FOR "COMPLEMENTOASSIST" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    if (new.especialidade = 48) Then --pediatria
    begin
        if (new.tipopeso is null) Then
           exception exc_dinamica 'Campo Nutricao est em branco';
        if (new.tpfaixaetaria is null) Then
           exception exc_dinamica 'Campo Faixa Etria est em branco';
        if (new.testerastre is null) Then
           exception exc_dinamica 'Campo Teste de rastreamento RN est em branco';
        if (new.neocongenita is null) Then
           exception exc_dinamica 'Campo Doenas neonatais ou congnitas est em branco';
        if (new.violenciainf is null) Then
           exception exc_dinamica 'Campo Violncia infantil est em branco';
    end
end
 ^

CREATE TRIGGER "TRGBI_COMPLEMENTOASSIST" FOR "COMPLEMENTOASSIST" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.IDCOMPLEMENTOASSIST = GEN_ID( GEN_COMPLEMENTOASSIST, 1 );
end
 ^

CREATE TRIGGER "INS_CONFIG" FOR "CONFIG" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.config_id = gen_id( gen_config, 1 );
end
 ^

CREATE TRIGGER "SINC1_CONFIG" FOR "CONFIG" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CONFIG" FOR "CONFIG" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BICONSULTANEST_LEITOALA" FOR "CONSULTAANESTESIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.cps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "TRGBI_CONSULTANESTESIA" FOR "CONSULTAANESTESIA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.IDCONSULTAANESTESIA = gen_id(GEN_CONSULTANEST,1);
   new.data = 'now';
   new.user1 =  rdb$get_context('USER_SESSION', 'USUARIO');
end
 ^

CREATE TRIGGER "INS_GEN_CONSULTAENF" FOR "CONSULTAENF" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_CONSULTAENF,1);
END
 ^

CREATE TRIGGER "INS_GEN_CONSULTAENF2" FOR "CONSULTAENF2" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE2 = GEN_ID(GEN_CONSULTAENF2,1);
END
 ^

CREATE TRIGGER "TRGBI_CONSUL_ANES" FOR "CONSULTA_ANES" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( Gen_consul_anes, 1 );
end
 ^

CREATE TRIGGER "INS_CONSULTA_ENF" FOR "CONSULTA_ENFERMAGEM" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.ID_CONSULTA_ENFERMAGEM = gen_id( Gen_CONSULTA_ENFERMAGEM, 1 );
end
 ^

CREATE TRIGGER "SINC1_CONTABIL" FOR "CONTABIL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CONTABIL" FOR "CONTABIL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSCONTATOS" FOR "CONTATOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.NUMERO = GEN_ID( GEN_CONTATOS, 1 );
END
 ^

CREATE TRIGGER "SINC1_CONTATOS" FOR "CONTATOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CONTATOS" FOR "CONTATOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSCONTATOSEMP" FOR "CONTATOSEMP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.NUMERO = GEN_ID( GEN_CONTATOSEMP, 1 );
END
 ^

CREATE TRIGGER "SINC1_CONTATOSEMP" FOR "CONTATOSEMP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CONTATOSEMP" FOR "CONTATOSEMP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRI_BI_CONVCODCRED" FOR "CONVCODCRED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.INDICE = GEN_ID(GEN_CONVCODCRED,1);
END
 ^

CREATE TRIGGER "INSCONVENIO" FOR "CONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Convenio = Gen_ID( Gen_Convenio, 1 );
end
 ^

CREATE TRIGGER "SINC1_CONVENIO" FOR "CONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "LOG_CONVENIOS" FOR "CONVENIO" 
INACTIVE BEFORE UPDATE POSITION 0
as
begin
  execute statement 'insert into XL_CONVENIO
     ( XLCONVENIO,A_NOME,ENDERECO,BAIRRO,CIDADE,CONTATO,ENTREGA,MENSAGEM,MENSAGEM1,LIMITE,REVISAO,ADCAMB,ADCINT,ETIQUETA,CODEMERG,A_VALOR,CODMAT,CODESP,CEP,EMAIL,HTML,HONORARIO,H,V,R,C,S,N,CODIGO,A_CODIGO1,TELEFONE1,UF,INTERNAMENTO,AMBULATORIO,EMERGENCIA,LIBERADO,CODCRED,MENSAGEM2,TABHON,TABTAXA,MOETABHON,MOETABTAXA,CODMED,OBSERVACAO,JANEIRO,FEVEREIRO,MARCO,ABRIL,MAIO,JUNHO,JULHO,AGOSTO,SETEMBRO,OUTUBRO,NOVEMBRO,DEZEMBRO,CONSULTA,
TRAVAEM,FORMULA,CNPJ,CODIGOANTIGO,CONSULTA1,HTML1,FILME,FORMULA1,PC_ENDERECO,PC_MATRICULA,PC_IDENTIDADE,PC_NASC,PC_TRABALHO,PC_NATURALIDADE,PC_PAI,PC_MAE,PC_SEXO,PC_A_CPF,
PC_CEP,PC_BAIRRO,PC_CIDADE,PC_TELEFONE,PC_CELULAR,PC_CIVIL,PC_COR,PC_TRABALHO1,KCA_DATAFAT,KCA_HORA,KCMATRICULA,KCA_VALIDADE,KCA_GUIA,
KCA_ULTPAGTO,KCA_CID,KCDATASAIDA,KCHORASAIDA,KCSOLTIPO,KCSOLCREMEB,KCSOLDATA,KCSOLCNPJ,KCPRINCIPAL,KCESPECIALIDADE,ESPECIALIDADE,MOETABEXAME,PARTICULAR,DATA1,DATA2,PACOTE,TRAVAEM1,TRAVAEM2,TABRX,MOETABRX,DIAENTREGA,DIAENTREGA1,TABCBHPM,DATACONTRATOINI,
DATACONTRATOFIM,DATAPROXIMANEGOC,RESPAMB,RESPEMG,RESPINT,CONTRASTE1,CONTRASTE2,MATMEDOBS,NOTAFISCAL,IRRF,
ENDERECO1,BAIRRO1,CIDADE1,CEP1,TELEFONE2,UF1,EMAIL2,HTML2,LIMITEENVIOFATURA,LIMITERECEBFATURA,TRAVAIMP,IE,TRAVAESP,ABRAMGE,EMPRESA,SIMPRO,CODCONTR,CODORTPROT,DIASGLOSA,PREVPAGTOGLOSA,
SIMPROX,NORMAL1,NORMAL2,SABADO1,SABADO2	,MARGEMH,FROMCONVENIO,UCO,FORMCONVENIO,DATACONTRATOULT,OBSNEGOCIACAO,IMPOSTONAFONTE,CONSULTAUNICA,EXPORTAR,FAX,H_IRRF,H_PIS,H_COFINS,
H_CLS,H_ISS,MOETABFISIO,FILMETOM,MEDICINET,KC_PLANO,KCPORIGEM,ENVIAFAX,DATASINC,MOSTRAPLANO,MOSTRAULTPAGTO,MOSTRAPRODUTO,MOSTRAVALIDADE,MOSTRAGUIA,MOSTRAMEDSOL,KCA_PRODUTO,CODESPECIALIDADE,CONTABIL,
CODCONSULTA,MMAVISO,LOGOMARCA,FONTEREMUNERA,ANS,REMESSA,IP,VERSAO,IP1,VERSAO1,PADRAOCONSULTA,MOEDATABTOM,BRASINDICE,KCANS,RAZAOSOCIAL,
IM,IMPCODIGOUNIMED,TABMED,TABMAT,DIARIAENF,DIARIAENF2,DIARIAAPT,DIARIAUTI,ASSISTENF,ASSISTENF2,ASSISTAPT,ASSISTUTI,TAXAINT,HORAAUTO,
GENERICO,INTERNAMENTOENF,INTERNAMENTOAP,INTERNAMENTOUTI,KCTPDOENCA,KCINDACIDENTE,KCTEMPDOENCA,KCUNTEMPDOENCA,KCTPATENDTISS,MEDICOPADRAO,PAGTGENERICO,TAMANHOAUT,MASCARAAUTORIZ,IMPCODTISS,IMPOSTOMEDICO	,
CODSINT,PACOTEEMG,PACOTEINT,HTMLAUT,TIPOENVIO,MOEDACORX,MOEDACOTO,DIASPARCIAL,LIMITECH,CBONOVO,CODIGOREVISAO,PACOTEAMB,
SITEENVIO,PASTAXML,ZIPARXML,ORTPROT,ORTPROT1,TAXAEMEG,HORAAUTOEMEG, CODCONVENIO)
  SELECT  CONVENIO,A_NOME,ENDERECO,BAIRRO,CIDADE,CONTATO,ENTREGA,MENSAGEM,MENSAGEM1,LIMITE,REVISAO,ADCAMB,ADCINT,ETIQUETA,CODEMERG,A_VALOR,CODMAT,CODESP,CEP,EMAIL,HTML,HONORARIO,H,V,R,C,S,N,CODIGO,A_CODIGO1,TELEFONE1,UF,INTERNAMENTO,AMBULATORIO,EMERGENCIA,LIBERADO,CODCRED,MENSAGEM2,TABHON,TABTAXA,MOETABHON,MOETABTAXA,CODMED,OBSERVACAO,JANEIRO,FEVEREIRO,MARCO,ABRIL,MAIO,JUNHO,JULHO,AGOSTO,SETEMBRO,OUTUBRO,NOVEMBRO,DEZEMBRO,CONSULTA,
TRAVAEM,FORMULA,CNPJ,CODIGOANTIGO,CONSULTA1,HTML1,FILME,FORMULA1,PC_ENDERECO,PC_MATRICULA,PC_IDENTIDADE,PC_NASC,PC_TRABALHO,PC_NATURALIDADE,PC_PAI,PC_MAE,PC_SEXO,PC_A_CPF,
PC_CEP,PC_BAIRRO,PC_CIDADE,PC_TELEFONE,PC_CELULAR,PC_CIVIL,PC_COR,PC_TRABALHO1,KCA_DATAFAT,KCA_HORA,KCMATRICULA,KCA_VALIDADE,KCA_GUIA,
KCA_ULTPAGTO,KCA_CID,KCDATASAIDA,KCHORASAIDA,KCSOLTIPO,KCSOLCREMEB,KCSOLDATA,KCSOLCNPJ,KCPRINCIPAL,KCESPECIALIDADE,ESPECIALIDADE,MOETABEXAME,PARTICULAR,DATA1,DATA2,PACOTE,TRAVAEM1,TRAVAEM2,TABRX,MOETABRX,DIAENTREGA,DIAENTREGA1,TABCBHPM,DATACONTRATOINI,
DATACONTRATOFIM,DATAPROXIMANEGOC,RESPAMB,RESPEMG,RESPINT,CONTRASTE1,CONTRASTE2,MATMEDOBS,NOTAFISCAL,IRRF,
ENDERECO1,BAIRRO1,CIDADE1,CEP1,TELEFONE2,UF1,EMAIL2,HTML2,LIMITEENVIOFATURA,LIMITERECEBFATURA,TRAVAIMP,IE,TRAVAESP,ABRAMGE,EMPRESA,SIMPRO,CODCONTR,CODORTPROT,DIASGLOSA,PREVPAGTOGLOSA,
SIMPROX,NORMAL1,NORMAL2,SABADO1,SABADO2	,MARGEMH,FROMCONVENIO,UCO,FORMCONVENIO,DATACONTRATOULT,OBSNEGOCIACAO,IMPOSTONAFONTE,CONSULTAUNICA,EXPORTAR,FAX,H_IRRF,H_PIS,H_COFINS,
H_CLS,H_ISS,MOETABFISIO,FILMETOM,MEDICINET,KC_PLANO,KCPORIGEM,ENVIAFAX,DATASINC,MOSTRAPLANO,MOSTRAULTPAGTO,MOSTRAPRODUTO,MOSTRAVALIDADE,MOSTRAGUIA,MOSTRAMEDSOL,KCA_PRODUTO,CODESPECIALIDADE,CONTABIL,
CODCONSULTA,MMAVISO,LOGOMARCA,FONTEREMUNERA,ANS,REMESSA,IP,VERSAO,IP1,VERSAO1,PADRAOCONSULTA,MOEDATABTOM,BRASINDICE,KCANS,RAZAOSOCIAL,
IM,IMPCODIGOUNIMED,TABMED,TABMAT,DIARIAENF,DIARIAENF2,DIARIAAPT,DIARIAUTI,ASSISTENF,ASSISTENF2,ASSISTAPT,ASSISTUTI,TAXAINT,HORAAUTO,
GENERICO,INTERNAMENTOENF,INTERNAMENTOAP,INTERNAMENTOUTI,KCTPDOENCA,KCINDACIDENTE,KCTEMPDOENCA,KCUNTEMPDOENCA,KCTPATENDTISS,MEDICOPADRAO,PAGTGENERICO,TAMANHOAUT,MASCARAAUTORIZ,IMPCODTISS,IMPOSTOMEDICO	,
CODSINT,PACOTEEMG,PACOTEINT,HTMLAUT,TIPOENVIO,MOEDACORX,MOEDACOTO,DIASPARCIAL,LIMITECH,CBONOVO,CODIGOREVISAO,PACOTEAMB,
SITEENVIO,PASTAXML,ZIPARXML,ORTPROT,ORTPROT1,TAXAEMEG,HORAAUTOEMEG, CONVENIO
   FROM CONVENIO
   WHERE CONVENIO = OLD.CONVENIO';
end
 ^

CREATE TRIGGER "SINC2_CONVENIO" FOR "CONVENIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CONVENIOINFLACAO" FOR "CONVENIOINFLACAO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_CONVENIOINFLACAO, 1 );
end
 ^

CREATE TRIGGER "SINC1_CONVENIOINFLACAO" FOR "CONVENIOINFLACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CONVENIOINFLACAO" FOR "CONVENIOINFLACAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CONVENIOSPAC" FOR "CONVENIOSPAC" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.INDICE = Gen_ID( GEN_CONVENIOSPAC, 1 );
end
 ^

CREATE TRIGGER "SINC1_CONVENIOSPAC" FOR "CONVENIOSPAC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATA = 'NOW';
END
 ^

CREATE TRIGGER "INS_CONVMATMEDESP" FOR "CONVMATMEDESP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_CONVMATMEDESP, 1 );
END
 ^

CREATE TRIGGER "SINC1_CONVMATMEDESP" FOR "CONVMATMEDESP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CONVMATMEDESP" FOR "CONVMATMEDESP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRG_BI_CONVMATMEDFAIXA" FOR "CONVMATMEDFAIXA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE  = GEN_ID( GEN_CONVMATMEDFAIXA,1 );
END
 ^

CREATE TRIGGER "SINC1_CONVPLANO" FOR "CONVPLANO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CONPLANO" FOR "CONVPLANO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.codigo = gen_id(gen_convplano,1);
end
 ^

CREATE TRIGGER "SINC2_CONVPLANO" FOR "CONVPLANO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CONVPORTE" FOR "CONVPORTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CONVPORTE" FOR "CONVPORTE" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  if (gen_id(gen_convporte,0) = 0) then
    update convporte set convenio = convenio where indice is null;
  new.indice = gen_id(gen_convporte,1);
end
 ^

CREATE TRIGGER "SINC2_CONVPORTE" FOR "CONVPORTE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_CONVPORTE" FOR "CONVPORTE" 
ACTIVE BEFORE UPDATE POSITION 20
as begin
  if (new.indice is null) then
    new.indice = gen_id(gen_convporte,1);
end
 ^

CREATE TRIGGER "INSCONVSERVICOS" FOR "CONVSERVICOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     New.INDICE = gen_id( GEN_CONVSERVICOS, 1 );
end
 ^

CREATE TRIGGER "TRI_BI_CONVSERVSUS" FOR "CONVSERVSUS" 
ACTIVE BEFORE INSERT POSITION 5
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_CONVSERVSUS, 1);
END
 ^

CREATE TRIGGER "BI_INS_CONVVISITA" FOR "CONVVISITA" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID(GEN_CONVVISITA,1);
END
 ^

CREATE TRIGGER "INSCPS" FOR "CPS1" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.Codigocps = gen_id( gen_cps1, 1 );
   new.fatura = 0;
end
 ^

CREATE TRIGGER "TRGBI_CPS1_TRAVA" FOR "CPS1" 
ACTIVE BEFORE INSERT POSITION 10
AS BEGIN
  IF (EXISTS (SELECT INICIO FROM TRAVAFATURAMENTO WHERE NEW.A_DATAFAT BETWEEN INICIO AND FINAL AND ATD = 'S' AND INCLUIR= 'S'))
   THEN
    EXCEPTION EXC_TRAVAFATURAMENTO;
END
 ^

CREATE TRIGGER "TRIG_CPS1_CODPRINCIPAL" FOR "CPS1" 
INACTIVE BEFORE INSERT POSITION 10
as
/* code here */

BEGIN
   IF (NEW.CODIGOPLA = 2) THEN
   BEGIN
      NEW.GRUPOSUS = '03';
      NEW.PRINCIPAL = '01060061';
   END
END
 ^

CREATE TRIGGER "TRIG_BI_CPS1_TISS_ATENDIMENTO" FOR "CPS1" 
ACTIVE BEFORE INSERT POSITION 30
as
BEGIN
    IF (NEW.CODIGOPLA = 2 ) THEN
       NEW.TIPOATENDIMENTOTISS = '11';
END
 ^

CREATE TRIGGER "TRGBI_CPS1_ALTA" FOR "CPS1" 
INACTIVE BEFORE INSERT POSITION 60
as
DECLARE VARIABLE auxcodigocps integer;
BEGIN
  IF ((NEW.CODIGOPLA = 3) OR (NEW.CODIGOPLA = 7)) THEN
  BEGIN
    UPDATE INTER4 SET CODIGO = CODIGO WHERE CODIGOINT = NEW.CODIGOCPS;
  END
END
 ^

CREATE TRIGGER "TRGAI_CODCPS_MARCACAO" FOR "CPS1" 
ACTIVE AFTER INSERT POSITION 0
as
DECLARE VARIABLE auxcodigocps integer;
BEGIN
  --IF (new.CODIGOCPS is not NULL) Then
  --    exception EXC_DINAMICA '"TRGAI_CODCPS_MARCACAO CPS' || new.CODIGOCPS ;
 -- IF (new.marcacao  is not  NULL) Then
 --     exception EXC_DINAMICA '"TRGAI_CODCPS_MARCACAO MARCA' || new.marcacao;
  IF (new.marcacao > 0) Then
  begin
   --  Select codigocps from marcacao where numero = new.marcacao INTO :auxcodigocps;
   --  exception EXC_DINAMICA '"TRGAI_CODCPS_MARCACAO AUX' || :auxcodigocps;
--     if (:auxcodigocps is null) Then
        Update marcacao set codigocps= new.CODIGOCPS where marcacao.numero = new.marcacao;
  end
END
 ^

CREATE TRIGGER "TRGAI_CPS1_ALTA" FOR "CPS1" 
INACTIVE AFTER INSERT POSITION 0
as
DECLARE VARIABLE auxcodigocps integer;
BEGIN
  IF (NEW.A_LEITO IS NOT NULL) THEN
  BEGIN
    for select codigocps from atualiza_leitos
     into :auxCodigoCPS do
     begin
     end
  END
END
 ^

CREATE TRIGGER "TRGAI_CPS1_CODMARCACAO" FOR "CPS1" 
ACTIVE AFTER INSERT POSITION 0
as
DECLARE VARIABLE CPS INTEGER;
BEGIN
     IF (NEW.MARCACAO IS NOT NULL) THEN
     BEGIN
        SELECT CODIGOCPS FROM MARCACAO WHERE NUMERO =  NEW.MARCACAO INTO :CPS;
        IF (CPS IS NULL) THEN
           UPDATE MARCACAO SET MARCACAO.CODIGOCPS = NEW.CODIGOCPS WHERE MARCACAO.NUMERO = NEW.MARCACAO;
     END
END
 ^

CREATE TRIGGER "TRIG_AI_CPS1_INTER4" FOR "CPS1" 
INACTIVE AFTER INSERT POSITION 0
as
DECLARE VARIABLE AUXDATA TIMESTAMP;
BEGIN
   AUXDATA = NULL;
   select first 1 data from inter4
   where Inter4.codigoint=NEW.CODIGOCPS
   order by data asc
   INTO AUXDATA ;
   IF (AUXDATA IS NULL) THEN
   BEGIN
       INSERT INTO INTER4 (CODIGOINT,HORA, DATA, A_MEDICOS, A_ALA, LEITO,CODIGO ,DATAFIM, HORAFIM)
       VALUES(NEW.CODIGOCPS, NEW.A_HORA, NEW.A_DATAFAT, NEW.MEDRESP, NEW.A_ALA, NEW.A_LEITO, NEW.A_CODIGO1,NULL, NULL);
   END
END
 ^

CREATE TRIGGER "TRGAILOG_CPS1" FOR "CPS1" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('CPS1',NEW.CODIGOCPS,'I') into indice; end
 ^

CREATE TRIGGER "SINC2_CPS1" FOR "CPS1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATA2 = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_CPS1_TRAVA" FOR "CPS1" 
ACTIVE BEFORE UPDATE POSITION 10
AS BEGIN
  if (new.fatura = old.fatura) then
  begin
  IF (EXISTS (SELECT INICIO FROM TRAVAFATURAMENTO WHERE NEW.A_DATAFAT BETWEEN INICIO AND FINAL AND ATD = 'S' AND ALTERAR= 'S'))
   THEN
    EXCEPTION EXC_TRAVAFATURAMENTO;
  IF (EXISTS (SELECT INICIO FROM TRAVAFATURAMENTO WHERE OLD.A_DATAFAT BETWEEN INICIO AND FINAL AND ATD = 'S' AND ALTERAR= 'S'))
   THEN
    EXCEPTION EXC_TRAVAFATURAMENTO;
  end
END
 ^

CREATE TRIGGER "CPS1BU_CODIGOPAC" FOR "CPS1" 
INACTIVE BEFORE UPDATE POSITION 21
as
BEGIN
    IF (new.A_CODIGO1 <> 218) THEN
    BEGIN
       IF (NEW.CODIGOPAC <> OLD.CODIGOPAC) Then
          exception exc_dinamica 'Ateno no permitido alterar o PACIENTE da CPS procure coordenao.';
    END
END
 ^

CREATE TRIGGER "TRIG_BU_PACIENTE_ALTA" FOR "CPS1" 
ACTIVE BEFORE UPDATE POSITION 21
as
/* code here */
BEGIN
   IF ((NEW.DATASAIDA IS NOT NULL) AND
	   (NEW.MOTIVO IS NULL))
then
exception exc_motivoobr;
END
 ^

CREATE TRIGGER "TRGBU_CPS1_ALTA" FOR "CPS1" 
ACTIVE BEFORE UPDATE POSITION 60
as
DECLARE VARIABLE auxcodigocps integer;
BEGIN
  IF (((NEW.CODIGOPLA = 3) OR (NEW.CODIGOPLA = 7)) AND
     ((NEW.DATASAIDA IS NULL AND OLD.DATASAIDA IS NOT NULL) OR
      (NEW.DATASAIDA IS NOT NULL AND OLD.DATASAIDA IS NULL)
     )
  ) THEN
  BEGIN
    UPDATE INTER4 SET CODIGO = CODIGO WHERE CODIGOINT = NEW.CODIGOCPS AND INTER4NO =(SELECT MAX(INTER4NO) FROM INTER4 WHERE CODIGOINT = NEW.CODIGOCPS);
  END
END
 ^

CREATE TRIGGER "TRIG_CPS1_ALTA" FOR "CPS1" 
ACTIVE AFTER UPDATE POSITION 0
as
DECLARE VARIABLE auxcodigocps integer;
BEGIN
  IF ((NEW.A_LEITO IS NOT NULL) and
    (((NEW.DATASAIDA IS NULL) and (OLD.DATASAIDA IS NOT NULL)) OR
     ((NEW.DATASAIDA IS NOT NULL) and (OLD.DATASAIDA IS NULL)))
     ) THEN
  BEGIN
    if (exists(select codigoint from inter4 where codigoint = new.codigocps)) then
      update inter4 set datafim = new.datasaida, horafim = new.horasaida where codigoint = new.codigocps and datafim is null;
  END
END
 ^

CREATE TRIGGER "TRGAULOG_CPS1" FOR "CPS1" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPS1',NEW.CODIGOCPS,'U') into :indice;
if ((new.ABDOMEN <> old.ABDOMEN) or (new.ABDOMEN is null and old.ABDOMEN is not null) or (new.ABDOMEN is not null and old.ABDOMEN is null)) then
 execute procedure insertlogitem(:indice,'ABDOMEN',old.ABDOMEN,new.ABDOMEN);
if ((new.ACUIDADEOD <> old.ACUIDADEOD) or (new.ACUIDADEOD is null and old.ACUIDADEOD is not null) or (new.ACUIDADEOD is not null and old.ACUIDADEOD is null)) then
 execute procedure insertlogitem(:indice,'ACUIDADEOD',old.ACUIDADEOD,new.ACUIDADEOD);
if ((new.ACUIDADEOE <> old.ACUIDADEOE) or (new.ACUIDADEOE is null and old.ACUIDADEOE is not null) or (new.ACUIDADEOE is not null and old.ACUIDADEOE is null)) then
 execute procedure insertlogitem(:indice,'ACUIDADEOE',old.ACUIDADEOE,new.ACUIDADEOE);
if ((new.AIH0 <> old.AIH0) or (new.AIH0 is null and old.AIH0 is not null) or (new.AIH0 is not null and old.AIH0 is null)) then
 execute procedure insertlogitem(:indice,'AIH0',old.AIH0,new.AIH0);
if ((new.AIH1 <> old.AIH1) or (new.AIH1 is null and old.AIH1 is not null) or (new.AIH1 is not null and old.AIH1 is null)) then
 execute procedure insertlogitem(:indice,'AIH1',old.AIH1,new.AIH1);
if ((new.AIHANO <> old.AIHANO) or (new.AIHANO is null and old.AIHANO is not null) or (new.AIHANO is not null and old.AIHANO is null)) then
 execute procedure insertlogitem(:indice,'AIHANO',old.AIHANO,new.AIHANO);
if ((new.AIHCARTID <> old.AIHCARTID) or (new.AIHCARTID is null and old.AIHCARTID is not null) or (new.AIHCARTID is not null and old.AIHCARTID is null)) then
 execute procedure insertlogitem(:indice,'AIHCARTID',old.AIHCARTID,new.AIHCARTID);
if ((new.AIHCODMUN <> old.AIHCODMUN) or (new.AIHCODMUN is null and old.AIHCODMUN is not null) or (new.AIHCODMUN is not null and old.AIHCODMUN is null)) then
 execute procedure insertlogitem(:indice,'AIHCODMUN',old.AIHCODMUN,new.AIHCODMUN);
if ((new.AIHCPFMA <> old.AIHCPFMA) or (new.AIHCPFMA is null and old.AIHCPFMA is not null) or (new.AIHCPFMA is not null and old.AIHCPFMA is null)) then
 execute procedure insertlogitem(:indice,'AIHCPFMA',old.AIHCPFMA,new.AIHCPFMA);
if ((new.AIHESPECIALIDADE <> old.AIHESPECIALIDADE) or (new.AIHESPECIALIDADE is null and old.AIHESPECIALIDADE is not null) or (new.AIHESPECIALIDADE is not null and old.AIHESPECIALIDADE is null)) then
 execute procedure insertlogitem(:indice,'AIHESPECIALIDADE',old.AIHESPECIALIDADE,new.AIHESPECIALIDADE);
if ((new.AIHMES <> old.AIHMES) or (new.AIHMES is null and old.AIHMES is not null) or (new.AIHMES is not null and old.AIHMES is null)) then
 execute procedure insertlogitem(:indice,'AIHMES',old.AIHMES,new.AIHMES);
if ((new.AIHMOTIVOCOB <> old.AIHMOTIVOCOB) or (new.AIHMOTIVOCOB is null and old.AIHMOTIVOCOB is not null) or (new.AIHMOTIVOCOB is not null and old.AIHMOTIVOCOB is null)) then
 execute procedure insertlogitem(:indice,'AIHMOTIVOCOB',old.AIHMOTIVOCOB,new.AIHMOTIVOCOB);
if ((new.AIHPRONTUARIO <> old.AIHPRONTUARIO) or (new.AIHPRONTUARIO is null and old.AIHPRONTUARIO is not null) or (new.AIHPRONTUARIO is not null and old.AIHPRONTUARIO is null)) then
 execute procedure insertlogitem(:indice,'AIHPRONTUARIO',old.AIHPRONTUARIO,new.AIHPRONTUARIO);
if ((new.AIHTIPODOC <> old.AIHTIPODOC) or (new.AIHTIPODOC is null and old.AIHTIPODOC is not null) or (new.AIHTIPODOC is not null and old.AIHTIPODOC is null)) then
 execute procedure insertlogitem(:indice,'AIHTIPODOC',old.AIHTIPODOC,new.AIHTIPODOC);
if ((new.ALTAPREVISAO <> old.ALTAPREVISAO) or (new.ALTAPREVISAO is null and old.ALTAPREVISAO is not null) or (new.ALTAPREVISAO is not null and old.ALTAPREVISAO is null)) then
 execute procedure insertlogitem(:indice,'ALTAPREVISAO',old.ALTAPREVISAO,new.ALTAPREVISAO);
if ((new.ALTURA <> old.ALTURA) or (new.ALTURA is null and old.ALTURA is not null) or (new.ALTURA is not null and old.ALTURA is null)) then
 execute procedure insertlogitem(:indice,'ALTURA',old.ALTURA,new.ALTURA);
if ((new.ANOTACAO <> old.ANOTACAO) or (new.ANOTACAO is null and old.ANOTACAO is not null) or (new.ANOTACAO is not null and old.ANOTACAO is null)) then
 execute procedure insertlogitem(:indice,'ANOTACAO',old.ANOTACAO,new.ANOTACAO);
if ((new.ANTECEDENTE <> old.ANTECEDENTE) or (new.ANTECEDENTE is null and old.ANTECEDENTE is not null) or (new.ANTECEDENTE is not null and old.ANTECEDENTE is null)) then
 execute procedure insertlogitem(:indice,'ANTECEDENTE',old.ANTECEDENTE,new.ANTECEDENTE);
if ((new.ATDRN <> old.ATDRN) or (new.ATDRN is null and old.ATDRN is not null) or (new.ATDRN is not null and old.ATDRN is null)) then
 execute procedure insertlogitem(:indice,'ATDRN',old.ATDRN,new.ATDRN);
if ((new.ATENDIMENTO <> old.ATENDIMENTO) or (new.ATENDIMENTO is null and old.ATENDIMENTO is not null) or (new.ATENDIMENTO is not null and old.ATENDIMENTO is null)) then
 execute procedure insertlogitem(:indice,'ATENDIMENTO',old.ATENDIMENTO,new.ATENDIMENTO);
if ((new.AUTORIZA <> old.AUTORIZA) or (new.AUTORIZA is null and old.AUTORIZA is not null) or (new.AUTORIZA is not null and old.AUTORIZA is null)) then
 execute procedure insertlogitem(:indice,'AUTORIZA',old.AUTORIZA,new.AUTORIZA);
if ((new.A_ALA <> old.A_ALA) or (new.A_ALA is null and old.A_ALA is not null) or (new.A_ALA is not null and old.A_ALA is null)) then
 execute procedure insertlogitem(:indice,'A_ALA',old.A_ALA,new.A_ALA);
if ((new.A_CID <> old.A_CID) or (new.A_CID is null and old.A_CID is not null) or (new.A_CID is not null and old.A_CID is null)) then
 execute procedure insertlogitem(:indice,'A_CID',old.A_CID,new.A_CID);
if ((new.A_CODIGO1 <> old.A_CODIGO1) or (new.A_CODIGO1 is null and old.A_CODIGO1 is not null) or (new.A_CODIGO1 is not null and old.A_CODIGO1 is null)) then
 execute procedure insertlogitem(:indice,'A_CODIGO1',old.A_CODIGO1,new.A_CODIGO1);
if ((new.A_CPF <> old.A_CPF) or (new.A_CPF is null and old.A_CPF is not null) or (new.A_CPF is not null and old.A_CPF is null)) then
 execute procedure insertlogitem(:indice,'A_CPF',old.A_CPF,new.A_CPF);
if ((new.A_DATA <> old.A_DATA) or (new.A_DATA is null and old.A_DATA is not null) or (new.A_DATA is not null and old.A_DATA is null)) then
 execute procedure insertlogitem(:indice,'A_DATA',old.A_DATA,new.A_DATA);
if ((new.A_DATAFAT <> old.A_DATAFAT) or (new.A_DATAFAT is null and old.A_DATAFAT is not null) or (new.A_DATAFAT is not null and old.A_DATAFAT is null)) then
 execute procedure insertlogitem(:indice,'A_DATAFAT',old.A_DATAFAT,new.A_DATAFAT);
if ((new.A_GUIA <> old.A_GUIA) or (new.A_GUIA is null and old.A_GUIA is not null) or (new.A_GUIA is not null and old.A_GUIA is null)) then
 execute procedure insertlogitem(:indice,'A_GUIA',old.A_GUIA,new.A_GUIA);
if ((new.A_HORA <> old.A_HORA) or (new.A_HORA is null and old.A_HORA is not null) or (new.A_HORA is not null and old.A_HORA is null)) then
 execute procedure insertlogitem(:indice,'A_HORA',old.A_HORA,new.A_HORA);
if ((new.A_LEITO <> old.A_LEITO) or (new.A_LEITO is null and old.A_LEITO is not null) or (new.A_LEITO is not null and old.A_LEITO is null)) then
 execute procedure insertlogitem(:indice,'A_LEITO',old.A_LEITO,new.A_LEITO);
if ((new.A_SITUACAO <> old.A_SITUACAO) or (new.A_SITUACAO is null and old.A_SITUACAO is not null) or (new.A_SITUACAO is not null and old.A_SITUACAO is null)) then
 execute procedure insertlogitem(:indice,'A_SITUACAO',old.A_SITUACAO,new.A_SITUACAO);
if ((new.A_TIPO <> old.A_TIPO) or (new.A_TIPO is null and old.A_TIPO is not null) or (new.A_TIPO is not null and old.A_TIPO is null)) then
 execute procedure insertlogitem(:indice,'A_TIPO',old.A_TIPO,new.A_TIPO);
if ((new.A_ULTPAGTO <> old.A_ULTPAGTO) or (new.A_ULTPAGTO is null and old.A_ULTPAGTO is not null) or (new.A_ULTPAGTO is not null and old.A_ULTPAGTO is null)) then
 execute procedure insertlogitem(:indice,'A_ULTPAGTO',old.A_ULTPAGTO,new.A_ULTPAGTO);
if ((new.A_VALIDADE <> old.A_VALIDADE) or (new.A_VALIDADE is null and old.A_VALIDADE is not null) or (new.A_VALIDADE is not null and old.A_VALIDADE is null)) then
 execute procedure insertlogitem(:indice,'A_VALIDADE',old.A_VALIDADE,new.A_VALIDADE);
if ((new.BAIRRO <> old.BAIRRO) or (new.BAIRRO is null and old.BAIRRO is not null) or (new.BAIRRO is not null and old.BAIRRO is null)) then
 execute procedure insertlogitem(:indice,'BAIRRO',old.BAIRRO,new.BAIRRO);
if ((new.CELULAR <> old.CELULAR) or (new.CELULAR is null and old.CELULAR is not null) or (new.CELULAR is not null and old.CELULAR is null)) then
 execute procedure insertlogitem(:indice,'CELULAR',old.CELULAR,new.CELULAR);
if ((new.CEP <> old.CEP) or (new.CEP is null and old.CEP is not null) or (new.CEP is not null and old.CEP is null)) then
 execute procedure insertlogitem(:indice,'CEP',old.CEP,new.CEP);
if ((new.CID1 <> old.CID1) or (new.CID1 is null and old.CID1 is not null) or (new.CID1 is not null and old.CID1 is null)) then
 execute procedure insertlogitem(:indice,'CID1',old.CID1,new.CID1);
if ((new.CID2 <> old.CID2) or (new.CID2 is null and old.CID2 is not null) or (new.CID2 is not null and old.CID2 is null)) then
 execute procedure insertlogitem(:indice,'CID2',old.CID2,new.CID2);
if ((new.CIDADE <> old.CIDADE) or (new.CIDADE is null and old.CIDADE is not null) or (new.CIDADE is not null and old.CIDADE is null)) then
 execute procedure insertlogitem(:indice,'CIDADE',old.CIDADE,new.CIDADE);
if ((new.CIDOBITO <> old.CIDOBITO) or (new.CIDOBITO is null and old.CIDOBITO is not null) or (new.CIDOBITO is not null and old.CIDOBITO is null)) then
 execute procedure insertlogitem(:indice,'CIDOBITO',old.CIDOBITO,new.CIDOBITO);
if ((new.CODIGO <> old.CODIGO) or (new.CODIGO is null and old.CODIGO is not null) or (new.CODIGO is not null and old.CODIGO is null)) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,new.CODIGO);
if ((new.CODIGOANTIGO <> old.CODIGOANTIGO) or (new.CODIGOANTIGO is null and old.CODIGOANTIGO is not null) or (new.CODIGOANTIGO is not null and old.CODIGOANTIGO is null)) then
 execute procedure insertlogitem(:indice,'CODIGOANTIGO',old.CODIGOANTIGO,new.CODIGOANTIGO);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.CODIGOPAC <> old.CODIGOPAC) or (new.CODIGOPAC is null and old.CODIGOPAC is not null) or (new.CODIGOPAC is not null and old.CODIGOPAC is null)) then
 execute procedure insertlogitem(:indice,'CODIGOPAC',old.CODIGOPAC,new.CODIGOPAC);
if ((new.CODIGOPLA <> old.CODIGOPLA) or (new.CODIGOPLA is null and old.CODIGOPLA is not null) or (new.CODIGOPLA is not null and old.CODIGOPLA is null)) then
 execute procedure insertlogitem(:indice,'CODIGOPLA',old.CODIGOPLA,new.CODIGOPLA);
if ((new.CONFERIDO <> old.CONFERIDO) or (new.CONFERIDO is null and old.CONFERIDO is not null) or (new.CONFERIDO is not null and old.CONFERIDO is null)) then
 execute procedure insertlogitem(:indice,'CONFERIDO',old.CONFERIDO,new.CONFERIDO);
if ((new.CONFERIDODATA <> old.CONFERIDODATA) or (new.CONFERIDODATA is null and old.CONFERIDODATA is not null) or (new.CONFERIDODATA is not null and old.CONFERIDODATA is null)) then
 execute procedure insertlogitem(:indice,'CONFERIDODATA',old.CONFERIDODATA,new.CONFERIDODATA);
if ((new.CONTINUAPROG <> old.CONTINUAPROG) or (new.CONTINUAPROG is null and old.CONTINUAPROG is not null) or (new.CONTINUAPROG is not null and old.CONTINUAPROG is null)) then
 execute procedure insertlogitem(:indice,'CONTINUAPROG',old.CONTINUAPROG,new.CONTINUAPROG);
if ((new.CONVENIO <> old.CONVENIO) or (new.CONVENIO is null and old.CONVENIO is not null) or (new.CONVENIO is not null and old.CONVENIO is null)) then
 execute procedure insertlogitem(:indice,'CONVENIO',old.CONVENIO,new.CONVENIO);
if ((new.CONVENIO1 <> old.CONVENIO1) or (new.CONVENIO1 is null and old.CONVENIO1 is not null) or (new.CONVENIO1 is not null and old.CONVENIO1 is null)) then
 execute procedure insertlogitem(:indice,'CONVENIO1',old.CONVENIO1,new.CONVENIO1);
if ((new.DATA4 <> old.DATA4) or (new.DATA4 is null and old.DATA4 is not null) or (new.DATA4 is not null and old.DATA4 is null)) then
 execute procedure insertlogitem(:indice,'DATA4',old.DATA4,new.DATA4);
if ((new.DATA5 <> old.DATA5) or (new.DATA5 is null and old.DATA5 is not null) or (new.DATA5 is not null and old.DATA5 is null)) then
 execute procedure insertlogitem(:indice,'DATA5',old.DATA5,new.DATA5);
if ((new.DATAAUTORIZA <> old.DATAAUTORIZA) or (new.DATAAUTORIZA is null and old.DATAAUTORIZA is not null) or (new.DATAAUTORIZA is not null and old.DATAAUTORIZA is null)) then
 execute procedure insertlogitem(:indice,'DATAAUTORIZA',old.DATAAUTORIZA,new.DATAAUTORIZA);
if ((new.DATAAUTORIZADO <> old.DATAAUTORIZADO) or (new.DATAAUTORIZADO is null and old.DATAAUTORIZADO is not null) or (new.DATAAUTORIZADO is not null and old.DATAAUTORIZADO is null)) then
 execute procedure insertlogitem(:indice,'DATAAUTORIZADO',old.DATAAUTORIZADO,new.DATAAUTORIZADO);
if ((new.DATAENTREGA <> old.DATAENTREGA) or (new.DATAENTREGA is null and old.DATAENTREGA is not null) or (new.DATAENTREGA is not null and old.DATAENTREGA is null)) then
 execute procedure insertlogitem(:indice,'DATAENTREGA',old.DATAENTREGA,new.DATAENTREGA);
if ((new.DATAIMPRIMIU <> old.DATAIMPRIMIU) or (new.DATAIMPRIMIU is null and old.DATAIMPRIMIU is not null) or (new.DATAIMPRIMIU is not null and old.DATAIMPRIMIU is null)) then
 execute procedure insertlogitem(:indice,'DATAIMPRIMIU',old.DATAIMPRIMIU,new.DATAIMPRIMIU);
if ((new.DATARAT <> old.DATARAT) or (new.DATARAT is null and old.DATARAT is not null) or (new.DATARAT is not null and old.DATARAT is null)) then
 execute procedure insertlogitem(:indice,'DATARAT',old.DATARAT,new.DATARAT);
if ((new.DATARECEBIMENTO <> old.DATARECEBIMENTO) or (new.DATARECEBIMENTO is null and old.DATARECEBIMENTO is not null) or (new.DATARECEBIMENTO is not null and old.DATARECEBIMENTO is null)) then
 execute procedure insertlogitem(:indice,'DATARECEBIMENTO',old.DATARECEBIMENTO,new.DATARECEBIMENTO);
if ((new.DATAREPRESENTA <> old.DATAREPRESENTA) or (new.DATAREPRESENTA is null and old.DATAREPRESENTA is not null) or (new.DATAREPRESENTA is not null and old.DATAREPRESENTA is null)) then
 execute procedure insertlogitem(:indice,'DATAREPRESENTA',old.DATAREPRESENTA,new.DATAREPRESENTA);
if ((new.DATASAIDA <> old.DATASAIDA) or (new.DATASAIDA is null and old.DATASAIDA is not null) or (new.DATASAIDA is not null and old.DATASAIDA is null)) then
 execute procedure insertlogitem(:indice,'DATASAIDA',old.DATASAIDA,new.DATASAIDA);
if ((new.DAYHOSPITAL <> old.DAYHOSPITAL) or (new.DAYHOSPITAL is null and old.DAYHOSPITAL is not null) or (new.DAYHOSPITAL is not null and old.DAYHOSPITAL is null)) then
 execute procedure insertlogitem(:indice,'DAYHOSPITAL',old.DAYHOSPITAL,new.DAYHOSPITAL);
if ((new.DESCONTO <> old.DESCONTO) or (new.DESCONTO is null and old.DESCONTO is not null) or (new.DESCONTO is not null and old.DESCONTO is null)) then
 execute procedure insertlogitem(:indice,'DESCONTO',old.DESCONTO,new.DESCONTO);
if ((new.DIAGNOSTICO <> old.DIAGNOSTICO) or (new.DIAGNOSTICO is null and old.DIAGNOSTICO is not null) or (new.DIAGNOSTICO is not null and old.DIAGNOSTICO is null)) then
 execute procedure insertlogitem(:indice,'DIAGNOSTICO',old.DIAGNOSTICO,new.DIAGNOSTICO);
if ((new.DIARIA <> old.DIARIA) or (new.DIARIA is null and old.DIARIA is not null) or (new.DIARIA is not null and old.DIARIA is null)) then
 execute procedure insertlogitem(:indice,'DIARIA',old.DIARIA,new.DIARIA);
if ((new.DIASSOL <> old.DIASSOL) or (new.DIASSOL is null and old.DIASSOL is not null) or (new.DIASSOL is not null and old.DIASSOL is null)) then
 execute procedure insertlogitem(:indice,'DIASSOL',old.DIASSOL,new.DIASSOL);
if ((new.EMPRESA <> old.EMPRESA) or (new.EMPRESA is null and old.EMPRESA is not null) or (new.EMPRESA is not null and old.EMPRESA is null)) then
 execute procedure insertlogitem(:indice,'EMPRESA',old.EMPRESA,new.EMPRESA);
if ((new.ENDERECO <> old.ENDERECO) or (new.ENDERECO is null and old.ENDERECO is not null) or (new.ENDERECO is not null and old.ENDERECO is null)) then
 execute procedure insertlogitem(:indice,'ENDERECO',old.ENDERECO,new.ENDERECO);
if ((new.ESPECIALIDADE <> old.ESPECIALIDADE) or (new.ESPECIALIDADE is null and old.ESPECIALIDADE is not null) or (new.ESPECIALIDADE is not null and old.ESPECIALIDADE is null)) then
 execute procedure insertlogitem(:indice,'ESPECIALIDADE',old.ESPECIALIDADE,new.ESPECIALIDADE);
if ((new.EXAME <> old.EXAME) or (new.EXAME is null and old.EXAME is not null) or (new.EXAME is not null and old.EXAME is null)) then
 execute procedure insertlogitem(:indice,'EXAME',old.EXAME,new.EXAME);
if ((new.FATURA <> old.FATURA) or (new.FATURA is null and old.FATURA is not null) or (new.FATURA is not null and old.FATURA is null)) then
 execute procedure insertlogitem(:indice,'FATURA',old.FATURA,new.FATURA);
if ((new.FATURAGLOSA <> old.FATURAGLOSA) or (new.FATURAGLOSA is null and old.FATURAGLOSA is not null) or (new.FATURAGLOSA is not null and old.FATURAGLOSA is null)) then
 execute procedure insertlogitem(:indice,'FATURAGLOSA',old.FATURAGLOSA,new.FATURAGLOSA);
if ((new.FR <> old.FR) or (new.FR is null and old.FR is not null) or (new.FR is not null and old.FR is null)) then
 execute procedure insertlogitem(:indice,'FR',old.FR,new.FR);
if ((new.GLOSA <> old.GLOSA) or (new.GLOSA is null and old.GLOSA is not null) or (new.GLOSA is not null and old.GLOSA is null)) then
 execute procedure insertlogitem(:indice,'GLOSA',old.GLOSA,new.GLOSA);
if ((new.GRAVIDADE <> old.GRAVIDADE) or (new.GRAVIDADE is null and old.GRAVIDADE is not null) or (new.GRAVIDADE is not null and old.GRAVIDADE is null)) then
 execute procedure insertlogitem(:indice,'GRAVIDADE',old.GRAVIDADE,new.GRAVIDADE);
if ((new.GRUPOSUS <> old.GRUPOSUS) or (new.GRUPOSUS is null and old.GRUPOSUS is not null) or (new.GRUPOSUS is not null and old.GRUPOSUS is null)) then
 execute procedure insertlogitem(:indice,'GRUPOSUS',old.GRUPOSUS,new.GRUPOSUS);
if ((new.GUIAGLOSA <> old.GUIAGLOSA) or (new.GUIAGLOSA is null and old.GUIAGLOSA is not null) or (new.GUIAGLOSA is not null and old.GUIAGLOSA is null)) then
 execute procedure insertlogitem(:indice,'GUIAGLOSA',old.GUIAGLOSA,new.GUIAGLOSA);
if ((new.GUIASOL <> old.GUIASOL) or (new.GUIASOL is null and old.GUIASOL is not null) or (new.GUIASOL is not null and old.GUIASOL is null)) then
 execute procedure insertlogitem(:indice,'GUIASOL',old.GUIASOL,new.GUIASOL);
if ((new.HORASAIDA <> old.HORASAIDA) or (new.HORASAIDA is null and old.HORASAIDA is not null) or (new.HORASAIDA is not null and old.HORASAIDA is null)) then
 execute procedure insertlogitem(:indice,'HORASAIDA',old.HORASAIDA,new.HORASAIDA);
if ((new.IDENTIDADE <> old.IDENTIDADE) or (new.IDENTIDADE is null and old.IDENTIDADE is not null) or (new.IDENTIDADE is not null and old.IDENTIDADE is null)) then
 execute procedure insertlogitem(:indice,'IDENTIDADE',old.IDENTIDADE,new.IDENTIDADE);
if ((new.IMPRESSO <> old.IMPRESSO) or (new.IMPRESSO is null and old.IMPRESSO is not null) or (new.IMPRESSO is not null and old.IMPRESSO is null)) then
 execute procedure insertlogitem(:indice,'IMPRESSO',old.IMPRESSO,new.IMPRESSO);
if ((new.INDICAACIDENTE <> old.INDICAACIDENTE) or (new.INDICAACIDENTE is null and old.INDICAACIDENTE is not null) or (new.INDICAACIDENTE is not null and old.INDICAACIDENTE is null)) then
 execute procedure insertlogitem(:indice,'INDICAACIDENTE',old.INDICAACIDENTE,new.INDICAACIDENTE);
if ((new.LIQUIDO <> old.LIQUIDO) or (new.LIQUIDO is null and old.LIQUIDO is not null) or (new.LIQUIDO is not null and old.LIQUIDO is null)) then
 execute procedure insertlogitem(:indice,'LIQUIDO',old.LIQUIDO,new.LIQUIDO);
if ((new.LOCALGUIA <> old.LOCALGUIA) or (new.LOCALGUIA is null and old.LOCALGUIA is not null) or (new.LOCALGUIA is not null and old.LOCALGUIA is null)) then
 execute procedure insertlogitem(:indice,'LOCALGUIA',old.LOCALGUIA,new.LOCALGUIA);
if ((new.MAQUINETA <> old.MAQUINETA) or (new.MAQUINETA is null and old.MAQUINETA is not null) or (new.MAQUINETA is not null and old.MAQUINETA is null)) then
 execute procedure insertlogitem(:indice,'MAQUINETA',old.MAQUINETA,new.MAQUINETA);
if ((new.MARCACAO <> old.MARCACAO) or (new.MARCACAO is null and old.MARCACAO is not null) or (new.MARCACAO is not null and old.MARCACAO is null)) then
 execute procedure insertlogitem(:indice,'MARCACAO',old.MARCACAO,new.MARCACAO);
if ((new.MARCADO <> old.MARCADO) or (new.MARCADO is null and old.MARCADO is not null) or (new.MARCADO is not null and old.MARCADO is null)) then
 execute procedure insertlogitem(:indice,'MARCADO',old.MARCADO,new.MARCADO);
if ((new.MARKTING <> old.MARKTING) or (new.MARKTING is null and old.MARKTING is not null) or (new.MARKTING is not null and old.MARKTING is null)) then
 execute procedure insertlogitem(:indice,'MARKTING',old.MARKTING,new.MARKTING);
if ((new.MATRICULA <> old.MATRICULA) or (new.MATRICULA is null and old.MATRICULA is not null) or (new.MATRICULA is not null and old.MATRICULA is null)) then
 execute procedure insertlogitem(:indice,'MATRICULA',old.MATRICULA,new.MATRICULA);
if ((new.MEDICOOBS <> old.MEDICOOBS) or (new.MEDICOOBS is null and old.MEDICOOBS is not null) or (new.MEDICOOBS is not null and old.MEDICOOBS is null)) then
 execute procedure insertlogitem(:indice,'MEDICOOBS',old.MEDICOOBS,new.MEDICOOBS);
if ((new.MEDRESP <> old.MEDRESP) or (new.MEDRESP is null and old.MEDRESP is not null) or (new.MEDRESP is not null and old.MEDRESP is null)) then
 execute procedure insertlogitem(:indice,'MEDRESP',old.MEDRESP,new.MEDRESP);
if ((new.MOTIVO <> old.MOTIVO) or (new.MOTIVO is null and old.MOTIVO is not null) or (new.MOTIVO is not null and old.MOTIVO is null)) then
 execute procedure insertlogitem(:indice,'MOTIVO',old.MOTIVO,new.MOTIVO);
if ((new.MOTIVOEXCLUSAO <> old.MOTIVOEXCLUSAO) or (new.MOTIVOEXCLUSAO is null and old.MOTIVOEXCLUSAO is not null) or (new.MOTIVOEXCLUSAO is not null and old.MOTIVOEXCLUSAO is null)) then
 execute procedure insertlogitem(:indice,'MOTIVOEXCLUSAO',old.MOTIVOEXCLUSAO,new.MOTIVOEXCLUSAO);
if ((new.MUCOSA <> old.MUCOSA) or (new.MUCOSA is null and old.MUCOSA is not null) or (new.MUCOSA is not null and old.MUCOSA is null)) then
 execute procedure insertlogitem(:indice,'MUCOSA',old.MUCOSA,new.MUCOSA);
if ((new.NASCIDOVIVOS <> old.NASCIDOVIVOS) or (new.NASCIDOVIVOS is null and old.NASCIDOVIVOS is not null) or (new.NASCIDOVIVOS is not null and old.NASCIDOVIVOS is null)) then
 execute procedure insertlogitem(:indice,'NASCIDOVIVOS',old.NASCIDOVIVOS,new.NASCIDOVIVOS);
if ((new.NUMEROOBITO <> old.NUMEROOBITO) or (new.NUMEROOBITO is null and old.NUMEROOBITO is not null) or (new.NUMEROOBITO is not null and old.NUMEROOBITO is null)) then
 execute procedure insertlogitem(:indice,'NUMEROOBITO',old.NUMEROOBITO,new.NUMEROOBITO);
if ((new.NUM_SOLICITACAO_INTER <> old.NUM_SOLICITACAO_INTER) or (new.NUM_SOLICITACAO_INTER is null and old.NUM_SOLICITACAO_INTER is not null) or (new.NUM_SOLICITACAO_INTER is not null and old.NUM_SOLICITACAO_INTER is null)) then
 execute procedure insertlogitem(:indice,'NUM_SOLICITACAO_INTER',old.NUM_SOLICITACAO_INTER,new.NUM_SOLICITACAO_INTER);
if ((new.NUTRI <> old.NUTRI) or (new.NUTRI is null and old.NUTRI is not null) or (new.NUTRI is not null and old.NUTRI is null)) then
 execute procedure insertlogitem(:indice,'NUTRI',old.NUTRI,new.NUTRI);
if ((new.OBSCPS <> old.OBSCPS) or (new.OBSCPS is null and old.OBSCPS is not null) or (new.OBSCPS is not null and old.OBSCPS is null)) then
 execute procedure insertlogitem(:indice,'OBSCPS',old.OBSCPS,new.OBSCPS);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.OBSLAB <> old.OBSLAB) or (new.OBSLAB is null and old.OBSLAB is not null) or (new.OBSLAB is not null and old.OBSLAB is null)) then
 execute procedure insertlogitem(:indice,'OBSLAB',old.OBSLAB,new.OBSLAB);
if ((new.OBTOMULHER <> old.OBTOMULHER) or (new.OBTOMULHER is null and old.OBTOMULHER is not null) or (new.OBTOMULHER is not null and old.OBTOMULHER is null)) then
 execute procedure insertlogitem(:indice,'OBTOMULHER',old.OBTOMULHER,new.OBTOMULHER);
if ((new.OBTONEONATAL <> old.OBTONEONATAL) or (new.OBTONEONATAL is null and old.OBTONEONATAL is not null) or (new.OBTONEONATAL is not null and old.OBTONEONATAL is null)) then
 execute procedure insertlogitem(:indice,'OBTONEONATAL',old.OBTONEONATAL,new.OBTONEONATAL);
if ((new.OBTONEONATALTARDIO <> old.OBTONEONATALTARDIO) or (new.OBTONEONATALTARDIO is null and old.OBTONEONATALTARDIO is not null) or (new.OBTONEONATALTARDIO is not null and old.OBTONEONATALTARDIO is null)) then
 execute procedure insertlogitem(:indice,'OBTONEONATALTARDIO',old.OBTONEONATALTARDIO,new.OBTONEONATALTARDIO);
if ((new.ORIGEM <> old.ORIGEM) or (new.ORIGEM is null and old.ORIGEM is not null) or (new.ORIGEM is not null and old.ORIGEM is null)) then
 execute procedure insertlogitem(:indice,'ORIGEM',old.ORIGEM,new.ORIGEM);
if ((new.PA <> old.PA) or (new.PA is null and old.PA is not null) or (new.PA is not null and old.PA is null)) then
 execute procedure insertlogitem(:indice,'PA',old.PA,new.PA);
if ((new.PESO <> old.PESO) or (new.PESO is null and old.PESO is not null) or (new.PESO is not null and old.PESO is null)) then
 execute procedure insertlogitem(:indice,'PESO',old.PESO,new.PESO);
if ((new.PLANO <> old.PLANO) or (new.PLANO is null and old.PLANO is not null) or (new.PLANO is not null and old.PLANO is null)) then
 execute procedure insertlogitem(:indice,'PLANO',old.PLANO,new.PLANO);
if ((new.PRENATAL <> old.PRENATAL) or (new.PRENATAL is null and old.PRENATAL is not null) or (new.PRENATAL is not null and old.PRENATAL is null)) then
 execute procedure insertlogitem(:indice,'PRENATAL',old.PRENATAL,new.PRENATAL);
if ((new.PRINCIPAL <> old.PRINCIPAL) or (new.PRINCIPAL is null and old.PRINCIPAL is not null) or (new.PRINCIPAL is not null and old.PRINCIPAL is null)) then
 execute procedure insertlogitem(:indice,'PRINCIPAL',old.PRINCIPAL,new.PRINCIPAL);
if ((new.PRODUTO <> old.PRODUTO) or (new.PRODUTO is null and old.PRODUTO is not null) or (new.PRODUTO is not null and old.PRODUTO is null)) then
 execute procedure insertlogitem(:indice,'PRODUTO',old.PRODUTO,new.PRODUTO);
if ((new.PRORROGA <> old.PRORROGA) or (new.PRORROGA is null and old.PRORROGA is not null) or (new.PRORROGA is not null and old.PRORROGA is null)) then
 execute procedure insertlogitem(:indice,'PRORROGA',old.PRORROGA,new.PRORROGA);
if ((new.PROTOCOLO <> old.PROTOCOLO) or (new.PROTOCOLO is null and old.PROTOCOLO is not null) or (new.PROTOCOLO is not null and old.PROTOCOLO is null)) then
 execute procedure insertlogitem(:indice,'PROTOCOLO',old.PROTOCOLO,new.PROTOCOLO);
if ((new.QUANTNASCMORTOS <> old.QUANTNASCMORTOS) or (new.QUANTNASCMORTOS is null and old.QUANTNASCMORTOS is not null) or (new.QUANTNASCMORTOS is not null and old.QUANTNASCMORTOS is null)) then
 execute procedure insertlogitem(:indice,'QUANTNASCMORTOS',old.QUANTNASCMORTOS,new.QUANTNASCMORTOS);
if ((new.QUANTNASCPREMAT <> old.QUANTNASCPREMAT) or (new.QUANTNASCPREMAT is null and old.QUANTNASCPREMAT is not null) or (new.QUANTNASCPREMAT is not null and old.QUANTNASCPREMAT is null)) then
 execute procedure insertlogitem(:indice,'QUANTNASCPREMAT',old.QUANTNASCPREMAT,new.QUANTNASCPREMAT);
if ((new.QUANTNASCVIVOS <> old.QUANTNASCVIVOS) or (new.QUANTNASCVIVOS is null and old.QUANTNASCVIVOS is not null) or (new.QUANTNASCVIVOS is not null and old.QUANTNASCVIVOS is null)) then
 execute procedure insertlogitem(:indice,'QUANTNASCVIVOS',old.QUANTNASCVIVOS,new.QUANTNASCVIVOS);
if ((new.RAT <> old.RAT) or (new.RAT is null and old.RAT is not null) or (new.RAT is not null and old.RAT is null)) then
 execute procedure insertlogitem(:indice,'RAT',old.RAT,new.RAT);
if ((new.RAT_COD <> old.RAT_COD) or (new.RAT_COD is null and old.RAT_COD is not null) or (new.RAT_COD is not null and old.RAT_COD is null)) then
 execute procedure insertlogitem(:indice,'RAT_COD',old.RAT_COD,new.RAT_COD);
if ((new.REALTORIOALTA <> old.REALTORIOALTA) or (new.REALTORIOALTA is null and old.REALTORIOALTA is not null) or (new.REALTORIOALTA is not null and old.REALTORIOALTA is null)) then
 execute procedure insertlogitem(:indice,'REALTORIOALTA',old.REALTORIOALTA,new.REALTORIOALTA);
if ((new.RECIBO <> old.RECIBO) or (new.RECIBO is null and old.RECIBO is not null) or (new.RECIBO is not null and old.RECIBO is null)) then
 execute procedure insertlogitem(:indice,'RECIBO',old.RECIBO,new.RECIBO);
if ((new.RESPONSAVEL <> old.RESPONSAVEL) or (new.RESPONSAVEL is null and old.RESPONSAVEL is not null) or (new.RESPONSAVEL is not null and old.RESPONSAVEL is null)) then
 execute procedure insertlogitem(:indice,'RESPONSAVEL',old.RESPONSAVEL,new.RESPONSAVEL);
if ((new.RESULTADO <> old.RESULTADO) or (new.RESULTADO is null and old.RESULTADO is not null) or (new.RESULTADO is not null and old.RESULTADO is null)) then
 execute procedure insertlogitem(:indice,'RESULTADO',old.RESULTADO,new.RESULTADO);
if ((new.SOLCNPJ <> old.SOLCNPJ) or (new.SOLCNPJ is null and old.SOLCNPJ is not null) or (new.SOLCNPJ is not null and old.SOLCNPJ is null)) then
 execute procedure insertlogitem(:indice,'SOLCNPJ',old.SOLCNPJ,new.SOLCNPJ);
if ((new.SOLCREMEB <> old.SOLCREMEB) or (new.SOLCREMEB is null and old.SOLCREMEB is not null) or (new.SOLCREMEB is not null and old.SOLCREMEB is null)) then
 execute procedure insertlogitem(:indice,'SOLCREMEB',old.SOLCREMEB,new.SOLCREMEB);
if ((new.SOLDATA <> old.SOLDATA) or (new.SOLDATA is null and old.SOLDATA is not null) or (new.SOLDATA is not null and old.SOLDATA is null)) then
 execute procedure insertlogitem(:indice,'SOLDATA',old.SOLDATA,new.SOLDATA);
if ((new.SOLESP <> old.SOLESP) or (new.SOLESP is null and old.SOLESP is not null) or (new.SOLESP is not null and old.SOLESP is null)) then
 execute procedure insertlogitem(:indice,'SOLESP',old.SOLESP,new.SOLESP);
if ((new.SOLESP1 <> old.SOLESP1) or (new.SOLESP1 is null and old.SOLESP1 is not null) or (new.SOLESP1 is not null and old.SOLESP1 is null)) then
 execute procedure insertlogitem(:indice,'SOLESP1',old.SOLESP1,new.SOLESP1);
if ((new.SOLICITAINTER <> old.SOLICITAINTER) or (new.SOLICITAINTER is null and old.SOLICITAINTER is not null) or (new.SOLICITAINTER is not null and old.SOLICITAINTER is null)) then
 execute procedure insertlogitem(:indice,'SOLICITAINTER',old.SOLICITAINTER,new.SOLICITAINTER);
if ((new.SOLTIPO <> old.SOLTIPO) or (new.SOLTIPO is null and old.SOLTIPO is not null) or (new.SOLTIPO is not null and old.SOLTIPO is null)) then
 execute procedure insertlogitem(:indice,'SOLTIPO',old.SOLTIPO,new.SOLTIPO);
if ((new.TELEFONE <> old.TELEFONE) or (new.TELEFONE is null and old.TELEFONE is not null) or (new.TELEFONE is not null and old.TELEFONE is null)) then
 execute procedure insertlogitem(:indice,'TELEFONE',old.TELEFONE,new.TELEFONE);
if ((new.TEMPODOENCA <> old.TEMPODOENCA) or (new.TEMPODOENCA is null and old.TEMPODOENCA is not null) or (new.TEMPODOENCA is not null and old.TEMPODOENCA is null)) then
 execute procedure insertlogitem(:indice,'TEMPODOENCA',old.TEMPODOENCA,new.TEMPODOENCA);
if ((new.TEMPODOENCAUND <> old.TEMPODOENCAUND) or (new.TEMPODOENCAUND is null and old.TEMPODOENCAUND is not null) or (new.TEMPODOENCAUND is not null and old.TEMPODOENCAUND is null)) then
 execute procedure insertlogitem(:indice,'TEMPODOENCAUND',old.TEMPODOENCAUND,new.TEMPODOENCAUND);
if ((new.TIPOACOMODACAO <> old.TIPOACOMODACAO) or (new.TIPOACOMODACAO is null and old.TIPOACOMODACAO is not null) or (new.TIPOACOMODACAO is not null and old.TIPOACOMODACAO is null)) then
 execute procedure insertlogitem(:indice,'TIPOACOMODACAO',old.TIPOACOMODACAO,new.TIPOACOMODACAO);
if ((new.TIPOALTATISS <> old.TIPOALTATISS) or (new.TIPOALTATISS is null and old.TIPOALTATISS is not null) or (new.TIPOALTATISS is not null and old.TIPOALTATISS is null)) then
 execute procedure insertlogitem(:indice,'TIPOALTATISS',old.TIPOALTATISS,new.TIPOALTATISS);
if ((new.TIPOATEND <> old.TIPOATEND) or (new.TIPOATEND is null and old.TIPOATEND is not null) or (new.TIPOATEND is not null and old.TIPOATEND is null)) then
 execute procedure insertlogitem(:indice,'TIPOATEND',old.TIPOATEND,new.TIPOATEND);
if ((new.TIPOATEND1 <> old.TIPOATEND1) or (new.TIPOATEND1 is null and old.TIPOATEND1 is not null) or (new.TIPOATEND1 is not null and old.TIPOATEND1 is null)) then
 execute procedure insertlogitem(:indice,'TIPOATEND1',old.TIPOATEND1,new.TIPOATEND1);
if ((new.TIPOATENDIMENTOTISS <> old.TIPOATENDIMENTOTISS) or (new.TIPOATENDIMENTOTISS is null and old.TIPOATENDIMENTOTISS is not null) or (new.TIPOATENDIMENTOTISS is not null and old.TIPOATENDIMENTOTISS is null)) then
 execute procedure insertlogitem(:indice,'TIPOATENDIMENTOTISS',old.TIPOATENDIMENTOTISS,new.TIPOATENDIMENTOTISS);
if ((new.TIPOCONSULTA <> old.TIPOCONSULTA) or (new.TIPOCONSULTA is null and old.TIPOCONSULTA is not null) or (new.TIPOCONSULTA is not null and old.TIPOCONSULTA is null)) then
 execute procedure insertlogitem(:indice,'TIPOCONSULTA',old.TIPOCONSULTA,new.TIPOCONSULTA);
if ((new.TIPOCONTA <> old.TIPOCONTA) or (new.TIPOCONTA is null and old.TIPOCONTA is not null) or (new.TIPOCONTA is not null and old.TIPOCONTA is null)) then
 execute procedure insertlogitem(:indice,'TIPOCONTA',old.TIPOCONTA,new.TIPOCONTA);
if ((new.TIPODOC <> old.TIPODOC) or (new.TIPODOC is null and old.TIPODOC is not null) or (new.TIPODOC is not null and old.TIPODOC is null)) then
 execute procedure insertlogitem(:indice,'TIPODOC',old.TIPODOC,new.TIPODOC);
if ((new.TIPODOENCA <> old.TIPODOENCA) or (new.TIPODOENCA is null and old.TIPODOENCA is not null) or (new.TIPODOENCA is not null and old.TIPODOENCA is null)) then
 execute procedure insertlogitem(:indice,'TIPODOENCA',old.TIPODOENCA,new.TIPODOENCA);
if ((new.TIPOINTERNAOBSTR <> old.TIPOINTERNAOBSTR) or (new.TIPOINTERNAOBSTR is null and old.TIPOINTERNAOBSTR is not null) or (new.TIPOINTERNAOBSTR is not null and old.TIPOINTERNAOBSTR is null)) then
 execute procedure insertlogitem(:indice,'TIPOINTERNAOBSTR',old.TIPOINTERNAOBSTR,new.TIPOINTERNAOBSTR);
if ((new.TIPOSAIDA <> old.TIPOSAIDA) or (new.TIPOSAIDA is null and old.TIPOSAIDA is not null) or (new.TIPOSAIDA is not null and old.TIPOSAIDA is null)) then
 execute procedure insertlogitem(:indice,'TIPOSAIDA',old.TIPOSAIDA,new.TIPOSAIDA);
if ((new.TOTALMATMED <> old.TOTALMATMED) or (new.TOTALMATMED is null and old.TOTALMATMED is not null) or (new.TOTALMATMED is not null and old.TOTALMATMED is null)) then
 execute procedure insertlogitem(:indice,'TOTALMATMED',old.TOTALMATMED,new.TOTALMATMED);
if ((new.TPATENDMED <> old.TPATENDMED) or (new.TPATENDMED is null and old.TPATENDMED is not null) or (new.TPATENDMED is not null and old.TPATENDMED is null)) then
 execute procedure insertlogitem(:indice,'TPATENDMED',old.TPATENDMED,new.TPATENDMED);
if ((new.TRATAMENTO <> old.TRATAMENTO) or (new.TRATAMENTO is null and old.TRATAMENTO is not null) or (new.TRATAMENTO is not null and old.TRATAMENTO is null)) then
 execute procedure insertlogitem(:indice,'TRATAMENTO',old.TRATAMENTO,new.TRATAMENTO);
if ((new.TRAVADIA <> old.TRAVADIA) or (new.TRAVADIA is null and old.TRAVADIA is not null) or (new.TRAVADIA is not null and old.TRAVADIA is null)) then
 execute procedure insertlogitem(:indice,'TRAVADIA',old.TRAVADIA,new.TRAVADIA);
if ((new.TRAVATUDO <> old.TRAVATUDO) or (new.TRAVATUDO is null and old.TRAVATUDO is not null) or (new.TRAVATUDO is not null and old.TRAVATUDO is null)) then
 execute procedure insertlogitem(:indice,'TRAVATUDO',old.TRAVATUDO,new.TRAVATUDO);
if ((new.UF <> old.UF) or (new.UF is null and old.UF is not null) or (new.UF is not null and old.UF is null)) then
 execute procedure insertlogitem(:indice,'UF',old.UF,new.UF);
if ((new.UFCREMEBSOL <> old.UFCREMEBSOL) or (new.UFCREMEBSOL is null and old.UFCREMEBSOL is not null) or (new.UFCREMEBSOL is not null and old.UFCREMEBSOL is null)) then
 execute procedure insertlogitem(:indice,'UFCREMEBSOL',old.UFCREMEBSOL,new.UFCREMEBSOL);
if ((new.UFSOL <> old.UFSOL) or (new.UFSOL is null and old.UFSOL is not null) or (new.UFSOL is not null and old.UFSOL is null)) then
 execute procedure insertlogitem(:indice,'UFSOL',old.UFSOL,new.UFSOL);
if ((new.UNIDADE <> old.UNIDADE) or (new.UNIDADE is null and old.UNIDADE is not null) or (new.UNIDADE is not null and old.UNIDADE is null)) then
 execute procedure insertlogitem(:indice,'UNIDADE',old.UNIDADE,new.UNIDADE);
if ((new.UNNEG <> old.UNNEG) or (new.UNNEG is null and old.UNNEG is not null) or (new.UNNEG is not null and old.UNNEG is null)) then
 execute procedure insertlogitem(:indice,'UNNEG',old.UNNEG,new.UNNEG);
if ((new.USER3 <> old.USER3) or (new.USER3 is null and old.USER3 is not null) or (new.USER3 is not null and old.USER3 is null)) then
 execute procedure insertlogitem(:indice,'USER3',old.USER3,new.USER3);
if ((new.USER4 <> old.USER4) or (new.USER4 is null and old.USER4 is not null) or (new.USER4 is not null and old.USER4 is null)) then
 execute procedure insertlogitem(:indice,'USER4',old.USER4,new.USER4);
if ((new.USER5 <> old.USER5) or (new.USER5 is null and old.USER5 is not null) or (new.USER5 is not null and old.USER5 is null)) then
 execute procedure insertlogitem(:indice,'USER5',old.USER5,new.USER5);
if ((new.VALIDGUIA <> old.VALIDGUIA) or (new.VALIDGUIA is null and old.VALIDGUIA is not null) or (new.VALIDGUIA is not null and old.VALIDGUIA is null)) then
 execute procedure insertlogitem(:indice,'VALIDGUIA',old.VALIDGUIA,new.VALIDGUIA);
if ((new.VALORDISCO <> old.VALORDISCO) or (new.VALORDISCO is null and old.VALORDISCO is not null) or (new.VALORDISCO is not null and old.VALORDISCO is null)) then
 execute procedure insertlogitem(:indice,'VALORDISCO',old.VALORDISCO,new.VALORDISCO);
if ((new.VALORTOTAL <> old.VALORTOTAL) or (new.VALORTOTAL is null and old.VALORTOTAL is not null) or (new.VALORTOTAL is not null and old.VALORTOTAL is null)) then
 execute procedure insertlogitem(:indice,'VALORTOTAL',old.VALORTOTAL,new.VALORTOTAL);
if ((new.VERSAOGUIA <> old.VERSAOGUIA) or (new.VERSAOGUIA is null and old.VERSAOGUIA is not null) or (new.VERSAOGUIA is not null and old.VERSAOGUIA is null)) then
 execute procedure insertlogitem(:indice,'VERSAOGUIA',old.VERSAOGUIA,new.VERSAOGUIA);
 end
 ^

CREATE TRIGGER "DELCPS" FOR "CPS1" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  DELETE FROM CPS2 WHERE CODIGOCPS2 = OLD.CODIGOCPS;
  DELETE FROM CPS3 WHERE CODIGOCPS = OLD.CODIGOCPS;
  DELETE FROM INTER2 WHERE CODIGOINT = OLD.CODIGOCPS;
  update marcacao set codigocps = null where codigocps = OLD.CODIGOCPS;
  INSERT INTO X_CPS1 (A_ALA, A_CID, A_CODIGO1, A_CPF, A_DATA, A_DATAFAT, A_GUIA, A_HORA,
  A_LEITO, A_SITUACAO, A_TIPO, A_ULTPAGTO, A_VALIDADE, AUTORIZA, BAIRRO, CEP, CIDADE,
  CODIGO, CODIGOANTIGO, CODIGOCPS, CODIGOPAC, CODIGOPLA, CONVENIO, DATAAUTORIZA, DATAENTREGA,
  DATASAIDA, DESCONTO, DIAGNOSTICO, DIARIA, DIASSOL, ENDERECO, ESPECIALIDADE, FATURA, GLOSA,
  HORASAIDA, IDENTIDADE, LOCALGUIA, MARCACAO, MATRICULA, MEDRESP, MOTIVO, ORIGEM, PRENATAL,
  PRINCIPAL, PRODUTO, PRORROGA, RESPONSAVEL, SOLCNPJ, SOLCREMEB, SOLDATA, SOLESP, SOLESP1,
  SOLTIPO, TIPOATEND, TIPOATEND1, TOTALMATMED, UF, VALIDGUIA, VALORTOTAL,MOTIVOEXCLUSAO)
  select A_ALA, A_CID, A_CODIGO1, A_CPF, A_DATA, A_DATAFAT, A_GUIA, A_HORA, A_LEITO, A_SITUACAO,
  A_TIPO, A_ULTPAGTO, A_VALIDADE, AUTORIZA, BAIRRO, CEP, CIDADE, CODIGO, CODIGOANTIGO,
  CODIGOCPS, CODIGOPAC, CODIGOPLA, CONVENIO, DATAAUTORIZA, DATAENTREGA, DATASAIDA, DESCONTO,
  DIAGNOSTICO, DIARIA, DIASSOL, ENDERECO, ESPECIALIDADE, FATURA, GLOSA, HORASAIDA, IDENTIDADE,
  LOCALGUIA, MARCACAO, MATRICULA, MEDRESP, MOTIVO, ORIGEM, PRENATAL, PRINCIPAL, PRODUTO, PRORROGA,
  RESPONSAVEL, SOLCNPJ, SOLCREMEB, SOLDATA, SOLESP, SOLESP1, SOLTIPO, TIPOATEND, TIPOATEND1,
  TOTALMATMED, UF, VALIDGUIA, VALORTOTAL, MOTIVOEXCLUSAO
  from CPS1 WHERE CODIGOCPS = OLD.CODIGOCPS;
end
 ^

CREATE TRIGGER "TRGBD_CPS1_TRAVA" FOR "CPS1" 
ACTIVE BEFORE DELETE POSITION 10
AS BEGIN
  IF (EXISTS (SELECT INICIO FROM TRAVAFATURAMENTO WHERE OLD.A_DATAFAT BETWEEN INICIO AND FINAL AND ATD = 'S' AND DELETAR= 'S'))
   THEN
    EXCEPTION EXC_TRAVAFATURAMENTO;
END
 ^

CREATE TRIGGER "TBD_CPS_MARCACAO" FOR "CPS1" 
ACTIVE BEFORE DELETE POSITION 70
as
declare variable numero integer;
begin
  select numero from marcacao where codigocps = old.codigocps into :numero;
  update marcacao set codigocps = null where numero = :numero;
end
 ^

CREATE TRIGGER "TRGADLOG_CPS1" FOR "CPS1" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPS1',OLD.CODIGOCPS,'D') into :indice;
if (old.ABDOMEN is not null) then
 execute procedure insertlogitem(:indice,'ABDOMEN',old.ABDOMEN,null);
if (old.ACUIDADEOD is not null) then
 execute procedure insertlogitem(:indice,'ACUIDADEOD',old.ACUIDADEOD,null);
if (old.ACUIDADEOE is not null) then
 execute procedure insertlogitem(:indice,'ACUIDADEOE',old.ACUIDADEOE,null);
if (old.AIH0 is not null) then
 execute procedure insertlogitem(:indice,'AIH0',old.AIH0,null);
if (old.AIH1 is not null) then
 execute procedure insertlogitem(:indice,'AIH1',old.AIH1,null);
if (old.AIHANO is not null) then
 execute procedure insertlogitem(:indice,'AIHANO',old.AIHANO,null);
if (old.AIHCARTID is not null) then
 execute procedure insertlogitem(:indice,'AIHCARTID',old.AIHCARTID,null);
if (old.AIHCODMUN is not null) then
 execute procedure insertlogitem(:indice,'AIHCODMUN',old.AIHCODMUN,null);
if (old.AIHCPFMA is not null) then
 execute procedure insertlogitem(:indice,'AIHCPFMA',old.AIHCPFMA,null);
if (old.AIHESPECIALIDADE is not null) then
 execute procedure insertlogitem(:indice,'AIHESPECIALIDADE',old.AIHESPECIALIDADE,null);
if (old.AIHMES is not null) then
 execute procedure insertlogitem(:indice,'AIHMES',old.AIHMES,null);
if (old.AIHMOTIVOCOB is not null) then
 execute procedure insertlogitem(:indice,'AIHMOTIVOCOB',old.AIHMOTIVOCOB,null);
if (old.AIHPRONTUARIO is not null) then
 execute procedure insertlogitem(:indice,'AIHPRONTUARIO',old.AIHPRONTUARIO,null);
if (old.AIHTIPODOC is not null) then
 execute procedure insertlogitem(:indice,'AIHTIPODOC',old.AIHTIPODOC,null);
if (old.ALTAPREVISAO is not null) then
 execute procedure insertlogitem(:indice,'ALTAPREVISAO',old.ALTAPREVISAO,null);
if (old.ALTURA is not null) then
 execute procedure insertlogitem(:indice,'ALTURA',old.ALTURA,null);
if (old.ANOTACAO is not null) then
 execute procedure insertlogitem(:indice,'ANOTACAO',old.ANOTACAO,null);
if (old.ANTECEDENTE is not null) then
 execute procedure insertlogitem(:indice,'ANTECEDENTE',old.ANTECEDENTE,null);
if (old.ATDRN is not null) then
 execute procedure insertlogitem(:indice,'ATDRN',old.ATDRN,null);
if (old.ATENDIMENTO is not null) then
 execute procedure insertlogitem(:indice,'ATENDIMENTO',old.ATENDIMENTO,null);
if (old.AUTORIZA is not null) then
 execute procedure insertlogitem(:indice,'AUTORIZA',old.AUTORIZA,null);
if (old.A_ALA is not null) then
 execute procedure insertlogitem(:indice,'A_ALA',old.A_ALA,null);
if (old.A_CID is not null) then
 execute procedure insertlogitem(:indice,'A_CID',old.A_CID,null);
if (old.A_CODIGO1 is not null) then
 execute procedure insertlogitem(:indice,'A_CODIGO1',old.A_CODIGO1,null);
if (old.A_CPF is not null) then
 execute procedure insertlogitem(:indice,'A_CPF',old.A_CPF,null);
if (old.A_DATA is not null) then
 execute procedure insertlogitem(:indice,'A_DATA',old.A_DATA,null);
if (old.A_DATAFAT is not null) then
 execute procedure insertlogitem(:indice,'A_DATAFAT',old.A_DATAFAT,null);
if (old.A_GUIA is not null) then
 execute procedure insertlogitem(:indice,'A_GUIA',old.A_GUIA,null);
if (old.A_HORA is not null) then
 execute procedure insertlogitem(:indice,'A_HORA',old.A_HORA,null);
if (old.A_LEITO is not null) then
 execute procedure insertlogitem(:indice,'A_LEITO',old.A_LEITO,null);
if (old.A_SITUACAO is not null) then
 execute procedure insertlogitem(:indice,'A_SITUACAO',old.A_SITUACAO,null);
if (old.A_TIPO is not null) then
 execute procedure insertlogitem(:indice,'A_TIPO',old.A_TIPO,null);
if (old.A_ULTPAGTO is not null) then
 execute procedure insertlogitem(:indice,'A_ULTPAGTO',old.A_ULTPAGTO,null);
if (old.A_VALIDADE is not null) then
 execute procedure insertlogitem(:indice,'A_VALIDADE',old.A_VALIDADE,null);
if (old.BAIRRO is not null) then
 execute procedure insertlogitem(:indice,'BAIRRO',old.BAIRRO,null);
if (old.CELULAR is not null) then
 execute procedure insertlogitem(:indice,'CELULAR',old.CELULAR,null);
if (old.CEP is not null) then
 execute procedure insertlogitem(:indice,'CEP',old.CEP,null);
if (old.CID1 is not null) then
 execute procedure insertlogitem(:indice,'CID1',old.CID1,null);
if (old.CID2 is not null) then
 execute procedure insertlogitem(:indice,'CID2',old.CID2,null);
if (old.CIDADE is not null) then
 execute procedure insertlogitem(:indice,'CIDADE',old.CIDADE,null);
if (old.CIDOBITO is not null) then
 execute procedure insertlogitem(:indice,'CIDOBITO',old.CIDOBITO,null);
if (old.CODIGO is not null) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,null);
if (old.CODIGOANTIGO is not null) then
 execute procedure insertlogitem(:indice,'CODIGOANTIGO',old.CODIGOANTIGO,null);
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.CODIGOPAC is not null) then
 execute procedure insertlogitem(:indice,'CODIGOPAC',old.CODIGOPAC,null);
if (old.CODIGOPLA is not null) then
 execute procedure insertlogitem(:indice,'CODIGOPLA',old.CODIGOPLA,null);
if (old.CONFERIDO is not null) then
 execute procedure insertlogitem(:indice,'CONFERIDO',old.CONFERIDO,null);
if (old.CONFERIDODATA is not null) then
 execute procedure insertlogitem(:indice,'CONFERIDODATA',old.CONFERIDODATA,null);
if (old.CONTINUAPROG is not null) then
 execute procedure insertlogitem(:indice,'CONTINUAPROG',old.CONTINUAPROG,null);
if (old.CONVENIO is not null) then
 execute procedure insertlogitem(:indice,'CONVENIO',old.CONVENIO,null);
if (old.CONVENIO1 is not null) then
 execute procedure insertlogitem(:indice,'CONVENIO1',old.CONVENIO1,null);
if (old.DATA4 is not null) then
 execute procedure insertlogitem(:indice,'DATA4',old.DATA4,null);
if (old.DATA5 is not null) then
 execute procedure insertlogitem(:indice,'DATA5',old.DATA5,null);
if (old.DATAAUTORIZA is not null) then
 execute procedure insertlogitem(:indice,'DATAAUTORIZA',old.DATAAUTORIZA,null);
if (old.DATAAUTORIZADO is not null) then
 execute procedure insertlogitem(:indice,'DATAAUTORIZADO',old.DATAAUTORIZADO,null);
if (old.DATAENTREGA is not null) then
 execute procedure insertlogitem(:indice,'DATAENTREGA',old.DATAENTREGA,null);
if (old.DATAIMPRIMIU is not null) then
 execute procedure insertlogitem(:indice,'DATAIMPRIMIU',old.DATAIMPRIMIU,null);
if (old.DATARAT is not null) then
 execute procedure insertlogitem(:indice,'DATARAT',old.DATARAT,null);
if (old.DATARECEBIMENTO is not null) then
 execute procedure insertlogitem(:indice,'DATARECEBIMENTO',old.DATARECEBIMENTO,null);
if (old.DATAREPRESENTA is not null) then
 execute procedure insertlogitem(:indice,'DATAREPRESENTA',old.DATAREPRESENTA,null);
if (old.DATASAIDA is not null) then
 execute procedure insertlogitem(:indice,'DATASAIDA',old.DATASAIDA,null);
if (old.DAYHOSPITAL is not null) then
 execute procedure insertlogitem(:indice,'DAYHOSPITAL',old.DAYHOSPITAL,null);
if (old.DESCONTO is not null) then
 execute procedure insertlogitem(:indice,'DESCONTO',old.DESCONTO,null);
if (old.DIAGNOSTICO is not null) then
 execute procedure insertlogitem(:indice,'DIAGNOSTICO',old.DIAGNOSTICO,null);
if (old.DIARIA is not null) then
 execute procedure insertlogitem(:indice,'DIARIA',old.DIARIA,null);
if (old.DIASSOL is not null) then
 execute procedure insertlogitem(:indice,'DIASSOL',old.DIASSOL,null);
if (old.EMPRESA is not null) then
 execute procedure insertlogitem(:indice,'EMPRESA',old.EMPRESA,null);
if (old.ENDERECO is not null) then
 execute procedure insertlogitem(:indice,'ENDERECO',old.ENDERECO,null);
if (old.ESPECIALIDADE is not null) then
 execute procedure insertlogitem(:indice,'ESPECIALIDADE',old.ESPECIALIDADE,null);
if (old.EXAME is not null) then
 execute procedure insertlogitem(:indice,'EXAME',old.EXAME,null);
if (old.FATURA is not null) then
 execute procedure insertlogitem(:indice,'FATURA',old.FATURA,null);
if (old.FATURAGLOSA is not null) then
 execute procedure insertlogitem(:indice,'FATURAGLOSA',old.FATURAGLOSA,null);
if (old.FR is not null) then
 execute procedure insertlogitem(:indice,'FR',old.FR,null);
if (old.GLOSA is not null) then
 execute procedure insertlogitem(:indice,'GLOSA',old.GLOSA,null);
if (old.GRAVIDADE is not null) then
 execute procedure insertlogitem(:indice,'GRAVIDADE',old.GRAVIDADE,null);
if (old.GRUPOSUS is not null) then
 execute procedure insertlogitem(:indice,'GRUPOSUS',old.GRUPOSUS,null);
if (old.GUIAGLOSA is not null) then
 execute procedure insertlogitem(:indice,'GUIAGLOSA',old.GUIAGLOSA,null);
if (old.GUIASOL is not null) then
 execute procedure insertlogitem(:indice,'GUIASOL',old.GUIASOL,null);
if (old.HORASAIDA is not null) then
 execute procedure insertlogitem(:indice,'HORASAIDA',old.HORASAIDA,null);
if (old.IDENTIDADE is not null) then
 execute procedure insertlogitem(:indice,'IDENTIDADE',old.IDENTIDADE,null);
if (old.IMPRESSO is not null) then
 execute procedure insertlogitem(:indice,'IMPRESSO',old.IMPRESSO,null);
if (old.INDICAACIDENTE is not null) then
 execute procedure insertlogitem(:indice,'INDICAACIDENTE',old.INDICAACIDENTE,null);
if (old.LIQUIDO is not null) then
 execute procedure insertlogitem(:indice,'LIQUIDO',old.LIQUIDO,null);
if (old.LOCALGUIA is not null) then
 execute procedure insertlogitem(:indice,'LOCALGUIA',old.LOCALGUIA,null);
if (old.MAQUINETA is not null) then
 execute procedure insertlogitem(:indice,'MAQUINETA',old.MAQUINETA,null);
if (old.MARCACAO is not null) then
 execute procedure insertlogitem(:indice,'MARCACAO',old.MARCACAO,null);
if (old.MARCADO is not null) then
 execute procedure insertlogitem(:indice,'MARCADO',old.MARCADO,null);
if (old.MARKTING is not null) then
 execute procedure insertlogitem(:indice,'MARKTING',old.MARKTING,null);
if (old.MATRICULA is not null) then
 execute procedure insertlogitem(:indice,'MATRICULA',old.MATRICULA,null);
if (old.MEDICOOBS is not null) then
 execute procedure insertlogitem(:indice,'MEDICOOBS',old.MEDICOOBS,null);
if (old.MEDRESP is not null) then
 execute procedure insertlogitem(:indice,'MEDRESP',old.MEDRESP,null);
if (old.MOTIVO is not null) then
 execute procedure insertlogitem(:indice,'MOTIVO',old.MOTIVO,null);
if (old.MOTIVOEXCLUSAO is not null) then
 execute procedure insertlogitem(:indice,'MOTIVOEXCLUSAO',old.MOTIVOEXCLUSAO,null);
if (old.MUCOSA is not null) then
 execute procedure insertlogitem(:indice,'MUCOSA',old.MUCOSA,null);
if (old.NASCIDOVIVOS is not null) then
 execute procedure insertlogitem(:indice,'NASCIDOVIVOS',old.NASCIDOVIVOS,null);
if (old.NUMEROOBITO is not null) then
 execute procedure insertlogitem(:indice,'NUMEROOBITO',old.NUMEROOBITO,null);
if (old.NUM_SOLICITACAO_INTER is not null) then
 execute procedure insertlogitem(:indice,'NUM_SOLICITACAO_INTER',old.NUM_SOLICITACAO_INTER,null);
if (old.NUTRI is not null) then
 execute procedure insertlogitem(:indice,'NUTRI',old.NUTRI,null);
if (old.OBSCPS is not null) then
 execute procedure insertlogitem(:indice,'OBSCPS',old.OBSCPS,null);
if (old.OBSERVACAO is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,null);
if (old.OBSLAB is not null) then
 execute procedure insertlogitem(:indice,'OBSLAB',old.OBSLAB,null);
if (old.OBTOMULHER is not null) then
 execute procedure insertlogitem(:indice,'OBTOMULHER',old.OBTOMULHER,null);
if (old.OBTONEONATAL is not null) then
 execute procedure insertlogitem(:indice,'OBTONEONATAL',old.OBTONEONATAL,null);
if (old.OBTONEONATALTARDIO is not null) then
 execute procedure insertlogitem(:indice,'OBTONEONATALTARDIO',old.OBTONEONATALTARDIO,null);
if (old.ORIGEM is not null) then
 execute procedure insertlogitem(:indice,'ORIGEM',old.ORIGEM,null);
if (old.PA is not null) then
 execute procedure insertlogitem(:indice,'PA',old.PA,null);
if (old.PESO is not null) then
 execute procedure insertlogitem(:indice,'PESO',old.PESO,null);
if (old.PLANO is not null) then
 execute procedure insertlogitem(:indice,'PLANO',old.PLANO,null);
if (old.PRENATAL is not null) then
 execute procedure insertlogitem(:indice,'PRENATAL',old.PRENATAL,null);
if (old.PRINCIPAL is not null) then
 execute procedure insertlogitem(:indice,'PRINCIPAL',old.PRINCIPAL,null);
if (old.PRODUTO is not null) then
 execute procedure insertlogitem(:indice,'PRODUTO',old.PRODUTO,null);
if (old.PRORROGA is not null) then
 execute procedure insertlogitem(:indice,'PRORROGA',old.PRORROGA,null);
if (old.PROTOCOLO is not null) then
 execute procedure insertlogitem(:indice,'PROTOCOLO',old.PROTOCOLO,null);
if (old.QUANTNASCMORTOS is not null) then
 execute procedure insertlogitem(:indice,'QUANTNASCMORTOS',old.QUANTNASCMORTOS,null);
if (old.QUANTNASCPREMAT is not null) then
 execute procedure insertlogitem(:indice,'QUANTNASCPREMAT',old.QUANTNASCPREMAT,null);
if (old.QUANTNASCVIVOS is not null) then
 execute procedure insertlogitem(:indice,'QUANTNASCVIVOS',old.QUANTNASCVIVOS,null);
if (old.RAT is not null) then
 execute procedure insertlogitem(:indice,'RAT',old.RAT,null);
if (old.RAT_COD is not null) then
 execute procedure insertlogitem(:indice,'RAT_COD',old.RAT_COD,null);
if (old.REALTORIOALTA is not null) then
 execute procedure insertlogitem(:indice,'REALTORIOALTA',old.REALTORIOALTA,null);
if (old.RECIBO is not null) then
 execute procedure insertlogitem(:indice,'RECIBO',old.RECIBO,null);
if (old.RESPONSAVEL is not null) then
 execute procedure insertlogitem(:indice,'RESPONSAVEL',old.RESPONSAVEL,null);
if (old.RESULTADO is not null) then
 execute procedure insertlogitem(:indice,'RESULTADO',old.RESULTADO,null);
if (old.SOLCNPJ is not null) then
 execute procedure insertlogitem(:indice,'SOLCNPJ',old.SOLCNPJ,null);
if (old.SOLCREMEB is not null) then
 execute procedure insertlogitem(:indice,'SOLCREMEB',old.SOLCREMEB,null);
if (old.SOLDATA is not null) then
 execute procedure insertlogitem(:indice,'SOLDATA',old.SOLDATA,null);
if (old.SOLESP is not null) then
 execute procedure insertlogitem(:indice,'SOLESP',old.SOLESP,null);
if (old.SOLESP1 is not null) then
 execute procedure insertlogitem(:indice,'SOLESP1',old.SOLESP1,null);
if (old.SOLICITAINTER is not null) then
 execute procedure insertlogitem(:indice,'SOLICITAINTER',old.SOLICITAINTER,null);
if (old.SOLTIPO is not null) then
 execute procedure insertlogitem(:indice,'SOLTIPO',old.SOLTIPO,null);
if (old.TELEFONE is not null) then
 execute procedure insertlogitem(:indice,'TELEFONE',old.TELEFONE,null);
if (old.TEMPODOENCA is not null) then
 execute procedure insertlogitem(:indice,'TEMPODOENCA',old.TEMPODOENCA,null);
if (old.TEMPODOENCAUND is not null) then
 execute procedure insertlogitem(:indice,'TEMPODOENCAUND',old.TEMPODOENCAUND,null);
if (old.TIPOACOMODACAO is not null) then
 execute procedure insertlogitem(:indice,'TIPOACOMODACAO',old.TIPOACOMODACAO,null);
if (old.TIPOALTATISS is not null) then
 execute procedure insertlogitem(:indice,'TIPOALTATISS',old.TIPOALTATISS,null);
if (old.TIPOATEND is not null) then
 execute procedure insertlogitem(:indice,'TIPOATEND',old.TIPOATEND,null);
if (old.TIPOATEND1 is not null) then
 execute procedure insertlogitem(:indice,'TIPOATEND1',old.TIPOATEND1,null);
if (old.TIPOATENDIMENTOTISS is not null) then
 execute procedure insertlogitem(:indice,'TIPOATENDIMENTOTISS',old.TIPOATENDIMENTOTISS,null);
if (old.TIPOCONSULTA is not null) then
 execute procedure insertlogitem(:indice,'TIPOCONSULTA',old.TIPOCONSULTA,null);
if (old.TIPOCONTA is not null) then
 execute procedure insertlogitem(:indice,'TIPOCONTA',old.TIPOCONTA,null);
if (old.TIPODOC is not null) then
 execute procedure insertlogitem(:indice,'TIPODOC',old.TIPODOC,null);
if (old.TIPODOENCA is not null) then
 execute procedure insertlogitem(:indice,'TIPODOENCA',old.TIPODOENCA,null);
if (old.TIPOINTERNAOBSTR is not null) then
 execute procedure insertlogitem(:indice,'TIPOINTERNAOBSTR',old.TIPOINTERNAOBSTR,null);
if (old.TIPOSAIDA is not null) then
 execute procedure insertlogitem(:indice,'TIPOSAIDA',old.TIPOSAIDA,null);
if (old.TOTALMATMED is not null) then
 execute procedure insertlogitem(:indice,'TOTALMATMED',old.TOTALMATMED,null);
if (old.TPATENDMED is not null) then
 execute procedure insertlogitem(:indice,'TPATENDMED',old.TPATENDMED,null);
if (old.TRATAMENTO is not null) then
 execute procedure insertlogitem(:indice,'TRATAMENTO',old.TRATAMENTO,null);
if (old.TRAVADIA is not null) then
 execute procedure insertlogitem(:indice,'TRAVADIA',old.TRAVADIA,null);
if (old.TRAVATUDO is not null) then
 execute procedure insertlogitem(:indice,'TRAVATUDO',old.TRAVATUDO,null);
if (old.UF is not null) then
 execute procedure insertlogitem(:indice,'UF',old.UF,null);
if (old.UFCREMEBSOL is not null) then
 execute procedure insertlogitem(:indice,'UFCREMEBSOL',old.UFCREMEBSOL,null);
if (old.UFSOL is not null) then
 execute procedure insertlogitem(:indice,'UFSOL',old.UFSOL,null);
if (old.UNIDADE is not null) then
 execute procedure insertlogitem(:indice,'UNIDADE',old.UNIDADE,null);
if (old.UNNEG is not null) then
 execute procedure insertlogitem(:indice,'UNNEG',old.UNNEG,null);
if (old.USER3 is not null) then
 execute procedure insertlogitem(:indice,'USER3',old.USER3,null);
if (old.USER4 is not null) then
 execute procedure insertlogitem(:indice,'USER4',old.USER4,null);
if (old.USER5 is not null) then
 execute procedure insertlogitem(:indice,'USER5',old.USER5,null);
if (old.VALIDGUIA is not null) then
 execute procedure insertlogitem(:indice,'VALIDGUIA',old.VALIDGUIA,null);
if (old.VALORDISCO is not null) then
 execute procedure insertlogitem(:indice,'VALORDISCO',old.VALORDISCO,null);
if (old.VALORTOTAL is not null) then
 execute procedure insertlogitem(:indice,'VALORTOTAL',old.VALORTOTAL,null);
if (old.VERSAOGUIA is not null) then
 execute procedure insertlogitem(:indice,'VERSAOGUIA',old.VERSAOGUIA,null);
 end
 ^

CREATE TRIGGER "INS_CPS2" FOR "CPS2" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Indice = gen_id( gen_cps2, 1 );
end
 ^

CREATE TRIGGER "TRGBI_TRAVA_QTDE" FOR "CPS2" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  if (new.QUANTIDADE = 0)  then
    EXCEPTION QTDERRADA;
   if (new.QUANTIDADE IS NULL) then
        EXCEPTION QTDERRADA;
end
 ^

CREATE TRIGGER "TRIG_BI_ESPECIALIDADE_SUS" FOR "CPS2" 
INACTIVE BEFORE INSERT POSITION 20
as
/* code here */
BEGIN
   IF (NEW.GRUPOSUS = '02' AND NEW.CODIGOAMB = '14010040') THEN
      NEW.ESPECIALIDADE = '01';

END
 ^

CREATE TRIGGER "TRGBI_CPS2VALOR" FOR "CPS2" 
ACTIVE BEFORE INSERT POSITION 30
AS
DECLARE VARIABLE CONVENIO INTEGER;
DECLARE VARIABLE TIPO INTEGER;
DECLARE VARIABLE CO DOUBLE PRECISION;
DECLARE VARIABLE FILME DOUBLE PRECISION;
BEGIN
       SELECT CODIGOPLA,CONVENIO FROM CPS1 WHERE CODIGOCPS = NEW.CODIGOCPS2 INTO :TIPO, :CONVENIO;
       SELECT FILME, CO FROM VALORAMBEXATO(NEW.CODIGOSERV, NEW.CODIGOAMB, :CONVENIO, NEW.DHE, NEW.DATA, :TIPO, NEW.VIA) INTO :FILME, :CO;
       NEW.CO = NEW.QUANTIDADE*:CO;
       NEW.A_FILME = NEW.QUANTIDADE*:FILME;
       IF (NEW.CO IS NULL) THEN
         NEW.CO = 0;
       IF (NEW.A_FILME IS NULL) THEN
         NEW.A_FILME = 0;
END
 ^

CREATE TRIGGER "TBI_BLOQ_GRUPOSUS" FOR "CPS2" 
ACTIVE BEFORE INSERT POSITION 40
as
begin
/*as code*/
If (new.gruposus = ('01')) then
exception bloq_gruposus;
end
 ^

CREATE TRIGGER "TRIG_BI_CPS2_DATA_DIF" FOR "CPS2" 
INACTIVE BEFORE INSERT POSITION 70
as
/* code here */
declare variable dataatend timestamp;
BEGIN
   IF ( NEW.A_MEDICOs <> 7 ) THEN
   begin
       dataatend = null;
       select a_datafat from cps1 where codigocps = new.codigocps2 and codigopla in(1) into :dataatend;
       if (dataatend is not null) then
       begin
          if ( cast( NEW.DATA AS DATE ) <> CAST( DATAATEND AS DATE ) ) THEN
          begin
            exception EXC_DATA_DIF_ATEND ;
          end
       end
   end

END
 ^

CREATE TRIGGER "INSCPS2" FOR "CPS2" 
ACTIVE AFTER INSERT POSITION 0
AS
begin
  Update CPS1 SET VALORTOTAL = VALORTOTAL + NEW.VALOR
  WHERE CODIGOCPS = NEW.CODIGOCPS2;
  IF (NEW.COBRAR <> 'N') THEN
  BEGIN
      UPDATE CPS1 SET GLOSA = GLOSA + NEW.GLOSA
      WHERE CODIGOCPS = NEW.CODIGOCPS2;
  END
end
 ^

CREATE TRIGGER "TRGAILOG_CPS2" FOR "CPS2" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('CPS2',NEW.INDICE,'I') into indice; end
 ^

CREATE TRIGGER "ATUALIZACPS2" FOR "CPS2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
begin
  NEW.DATA2 = 'NOW';
  if ( new.Valor <> old.Valor ) then
     Update CPS1 SET VALORTOTAL = VALORTOTAL - OLD.VALOR
     + new.Valor WHERE CODIGOCPS = OLD.CODIGOCPS2;
  if ( new.cobrar <> old.cobrar ) then
  begin
    if (new.cobrar = 'S') then
      Update CPS1 SET VALORTOTAL = VALORTOTAL + new.Valor WHERE CODIGOCPS = OLD.CODIGOCPS2;
    if (new.cobrar = 'N') then
      Update CPS1 SET VALORTOTAL = VALORTOTAL - new.Valor WHERE CODIGOCPS = OLD.CODIGOCPS2;
  end
 if (( OLD.GLOSA <> NEW.GLOSA ) AND ( OLD.COBRAR <> 'N' )) then
     UPDATE CPS1 SET GLOSA = GLOSA - OLD.GLOSA + NEW.GLOSA
     WHERE CODIGOCPS = OLD.CODIGOCPS2;
end
 ^

CREATE TRIGGER "TRGBU_CPS2_GLOSA" FOR "CPS2" 
ACTIVE BEFORE UPDATE POSITION 20
as
declare variable fatura integer;
begin
  if ((new.glosa <> old.glosa) or (new.representa <> old.representa)) then
  begin
    select faturaglosa from cps1 where codigocps = new.codigocps2 into :fatura;
    if (fatura > 0) then
      exception exc_glosa;
  end
end
 ^

CREATE TRIGGER "TRGBU_TRAVA_QTDE" FOR "CPS2" 
ACTIVE BEFORE UPDATE POSITION 20
as begin
  if (new.QUANTIDADE = 0)  then
    EXCEPTION QTDERRADA;
   if (new.QUANTIDADE IS NULL) then
        EXCEPTION QTDERRADA;
end
 ^

CREATE TRIGGER "TRGBU_CPS2VALOR" FOR "CPS2" 
ACTIVE BEFORE UPDATE POSITION 30
AS
DECLARE VARIABLE CONVENIO INTEGER;
DECLARE VARIABLE TIPO INTEGER;
DECLARE VARIABLE CO DOUBLE PRECISION;
DECLARE VARIABLE FILME DOUBLE PRECISION;
BEGIN
  IF (NEW.VALOR <> OLD.VALOR) THEN
  BEGIN
    SELECT CODIGOPLA,CONVENIO FROM CPS1 WHERE CODIGOCPS = NEW.CODIGOCPS2 INTO :TIPO, :CONVENIO;
    SELECT FILME, CO FROM VALORAMB(NEW.CODIGOAMB, :CONVENIO, NEW.DHE, NEW.DATA, :TIPO, NEW.VIA) INTO :FILME, :CO;
    NEW.CO = NEW.QUANTIDADE*:CO;
    NEW.A_FILME = NEW.QUANTIDADE*:FILME;
    IF (NEW.CO IS NULL) THEN
      NEW.CO = 0;
    IF (NEW.A_FILME IS NULL) THEN
      NEW.A_FILME = 0;
  END
END
 ^

CREATE TRIGGER "TRIG_BU_ESPECIALIDADE_SUS" FOR "CPS2" 
INACTIVE BEFORE UPDATE POSITION 30
as
/* code here */
BEGIN
 --  IF (NEW.GRUPOSUS = '02' AND NEW.CODIGOAMB = '14010040') THEN
   --   NEW.ESPECIALIDADE = '01';

END
 ^

CREATE TRIGGER "TBU_BLOQ_GRUPOSUS" FOR "CPS2" 
ACTIVE BEFORE UPDATE POSITION 40
as
begin
/*as code*/
If (new.gruposus = ('01')) then
exception bloq_gruposus;
end
 ^

CREATE TRIGGER "TRIG_BU_CPS2_DATA_DIF" FOR "CPS2" 
INACTIVE BEFORE UPDATE POSITION 70
as
/* code here */

declare variable dataatend timestamp;
BEGIN
   IF ( NEW.A_MEDICOs <> 7 ) THEN
   begin
       dataatend = null;
       select a_datafat from cps1 where codigocps = new.codigocps2 and codigopla in(1) into :dataatend;
       if (dataatend is not null) then
       begin
          if ( cast( NEW.DATA AS DATE ) <> CAST( DATAATEND AS DATE ) ) THEN
          begin
            exception EXC_DATA_DIF_ATEND ;
          end
       end
   end

END
 ^

CREATE TRIGGER "TRGAULOG_CPS2" FOR "CPS2" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPS2',NEW.INDICE,'U') into :indice;
if ((new.ANVISA <> old.ANVISA) or (new.ANVISA is null and old.ANVISA is not null) or (new.ANVISA is not null and old.ANVISA is null)) then
 execute procedure insertlogitem(:indice,'ANVISA',old.ANVISA,new.ANVISA);
if ((new.A_CODMOE <> old.A_CODMOE) or (new.A_CODMOE is null and old.A_CODMOE is not null) or (new.A_CODMOE is not null and old.A_CODMOE is null)) then
 execute procedure insertlogitem(:indice,'A_CODMOE',old.A_CODMOE,new.A_CODMOE);
if ((new.A_FILME <> old.A_FILME) or (new.A_FILME is null and old.A_FILME is not null) or (new.A_FILME is not null and old.A_FILME is null)) then
 execute procedure insertlogitem(:indice,'A_FILME',old.A_FILME,new.A_FILME);
if ((new.A_MEDICOS <> old.A_MEDICOS) or (new.A_MEDICOS is null and old.A_MEDICOS is not null) or (new.A_MEDICOS is not null and old.A_MEDICOS is null)) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,new.A_MEDICOS);
if ((new.A_QUANTIDA <> old.A_QUANTIDA) or (new.A_QUANTIDA is null and old.A_QUANTIDA is not null) or (new.A_QUANTIDA is not null and old.A_QUANTIDA is null)) then
 execute procedure insertlogitem(:indice,'A_QUANTIDA',old.A_QUANTIDA,new.A_QUANTIDA);
if ((new.A_SITUACAO <> old.A_SITUACAO) or (new.A_SITUACAO is null and old.A_SITUACAO is not null) or (new.A_SITUACAO is not null and old.A_SITUACAO is null)) then
 execute procedure insertlogitem(:indice,'A_SITUACAO',old.A_SITUACAO,new.A_SITUACAO);
if ((new.CO <> old.CO) or (new.CO is null and old.CO is not null) or (new.CO is not null and old.CO is null)) then
 execute procedure insertlogitem(:indice,'CO',old.CO,new.CO);
if ((new.COBRAR <> old.COBRAR) or (new.COBRAR is null and old.COBRAR is not null) or (new.COBRAR is not null and old.COBRAR is null)) then
 execute procedure insertlogitem(:indice,'COBRAR',old.COBRAR,new.COBRAR);
if ((new.CODIGOAMB <> old.CODIGOAMB) or (new.CODIGOAMB is null and old.CODIGOAMB is not null) or (new.CODIGOAMB is not null and old.CODIGOAMB is null)) then
 execute procedure insertlogitem(:indice,'CODIGOAMB',old.CODIGOAMB,new.CODIGOAMB);
if ((new.CODIGOAMB1 <> old.CODIGOAMB1) or (new.CODIGOAMB1 is null and old.CODIGOAMB1 is not null) or (new.CODIGOAMB1 is not null and old.CODIGOAMB1 is null)) then
 execute procedure insertlogitem(:indice,'CODIGOAMB1',old.CODIGOAMB1,new.CODIGOAMB1);
if ((new.CODIGOCPS2 <> old.CODIGOCPS2) or (new.CODIGOCPS2 is null and old.CODIGOCPS2 is not null) or (new.CODIGOCPS2 is not null and old.CODIGOCPS2 is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS2',old.CODIGOCPS2,new.CODIGOCPS2);
if ((new.CODIGOSERV <> old.CODIGOSERV) or (new.CODIGOSERV is null and old.CODIGOSERV is not null) or (new.CODIGOSERV is not null and old.CODIGOSERV is null)) then
 execute procedure insertlogitem(:indice,'CODIGOSERV',old.CODIGOSERV,new.CODIGOSERV);
if ((new.CONTRASTE <> old.CONTRASTE) or (new.CONTRASTE is null and old.CONTRASTE is not null) or (new.CONTRASTE is not null and old.CONTRASTE is null)) then
 execute procedure insertlogitem(:indice,'CONTRASTE',old.CONTRASTE,new.CONTRASTE);
if ((new.CREMEBSOL <> old.CREMEBSOL) or (new.CREMEBSOL is null and old.CREMEBSOL is not null) or (new.CREMEBSOL is not null and old.CREMEBSOL is null)) then
 execute procedure insertlogitem(:indice,'CREMEBSOL',old.CREMEBSOL,new.CREMEBSOL);
if ((new.CUSTO <> old.CUSTO) or (new.CUSTO is null and old.CUSTO is not null) or (new.CUSTO is not null and old.CUSTO is null)) then
 execute procedure insertlogitem(:indice,'CUSTO',old.CUSTO,new.CUSTO);
if ((new.DATA <> old.DATA) or (new.DATA is null and old.DATA is not null) or (new.DATA is not null and old.DATA is null)) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,new.DATA);
if ((new.DATAGLOSA <> old.DATAGLOSA) or (new.DATAGLOSA is null and old.DATAGLOSA is not null) or (new.DATAGLOSA is not null and old.DATAGLOSA is null)) then
 execute procedure insertlogitem(:indice,'DATAGLOSA',old.DATAGLOSA,new.DATAGLOSA);
if ((new.DATAREPRESENTA <> old.DATAREPRESENTA) or (new.DATAREPRESENTA is null and old.DATAREPRESENTA is not null) or (new.DATAREPRESENTA is not null and old.DATAREPRESENTA is null)) then
 execute procedure insertlogitem(:indice,'DATAREPRESENTA',old.DATAREPRESENTA,new.DATAREPRESENTA);
if ((new.DATASAIDA <> old.DATASAIDA) or (new.DATASAIDA is null and old.DATASAIDA is not null) or (new.DATASAIDA is not null and old.DATASAIDA is null)) then
 execute procedure insertlogitem(:indice,'DATASAIDA',old.DATASAIDA,new.DATASAIDA);
if ((new.DHE <> old.DHE) or (new.DHE is null and old.DHE is not null) or (new.DHE is not null and old.DHE is null)) then
 execute procedure insertlogitem(:indice,'DHE',old.DHE,new.DHE);
if ((new.DICOM <> old.DICOM) or (new.DICOM is null and old.DICOM is not null) or (new.DICOM is not null and old.DICOM is null)) then
 execute procedure insertlogitem(:indice,'DICOM',old.DICOM,new.DICOM);
if ((new.ESPECIALIDADE <> old.ESPECIALIDADE) or (new.ESPECIALIDADE is null and old.ESPECIALIDADE is not null) or (new.ESPECIALIDADE is not null and old.ESPECIALIDADE is null)) then
 execute procedure insertlogitem(:indice,'ESPECIALIDADE',old.ESPECIALIDADE,new.ESPECIALIDADE);
if ((new.FALHA <> old.FALHA) or (new.FALHA is null and old.FALHA is not null) or (new.FALHA is not null and old.FALHA is null)) then
 execute procedure insertlogitem(:indice,'FALHA',old.FALHA,new.FALHA);
if ((new.GLOSA <> old.GLOSA) or (new.GLOSA is null and old.GLOSA is not null) or (new.GLOSA is not null and old.GLOSA is null)) then
 execute procedure insertlogitem(:indice,'GLOSA',old.GLOSA,new.GLOSA);
if ((new.GLOSACERTA <> old.GLOSACERTA) or (new.GLOSACERTA is null and old.GLOSACERTA is not null) or (new.GLOSACERTA is not null and old.GLOSACERTA is null)) then
 execute procedure insertlogitem(:indice,'GLOSACERTA',old.GLOSACERTA,new.GLOSACERTA);
if ((new.GLOSADATA <> old.GLOSADATA) or (new.GLOSADATA is null and old.GLOSADATA is not null) or (new.GLOSADATA is not null and old.GLOSADATA is null)) then
 execute procedure insertlogitem(:indice,'GLOSADATA',old.GLOSADATA,new.GLOSADATA);
if ((new.GLOSADEFINITIVA <> old.GLOSADEFINITIVA) or (new.GLOSADEFINITIVA is null and old.GLOSADEFINITIVA is not null) or (new.GLOSADEFINITIVA is not null and old.GLOSADEFINITIVA is null)) then
 execute procedure insertlogitem(:indice,'GLOSADEFINITIVA',old.GLOSADEFINITIVA,new.GLOSADEFINITIVA);
if ((new.GLOSARECEBIDA <> old.GLOSARECEBIDA) or (new.GLOSARECEBIDA is null and old.GLOSARECEBIDA is not null) or (new.GLOSARECEBIDA is not null and old.GLOSARECEBIDA is null)) then
 execute procedure insertlogitem(:indice,'GLOSARECEBIDA',old.GLOSARECEBIDA,new.GLOSARECEBIDA);
if ((new.GLOSARESPONSAVEL <> old.GLOSARESPONSAVEL) or (new.GLOSARESPONSAVEL is null and old.GLOSARESPONSAVEL is not null) or (new.GLOSARESPONSAVEL is not null and old.GLOSARESPONSAVEL is null)) then
 execute procedure insertlogitem(:indice,'GLOSARESPONSAVEL',old.GLOSARESPONSAVEL,new.GLOSARESPONSAVEL);
if ((new.GLOSATIPO <> old.GLOSATIPO) or (new.GLOSATIPO is null and old.GLOSATIPO is not null) or (new.GLOSATIPO is not null and old.GLOSATIPO is null)) then
 execute procedure insertlogitem(:indice,'GLOSATIPO',old.GLOSATIPO,new.GLOSATIPO);
if ((new.GLOSATIPO2 <> old.GLOSATIPO2) or (new.GLOSATIPO2 is null and old.GLOSATIPO2 is not null) or (new.GLOSATIPO2 is not null and old.GLOSATIPO2 is null)) then
 execute procedure insertlogitem(:indice,'GLOSATIPO2',old.GLOSATIPO2,new.GLOSATIPO2);
if ((new.GRAUPARTICIPACAO <> old.GRAUPARTICIPACAO) or (new.GRAUPARTICIPACAO is null and old.GRAUPARTICIPACAO is not null) or (new.GRAUPARTICIPACAO is not null and old.GRAUPARTICIPACAO is null)) then
 execute procedure insertlogitem(:indice,'GRAUPARTICIPACAO',old.GRAUPARTICIPACAO,new.GRAUPARTICIPACAO);
if ((new.GRUPOSUS <> old.GRUPOSUS) or (new.GRUPOSUS is null and old.GRUPOSUS is not null) or (new.GRUPOSUS is not null and old.GRUPOSUS is null)) then
 execute procedure insertlogitem(:indice,'GRUPOSUS',old.GRUPOSUS,new.GRUPOSUS);
if ((new.GRUPOSUS1 <> old.GRUPOSUS1) or (new.GRUPOSUS1 is null and old.GRUPOSUS1 is not null) or (new.GRUPOSUS1 is not null and old.GRUPOSUS1 is null)) then
 execute procedure insertlogitem(:indice,'GRUPOSUS1',old.GRUPOSUS1,new.GRUPOSUS1);
if ((new.HORA <> old.HORA) or (new.HORA is null and old.HORA is not null) or (new.HORA is not null and old.HORA is null)) then
 execute procedure insertlogitem(:indice,'HORA',old.HORA,new.HORA);
if ((new.HORASAIDA <> old.HORASAIDA) or (new.HORASAIDA is null and old.HORASAIDA is not null) or (new.HORASAIDA is not null and old.HORASAIDA is null)) then
 execute procedure insertlogitem(:indice,'HORASAIDA',old.HORASAIDA,new.HORASAIDA);
if ((new.INDICE <> old.INDICE) or (new.INDICE is null and old.INDICE is not null) or (new.INDICE is not null and old.INDICE is null)) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,new.INDICE);
if ((new.JUSTIFICATIVA <> old.JUSTIFICATIVA) or (new.JUSTIFICATIVA is null and old.JUSTIFICATIVA is not null) or (new.JUSTIFICATIVA is not null and old.JUSTIFICATIVA is null)) then
 execute procedure insertlogitem(:indice,'JUSTIFICATIVA',old.JUSTIFICATIVA,new.JUSTIFICATIVA);
if ((new.LIQUIDO <> old.LIQUIDO) or (new.LIQUIDO is null and old.LIQUIDO is not null) or (new.LIQUIDO is not null and old.LIQUIDO is null)) then
 execute procedure insertlogitem(:indice,'LIQUIDO',old.LIQUIDO,new.LIQUIDO);
if ((new.MATERIAL <> old.MATERIAL) or (new.MATERIAL is null and old.MATERIAL is not null) or (new.MATERIAL is not null and old.MATERIAL is null)) then
 execute procedure insertlogitem(:indice,'MATERIAL',old.MATERIAL,new.MATERIAL);
if ((new.MEDICACAO_ASSOCIADA <> old.MEDICACAO_ASSOCIADA) or (new.MEDICACAO_ASSOCIADA is null and old.MEDICACAO_ASSOCIADA is not null) or (new.MEDICACAO_ASSOCIADA is not null and old.MEDICACAO_ASSOCIADA is null)) then
 execute procedure insertlogitem(:indice,'MEDICACAO_ASSOCIADA',old.MEDICACAO_ASSOCIADA,new.MEDICACAO_ASSOCIADA);
if ((new.MNM <> old.MNM) or (new.MNM is null and old.MNM is not null) or (new.MNM is not null and old.MNM is null)) then
 execute procedure insertlogitem(:indice,'MNM',old.MNM,new.MNM);
if ((new.PRESENHA <> old.PRESENHA) or (new.PRESENHA is null and old.PRESENHA is not null) or (new.PRESENHA is not null and old.PRESENHA is null)) then
 execute procedure insertlogitem(:indice,'PRESENHA',old.PRESENHA,new.PRESENHA);
if ((new.QUANTIDADE <> old.QUANTIDADE) or (new.QUANTIDADE is null and old.QUANTIDADE is not null) or (new.QUANTIDADE is not null and old.QUANTIDADE is null)) then
 execute procedure insertlogitem(:indice,'QUANTIDADE',old.QUANTIDADE,new.QUANTIDADE);
if ((new.REPRESENTA <> old.REPRESENTA) or (new.REPRESENTA is null and old.REPRESENTA is not null) or (new.REPRESENTA is not null and old.REPRESENTA is null)) then
 execute procedure insertlogitem(:indice,'REPRESENTA',old.REPRESENTA,new.REPRESENTA);
if ((new.RSGLOSA <> old.RSGLOSA) or (new.RSGLOSA is null and old.RSGLOSA is not null) or (new.RSGLOSA is not null and old.RSGLOSA is null)) then
 execute procedure insertlogitem(:indice,'RSGLOSA',old.RSGLOSA,new.RSGLOSA);
if ((new.SENHA <> old.SENHA) or (new.SENHA is null and old.SENHA is not null) or (new.SENHA is not null and old.SENHA is null)) then
 execute procedure insertlogitem(:indice,'SENHA',old.SENHA,new.SENHA);
if ((new.SOLICITANTE <> old.SOLICITANTE) or (new.SOLICITANTE is null and old.SOLICITANTE is not null) or (new.SOLICITANTE is not null and old.SOLICITANTE is null)) then
 execute procedure insertlogitem(:indice,'SOLICITANTE',old.SOLICITANTE,new.SOLICITANTE);
if ((new.STATUS <> old.STATUS) or (new.STATUS is null and old.STATUS is not null) or (new.STATUS is not null and old.STATUS is null)) then
 execute procedure insertlogitem(:indice,'STATUS',old.STATUS,new.STATUS);
if ((new.STATUS1 <> old.STATUS1) or (new.STATUS1 is null and old.STATUS1 is not null) or (new.STATUS1 is not null and old.STATUS1 is null)) then
 execute procedure insertlogitem(:indice,'STATUS1',old.STATUS1,new.STATUS1);
if ((new.SUSCNPJ <> old.SUSCNPJ) or (new.SUSCNPJ is null and old.SUSCNPJ is not null) or (new.SUSCNPJ is not null and old.SUSCNPJ is null)) then
 execute procedure insertlogitem(:indice,'SUSCNPJ',old.SUSCNPJ,new.SUSCNPJ);
if ((new.SUSNOTA <> old.SUSNOTA) or (new.SUSNOTA is null and old.SUSNOTA is not null) or (new.SUSNOTA is not null and old.SUSNOTA is null)) then
 execute procedure insertlogitem(:indice,'SUSNOTA',old.SUSNOTA,new.SUSNOTA);
if ((new.SUSTIPO <> old.SUSTIPO) or (new.SUSTIPO is null and old.SUSTIPO is not null) or (new.SUSTIPO is not null and old.SUSTIPO is null)) then
 execute procedure insertlogitem(:indice,'SUSTIPO',old.SUSTIPO,new.SUSTIPO);
if ((new.SUSTIPOATO <> old.SUSTIPOATO) or (new.SUSTIPOATO is null and old.SUSTIPOATO is not null) or (new.SUSTIPOATO is not null and old.SUSTIPOATO is null)) then
 execute procedure insertlogitem(:indice,'SUSTIPOATO',old.SUSTIPOATO,new.SUSTIPOATO);
if ((new.TECNICA <> old.TECNICA) or (new.TECNICA is null and old.TECNICA is not null) or (new.TECNICA is not null and old.TECNICA is null)) then
 execute procedure insertlogitem(:indice,'TECNICA',old.TECNICA,new.TECNICA);
if ((new.TERMINAL <> old.TERMINAL) or (new.TERMINAL is null and old.TERMINAL is not null) or (new.TERMINAL is not null and old.TERMINAL is null)) then
 execute procedure insertlogitem(:indice,'TERMINAL',old.TERMINAL,new.TERMINAL);
if ((new.UNIDADENEGOCIO <> old.UNIDADENEGOCIO) or (new.UNIDADENEGOCIO is null and old.UNIDADENEGOCIO is not null) or (new.UNIDADENEGOCIO is not null and old.UNIDADENEGOCIO is null)) then
 execute procedure insertlogitem(:indice,'UNIDADENEGOCIO',old.UNIDADENEGOCIO,new.UNIDADENEGOCIO);
if ((new.USERGLOSA <> old.USERGLOSA) or (new.USERGLOSA is null and old.USERGLOSA is not null) or (new.USERGLOSA is not null and old.USERGLOSA is null)) then
 execute procedure insertlogitem(:indice,'USERGLOSA',old.USERGLOSA,new.USERGLOSA);
if ((new.VALOR <> old.VALOR) or (new.VALOR is null and old.VALOR is not null) or (new.VALOR is not null and old.VALOR is null)) then
 execute procedure insertlogitem(:indice,'VALOR',old.VALOR,new.VALOR);
if ((new.VALORPROF <> old.VALORPROF) or (new.VALORPROF is null and old.VALORPROF is not null) or (new.VALORPROF is not null and old.VALORPROF is null)) then
 execute procedure insertlogitem(:indice,'VALORPROF',old.VALORPROF,new.VALORPROF);
if ((new.VIA <> old.VIA) or (new.VIA is null and old.VIA is not null) or (new.VIA is not null and old.VIA is null)) then
 execute procedure insertlogitem(:indice,'VIA',old.VIA,new.VIA);
if ((new.XMLID <> old.XMLID) or (new.XMLID is null and old.XMLID is not null) or (new.XMLID is not null and old.XMLID is null)) then
 execute procedure insertlogitem(:indice,'XMLID',old.XMLID,new.XMLID);
 end
 ^

CREATE TRIGGER "DELCPS2X" FOR "CPS2" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
execute statement 'insert into X_CPS2
  (CODIGOSERV, A_MEDICOS, A_CODMOE, QUANTIDADE, A_QUANTIDA, VALOR, A_SITUACAO,
   DATA, HORA, DATASAIDA, HORASAIDA, CREMEBSOL, INDICE, CODIGOCPS2, CODIGOAMB,
   DHE, GLOSA, REPRESENTA, SENHA, ESPECIALIDADE, VIA, SUSTIPO, SUSTIPOATO,
   SUSCNPJ, SUSNOTA, USER1, USER2, DATA1, DATA2, COBRAR, UNIDADENEGOCIO, GRUPOSUS, IP,
   VERSAO, IP1, VERSAO1, RSGLOSA, GLOSACERTA, GRAUPARTICIPACAO, TECNICA, GRUPOSUS1,
   JUSTIFICATIVA, MNM, GLOSATIPO, GLOSATIPO2, GLOSADEFINITIVA, CIRURGIA )
SELECT
   CODIGOSERV, A_MEDICOS, A_CODMOE, QUANTIDADE, A_QUANTIDA, VALOR, A_SITUACAO,
   DATA, HORA, DATASAIDA, HORASAIDA, CREMEBSOL, INDICE, CODIGOCPS2, CODIGOAMB,
   DHE, GLOSA, REPRESENTA, SENHA, ESPECIALIDADE, VIA, SUSTIPO, SUSTIPOATO,
   SUSCNPJ, SUSNOTA, USER1, USER2, DATA1, DATA2, COBRAR, UNIDADENEGOCIO, GRUPOSUS, IP,
   VERSAO, IP1, VERSAO1, RSGLOSA, GLOSACERTA, GRAUPARTICIPACAO, TECNICA, GRUPOSUS1,
   JUSTIFICATIVA, MNM, GLOSATIPO, GLOSATIPO2, GLOSADEFINITIVA, CIRURGIA
FROM CPS2
WHERE INDICE = ' || cast(OLD.INDICE as integer);
END
 ^

CREATE TRIGGER "DELCPS2" FOR "CPS2" 
ACTIVE AFTER DELETE POSITION 0
AS
begin
  Update CPS1 SET VALORTOTAL = VALORTOTAL - OLD.VALOR WHERE CODIGOCPS = OLD.CODIGOCPS2;
  IF (OLD.COBRAR <> 'N') THEN
  BEGIN
      Update CPS1 SET GLOSA = GLOSA - OLD.GLOSA WHERE CODIGOCPS = OLD.CODIGOCPS2;
  END
end
 ^

CREATE TRIGGER "TRGADLOG_CPS2" FOR "CPS2" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPS2',OLD.INDICE,'D') into :indice;
if (old.ANVISA is not null) then
 execute procedure insertlogitem(:indice,'ANVISA',old.ANVISA,null);
if (old.A_CODMOE is not null) then
 execute procedure insertlogitem(:indice,'A_CODMOE',old.A_CODMOE,null);
if (old.A_FILME is not null) then
 execute procedure insertlogitem(:indice,'A_FILME',old.A_FILME,null);
if (old.A_MEDICOS is not null) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,null);
if (old.A_QUANTIDA is not null) then
 execute procedure insertlogitem(:indice,'A_QUANTIDA',old.A_QUANTIDA,null);
if (old.A_SITUACAO is not null) then
 execute procedure insertlogitem(:indice,'A_SITUACAO',old.A_SITUACAO,null);
if (old.CO is not null) then
 execute procedure insertlogitem(:indice,'CO',old.CO,null);
if (old.COBRAR is not null) then
 execute procedure insertlogitem(:indice,'COBRAR',old.COBRAR,null);
if (old.CODIGOAMB is not null) then
 execute procedure insertlogitem(:indice,'CODIGOAMB',old.CODIGOAMB,null);
if (old.CODIGOAMB1 is not null) then
 execute procedure insertlogitem(:indice,'CODIGOAMB1',old.CODIGOAMB1,null);
if (old.CODIGOCPS2 is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS2',old.CODIGOCPS2,null);
if (old.CODIGOSERV is not null) then
 execute procedure insertlogitem(:indice,'CODIGOSERV',old.CODIGOSERV,null);
if (old.CONTRASTE is not null) then
 execute procedure insertlogitem(:indice,'CONTRASTE',old.CONTRASTE,null);
if (old.CREMEBSOL is not null) then
 execute procedure insertlogitem(:indice,'CREMEBSOL',old.CREMEBSOL,null);
if (old.CUSTO is not null) then
 execute procedure insertlogitem(:indice,'CUSTO',old.CUSTO,null);
if (old.DATA is not null) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,null);
if (old.DATAGLOSA is not null) then
 execute procedure insertlogitem(:indice,'DATAGLOSA',old.DATAGLOSA,null);
if (old.DATAREPRESENTA is not null) then
 execute procedure insertlogitem(:indice,'DATAREPRESENTA',old.DATAREPRESENTA,null);
if (old.DATASAIDA is not null) then
 execute procedure insertlogitem(:indice,'DATASAIDA',old.DATASAIDA,null);
if (old.DHE is not null) then
 execute procedure insertlogitem(:indice,'DHE',old.DHE,null);
if (old.DICOM is not null) then
 execute procedure insertlogitem(:indice,'DICOM',old.DICOM,null);
if (old.ESPECIALIDADE is not null) then
 execute procedure insertlogitem(:indice,'ESPECIALIDADE',old.ESPECIALIDADE,null);
if (old.FALHA is not null) then
 execute procedure insertlogitem(:indice,'FALHA',old.FALHA,null);
if (old.GLOSA is not null) then
 execute procedure insertlogitem(:indice,'GLOSA',old.GLOSA,null);
if (old.GLOSACERTA is not null) then
 execute procedure insertlogitem(:indice,'GLOSACERTA',old.GLOSACERTA,null);
if (old.GLOSADATA is not null) then
 execute procedure insertlogitem(:indice,'GLOSADATA',old.GLOSADATA,null);
if (old.GLOSADEFINITIVA is not null) then
 execute procedure insertlogitem(:indice,'GLOSADEFINITIVA',old.GLOSADEFINITIVA,null);
if (old.GLOSARECEBIDA is not null) then
 execute procedure insertlogitem(:indice,'GLOSARECEBIDA',old.GLOSARECEBIDA,null);
if (old.GLOSARESPONSAVEL is not null) then
 execute procedure insertlogitem(:indice,'GLOSARESPONSAVEL',old.GLOSARESPONSAVEL,null);
if (old.GLOSATIPO is not null) then
 execute procedure insertlogitem(:indice,'GLOSATIPO',old.GLOSATIPO,null);
if (old.GLOSATIPO2 is not null) then
 execute procedure insertlogitem(:indice,'GLOSATIPO2',old.GLOSATIPO2,null);
if (old.GRAUPARTICIPACAO is not null) then
 execute procedure insertlogitem(:indice,'GRAUPARTICIPACAO',old.GRAUPARTICIPACAO,null);
if (old.GRUPOSUS is not null) then
 execute procedure insertlogitem(:indice,'GRUPOSUS',old.GRUPOSUS,null);
if (old.GRUPOSUS1 is not null) then
 execute procedure insertlogitem(:indice,'GRUPOSUS1',old.GRUPOSUS1,null);
if (old.HORA is not null) then
 execute procedure insertlogitem(:indice,'HORA',old.HORA,null);
if (old.HORASAIDA is not null) then
 execute procedure insertlogitem(:indice,'HORASAIDA',old.HORASAIDA,null);
if (old.INDICE is not null) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,null);
if (old.JUSTIFICATIVA is not null) then
 execute procedure insertlogitem(:indice,'JUSTIFICATIVA',old.JUSTIFICATIVA,null);
if (old.LIQUIDO is not null) then
 execute procedure insertlogitem(:indice,'LIQUIDO',old.LIQUIDO,null);
if (old.MATERIAL is not null) then
 execute procedure insertlogitem(:indice,'MATERIAL',old.MATERIAL,null);
if (old.MEDICACAO_ASSOCIADA is not null) then
 execute procedure insertlogitem(:indice,'MEDICACAO_ASSOCIADA',old.MEDICACAO_ASSOCIADA,null);
if (old.MNM is not null) then
 execute procedure insertlogitem(:indice,'MNM',old.MNM,null);
if (old.PRESENHA is not null) then
 execute procedure insertlogitem(:indice,'PRESENHA',old.PRESENHA,null);
if (old.QUANTIDADE is not null) then
 execute procedure insertlogitem(:indice,'QUANTIDADE',old.QUANTIDADE,null);
if (old.REPRESENTA is not null) then
 execute procedure insertlogitem(:indice,'REPRESENTA',old.REPRESENTA,null);
if (old.RSGLOSA is not null) then
 execute procedure insertlogitem(:indice,'RSGLOSA',old.RSGLOSA,null);
if (old.SENHA is not null) then
 execute procedure insertlogitem(:indice,'SENHA',old.SENHA,null);
if (old.SOLICITANTE is not null) then
 execute procedure insertlogitem(:indice,'SOLICITANTE',old.SOLICITANTE,null);
if (old.STATUS is not null) then
 execute procedure insertlogitem(:indice,'STATUS',old.STATUS,null);
if (old.STATUS1 is not null) then
 execute procedure insertlogitem(:indice,'STATUS1',old.STATUS1,null);
if (old.SUSCNPJ is not null) then
 execute procedure insertlogitem(:indice,'SUSCNPJ',old.SUSCNPJ,null);
if (old.SUSNOTA is not null) then
 execute procedure insertlogitem(:indice,'SUSNOTA',old.SUSNOTA,null);
if (old.SUSTIPO is not null) then
 execute procedure insertlogitem(:indice,'SUSTIPO',old.SUSTIPO,null);
if (old.SUSTIPOATO is not null) then
 execute procedure insertlogitem(:indice,'SUSTIPOATO',old.SUSTIPOATO,null);
if (old.TECNICA is not null) then
 execute procedure insertlogitem(:indice,'TECNICA',old.TECNICA,null);
if (old.TERMINAL is not null) then
 execute procedure insertlogitem(:indice,'TERMINAL',old.TERMINAL,null);
if (old.UNIDADENEGOCIO is not null) then
 execute procedure insertlogitem(:indice,'UNIDADENEGOCIO',old.UNIDADENEGOCIO,null);
if (old.USERGLOSA is not null) then
 execute procedure insertlogitem(:indice,'USERGLOSA',old.USERGLOSA,null);
if (old.VALOR is not null) then
 execute procedure insertlogitem(:indice,'VALOR',old.VALOR,null);
if (old.VALORPROF is not null) then
 execute procedure insertlogitem(:indice,'VALORPROF',old.VALORPROF,null);
if (old.VIA is not null) then
 execute procedure insertlogitem(:indice,'VIA',old.VIA,null);
if (old.XMLID is not null) then
 execute procedure insertlogitem(:indice,'XMLID',old.XMLID,null);
 end
 ^

CREATE TRIGGER "INS_CPS2CC" FOR "CPS2CC" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Indice = gen_id( gen_cps2CC, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPS2CC" FOR "CPS2CC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "CPS3_BI" FOR "CPS3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.indice = GEN_ID( GEN_CPS3, 1 );
END
 ^

CREATE TRIGGER "CPS3_MEDICAMENTOS" FOR "CPS3" 
ACTIVE BEFORE INSERT POSITION 0
AS
DECLARE VARIABLE TIPO VARCHAR(10);
BEGIN
  SELECT A_CODAMB FROM MATMED WHERE CODIGOMM = NEW.CODIGOMM INTO :TIPO;
  If (TIPO = '72140011') Then
     new.cobrar = 'N';
END
 ^

CREATE TRIGGER "CPS3_AI" FOR "CPS3" 
ACTIVE AFTER INSERT POSITION 0
AS
BEGIN
  if (new.cobrar = 'S') then
  begin
    Update CPS1 SET TOTALMATMED = TOTALMATMED + ( NEW.QUANTIDADE * NEW.UNITARIO )
    WHERE CODIGOCPS = NEW.CODIGOCPS;
    Update CPS1 SET GLOSA = GLOSA + NEW.GLOSA
    WHERE CODIGOCPS = NEW.CODIGOCPS;
  end
END
 ^

CREATE TRIGGER "TRGAI_CPS3_PROC" FOR "CPS3" 
ACTIVE AFTER INSERT POSITION 20
as
declare variable codigoambmm varchar(8);
begin
    delete from cps2 where codigocps2 = new.codigocps and codigoamb in ('01100012');
    insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data,
    hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01100012'),'01100012',17,(select sum(quantidade) from cps3 inner join matmed on (matmed.codigomm = cps3.codigomm) where cps3.codigocps = new.codigocps and matmed.A_CODAMB = '72140011' ),1,0.63,0.63,'today',new.hora,'N',0,0,0,01,'03','C','S');
end
 ^

CREATE TRIGGER "CPS3BU_MEDICAMENTOS" FOR "CPS3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
DECLARE VARIABLE TIPO VARCHAR(10);
BEGIN
  SELECT A_CODAMB FROM MATMED WHERE CODIGOMM = NEW.CODIGOMM INTO :TIPO;
  If (TIPO = '72140011') Then
     new.cobrar = 'N';
END
 ^

CREATE TRIGGER "TRGBU_CPS3_GLOSA" FOR "CPS3" 
ACTIVE BEFORE UPDATE POSITION 20
as
declare variable fatura integer;
begin
  if ((new.glosa <> old.glosa) or (new.representa <> old.representa)) then
  begin
    select faturaglosa from cps1 where codigocps = new.codigocps into :fatura;
    if (fatura > 0) then
      exception exc_glosa;
  end
end
 ^

CREATE TRIGGER "CPS3_AU" FOR "CPS3" 
ACTIVE AFTER UPDATE POSITION 0
AS
BEGIN
  if ( ( OLD.QUANTIDADE * OLD.UNITARIO ) <> ( new.QUANTIDADE * new.UNITARIO ) ) then
     Update CPS1 SET TOTALMATMED = TOTALMATMED - ( OLD.QUANTIDADE * OLD.UNITARIO )
     + ( NEW.QUANTIDADE * NEW.UNITARIO ) WHERE CODIGOCPS = OLD.CODIGOCPS;
  if ( new.cobrar <> old.cobrar ) then
  begin
    if (new.cobrar = 'S') then
     Update CPS1 SET TOTALMATMED = TOTALMATMED + ( NEW.QUANTIDADE * NEW.UNITARIO ) WHERE CODIGOCPS = OLD.CODIGOCPS;
    if (new.cobrar = 'N') then
     Update CPS1 SET TOTALMATMED = TOTALMATMED - ( NEW.QUANTIDADE * NEW.UNITARIO ) WHERE CODIGOCPS = OLD.CODIGOCPS;
  end
  if ( OLD.GLOSA <> NEW.GLOSA ) then
  Update CPS1 SET GLOSA = GLOSA - OLD.GLOSA + NEW.GLOSA WHERE CODIGOCPS = OLD.CODIGOCPS;
END
 ^

CREATE TRIGGER "CPS3_BEFOREDEL" FOR "CPS3" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into X_CPS3
 (INDICE, CODIGOCPS, CODIGOMM, DATA, HORA, QUANTIDADE, UNITARIO,
  TOTAL, GLOSA, REPRESENTA, USER1, USER2, DATA1, DATA2)
SELECT
  INDICE, CODIGOCPS, CODIGOMM, DATA, HORA, QUANTIDADE, UNITARIO,
  TOTAL, GLOSA, REPRESENTA, USER1, USER2, DATA1, DATA2
fROM CPS3
WHERE INDICE = OLD.INDICE;
END
 ^

CREATE TRIGGER "CPS3_AD" FOR "CPS3" 
ACTIVE AFTER DELETE POSITION 20
AS
BEGIN
  if (old.cobrar = 'S') then
  begin
    Update CPS1 SET TOTALMATMED = TOTALMATMED - ( OLD.QUANTIDADE * OLD.UNITARIO ) WHERE CODIGOCPS = OLD.CODIGOCPS;
    Update CPS1 SET GLOSA = GLOSA - OLD.GLOSA  WHERE CODIGOCPS = OLD.CODIGOCPS;
    INSERT INTO X_CPS3 (INDICE, CODIGOCPS, CODIGOMM, DATA, HORA, QUANTIDADE, UNITARIO, TOTAL, GLOSA, LIQUIDO, REPRESENTA) SELECT INDICE, CODIGOCPS, CODIGOMM, DATA, HORA, QUANTIDADE, UNITARIO, TOTAL, GLOSA, LIQUIDO, REPRESENTA FROM CPS3 WHERE CODIGOCPS = OLD.CODIGOCPS;
  end
END
 ^

CREATE TRIGGER "INSCPS5" FOR "CPS5" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Sequencia = gen_id( gen_cps5, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPS5" FOR "CPS5" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPS5" FOR "CPS5" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSCPS6" FOR "CPS6" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Sequencia = gen_id( gen_cps6, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPS6" FOR "CPS6" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
If (new.datasinc is null) then
  NEW.DATASINC = 'NOW';
new.confirmado = 'N';
new.numerolaudo = null;
END
 ^

CREATE TRIGGER "TRIG_CPS6_" FOR "CPS6" 
ACTIVE BEFORE INSERT POSITION 0
as
BEGIN
    if (new.codigoserv is null) then
    begin
      select first 1 codigoserv from servicosconvenio(1,'today',1) where a_codamb = NEW.CODIGOAMB and codigoserv is not null into new.codigoserv;
    end
END
 ^

CREATE TRIGGER "TRIG_CPS6_ROLFPO" FOR "CPS6" 
ACTIVE BEFORE INSERT POSITION 0
as
declare variable varautemerg varchar(10);
declare variable varautAMB varchar(10);
declare variable varautINT varchar(10);
declare variable vartipoatend varchar(10);
BEGIN
    varautemerg = '';
    varautAMB = '';
    varautINT = '';
    Select codigopla from cps1 where codigocps = new.codigocps6 into :vartipoatend;
    if (NEW.CODIGOAMB <> '') then
    begin
      select first 1 AUTEMG, AUTAMB, AUTINT from servicos where tabela = 6  and a_codamb = NEW.CODIGOAMB
       into :varautemerg, :varautAMB, :varautINT;
       if ((:varautemerg = 'N') and (:vartipoatend = 2)) Then
         exception exc_dinamica 'Procedimento nAo autorizado para Emergencia nesta unidade';
       if ((:varautAMB = 'N') and (:vartipoatend = 1)) Then
         exception exc_dinamica 'Procedimento nAo autorizado para AMBULATORIO nesta unidade';
       if ((:varautINT = 'N') and (:vartipoatend > 2)) Then
         exception exc_dinamica 'Procedimento nAo autorizado para INTERNAMENTO nesta unidade';
    end
END
 ^

CREATE TRIGGER "TRIG_BI_COLETADO" FOR "CPS6" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
        NEW.COLETADO = 'N';
END
 ^

CREATE TRIGGER "TRGAILOG_CPS6" FOR "CPS6" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('CPS6',NEW.SEQUENCIA,'I') into indice; end
 ^

CREATE TRIGGER "SINC2_CPS6" FOR "CPS6" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATA2 = 'NOW';
END
 ^

CREATE TRIGGER "TRGAULOG_CPS6" FOR "CPS6" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPS6',NEW.SEQUENCIA,'U') into :indice;
if ((new.AUTORIZADO <> old.AUTORIZADO) or (new.AUTORIZADO is null and old.AUTORIZADO is not null) or (new.AUTORIZADO is not null and old.AUTORIZADO is null)) then
 execute procedure insertlogitem(:indice,'AUTORIZADO',old.AUTORIZADO,new.AUTORIZADO);
if ((new.A_SITUACAO <> old.A_SITUACAO) or (new.A_SITUACAO is null and old.A_SITUACAO is not null) or (new.A_SITUACAO is not null and old.A_SITUACAO is null)) then
 execute procedure insertlogitem(:indice,'A_SITUACAO',old.A_SITUACAO,new.A_SITUACAO);
if ((new.CID_SOLICITACAO <> old.CID_SOLICITACAO) or (new.CID_SOLICITACAO is null and old.CID_SOLICITACAO is not null) or (new.CID_SOLICITACAO is not null and old.CID_SOLICITACAO is null)) then
 execute procedure insertlogitem(:indice,'CID_SOLICITACAO',old.CID_SOLICITACAO,new.CID_SOLICITACAO);
if ((new.CLASSE <> old.CLASSE) or (new.CLASSE is null and old.CLASSE is not null) or (new.CLASSE is not null and old.CLASSE is null)) then
 execute procedure insertlogitem(:indice,'CLASSE',old.CLASSE,new.CLASSE);
if ((new.CODIGOAMB <> old.CODIGOAMB) or (new.CODIGOAMB is null and old.CODIGOAMB is not null) or (new.CODIGOAMB is not null and old.CODIGOAMB is null)) then
 execute procedure insertlogitem(:indice,'CODIGOAMB',old.CODIGOAMB,new.CODIGOAMB);
if ((new.CODIGOCPS6 <> old.CODIGOCPS6) or (new.CODIGOCPS6 is null and old.CODIGOCPS6 is not null) or (new.CODIGOCPS6 is not null and old.CODIGOCPS6 is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS6',old.CODIGOCPS6,new.CODIGOCPS6);
if ((new.CODIGOSERV <> old.CODIGOSERV) or (new.CODIGOSERV is null and old.CODIGOSERV is not null) or (new.CODIGOSERV is not null and old.CODIGOSERV is null)) then
 execute procedure insertlogitem(:indice,'CODIGOSERV',old.CODIGOSERV,new.CODIGOSERV);
if ((new.COLETADO <> old.COLETADO) or (new.COLETADO is null and old.COLETADO is not null) or (new.COLETADO is not null and old.COLETADO is null)) then
 execute procedure insertlogitem(:indice,'COLETADO',old.COLETADO,new.COLETADO);
if ((new.CONFIRMADO <> old.CONFIRMADO) or (new.CONFIRMADO is null and old.CONFIRMADO is not null) or (new.CONFIRMADO is not null and old.CONFIRMADO is null)) then
 execute procedure insertlogitem(:indice,'CONFIRMADO',old.CONFIRMADO,new.CONFIRMADO);
if ((new.CPSIMPOR <> old.CPSIMPOR) or (new.CPSIMPOR is null and old.CPSIMPOR is not null) or (new.CPSIMPOR is not null and old.CPSIMPOR is null)) then
 execute procedure insertlogitem(:indice,'CPSIMPOR',old.CPSIMPOR,new.CPSIMPOR);
if ((new.DATAHORA <> old.DATAHORA) or (new.DATAHORA is null and old.DATAHORA is not null) or (new.DATAHORA is not null and old.DATAHORA is null)) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,new.DATAHORA);
if ((new.DICOM <> old.DICOM) or (new.DICOM is null and old.DICOM is not null) or (new.DICOM is not null and old.DICOM is null)) then
 execute procedure insertlogitem(:indice,'DICOM',old.DICOM,new.DICOM);
if ((new.EXECUTADOPOR <> old.EXECUTADOPOR) or (new.EXECUTADOPOR is null and old.EXECUTADOPOR is not null) or (new.EXECUTADOPOR is not null and old.EXECUTADOPOR is null)) then
 execute procedure insertlogitem(:indice,'EXECUTADOPOR',old.EXECUTADOPOR,new.EXECUTADOPOR);
if ((new.ID <> old.ID) or (new.ID is null and old.ID is not null) or (new.ID is not null and old.ID is null)) then
 execute procedure insertlogitem(:indice,'ID',old.ID,new.ID);
if ((new.INDICE_PEDIDO <> old.INDICE_PEDIDO) or (new.INDICE_PEDIDO is null and old.INDICE_PEDIDO is not null) or (new.INDICE_PEDIDO is not null and old.INDICE_PEDIDO is null)) then
 execute procedure insertlogitem(:indice,'INDICE_PEDIDO',old.INDICE_PEDIDO,new.INDICE_PEDIDO);
if ((new.NUMEROLAUDO <> old.NUMEROLAUDO) or (new.NUMEROLAUDO is null and old.NUMEROLAUDO is not null) or (new.NUMEROLAUDO is not null and old.NUMEROLAUDO is null)) then
 execute procedure insertlogitem(:indice,'NUMEROLAUDO',old.NUMEROLAUDO,new.NUMEROLAUDO);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.POSOLOGIA <> old.POSOLOGIA) or (new.POSOLOGIA is null and old.POSOLOGIA is not null) or (new.POSOLOGIA is not null and old.POSOLOGIA is null)) then
 execute procedure insertlogitem(:indice,'POSOLOGIA',old.POSOLOGIA,new.POSOLOGIA);
if ((new.PRESCRICAO <> old.PRESCRICAO) or (new.PRESCRICAO is null and old.PRESCRICAO is not null) or (new.PRESCRICAO is not null and old.PRESCRICAO is null)) then
 execute procedure insertlogitem(:indice,'PRESCRICAO',old.PRESCRICAO,new.PRESCRICAO);
if ((new.PROCEDIMENTO <> old.PROCEDIMENTO) or (new.PROCEDIMENTO is null and old.PROCEDIMENTO is not null) or (new.PROCEDIMENTO is not null and old.PROCEDIMENTO is null)) then
 execute procedure insertlogitem(:indice,'PROCEDIMENTO',old.PROCEDIMENTO,new.PROCEDIMENTO);
if ((new.QTDE <> old.QTDE) or (new.QTDE is null and old.QTDE is not null) or (new.QTDE is not null and old.QTDE is null)) then
 execute procedure insertlogitem(:indice,'QTDE',old.QTDE,new.QTDE);
if ((new.SELECAO <> old.SELECAO) or (new.SELECAO is null and old.SELECAO is not null) or (new.SELECAO is not null and old.SELECAO is null)) then
 execute procedure insertlogitem(:indice,'SELECAO',old.SELECAO,new.SELECAO);
if ((new.SEQUENCIA <> old.SEQUENCIA) or (new.SEQUENCIA is null and old.SEQUENCIA is not null) or (new.SEQUENCIA is not null and old.SEQUENCIA is null)) then
 execute procedure insertlogitem(:indice,'SEQUENCIA',old.SEQUENCIA,new.SEQUENCIA);
if ((new.SOLICITANTE <> old.SOLICITANTE) or (new.SOLICITANTE is null and old.SOLICITANTE is not null) or (new.SOLICITANTE is not null and old.SOLICITANTE is null)) then
 execute procedure insertlogitem(:indice,'SOLICITANTE',old.SOLICITANTE,new.SOLICITANTE);
if ((new.STATUS <> old.STATUS) or (new.STATUS is null and old.STATUS is not null) or (new.STATUS is not null and old.STATUS is null)) then
 execute procedure insertlogitem(:indice,'STATUS',old.STATUS,new.STATUS);
if ((new.TIPO <> old.TIPO) or (new.TIPO is null and old.TIPO is not null) or (new.TIPO is not null and old.TIPO is null)) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,new.TIPO);
if ((new.TIPOPROC <> old.TIPOPROC) or (new.TIPOPROC is null and old.TIPOPROC is not null) or (new.TIPOPROC is not null and old.TIPOPROC is null)) then
 execute procedure insertlogitem(:indice,'TIPOPROC',old.TIPOPROC,new.TIPOPROC);
if ((new.TRATAMENTO <> old.TRATAMENTO) or (new.TRATAMENTO is null and old.TRATAMENTO is not null) or (new.TRATAMENTO is not null and old.TRATAMENTO is null)) then
 execute procedure insertlogitem(:indice,'TRATAMENTO',old.TRATAMENTO,new.TRATAMENTO);
 end
 ^

CREATE TRIGGER "DELCPS6" FOR "CPS6" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  INSERT INTO X_CPS6 (SEQUENCIA,CODIGOCPS6,CODIGOSERV,CODIGOAMB,A_SITUACAO,PROCEDIMENTO,DICOM,SELECAO,TIPO,
QTDE,DATA2,DATASINC,CPSIMPOR,AUTORIZADO,PRESCRICAO,TIPOPROC,CONFIRMADO,COLETADO,NUMEROLAUDO,STATUS,POSOLOGIA,
OBSERVACAO,SOLICITANTE,EXECUTADOPOR,ID,TRATAMENTO,DATAHORA,CLASSE,INDICE_PEDIDO,DATA1,CID_SOLICITACAO,WORKLIST,
USUARIODELETOU)
  select SEQUENCIA,CODIGOCPS6,CODIGOSERV,CODIGOAMB,A_SITUACAO,PROCEDIMENTO,DICOM,SELECAO,TIPO,
QTDE,DATA2,DATASINC,CPSIMPOR,AUTORIZADO,PRESCRICAO,TIPOPROC,CONFIRMADO,COLETADO,NUMEROLAUDO,STATUS,POSOLOGIA,
OBSERVACAO,SOLICITANTE,EXECUTADOPOR,ID,TRATAMENTO,DATAHORA,CLASSE,INDICE_PEDIDO,DATA1,CID_SOLICITACAO,WORKLIST,
rdb$get_context('USER_SESSION', 'USUARIO')
  from CPS6 WHERE SEQUENCIA = OLD.SEQUENCIA;
end
 ^

CREATE TRIGGER "TRGADLOG_CPS6" FOR "CPS6" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPS6',OLD.SEQUENCIA,'D') into :indice;
if (old.AUTORIZADO is not null) then
 execute procedure insertlogitem(:indice,'AUTORIZADO',old.AUTORIZADO,null);
if (old.A_SITUACAO is not null) then
 execute procedure insertlogitem(:indice,'A_SITUACAO',old.A_SITUACAO,null);
if (old.CID_SOLICITACAO is not null) then
 execute procedure insertlogitem(:indice,'CID_SOLICITACAO',old.CID_SOLICITACAO,null);
if (old.CLASSE is not null) then
 execute procedure insertlogitem(:indice,'CLASSE',old.CLASSE,null);
if (old.CODIGOAMB is not null) then
 execute procedure insertlogitem(:indice,'CODIGOAMB',old.CODIGOAMB,null);
if (old.CODIGOCPS6 is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS6',old.CODIGOCPS6,null);
if (old.CODIGOSERV is not null) then
 execute procedure insertlogitem(:indice,'CODIGOSERV',old.CODIGOSERV,null);
if (old.COLETADO is not null) then
 execute procedure insertlogitem(:indice,'COLETADO',old.COLETADO,null);
if (old.CONFIRMADO is not null) then
 execute procedure insertlogitem(:indice,'CONFIRMADO',old.CONFIRMADO,null);
if (old.CPSIMPOR is not null) then
 execute procedure insertlogitem(:indice,'CPSIMPOR',old.CPSIMPOR,null);
if (old.DATAHORA is not null) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,null);
if (old.DICOM is not null) then
 execute procedure insertlogitem(:indice,'DICOM',old.DICOM,null);
if (old.EXECUTADOPOR is not null) then
 execute procedure insertlogitem(:indice,'EXECUTADOPOR',old.EXECUTADOPOR,null);
if (old.ID is not null) then
 execute procedure insertlogitem(:indice,'ID',old.ID,null);
if (old.INDICE_PEDIDO is not null) then
 execute procedure insertlogitem(:indice,'INDICE_PEDIDO',old.INDICE_PEDIDO,null);
if (old.NUMEROLAUDO is not null) then
 execute procedure insertlogitem(:indice,'NUMEROLAUDO',old.NUMEROLAUDO,null);
if (old.OBSERVACAO is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,null);
if (old.POSOLOGIA is not null) then
 execute procedure insertlogitem(:indice,'POSOLOGIA',old.POSOLOGIA,null);
if (old.PRESCRICAO is not null) then
 execute procedure insertlogitem(:indice,'PRESCRICAO',old.PRESCRICAO,null);
if (old.PROCEDIMENTO is not null) then
 execute procedure insertlogitem(:indice,'PROCEDIMENTO',old.PROCEDIMENTO,null);
if (old.QTDE is not null) then
 execute procedure insertlogitem(:indice,'QTDE',old.QTDE,null);
if (old.SELECAO is not null) then
 execute procedure insertlogitem(:indice,'SELECAO',old.SELECAO,null);
if (old.SEQUENCIA is not null) then
 execute procedure insertlogitem(:indice,'SEQUENCIA',old.SEQUENCIA,null);
if (old.SOLICITANTE is not null) then
 execute procedure insertlogitem(:indice,'SOLICITANTE',old.SOLICITANTE,null);
if (old.STATUS is not null) then
 execute procedure insertlogitem(:indice,'STATUS',old.STATUS,null);
if (old.TIPO is not null) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,null);
if (old.TIPOPROC is not null) then
 execute procedure insertlogitem(:indice,'TIPOPROC',old.TIPOPROC,null);
if (old.TRATAMENTO is not null) then
 execute procedure insertlogitem(:indice,'TRATAMENTO',old.TRATAMENTO,null);
 end
 ^

CREATE TRIGGER "INSCPS7" FOR "CPS7" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Sequencia = gen_id( gen_cps7, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPS7" FOR "CPS7" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPS7" FOR "CPS7" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CPS8" FOR "CPS8" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Indice = gen_id( gen_cps8, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPS8" FOR "CPS8" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPS8" FOR "CPS8" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CPSAIH" FOR "CPSAIH" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.SEQUENCIA = GEN_ID( Gen_CPSAIH, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPSAIH" FOR "CPSAIH" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSAIH" FOR "CPSAIH" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CPSAMEV" FOR "CPSAMEV" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.NUMERO = GEN_ID( GEN_CPSAMEV, 1 );
END
 ^

CREATE TRIGGER "SINC1_CPSAMEV" FOR "CPSAMEV" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSAMEV" FOR "CPSAMEV" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSAUDITORIAITEM" FOR "CPSAUDITORIAITEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_cpsauditoriaitem,1);
end
 ^

CREATE TRIGGER "TRG_BI_CPSAUDTRAVA" FOR "CPSAUDTRAVA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.INDICE = GEN_ID(GEN_CPSAUDTRAVA,1);
END
 ^

CREATE TRIGGER "TRIG_BI_CPSAUDTRAVA" FOR "CPSAUDTRAVA" 
ACTIVE BEFORE INSERT POSITION 0
as
BEGIN
   NEW.DATAUSER1 = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BU_CPSAUDTRAVA" FOR "CPSAUDTRAVA" 
ACTIVE BEFORE UPDATE POSITION 0
as
BEGIN
   NEW.DATAUSER2 = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CPSAUTSOL" FOR "CPSAUTSOL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSAUTSOL" FOR "CPSAUTSOL" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.indice = gen_id(gen_cpsautsol,1);
end
 ^

CREATE TRIGGER "SINC2_CPSAUTSOL" FOR "CPSAUTSOL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CPSCONTROLE" FOR "CPSCONTROLE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSCONTROLE" FOR "CPSCONTROLE" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.indice = gen_id(gen_cpscontrole,1);
end
 ^

CREATE TRIGGER "SINC2_CPSCONTROLE" FOR "CPSCONTROLE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSCONTROLEPAC" FOR "CPSCONTROLEPAC" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_CPSCONTROLEPAC, 1);
END
 ^

CREATE TRIGGER "TRGBI_CPSCTRLPAC_DATA" FOR "CPSCONTROLEPAC" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  if (new.datahora >= current_date + 2) then
   exception exc_dinamica 'Data invalida ou hora de lanamento maior que atual.';
end
 ^

CREATE TRIGGER "TRGBI_CPSCTRLPAC_GC" FOR "CPSCONTROLEPAC" 
INACTIVE BEFORE INSERT POSITION 20
as
declare variable indice integer;
declare variable prescricao integer;
declare variable hora integer;
declare variable horainicio integer;
begin
  if (not (rdb$get_context('USER_SESSION','CPSALA') in (9,34,35,36))) then
 if (new.tipo = 'Glicemia Capilar') then
 begin
   select first 1 notamed4.sequencia, horainicio from notamed
   inner join notamed4 on (notamed4.prescricao = notamed.a_notamed)
   where notamed.codigocps = new.codigocps and notamed.datahora >= 'yesterday' and notamed.continuacao is null and
         notamed4.controle like 'Glicemia Capilar%'
   order by notamed.a_notamed desc into indice, horainicio;
   if (indice >0) then
   begin
     hora = extract(hour from new.datahora);
     if (hora = horainicio) then update  NOTAMED4 set ok1 = 'S', qx1 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok2 = 'S', qx2 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok3 = 'S', qx3 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok4 = 'S', qx4 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok5 = 'S', qx5 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok6 = 'S', qx6 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok7 = 'S', qx7 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok8 = 'S', qx8 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok9 = 'S', qx9 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok10 = 'S', qx10 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok11 = 'S', qx11 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     horainicio =horainicio + 2; if (horainicio >= 24) then horainicio = 0;
     if (hora = horainicio) then update  NOTAMED4 set ok12 = 'S', qx12 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
/*     if (hora = 08) then update  NOTAMED4 set ok1 = 'S', qx1 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 10) then update  NOTAMED4 set ok2 = 'S', qx2 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 12) then update  NOTAMED4 set ok3 = 'S', qx3 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 14) then update  NOTAMED4 set ok4 = 'S', qx4 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 16) then update  NOTAMED4 set ok5 = 'S', qx5 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 18) then update  NOTAMED4 set ok6 = 'S', qx6 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 20) then update  NOTAMED4 set ok7 = 'S', qx7 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 22) then update  NOTAMED4 set ok8 = 'S', qx8 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 00) then update  NOTAMED4 set ok9 = 'S', qx9 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 02) then update  NOTAMED4 set ok10 = 'S', qx10 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 04) then update  NOTAMED4 set ok11 = 'S', qx11 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
     if (hora = 06) then update  NOTAMED4 set ok12 = 'S', qx12 = rdb$get_context('USER_SESSION','NUMPROF') WHERE sequencia = :indice;
*/
   end
 end
end
 ^

CREATE TRIGGER "TRGBI_CPSCTRLPAC_TEMP" FOR "CPSCONTROLEPAC" 
ACTIVE BEFORE INSERT POSITION 20
as
declare variable indice integer;
declare variable prescricao integer;
declare variable hora integer;
begin
 if (new.tipo = 'Temp. Corporal') then
 begin
   select first 1 notamed4.sequencia from notamed
   inner join notamed4 on (notamed4.prescricao = notamed.a_notamed)
   where notamed.codigocps = new.codigocps and notamed.datahora >= 'yesterday' and notamed.continuacao is null and
         notamed4.controle like 'Temp. Corporal%'
   order by notamed.a_notamed desc into indice;
   if (indice >0) then
   begin
     new.valor = '0';
     hora = extract(hour from new.datahora);
     if (hora = 08) then update  NOTAMED4 set ok1 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 10) then update  NOTAMED4 set ok2 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 12) then update  NOTAMED4 set ok3 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 14) then update  NOTAMED4 set ok4 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 16) then update  NOTAMED4 set ok5 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 18) then update  NOTAMED4 set ok6 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 20) then update  NOTAMED4 set ok7 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 22) then update  NOTAMED4 set ok8 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 00) then update  NOTAMED4 set ok9 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 02) then update  NOTAMED4 set ok10 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 04) then update  NOTAMED4 set ok11 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
     if (hora = 06) then update  NOTAMED4 set ok12 = 'S', qx1 = new.user1 WHERE sequencia = :indice;
   end
 end
end
 ^

CREATE TRIGGER "TBI_BLOQ_VAL_REF" FOR "CPSCONTROLEPAC" 
ACTIVE BEFORE INSERT POSITION 100
as
declare variable minimo integer;
declare variable maximo integer;
begin
     Select minimo, maximo from controlepac where descricao = new.tipo
     into :minimo,:maximo;
     if ((new.valor not between :minimo and :maximo)) then
     exception valor_ref;
end
 ^

CREATE TRIGGER "TRIG_AI_SINAISVITAIS_DUPLO" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 30
as
begin
  delete from cpscontrolepac where  codigocps = new.codigocps and datahora = new.datahora and tipo = new.tipo and indice <> new.indice;
end
 ^

CREATE TRIGGER "TRGAI_SINAISVITAIS_CALCULO" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 50
as
declare variable valor varchar(20);
declare variable descricao varchar(100);
declare variable ganho double precision;
declare variable perda double precision;
declare variable antganho double precision;
declare variable antperda double precision;
declare variable datatemp timestamp;
declare variable datatemp1 timestamp;
begin
  if (not new.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico','Total Diurese 12h','Total Diurese 24h','Responsavel')) then
  begin
    ganho = null;
    select a_cremeb from medicos inner join usuarios on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1 and a_grupom = 27 into ganho;
    if (ganho is not null) then
    insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Responsavel',new.user1, new.user1);
    ganho = null;
    if (extract(hour from new.datahora) between 8 and 23) then
      datatemp = new.datahora;
    else
      datatemp = new.datahora - 1;
    antganho = 0;
    if (extract(hour from new.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora < new.datahora and cpscontrolepac.tipo like 'Total Ganhos' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antganho;
    antperda = 0;
    if (extract(hour from new.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora < new.datahora and cpscontrolepac.tipo like 'Total Perdas' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antperda;
    for select controlepac.grupo,sum(cpscontrolepac.valor) from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora = new.datahora and controlepac.grupo like '%drico%' and controlepac.auto is null
    group by 1 into descricao, valor do
    begin
      if ((descricao like '%Ganho%') and (valor <> '')) then
        ganho = valor;
      if ((descricao like '%Perda%') and (valor <> '')) then
        perda = valor;
      delete from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico');
      if (:ganho + :antganho >0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Total Ganhos',:ganho + :antganho, new.user1);
      if (:perda + :antperda >=0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Total Perdas',:perda + :antperda, new.user1);
    end
    if (perda is null) then perda = 0;
    if (ganho is null) then ganho = 0;
    if (antperda is null) then antperda = 0;
    if (antganho is null) then antganho = 0;
    ganho = (ganho + antganho) - (perda + antperda);
      if (ganho <>0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Balanco Hidrico',:ganho, new.user1);
    ganho = null;
    if ((extract(hour from new.datahora) <= 18) and (new.tipo = 'Diurese')) then
    begin
      datatemp1 = cast(new.datahora as date) + cast('08:00' as time);
      datatemp = cast(new.datahora as date) + cast('18:00' as time);
      select sum(valor) from cpscontrolepac where codigocps = new.codigocps and datahora between :datatemp1  and :datatemp  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (new.codigocps, cast(new.datahora as date) + cast('18:00' as time), 'Total Diurese 12h', new.user1, cast(:ganho as numeric(15,0)));
    end
    if (new.tipo = 'Diurese') then
    begin
      ganho = null;
      if (extract(hour from new.datahora) between 8 and 23) then
        datatemp = new.datahora;
      else
        datatemp = new.datahora - 1;
      select sum(valor) from cpscontrolepac where codigocps = new.codigocps and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (new.codigocps, cast(:datatemp+1 as date) + cast('06:00' as time), 'Total Diurese 24h', new.user1, cast(:ganho as numeric(15,0)));
    end
    ganho = null;
    select first 1 indice from cpscontrolepac where codigocps = new.codigocps and datahora > new.datahora and (not new.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico')) order by datahora into ganho;
    update cpscontrolepac set valor = valor where indice = :ganho;
  end
end
 ^

CREATE TRIGGER "TRGAI_SINAISVITAIS_CALCULO2" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 50
as
declare variable valor varchar(20);
declare variable descricao varchar(100);
declare variable ganho double precision;
declare variable perda double precision;
declare variable antganho double precision;
declare variable antperda double precision;
declare variable datatemp timestamp;
declare variable datatemp1 timestamp;
begin
  if (not new.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico','Total Diurese 12h','Total Diurese 24h','Responsavel')) then
  begin
    ganho = null;
    select a_cremeb from medicos inner join usuarios on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1 and a_grupom = 27 into ganho;
    if (ganho is not null) then
    insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Responsavel',new.user1, new.user1);
    ganho = null;
    if (extract(hour from new.datahora) between 8 and 23) then
      datatemp = new.datahora;
    else
      datatemp = new.datahora - 1;
    antganho = 0;
    if (extract(hour from new.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora < new.datahora and cpscontrolepac.tipo like 'Total Ganhos' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antganho;
    antperda = 0;
    if (extract(hour from new.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora < new.datahora and cpscontrolepac.tipo like 'Total Perdas' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antperda;
    for select controlepac.grupo,sum(cpscontrolepac.valor) from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora = new.datahora and controlepac.grupo like '%drico%' and controlepac.auto is null
    group by 1 into descricao, valor do
    begin
      if ((descricao like '%Ganho%') and (valor <> '')) then
        ganho = valor;
      if ((descricao like '%Perda%') and (valor <> '')) then
        perda = valor;
      delete from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico');
      if (:ganho + :antganho >0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Total Ganhos',:ganho + :antganho, new.user1);
      if (:perda + :antperda >=0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Total Perdas',:perda + :antperda, new.user1);
    end
    if (perda is null) then perda = 0;
    if (ganho is null) then ganho = 0;
    if (antperda is null) then antperda = 0;
    if (antganho is null) then antganho = 0;
    ganho = (ganho + antganho) - (perda + antperda);
      if (ganho <>0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Balanco Hidrico',:ganho, new.user1);
    ganho = null;
    if ((extract(hour from new.datahora) <= 18) and (new.tipo = 'Diurese')) then
    begin
      datatemp1 = cast(new.datahora as date) + cast('08:00' as time);
      datatemp = cast(new.datahora as date) + cast('18:00' as time);
      select sum(valor) from cpscontrolepac where codigocps = new.codigocps and datahora between :datatemp1  and :datatemp  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (new.codigocps, cast(new.datahora as date) + cast('18:00' as time), 'Total Diurese 12h', new.user1, cast(:ganho as numeric(15,0)));
    end
    if (new.tipo = 'Diurese') then
    begin
      ganho = null;
      if (extract(hour from new.datahora) between 8 and 23) then
        datatemp = new.datahora;
      else
        datatemp = new.datahora - 1;
      select sum(valor) from cpscontrolepac where codigocps = new.codigocps and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (new.codigocps, cast(:datatemp+1 as date) + cast('06:00' as time), 'Total Diurese 24h', new.user1, cast(:ganho as numeric(15,0)));
    end
    ganho = null;
    select first 1 indice from cpscontrolepac where codigocps = new.codigocps and datahora > new.datahora and (not new.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico')) order by datahora into ganho;
    update cpscontrolepac set valor = valor where indice = :ganho;
  end
end
 ^

CREATE TRIGGER "TRGAI_SINAISVITAIS_TEMPERATURA" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 50
as
begin
      if (new.TIPO like '%Temp%') then
        if (not (new.valor between 20 and 42)) Then
            EXCEPTION EXC_TEMPERATURA;
end
 ^

CREATE TRIGGER "TRGAI_CPSCONTROLEPAC_MEWS" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 60
as
declare variable aux double precision;
declare variable fr integer;
declare variable pas integer;
declare variable fc integer;
declare variable temp integer;
declare variable snc integer;
begin
  fr=0; pas=0; fc=0; temp=0; snc=0;
  if (new.tipo in ('Frequencia Respiratoria','P. Arterial Sistolica','Frequencia Cardiaca','Temp. Corporal','Escala de MEWS')) then
  if (exists(select count(distinct tipo) from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo in ('Frequencia Respiratoria','P. Arterial Sistolica','Frequencia Cardiaca','Temp. Corporal','Escala de MEWS') having count(distinct tipo) = 5)) then
  begin
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Frequencia Respiratoria' into aux;
    if (aux <= 8) then fr = 2;
    else if (aux <= 14) then fr = 0;
    else if (aux <= 20) then fr = 1;
    else if (aux <= 29) then fr = 2;
    else fr = 3;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'P. Arterial Sistolica' into aux;
    if (aux <= 70) then pas = 3;
    else if (aux <= 80) then pas = 2;
    else if (aux <= 100) then pas = 1;
    else if (aux <= 199) then pas = 0;
    else pas = 2;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Frequencia Cardiaca' into aux;
    if (aux <= 40) then fc = 2;
    else if (aux <= 50) then fc = 1;
    else if (aux <= 100) then fc = 0;
    else if (aux <= 110) then fc = 1;
    else if (aux <= 129) then fc = 2;
    else fc = 3;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Temp. Corporal' into aux;
    if (aux <= 35) then temp = 2;
    else if (aux <= 37.8) then temp = 0;
    else temp = 2;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Escala de MEWS' into snc;
   -- delete from escalamews where codigocps = cast(new.codigocps as integer) and data = new.datahora;
    --insert into escalamews (codigocps,data,fr,pas,fc,temp,snc) values (new.codigocps, new.datahora, :fr, :pas, :fc, :temp, :snc);
  end
end
 ^

CREATE TRIGGER "TRGAI_SINAISVITAIS_DUPLO" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 150
as
begin
  delete from cpscontrolepac where  codigocps = new.codigocps and datahora = new.datahora and tipo = new.tipo and indice <> new.indice;
end
 ^

CREATE TRIGGER "TRGAILOG_CPSCONTROLEPAC" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('CPSCONTROLEPAC',NEW.INDICE,'I') into indice; end
 ^

CREATE TRIGGER "TRGBU_CPSCTRLPAC_TRAVA" FOR "CPSCONTROLEPAC" 
ACTIVE BEFORE UPDATE POSITION 10
as
begin
  if (new.confirmado = 'S' ) then
   new.valor = old.valor;
end
 ^

CREATE TRIGGER "TBU_BLOQ_VAL_REF" FOR "CPSCONTROLEPAC" 
ACTIVE BEFORE UPDATE POSITION 100
as
declare variable minimo integer;
declare variable maximo integer;
begin
     Select minimo, maximo from controlepac where descricao = new.tipo
     into :minimo,:maximo;
     if ((new.valor not between :minimo and :maximo)) then
     exception valor_ref;
end
 ^

CREATE TRIGGER "TRGAU_SINAISVITAIS_CALCULO" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER UPDATE POSITION 50
as
declare variable valor varchar(20);
declare variable descricao varchar(100);
declare variable ganho double precision;
declare variable perda double precision;
declare variable antganho double precision;
declare variable antperda double precision;
declare variable datatemp timestamp;
declare variable datatemp1 timestamp;
begin
   if ( ((new.confirmado) is null or (new.confirmado <> 'S' )) and (not new.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico','Total Diurese 12h','Total Diurese 24h','Responsavel'))) then
  begin
    ganho = null;
    select a_cremeb from medicos inner join usuarios on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1 and a_grupom = 27 into ganho;
    if (ganho is not null) then
    insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Responsavel',new.user1, new.user1);
    ganho = null;
    if (extract(hour from new.datahora) between 8 and 23) then
      datatemp = new.datahora;
    else
      datatemp = new.datahora - 1;
    antganho = 0;
    if (extract(hour from new.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora < new.datahora and cpscontrolepac.tipo like 'Total Ganhos' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antganho;
    antperda = 0;
    if (extract(hour from new.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora < new.datahora and cpscontrolepac.tipo like 'Total Perdas' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antperda;
    if (antperda is null) then antperda = 0;
    if (antganho is null) then antganho = 0;
    perda = 0;
    ganho = 0;
    for select controlepac.grupo,sum(cpscontrolepac.valor) from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = new.codigocps and datahora = new.datahora and controlepac.grupo like '%drico%' and controlepac.auto is null
    group by 1 into descricao, valor do
    begin
      if ((descricao like '%Ganho%') and (valor <> '')) then
        ganho = valor;
      if ((descricao like '%Perda%') and (valor <> '')) then
        perda = valor;
      delete from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico', 'Total BH');
      if (:ganho + :antganho >0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Total Ganhos',:ganho + :antganho, new.user1);
      if (:perda + :antperda >=0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Total Perdas',:perda + :antperda, new.user1);
    end
    if (perda is null) then perda = 0;
    if (ganho is null) then ganho = 0;
    if (antperda is null) then antperda = 0;
    if (antganho is null) then antganho = 0;
    ganho = (ganho + antganho) - (perda + antperda);
      if (ganho <>0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (new.codigocps, new.datahora,'Balanco Hidrico',:ganho, new.user1);
    ganho = null;
    if ((extract(hour from new.datahora) <= 18) and (new.tipo = 'Diurese')) then
    begin
      datatemp1 = cast(new.datahora as date) + cast('08:00' as time);
      datatemp = cast(new.datahora as date) + cast('18:00' as time);
      select sum(valor) from cpscontrolepac where codigocps = new.codigocps and datahora between :datatemp1  and :datatemp  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (new.codigocps, cast(new.datahora as date) + cast('18:00' as time), 'Total Diurese 12h', new.user1, cast(:ganho as numeric(15,0)));
    end
    if (new.tipo = 'Diurese') then
    begin
      ganho = null;
      if (extract(hour from new.datahora) between 8 and 23) then
        datatemp = new.datahora;
      else
        datatemp = new.datahora - 1;
      select sum(valor) from cpscontrolepac where codigocps = new.codigocps and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (new.codigocps, cast(:datatemp+1 as date) + cast('06:00' as time), 'Total Diurese 24h', new.user1, cast(:ganho as numeric(15,0)));
    end
    ganho = null;
    select first 1 indice from cpscontrolepac where codigocps = new.codigocps and datahora > new.datahora and (not new.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico')) order by datahora into ganho;
    update cpscontrolepac set valor = valor where indice = :ganho;
  end
end
 ^

CREATE TRIGGER "TRGAU_SINAISVITAIS_TEMPERATURA" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER UPDATE POSITION 50
as
begin
      if (new.TIPO like '%Temp%') then
         if (not (new.valor between 20 and 42)) Then
            EXCEPTION EXC_TEMPERATURA;
end
 ^

CREATE TRIGGER "TRGAU_CPSCONTROLEPAC_MEWS" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER UPDATE POSITION 60
as
declare variable aux double precision;
declare variable fr integer;
declare variable pas integer;
declare variable fc integer;
declare variable temp integer;
declare variable snc integer;
begin
  fr=0; pas=0; fc=0; temp=0; snc=0;
  if (new.tipo in ('Frequencia Respiratoria','P. Arterial Sistolica','Frequencia Cardiaca','Temp. Corporal','Escala de MEWS')) then
  if (exists(select count(distinct tipo) from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo in ('Frequencia Respiratoria','P. Arterial Sistolica','Frequencia Cardiaca','Temp. Corporal','Escala de MEWS') having count(distinct tipo) = 5)) then
  begin
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Frequencia Respiratoria' into aux;
    if (aux <= 8) then fr = 2;
    else if (aux <= 14) then fr = 0;
    else if (aux <= 20) then fr = 1;
    else if (aux <= 29) then fr = 2;
    else fr = 3;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'P. Arterial Sistolica' into aux;
    if (aux <= 70) then pas = 3;
    else if (aux <= 80) then pas = 2;
    else if (aux <= 100) then pas = 1;
    else if (aux <= 199) then pas = 0;
    else pas = 2;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Frequencia Cardiaca' into aux;
    if (aux <= 40) then fc = 2;
    else if (aux <= 50) then fc = 1;
    else if (aux <= 100) then fc = 0;
    else if (aux <= 110) then fc = 1;
    else if (aux <= 129) then fc = 2;
    else fc = 3;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Temp. Corporal' into aux;
    if (aux <= 35) then temp = 2;
    else if (aux <= 37.8) then temp = 0;
    else temp = 2;
    select first 1 valor from cpscontrolepac where codigocps = new.codigocps and datahora = new.datahora and tipo = 'Escala de MEWS' into snc;
  --  delete from escalamews where codigocps = new.codigocps and data = new.datahora;
  --  insert into escalamews (codigocps,data,fr,pas,fc,temp,snc) values (new.codigocps, new.datahora, :fr, :pas, :fc, :temp, :snc);
  end
end
 ^

CREATE TRIGGER "TRGAULOG_CPSCONTROLEPAC" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPSCONTROLEPAC',NEW.INDICE,'U') into :indice;
if ((new.ARQUIVO <> old.ARQUIVO) or (new.ARQUIVO is null and old.ARQUIVO is not null) or (new.ARQUIVO is not null and old.ARQUIVO is null)) then
 execute procedure insertlogitem(:indice,'ARQUIVO',old.ARQUIVO,new.ARQUIVO);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.DATAHORA <> old.DATAHORA) or (new.DATAHORA is null and old.DATAHORA is not null) or (new.DATAHORA is not null and old.DATAHORA is null)) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,new.DATAHORA);
if ((new.INDICE <> old.INDICE) or (new.INDICE is null and old.INDICE is not null) or (new.INDICE is not null and old.INDICE is null)) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,new.INDICE);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.TIPO <> old.TIPO) or (new.TIPO is null and old.TIPO is not null) or (new.TIPO is not null and old.TIPO is null)) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,new.TIPO);
if ((new.VALOR <> old.VALOR) or (new.VALOR is null and old.VALOR is not null) or (new.VALOR is not null and old.VALOR is null)) then
 execute procedure insertlogitem(:indice,'VALOR',old.VALOR,new.VALOR);
 end
 ^

CREATE TRIGGER "TRGAD_SINAISVITAIS_CALCULO" FOR "CPSCONTROLEPAC" 
ACTIVE AFTER DELETE POSITION 50
as
declare variable valor varchar(20);
declare variable descricao varchar(100);
declare variable ganho double precision;
declare variable perda double precision;
declare variable antganho double precision;
declare variable antperda double precision;
declare variable datatemp timestamp;
declare variable datatemp1 timestamp;
begin
  if (not old.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico','Total Diurese 12h','Total Diurese 24h','Responsavel')) then
  begin
    if (extract(hour from old.datahora) between 8 and 23) then
      datatemp = old.datahora;
    else
      datatemp = old.datahora - 1;
    antganho = 0;
    if (extract(hour from old.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = old.codigocps and datahora < old.datahora and cpscontrolepac.tipo like 'Total Ganhos' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antganho;
    antperda = 0;
    if (extract(hour from old.datahora) <> 8) then
    select first 1 cpscontrolepac.valor from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = old.codigocps and datahora < old.datahora and cpscontrolepac.tipo like 'Total Perdas' and controlepac.auto = 'S'  and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)
    order by datahora desc into antperda;
    for select controlepac.grupo,sum(cpscontrolepac.valor) from cpscontrolepac
    inner join controlepac on (controlepac.descricao = cpscontrolepac.tipo) where cpscontrolepac.codigocps = old.codigocps and datahora = old.datahora and controlepac.grupo like '%drico%' and controlepac.auto is null
    group by 1 into descricao, valor do
    begin
      if ((descricao like '%Ganho%') and (valor <> '')) then
        ganho = valor;
      if ((descricao like '%Perda%') and (valor <> '')) then
        perda = valor;
      delete from cpscontrolepac where codigocps = old.codigocps and datahora = old.datahora and tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico', 'Total BH' );
      if (:ganho + :antganho >0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (old.codigocps, old.datahora,'Total Ganhos',:ganho + :antganho, old.user1);
      if (:perda + :antperda >=0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (old.codigocps, old.datahora,'Total Perdas',:perda + :antperda, old.user1);
    end
    if (perda is null) then perda = 0;
    if (ganho is null) then ganho = 0;
    ganho = (ganho + antganho) - (perda + antperda);
      if (ganho <>0) then
        insert into cpscontrolepac(codigocps,datahora,tipo,valor,user1) values (old.codigocps, old.datahora,'Balanco Hidrico',:ganho, old.user1);
    ganho = null;
    if ((extract(hour from old.datahora) <= 18) and (old.tipo = 'Diurese')) then
    begin
      datatemp1 = cast(old.datahora as date) + cast('08:00' as time);
      datatemp = cast(old.datahora as date) + cast('18:00' as time);
      select sum(valor) from cpscontrolepac where codigocps = old.codigocps and datahora between :datatemp1  and :datatemp  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (old.codigocps, cast(old.datahora as date) + cast('18:00' as time), 'Total Diurese 12h', old.user1, cast(:ganho as numeric(15,0)));
    end
    if (old.tipo = 'Diurese') then
    begin
      ganho = null;
      if (extract(hour from old.datahora) between 8 and 23) then
        datatemp = old.datahora;
      else
        datatemp = old.datahora - 1;
      select sum(valor) from cpscontrolepac where codigocps = old.codigocps and datahora between cast(:datatemp as date) + cast('08:00' as time) and cast(:datatemp+1 as date) + cast('06:00' as time)  and tipo = 'Diurese' into ganho;
      ganho = cast(ganho as numeric(15,0));
      if (ganho is not null) then
        insert into cpscontrolepac(codigocps,datahora,tipo,user1,valor) values (old.codigocps, cast(:datatemp+1 as date) + cast('06:00' as time), 'Total Diurese 24h', old.user1, cast(:ganho as numeric(15,0)));
    end
    ganho = null;
    select first 1 indice from cpscontrolepac where codigocps = old.codigocps and datahora > old.datahora and (not old.tipo in ('Total Ganhos','Total Perdas','Balanco Hidrico')) order by datahora into ganho;
    update cpscontrolepac set valor = valor where indice = :ganho;
  end
end
 ^

CREATE TRIGGER "SINC1_CPSFISIO" FOR "CPSFISIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSFISIO" FOR "CPSFISIO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.indice = gen_id(gen_cpsfisio,1);
end
 ^

CREATE TRIGGER "SINC2_CPSFISIO" FOR "CPSFISIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CPSIMPRESSO" FOR "CPSIMPRESOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
     NEW.INDICE = GEN_ID( GEN_CPSIMPRESSO, 1 );
END
 ^

CREATE TRIGGER "SINC1_CPSIMPRESOS" FOR "CPSIMPRESOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSIMPRESOS" FOR "CPSIMPRESOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CPSIMPRESSO" FOR "CPSIMPRESSO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRBI_CPSIMPRESSO" FOR "CPSIMPRESSO" 
ACTIVE BEFORE INSERT POSITION 0
as begin
new.indice = gen_id(gen_cpsimpresso,1);
end
 ^

CREATE TRIGGER "SINC2_CPSIMPRESSO" FOR "CPSIMPRESSO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSCPSLAUDO1" FOR "CPSLAUDO1" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Codigocps = gen_id( gen_cpsLAUDO1, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPSLAUDO1" FOR "CPSLAUDO1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSLAUDO1" FOR "CPSLAUDO1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DELCPSLAUDO" FOR "CPSLAUDO1" 
ACTIVE AFTER DELETE POSITION 0
as
begin
  DELETE FROM CPSLAUDO2 WHERE CODIGOCPS2 = OLD.CODIGOCPS;
end
 ^

CREATE TRIGGER "INS_CPSLAUDO2" FOR "CPSLAUDO2" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Indice = gen_id( GEN_CPSLAUDO2, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPSLAUDO2" FOR "CPSLAUDO2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSLAUDO2" FOR "CPSLAUDO2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_CPSLAUDO3" FOR "CPSLAUDO3" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Indice = gen_id( GEN_CPSLAUDO3, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPSLAUDO3" FOR "CPSLAUDO3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSLAUDO3" FOR "CPSLAUDO3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRI_BI_CPSLAUDOANTIB" FOR "CPSLAUDOANTIB" 
ACTIVE BEFORE INSERT POSITION 10
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_CPSLAUDOANTIB,1 );
END
 ^

CREATE TRIGGER "TRI_BI_CPSLAUDOBACT" FOR "CPSLAUDOBACT" 
ACTIVE BEFORE INSERT POSITION 10
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_CPSLAUDOBACT,1 );
END
 ^

CREATE TRIGGER "TRGBI_CPSLAUDOCAL" FOR "CPSLAUDOCAL" 
ACTIVE BEFORE INSERT POSITION 20
AS
  BEGIN
  NEW.INDICE = GEN_ID(GEN_CPSLAUDOCAL,1);
  END
 ^

CREATE TRIGGER "INS_CPSLAUDOLAUDO" FOR "CPSLAUDOFILME" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Indice = gen_id( GEN_CPSLAUDOFILME, 1 );
end
 ^

CREATE TRIGGER "SINC1_CPSLAUDOFILME" FOR "CPSLAUDOFILME" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSLAUDOFILME" FOR "CPSLAUDOFILME" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSLAUDOOBS" FOR "CPSLAUDOOBS" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_cpslaudoobs,1);
end
 ^

CREATE TRIGGER "TRGBI_CPSLAUDOVAR" FOR "CPSLAUDOVAR" 
ACTIVE BEFORE INSERT POSITION 20
AS
 BEGIN
 NEW.INDICE = GEN_ID(GEN_CPSLAUDOVAR,1);
 END
 ^

CREATE TRIGGER "TRGBI_CPSLAUDOVAR1" FOR "CPSLAUDOVAR1" 
ACTIVE BEFORE INSERT POSITION 20
AS
 BEGIN
 NEW.SEQUENCIA = GEN_ID(GEN_CPSLAUDOVAR1,1);
 END
 ^

CREATE TRIGGER "INS_BLOQ_ACESSO" FOR "CPSMANCHESTER" 
ACTIVE BEFORE INSERT POSITION 0
as
DECLARE VARIABLE TIPO VARCHAR(10);
begin
    select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPO;
   if ((:TIPO <> 'COREN') and (rdb$get_context('USER_SESSION', 'USUARIO') <> 1)) Then
      exception  EXC_DINAMICA 'Acesso Negado sem COREN';
end
 ^

CREATE TRIGGER "TRGBI_CPSMANCHESTER_BLOQ" FOR "CPSMANCHESTER" 
ACTIVE BEFORE INSERT POSITION 10
as
begin
 if (new.risco = 4) then
   exception triagembloqueada;
  if (new.risco = 1) then
      update cps1 set gravidade = 'Z' where codigocps = new.codigocps;
  if (new.risco = 2) then
      update cps1 set gravidade = 'E' where codigocps = new.codigocps;
  if (new.risco = 3) then
      update cps1 set gravidade = 'A' where codigocps = new.codigocps;
  if (new.risco = 5) then
      update cps1 set gravidade = 'O' where codigocps = new.codigocps;
end
 ^

CREATE TRIGGER "TRGBI_TRIAGEM_OBRIGATORIO" FOR "CPSMANCHESTER" 
INACTIVE BEFORE INSERT POSITION 10
as
declare variable medico integer;
begin
 Select medresp from cps1 where codigocps = new.codigocps into :medico;
 if (medico = 508) then
 if ( (new.PESO IS null) OR (new.TAX IS null))  then
 Begin
   exception TRIAGEM_OBRIGATORIO_P;
 end
 if (medico <> 508) then
 if ( (new.FR IS null) OR (new.PESO IS null) OR (new.p IS null))  then
 Begin
   exception TRIAGEM_OBRIGATORIO;
 end
end
 ^

CREATE TRIGGER "INS_CPSMANCQP" FOR "CPSMANCHESTER" 
INACTIVE BEFORE INSERT POSITION 20
as
begin
   new.QUEIXA = 'QP: ';
   new.riscomedico = 4;
end
 ^

CREATE TRIGGER "INS_CPSMANC_OBS" FOR "CPSMANCHESTER" 
INACTIVE BEFORE INSERT POSITION 20
as
begin
   new.OBSERVACAO= 'Ha Posto de PSF em sua localidade [   ] Sim   [    ] Nao. Qual localidade';
end
 ^

CREATE TRIGGER "TRGBI_CPSMANCHESTER" FOR "CPSMANCHESTER" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_cpsmanchester,1);
  if (new.risco is null) then
     new.risco = 0;
  NEW.DATAHORA = 'NOW';
  new.riscomedico = 4;
  if (new.motivoclas is null) then
     new.motivoclas = 0;
end
 ^

CREATE TRIGGER "TRGBI_CPSMANCH_PROC" FOR "CPSMANCHESTER" 
ACTIVE BEFORE INSERT POSITION 20
as
declare variable codmedico integer;
declare variable cbos varchar(15);
begin
  select medico from usuarios where codigo = new.user1  into :codmedico;
  select first 1 cboS from medicos inner join usuarios on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1  into :cbos;
                                                                -- NA (nao se aplica nao deve faturar)
  if (((new.pa <> '') and (new.pa <> '0') and (new.pa <> 'NA') ) and (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01100039')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01100039'),'01100039',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'03','C','S','01');
  if ((not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01060118')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01060118'),'01060118',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'03','C','S','01');
--  if (((new.hgt <> '') and (new.hgt <> '0') and ( (new.hgt <> 'NA') OR (new.hgt <> 'na') or ((new.hgt = 'HI') OR (new.hgt = 'hi') )) ) and (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('14010015')))) then
  if ((new.hgt <> '') and (new.hgt <> '0') and (new.hgt <> 'NA') and (new.hgt <> 'na') and (('12345' containing (substring(new.hgt from 1 for 1))) or ('LO' containing (substring(new.hgt from 1 for 2))) or ('HI' containing (substring(new.hgt from 1 for 2)))) and(not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('14010015')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '14010015'),'14010015',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'02','C','S','01');
 if ((not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01010048')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01010048'),'01010048',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'03','C','S','01');
  if (codmedico <> null) then
   update cps1 set medresp = :codmedico where codigocps = new.codigocps;
  -- cbos  tecenfermagem colocar como cobraN
  if (( exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01010048')))) then
      update cps2 set a_medicos =:codmedico where codigocps2 = new.codigocps and codigoamb='01010048';
  if (cbos = '322205') then
  begin
      delete from cps2  where codigocps2 = new.codigocps and codigoamb in ('01010048', '01060118');
  end
end
 ^

CREATE TRIGGER "TRGAILOG_CPSMANCHESTER" FOR "CPSMANCHESTER" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('CPSMANCHESTER',NEW.CODIGOCPS,'I') into indice; end
 ^

CREATE TRIGGER "UP_BLOQ_ACESSO" FOR "CPSMANCHESTER" 
ACTIVE BEFORE UPDATE POSITION 0
as
DECLARE VARIABLE TIPO VARCHAR(10);
begin
   select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPO;
   if ((:TIPO <> 'COREN') and (rdb$get_context('USER_SESSION', 'USUARIO') <> 1))  Then
      exception  EXC_CONTROLE_ACESSO;
end
 ^

CREATE TRIGGER "TRGBU_CPSMANCHESTER_BLOQ" FOR "CPSMANCHESTER" 
ACTIVE BEFORE UPDATE POSITION 10
as
begin
 if (new.risco = 4) then
   exception triagembloqueada;
 if (new.risco = 1) then
      update cps1 set gravidade = 'Z' where codigocps = new.codigocps;
 if (new.risco = 2) then
      update cps1 set gravidade = 'E' where codigocps = new.codigocps;
 if (new.risco = 3) then
      update cps1 set gravidade = 'A' where codigocps = new.codigocps;
 if (new.risco = 5) then
      update cps1 set gravidade = 'O' where codigocps = new.codigocps;
end
 ^

CREATE TRIGGER "TRGBU_CPSMANCH_PROC" FOR "CPSMANCHESTER" 
ACTIVE BEFORE UPDATE POSITION 20
as
declare variable codmedico integer;
declare variable cbos varchar(15);
begin
  select medico from usuarios where codigo = new.user1  into :codmedico;
  select first 1 cboS from medicos inner join usuarios on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1  into :cbos;
                                                                -- NA (nao se aplica nao deve faturar)
  if (((new.pa <> '') and (new.pa <> '0') and (new.pa <> 'NA') ) and (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01100039')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01100039'),'01100039',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'03','C','S','01');
  if ((not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01060118')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01060118'),'01060118',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'03','C','S','01');
--  if (((new.hgt <> '') and (new.hgt <> '0') and ( (new.hgt <> 'NA') OR (new.hgt <> 'na') or ((new.hgt = 'HI') OR (new.hgt = 'hi') )) ) and (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('14010015')))) then
  if ((new.hgt <> '') and (new.hgt <> '0') and (new.hgt <> 'NA') and (new.hgt <> 'na') and (('12345' containing (substring(new.hgt from 1 for 1))) or ('LO' containing (substring(new.hgt from 1 for 2))) or ('HI' containing (substring(new.hgt from 1 for 2)))) and(not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('14010015')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '14010015'),'14010015',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'02','C','S','01');
 if ((not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01010048')))) then
      insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar, ESPECIALIDADE) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01010048'),'01010048',(select medico from usuarios where codigo = new.user1),1,1,0,0,'today','now','N',0,0,0,01,'03','C','S','01');
  if (codmedico <> null) then
   update cps1 set medresp = :codmedico where codigocps = new.codigocps;
  -- cbos  tecenfermagem colocar como cobraN
  if (( exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb in ('01010048')))) then
      update cps2 set a_medicos =:codmedico where codigocps2 = new.codigocps and codigoamb='01010048';
  if (cbos = '322205') then
  begin
      delete from cps2  where codigocps2 = new.codigocps and codigoamb in ('01010048', '01060118');
  end
end
 ^

CREATE TRIGGER "TRGAULOG_CPSMANCHESTER" FOR "CPSMANCHESTER" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPSMANCHESTER',NEW.CODIGOCPS,'U') into :indice;
if ((new.ALERGIAS <> old.ALERGIAS) or (new.ALERGIAS is null and old.ALERGIAS is not null) or (new.ALERGIAS is not null and old.ALERGIAS is null)) then
 execute procedure insertlogitem(:indice,'ALERGIAS',old.ALERGIAS,new.ALERGIAS);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.DATA <> old.DATA) or (new.DATA is null and old.DATA is not null) or (new.DATA is not null and old.DATA is null)) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,new.DATA);
if ((new.DATAHORA <> old.DATAHORA) or (new.DATAHORA is null and old.DATAHORA is not null) or (new.DATAHORA is not null and old.DATAHORA is null)) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,new.DATAHORA);
if ((new.ENCAMINHAMENTO <> old.ENCAMINHAMENTO) or (new.ENCAMINHAMENTO is null and old.ENCAMINHAMENTO is not null) or (new.ENCAMINHAMENTO is not null and old.ENCAMINHAMENTO is null)) then
 execute procedure insertlogitem(:indice,'ENCAMINHAMENTO',old.ENCAMINHAMENTO,new.ENCAMINHAMENTO);
if ((new.FC <> old.FC) or (new.FC is null and old.FC is not null) or (new.FC is not null and old.FC is null)) then
 execute procedure insertlogitem(:indice,'FC',old.FC,new.FC);
if ((new.FR <> old.FR) or (new.FR is null and old.FR is not null) or (new.FR is not null and old.FR is null)) then
 execute procedure insertlogitem(:indice,'FR',old.FR,new.FR);
if ((new.HGT <> old.HGT) or (new.HGT is null and old.HGT is not null) or (new.HGT is not null and old.HGT is null)) then
 execute procedure insertlogitem(:indice,'HGT',old.HGT,new.HGT);
if ((new.HISTORIA <> old.HISTORIA) or (new.HISTORIA is null and old.HISTORIA is not null) or (new.HISTORIA is not null and old.HISTORIA is null)) then
 execute procedure insertlogitem(:indice,'HISTORIA',old.HISTORIA,new.HISTORIA);
if ((new.INDICE <> old.INDICE) or (new.INDICE is null and old.INDICE is not null) or (new.INDICE is not null and old.INDICE is null)) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,new.INDICE);
if ((new.MEDICACAO <> old.MEDICACAO) or (new.MEDICACAO is null and old.MEDICACAO is not null) or (new.MEDICACAO is not null and old.MEDICACAO is null)) then
 execute procedure insertlogitem(:indice,'MEDICACAO',old.MEDICACAO,new.MEDICACAO);
if ((new.MEDIDA <> old.MEDIDA) or (new.MEDIDA is null and old.MEDIDA is not null) or (new.MEDIDA is not null and old.MEDIDA is null)) then
 execute procedure insertlogitem(:indice,'MEDIDA',old.MEDIDA,new.MEDIDA);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.P <> old.P) or (new.P is null and old.P is not null) or (new.P is not null and old.P is null)) then
 execute procedure insertlogitem(:indice,'P',old.P,new.P);
if ((new.PA <> old.PA) or (new.PA is null and old.PA is not null) or (new.PA is not null and old.PA is null)) then
 execute procedure insertlogitem(:indice,'PA',old.PA,new.PA);
if ((new.PESO <> old.PESO) or (new.PESO is null and old.PESO is not null) or (new.PESO is not null and old.PESO is null)) then
 execute procedure insertlogitem(:indice,'PESO',old.PESO,new.PESO);
if ((new.PROTOCOLOS <> old.PROTOCOLOS) or (new.PROTOCOLOS is null and old.PROTOCOLOS is not null) or (new.PROTOCOLOS is not null and old.PROTOCOLOS is null)) then
 execute procedure insertlogitem(:indice,'PROTOCOLOS',old.PROTOCOLOS,new.PROTOCOLOS);
if ((new.QUEIXA <> old.QUEIXA) or (new.QUEIXA is null and old.QUEIXA is not null) or (new.QUEIXA is not null and old.QUEIXA is null)) then
 execute procedure insertlogitem(:indice,'QUEIXA',old.QUEIXA,new.QUEIXA);
if ((new.REAVALIACAO <> old.REAVALIACAO) or (new.REAVALIACAO is null and old.REAVALIACAO is not null) or (new.REAVALIACAO is not null and old.REAVALIACAO is null)) then
 execute procedure insertlogitem(:indice,'REAVALIACAO',old.REAVALIACAO,new.REAVALIACAO);
if ((new.RISCO <> old.RISCO) or (new.RISCO is null and old.RISCO is not null) or (new.RISCO is not null and old.RISCO is null)) then
 execute procedure insertlogitem(:indice,'RISCO',old.RISCO,new.RISCO);
if ((new.RISCOMEDICO <> old.RISCOMEDICO) or (new.RISCOMEDICO is null and old.RISCOMEDICO is not null) or (new.RISCOMEDICO is not null and old.RISCOMEDICO is null)) then
 execute procedure insertlogitem(:indice,'RISCOMEDICO',old.RISCOMEDICO,new.RISCOMEDICO);
if ((new.SAT <> old.SAT) or (new.SAT is null and old.SAT is not null) or (new.SAT is not null and old.SAT is null)) then
 execute procedure insertlogitem(:indice,'SAT',old.SAT,new.SAT);
if ((new.TAX <> old.TAX) or (new.TAX is null and old.TAX is not null) or (new.TAX is not null and old.TAX is null)) then
 execute procedure insertlogitem(:indice,'TAX',old.TAX,new.TAX);
 end
 ^

CREATE TRIGGER "TRGADLOG_CPSMANCHESTER" FOR "CPSMANCHESTER" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('CPSMANCHESTER',OLD.CODIGOCPS,'D') into :indice;
if (old.ALERGIAS is not null) then
 execute procedure insertlogitem(:indice,'ALERGIAS',old.ALERGIAS,null);
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.DATA is not null) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,null);
if (old.DATAHORA is not null) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,null);
if (old.ENCAMINHAMENTO is not null) then
 execute procedure insertlogitem(:indice,'ENCAMINHAMENTO',old.ENCAMINHAMENTO,null);
if (old.FC is not null) then
 execute procedure insertlogitem(:indice,'FC',old.FC,null);
if (old.FR is not null) then
 execute procedure insertlogitem(:indice,'FR',old.FR,null);
if (old.HGT is not null) then
 execute procedure insertlogitem(:indice,'HGT',old.HGT,null);
if (old.HISTORIA is not null) then
 execute procedure insertlogitem(:indice,'HISTORIA',old.HISTORIA,null);
if (old.INDICE is not null) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,null);
if (old.MEDICACAO is not null) then
 execute procedure insertlogitem(:indice,'MEDICACAO',old.MEDICACAO,null);
if (old.MEDIDA is not null) then
 execute procedure insertlogitem(:indice,'MEDIDA',old.MEDIDA,null);
if (old.OBSERVACAO is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,null);
if (old.P is not null) then
 execute procedure insertlogitem(:indice,'P',old.P,null);
if (old.PA is not null) then
 execute procedure insertlogitem(:indice,'PA',old.PA,null);
if (old.PESO is not null) then
 execute procedure insertlogitem(:indice,'PESO',old.PESO,null);
if (old.PROTOCOLOS is not null) then
 execute procedure insertlogitem(:indice,'PROTOCOLOS',old.PROTOCOLOS,null);
if (old.QUEIXA is not null) then
 execute procedure insertlogitem(:indice,'QUEIXA',old.QUEIXA,null);
if (old.REAVALIACAO is not null) then
 execute procedure insertlogitem(:indice,'REAVALIACAO',old.REAVALIACAO,null);
if (old.RISCO is not null) then
 execute procedure insertlogitem(:indice,'RISCO',old.RISCO,null);
if (old.RISCOMEDICO is not null) then
 execute procedure insertlogitem(:indice,'RISCOMEDICO',old.RISCOMEDICO,null);
if (old.SAT is not null) then
 execute procedure insertlogitem(:indice,'SAT',old.SAT,null);
if (old.TAX is not null) then
 execute procedure insertlogitem(:indice,'TAX',old.TAX,null);
 end
 ^

CREATE TRIGGER "SINC1_CPSMANIPULADO" FOR "CPSMANIPULADO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSMANIPULADO" FOR "CPSMANIPULADO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.indice = gen_id(gen_cpsmanipulado,1);
end
 ^

CREATE TRIGGER "SINC2_CPSMANIPULADO" FOR "CPSMANIPULADO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BICPSNUT_LEITOALA" FOR "CPSNUT" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "SINC1_CPSNUT" FOR "CPSNUT" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSNUT" FOR "CPSNUT" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BUCPSNUT_LEITOALA" FOR "CPSNUT" 
ACTIVE BEFORE UPDATE POSITION 20
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "SINC1_CPSOBS" FOR "CPSOBS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_CPSOBS" FOR "CPSOBS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSOFTALMO" FOR "CPSOFTALMO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.indice = gen_id(gen_cpsoftalmo,1);
end
 ^

CREATE TRIGGER "TRGBU_CPSOFTALMO" FOR "CPSOFTALMO" 
ACTIVE BEFORE UPDATE POSITION 0
as
begin
  new.data2 = 'now';
end
 ^

CREATE TRIGGER "TRGBI_CPSONCO" FOR "CPSONCO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.indice = gen_id(gen_cpsonco,1);
end
 ^

CREATE TRIGGER "TRGBI_CPSONCOITENS" FOR "CPSONCOITENS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.indice = gen_id(gen_cpsoncoItens,1);
end
 ^

CREATE TRIGGER "SINC1_CPSPRONTUARIO" FOR "CPSPRONTUARIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_CPSPRONTUARIO" FOR "CPSPRONTUARIO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.indice = gen_id(gen_cpsprontuario,1);
end
 ^

CREATE TRIGGER "SINC2_CPSPRONTUARIO" FOR "CPSPRONTUARIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DC_CPSPRONTUARIO" FOR "CPSPRONTUARIO" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN NEW.DATA2 = 'NOW'; END
 ^

CREATE TRIGGER "TRGBI_CPSPROTOCOLO" FOR "CPSPROTOCOLO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_cpsprotocolo,1);
end
 ^

CREATE TRIGGER "TRIG_BI_CPSTRIAGEM" FOR "CPSTRIAGEM" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_CPSTRIAGEM, 1);
END
 ^

CREATE TRIGGER "TRB_ACOMP" FOR "CPS_ACOMP" 
ACTIVE BEFORE INSERT POSITION 0
AS BEGIN
		NEW.indice = GEN_ID(GEN_acomp, 1);
	END
 ^

CREATE TRIGGER "TRGBI_CTRL_DISPOSITIVOS" FOR "CTRL_DISPOSITIVOS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_CTRL_DISPOSITIVOS, 1 );
end
 ^

CREATE TRIGGER "TRGBI_CTRL_HEMODIALISE" FOR "CTRL_HEMODIALISE" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_CTRL_HEMODIALISE, 1 );
end
 ^

CREATE TRIGGER "TRGBI_CULTURAADM" FOR "CULTURAADM" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_CULTURAS, 1 );
end
 ^

CREATE TRIGGER "INS_CUSTOPACOTE" FOR "CUSTOPACOTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_CUSTOPACOTE, 1 );
END
 ^

CREATE TRIGGER "SINC1_DAIH210" FOR "DAIH210" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DAIH210" FOR "DAIH210" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DECISION" FOR "DECISION" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decision_codigo = gen_id(gen_decision,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONCAMPO" FOR "DECISIONCAMPO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisioncampo_codigo = gen_id(gen_decisioncampo,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONCENARIO" FOR "DECISIONCENARIO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisioncenario_codigo = gen_id(gen_decisioncenario,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONFILTRO" FOR "DECISIONFILTRO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionfiltro_codigo = gen_id(gen_decisionfiltro,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONGRAF" FOR "DECISIONGRAF" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionGRAF_codigo = gen_id(gen_decisionGRAF,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONGRUPO" FOR "DECISIONGRUPO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisiongrupo_codigo = gen_id(gen_decisiongrupo,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONHAVING" FOR "DECISIONHAVING" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionHAVING_codigo = gen_id(gen_decisionHAVING,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONITEM" FOR "DECISIONITEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionitem_codigo = gen_id(gen_decisionitem,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONJOIN" FOR "DECISIONJOIN" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionjoin_codigo = gen_id(gen_decisionjoin,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONMETA" FOR "DECISIONMETA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionmeta_codigo = gen_id(gen_decisionmeta,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONMETAITEM" FOR "DECISIONMETAITEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionmetaitem_codigo = gen_id(gen_decisionmetaitem,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONPAINEL" FOR "DECISIONPAINEL" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionpainel_codigo = gen_id(gen_decisionpainel,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONSCRIPT" FOR "DECISIONSCRIPT" 
INACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionSCRIPT_codigo = gen_id(gen_decisionSCRIPT,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONUSUARIOPAINEL" FOR "DECISIONUSUARIOPAINEL" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionusuariopainel_codigo = gen_id(gen_decisionusuariopainel,1);
end
 ^

CREATE TRIGGER "TRGBI_DECISIONVALOR" FOR "DECISIONVALOR" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.decisionvalor_codigo = gen_id(gen_decisionvalor,1);
end
 ^

CREATE TRIGGER "INSDEFCONV1" FOR "DEFCONVPLA1" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( GEN_DEFCONVPLA, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEFCONVPLA1" FOR "DEFCONVPLA1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEFCONVPLA1" FOR "DEFCONVPLA1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSDEF" FOR "DEFPROF" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_DEFPROF, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEFPROF" FOR "DEFPROF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEFPROF" FOR "DEFPROF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSDEF1" FOR "DEFPROF1" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_DEFPROF1, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEFPROF1" FOR "DEFPROF1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEFPROF1" FOR "DEFPROF1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSDEF3" FOR "DEFPROF3" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_DEFPROF3, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEFPROF3" FOR "DEFPROF3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEFPROF3" FOR "DEFPROF3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSDEF4" FOR "DEFPROF4" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_DEFPROF4, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEFPROF4" FOR "DEFPROF4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEFPROF4" FOR "DEFPROF4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_DEFPROFDESCONTO" FOR "DEFPROFDESCONTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DEFPROFDESCONTO" FOR "DEFPROFDESCONTO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.indice = gen_id(gen_defprofdesconto,1);
end
 ^

CREATE TRIGGER "SINC2_DEFPROFDESCONTO" FOR "DEFPROFDESCONTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_DEFPROFMED" FOR "DEFPROFMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DEFPROMED" FOR "DEFPROFMED" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
NEW.INDICE = -1*GEN_ID(GEN_DEFPROFMED,1);
END
 ^

CREATE TRIGGER "SINC2_DEFPROFMED" FOR "DEFPROFMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSDEFMM" FOR "DEFPROFMM" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_DEFPROFMM, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEFPROFMM" FOR "DEFPROFMM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEFPROFMM" FOR "DEFPROFMM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DEFPROFRATEIO" FOR "DEFPROFRATEIO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_defprofrateio,1);
end
 ^

CREATE TRIGGER "TRGBI_DEFPROFSOL" FOR "DEFPROFSOL" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_defprofsol,1);
end
 ^

CREATE TRIGGER "INS_DENTES" FOR "DENTES" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_DENTES, 1 );
END
 ^

CREATE TRIGGER "INS_DEPTO" FOR "DEPTO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.DEPTO = GEN_ID( Gen_DEPTO, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEPTO" FOR "DEPTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEPTO" FOR "DEPTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_DEPTOX" FOR "DEPTOX" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.DEPTO = GEN_ID( Gen_DEPTOX, 1 );
end
 ^

CREATE TRIGGER "SINC1_DEPTOX" FOR "DEPTOX" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DEPTOX" FOR "DEPTOX" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_DICOM" FOR "DICOM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DICOM" FOR "DICOM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_DICOM2" FOR "DICOM2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_DICOM2" FOR "DICOM2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_DIETA" FOR "DIETA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DIETA" FOR "DIETA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
   new.codigo = gen_id(gen_dieta,1);
end
 ^

CREATE TRIGGER "SINC2_DIETA" FOR "DIETA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_DIETAITEM" FOR "DIETAITEM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DIETAITEM" FOR "DIETAITEM" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
   new.codigo = gen_id(gen_dietaitem,1);
end
 ^

CREATE TRIGGER "SINC2_DIETAITEM" FOR "DIETAITEM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_DISPOSITIVOS" FOR "DISPOSITIVOS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_DISPOSITIVOS, 1 );
end
 ^

CREATE TRIGGER "TRGBI_DISTRIBUICAO_LEITOS" FOR "DISTRIBUICAO_LEITOS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
   new.ID_DISTRIBUICAO = gen_id(gen_DISTRIBUICAO_LEITOS,1);
end
 ^

CREATE TRIGGER "TRGBI_DROGASCONTINUAS" FOR "DROGASCONTINUAS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_DROGASCONTINUAS, 1 );
end
 ^

CREATE TRIGGER "TRGBI_DSIMAGEM" FOR "DSIMAGEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.dsimagem_codigo = gen_id(gen_dsimagem,1);
end
 ^

CREATE TRIGGER "TRGBI_DSIMAGEMITEM" FOR "DSIMAGEMITEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.dsimagemitem_codigo = gen_id(gen_dsimagemitem,1);
end
 ^

CREATE TRIGGER "TRGBI_DSSTATIC" FOR "DSSTATIC" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.dsSTATIC_codigo = gen_id(gen_dsstatic,1);
end
 ^

CREATE TRIGGER "TRGBI_DVA" FOR "DVA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_DVA = GEN_ID( GEN_DVA, 1 );
end
 ^

CREATE TRIGGER "INS_EMPRESACONFIG" FOR "EMPRESACONFIG" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = GEN_ID( GEN_EMPRESACONFIG, 1 );
end
 ^

CREATE TRIGGER "SINC1_EMPRESACONFIG" FOR "EMPRESACONFIG" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_EMPRESACONFIG" FOR "EMPRESACONFIG" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSEMPRESAMO" FOR "EMPRESAMO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.CODIGO = gen_id( GEN_EMPRESAMO, 1 );
end
 ^

CREATE TRIGGER "SINC1_EMPRESAMO" FOR "EMPRESAMO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_EMPRESAMO" FOR "EMPRESAMO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_EMPRESAS" FOR "EMPRESAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_EMPRESAS" FOR "EMPRESAS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_ENIVOSMS" FOR "ENIVOSMS" 
ACTIVE BEFORE INSERT POSITION 0
as
BEGIN
    NEW.INDICE = GEN_ID( GEN_ENVIOSMS, 1 );
END
 ^

CREATE TRIGGER "SINC1_ENIVOSMS" FOR "ENIVOSMS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ENIVOSMS" FOR "ENIVOSMS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_ENQUETE" FOR "ENQUETE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ENQUETE" FOR "ENQUETE" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_enquete,1);
end
 ^

CREATE TRIGGER "SINC2_ENQUETE" FOR "ENQUETE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_EQUIPMED" FOR "EQUIPMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_EQUIPMED" FOR "EQUIPMED" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.codigo = gen_id(gen_equipmed,1);
end
 ^

CREATE TRIGGER "SINC2_EQUIPMED" FOR "EQUIPMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_EQUIPMEDITEM" FOR "EQUIPMEDITEM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_EQUIPMEDITEM" FOR "EQUIPMEDITEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.codigo = gen_id(gen_equipmeditem,1);
end
 ^

CREATE TRIGGER "SINC2_EQUIPMEDITEM" FOR "EQUIPMEDITEM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSERROUSER" FOR "ERROSUSER" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( ERROSUSER, 1 );
END
 ^

CREATE TRIGGER "SINC1_ERROSUSER" FOR "ERROSUSER" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ERROSUSER" FOR "ERROSUSER" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGAILOG_ESCALAASA" FOR "ESCALAASA" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(30); begin select indice from INSERTlog('ESCALAASA',NEW.DATA,'I') into indice; end
 ^

CREATE TRIGGER "ESCALACASVD_LEITOALA" FOR "ESCALACASVD" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
    NEW.USER1 = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "ESCALACAT_LEITOALA" FOR "ESCALACATETER" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
    NEW.USER1 = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "TRGAILOG_ESCALAFACE" FOR "ESCALAFACE" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('ESCALAFACE',NEW.CODIGOCPS,'I') into indice; end
 ^

CREATE TRIGGER "TRGAULOG_ESCALAFACE" FOR "ESCALAFACE" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('ESCALAFACE',NEW.CODIGOCPS,'U') into :indice;
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.DATA <> old.DATA) or (new.DATA is null and old.DATA is not null) or (new.DATA is not null and old.DATA is null)) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,new.DATA);
if ((new.VALOR <> old.VALOR) or (new.VALOR is null and old.VALOR is not null) or (new.VALOR is not null and old.VALOR is null)) then
 execute procedure insertlogitem(:indice,'VALOR',old.VALOR,new.VALOR);
 end
 ^

CREATE TRIGGER "TRGADLOG_ESCALAFACE" FOR "ESCALAFACE" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('ESCALAFACE',OLD.CODIGOCPS,'D') into :indice;
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.DATA is not null) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,null);
if (old.VALOR is not null) then
 execute procedure insertlogitem(:indice,'VALOR',old.VALOR,null);
 end
 ^

CREATE TRIGGER "TRGBI_ESCALAMEDICA" FOR "ESCALAMEDICA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_escalamedica,1);
end
 ^

CREATE TRIGGER "TRGBI_ESCALAMEDICA_ALA" FOR "ESCALAMEDICA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  if ( new.ala is null ) then
    new.ala = 0;
end
 ^

CREATE TRIGGER "TRGAILOG_ESCALAMORSE" FOR "ESCALAMORSE" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('ESCALAMORSE',NEW.CODIGOCPS,'I') into indice; end
 ^

CREATE TRIGGER "TRGAULOG_ESCALAMORSE" FOR "ESCALAMORSE" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('ESCALAMORSE',NEW.CODIGOCPS,'U') into :indice;
if ((new.CAMINHAR <> old.CAMINHAR) or (new.CAMINHAR is null and old.CAMINHAR is not null) or (new.CAMINHAR is not null and old.CAMINHAR is null)) then
 execute procedure insertlogitem(:indice,'CAMINHAR',old.CAMINHAR,new.CAMINHAR);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.DATA <> old.DATA) or (new.DATA is null and old.DATA is not null) or (new.DATA is not null and old.DATA is null)) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,new.DATA);
if ((new.DIAGNOSTICO <> old.DIAGNOSTICO) or (new.DIAGNOSTICO is null and old.DIAGNOSTICO is not null) or (new.DIAGNOSTICO is not null and old.DIAGNOSTICO is null)) then
 execute procedure insertlogitem(:indice,'DIAGNOSTICO',old.DIAGNOSTICO,new.DIAGNOSTICO);
if ((new.INTRAVENOSA <> old.INTRAVENOSA) or (new.INTRAVENOSA is null and old.INTRAVENOSA is not null) or (new.INTRAVENOSA is not null and old.INTRAVENOSA is null)) then
 execute procedure insertlogitem(:indice,'INTRAVENOSA',old.INTRAVENOSA,new.INTRAVENOSA);
if ((new.MENTAL <> old.MENTAL) or (new.MENTAL is null and old.MENTAL is not null) or (new.MENTAL is not null and old.MENTAL is null)) then
 execute procedure insertlogitem(:indice,'MENTAL',old.MENTAL,new.MENTAL);
if ((new.POSTURA <> old.POSTURA) or (new.POSTURA is null and old.POSTURA is not null) or (new.POSTURA is not null and old.POSTURA is null)) then
 execute procedure insertlogitem(:indice,'POSTURA',old.POSTURA,new.POSTURA);
if ((new.QUEDA <> old.QUEDA) or (new.QUEDA is null and old.QUEDA is not null) or (new.QUEDA is not null and old.QUEDA is null)) then
 execute procedure insertlogitem(:indice,'QUEDA',old.QUEDA,new.QUEDA);
 end
 ^

CREATE TRIGGER "TRGADLOG_ESCALAMORSE" FOR "ESCALAMORSE" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('ESCALAMORSE',OLD.CODIGOCPS,'D') into :indice;
if (old.CAMINHAR is not null) then
 execute procedure insertlogitem(:indice,'CAMINHAR',old.CAMINHAR,null);
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.DATA is not null) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,null);
if (old.DIAGNOSTICO is not null) then
 execute procedure insertlogitem(:indice,'DIAGNOSTICO',old.DIAGNOSTICO,null);
if (old.INTRAVENOSA is not null) then
 execute procedure insertlogitem(:indice,'INTRAVENOSA',old.INTRAVENOSA,null);
if (old.MENTAL is not null) then
 execute procedure insertlogitem(:indice,'MENTAL',old.MENTAL,null);
if (old.POSTURA is not null) then
 execute procedure insertlogitem(:indice,'POSTURA',old.POSTURA,null);
if (old.QUEDA is not null) then
 execute procedure insertlogitem(:indice,'QUEDA',old.QUEDA,null);
 end
 ^

CREATE TRIGGER "TRGAILOG_ESCALASAPS3" FOR "ESCALASAPS3" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('ESCALASAPS3',NEW.CODIGOCPS,'I') into indice; end
 ^

CREATE TRIGGER "TRGAULOG_ESCALASAPS3" FOR "ESCALASAPS3" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('ESCALASAPS3',NEW.CODIGOCPS,'U') into :indice;
if ((new.ABDOMEN <> old.ABDOMEN) or (new.ABDOMEN is null and old.ABDOMEN is not null) or (new.ABDOMEN is not null and old.ABDOMEN is null)) then
 execute procedure insertlogitem(:indice,'ABDOMEN',old.ABDOMEN,new.ABDOMEN);
if ((new.ADMISSAO <> old.ADMISSAO) or (new.ADMISSAO is null and old.ADMISSAO is not null) or (new.ADMISSAO is not null and old.ADMISSAO is null)) then
 execute procedure insertlogitem(:indice,'ADMISSAO',old.ADMISSAO,new.ADMISSAO);
if ((new.BILIRRUBIINA <> old.BILIRRUBIINA) or (new.BILIRRUBIINA is null and old.BILIRRUBIINA is not null) or (new.BILIRRUBIINA is not null and old.BILIRRUBIINA is null)) then
 execute procedure insertlogitem(:indice,'BILIRRUBIINA',old.BILIRRUBIINA,new.BILIRRUBIINA);
if ((new.CARDIOLOGICA <> old.CARDIOLOGICA) or (new.CARDIOLOGICA is null and old.CARDIOLOGICA is not null) or (new.CARDIOLOGICA is not null and old.CARDIOLOGICA is null)) then
 execute procedure insertlogitem(:indice,'CARDIOLOGICA',old.CARDIOLOGICA,new.CARDIOLOGICA);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.COMORBIDADE <> old.COMORBIDADE) or (new.COMORBIDADE is null and old.COMORBIDADE is not null) or (new.COMORBIDADE is not null and old.COMORBIDADE is null)) then
 execute procedure insertlogitem(:indice,'COMORBIDADE',old.COMORBIDADE,new.COMORBIDADE);
if ((new.CREATININA <> old.CREATININA) or (new.CREATININA is null and old.CREATININA is not null) or (new.CREATININA is not null and old.CREATININA is null)) then
 execute procedure insertlogitem(:indice,'CREATININA',old.CREATININA,new.CREATININA);
if ((new.DATA <> old.DATA) or (new.DATA is null and old.DATA is not null) or (new.DATA is not null and old.DATA is null)) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,new.DATA);
if ((new.DIASINT <> old.DIASINT) or (new.DIASINT is null and old.DIASINT is not null) or (new.DIASINT is not null and old.DIASINT is null)) then
 execute procedure insertlogitem(:indice,'DIASINT',old.DIASINT,new.DIASINT);
if ((new.FC <> old.FC) or (new.FC is null and old.FC is not null) or (new.FC is not null and old.FC is null)) then
 execute procedure insertlogitem(:indice,'FC',old.FC,new.FC);
if ((new.GLASGOW <> old.GLASGOW) or (new.GLASGOW is null and old.GLASGOW is not null) or (new.GLASGOW is not null and old.GLASGOW is null)) then
 execute procedure insertlogitem(:indice,'GLASGOW',old.GLASGOW,new.GLASGOW);
if ((new.IDADE <> old.IDADE) or (new.IDADE is null and old.IDADE is not null) or (new.IDADE is not null and old.IDADE is null)) then
 execute procedure insertlogitem(:indice,'IDADE',old.IDADE,new.IDADE);
if ((new.INFECCAO <> old.INFECCAO) or (new.INFECCAO is null and old.INFECCAO is not null) or (new.INFECCAO is not null and old.INFECCAO is null)) then
 execute procedure insertlogitem(:indice,'INFECCAO',old.INFECCAO,new.INFECCAO);
if ((new.LEUCO <> old.LEUCO) or (new.LEUCO is null and old.LEUCO is not null) or (new.LEUCO is not null and old.LEUCO is null)) then
 execute procedure insertlogitem(:indice,'LEUCO',old.LEUCO,new.LEUCO);
if ((new.MOTIVO <> old.MOTIVO) or (new.MOTIVO is null and old.MOTIVO is not null) or (new.MOTIVO is not null and old.MOTIVO is null)) then
 execute procedure insertlogitem(:indice,'MOTIVO',old.MOTIVO,new.MOTIVO);
if ((new.OPERACAO <> old.OPERACAO) or (new.OPERACAO is null and old.OPERACAO is not null) or (new.OPERACAO is not null and old.OPERACAO is null)) then
 execute procedure insertlogitem(:indice,'OPERACAO',old.OPERACAO,new.OPERACAO);
if ((new.OXIG <> old.OXIG) or (new.OXIG is null and old.OXIG is not null) or (new.OXIG is not null and old.OXIG is null)) then
 execute procedure insertlogitem(:indice,'OXIG',old.OXIG,new.OXIG);
if ((new.PAS <> old.PAS) or (new.PAS is null and old.PAS is not null) or (new.PAS is not null and old.PAS is null)) then
 execute procedure insertlogitem(:indice,'PAS',old.PAS,new.PAS);
if ((new.PH <> old.PH) or (new.PH is null and old.PH is not null) or (new.PH is not null and old.PH is null)) then
 execute procedure insertlogitem(:indice,'PH',old.PH,new.PH);
if ((new.PLAQUETAS <> old.PLAQUETAS) or (new.PLAQUETAS is null and old.PLAQUETAS is not null) or (new.PLAQUETAS is not null and old.PLAQUETAS is null)) then
 execute procedure insertlogitem(:indice,'PLAQUETAS',old.PLAQUETAS,new.PLAQUETAS);
if ((new.PROCEDENCIA <> old.PROCEDENCIA) or (new.PROCEDENCIA is null and old.PROCEDENCIA is not null) or (new.PROCEDENCIA is not null and old.PROCEDENCIA is null)) then
 execute procedure insertlogitem(:indice,'PROCEDENCIA',old.PROCEDENCIA,new.PROCEDENCIA);
if ((new.TEMP <> old.TEMP) or (new.TEMP is null and old.TEMP is not null) or (new.TEMP is not null and old.TEMP is null)) then
 execute procedure insertlogitem(:indice,'TEMP',old.TEMP,new.TEMP);
if ((new.URGENCIA <> old.URGENCIA) or (new.URGENCIA is null and old.URGENCIA is not null) or (new.URGENCIA is not null and old.URGENCIA is null)) then
 execute procedure insertlogitem(:indice,'URGENCIA',old.URGENCIA,new.URGENCIA);
if ((new.VASOATIVO <> old.VASOATIVO) or (new.VASOATIVO is null and old.VASOATIVO is not null) or (new.VASOATIVO is not null and old.VASOATIVO is null)) then
 execute procedure insertlogitem(:indice,'VASOATIVO',old.VASOATIVO,new.VASOATIVO);
 end
 ^

CREATE TRIGGER "TRGADLOG_ESCALASAPS3" FOR "ESCALASAPS3" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('ESCALASAPS3',OLD.CODIGOCPS,'D') into :indice;
if (old.ABDOMEN is not null) then
 execute procedure insertlogitem(:indice,'ABDOMEN',old.ABDOMEN,null);
if (old.ADMISSAO is not null) then
 execute procedure insertlogitem(:indice,'ADMISSAO',old.ADMISSAO,null);
if (old.BILIRRUBIINA is not null) then
 execute procedure insertlogitem(:indice,'BILIRRUBIINA',old.BILIRRUBIINA,null);
if (old.CARDIOLOGICA is not null) then
 execute procedure insertlogitem(:indice,'CARDIOLOGICA',old.CARDIOLOGICA,null);
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.COMORBIDADE is not null) then
 execute procedure insertlogitem(:indice,'COMORBIDADE',old.COMORBIDADE,null);
if (old.CREATININA is not null) then
 execute procedure insertlogitem(:indice,'CREATININA',old.CREATININA,null);
if (old.DATA is not null) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,null);
if (old.DIASINT is not null) then
 execute procedure insertlogitem(:indice,'DIASINT',old.DIASINT,null);
if (old.FC is not null) then
 execute procedure insertlogitem(:indice,'FC',old.FC,null);
if (old.GLASGOW is not null) then
 execute procedure insertlogitem(:indice,'GLASGOW',old.GLASGOW,null);
if (old.IDADE is not null) then
 execute procedure insertlogitem(:indice,'IDADE',old.IDADE,null);
if (old.INFECCAO is not null) then
 execute procedure insertlogitem(:indice,'INFECCAO',old.INFECCAO,null);
if (old.LEUCO is not null) then
 execute procedure insertlogitem(:indice,'LEUCO',old.LEUCO,null);
if (old.MOTIVO is not null) then
 execute procedure insertlogitem(:indice,'MOTIVO',old.MOTIVO,null);
if (old.OPERACAO is not null) then
 execute procedure insertlogitem(:indice,'OPERACAO',old.OPERACAO,null);
if (old.OXIG is not null) then
 execute procedure insertlogitem(:indice,'OXIG',old.OXIG,null);
if (old.PAS is not null) then
 execute procedure insertlogitem(:indice,'PAS',old.PAS,null);
if (old.PH is not null) then
 execute procedure insertlogitem(:indice,'PH',old.PH,null);
if (old.PLAQUETAS is not null) then
 execute procedure insertlogitem(:indice,'PLAQUETAS',old.PLAQUETAS,null);
if (old.PROCEDENCIA is not null) then
 execute procedure insertlogitem(:indice,'PROCEDENCIA',old.PROCEDENCIA,null);
if (old.TEMP is not null) then
 execute procedure insertlogitem(:indice,'TEMP',old.TEMP,null);
if (old.URGENCIA is not null) then
 execute procedure insertlogitem(:indice,'URGENCIA',old.URGENCIA,null);
if (old.VASOATIVO is not null) then
 execute procedure insertlogitem(:indice,'VASOATIVO',old.VASOATIVO,null);
 end
 ^

CREATE TRIGGER "INS_ESPECCONVENIO" FOR "ESPECCONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_ESPECCONVENIO, 1 );
END
 ^

CREATE TRIGGER "SINC1_ESPECCONVENIO" FOR "ESPECCONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ESPECCONVENIO" FOR "ESPECCONVENIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSESPECIAL" FOR "ESPECIAL" 
ACTIVE BEFORE INSERT POSITION 0
as begin
new.solicita = gen_id(gen_solicita,1);
end
 ^

CREATE TRIGGER "SINC1_ESPECIAL" FOR "ESPECIAL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ESPECIAL" FOR "ESPECIAL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_ESPECIALIDADE" FOR "ESPECIALIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ESPECIALIDADE" FOR "ESPECIALIDADE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_ESPECIALSUS" FOR "ESPECIALSUS" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_ESPECIALSUS,1);
end
 ^

CREATE TRIGGER "SINC1_ETARIASUS" FOR "ETARIASUS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_ETARIASUS" FOR "ETARIASUS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BI_BLOQ_ACESSO" FOR "EVOLUCAOENF" 
INACTIVE BEFORE INSERT POSITION 0
as
DECLARE VARIABLE TIPO VARCHAR(10);
begin
   if (new.TIPOEVOL in (2,5,6)) Then
   begin
     select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPO;
     if (:TIPO <> 'CRM') Then
        exception  EXC_TIPO_FICHA;
   end
   if (new.TIPOEVOL in (4)) Then
   begin
     select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPO;
     if (:TIPO <> 'COREN')  Then
        exception  EXC_TIPO_FICHA;
   end
end
 ^

CREATE TRIGGER "EVOLUCAOENF_LEITOALA" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "INS_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.EVOLUCAO = GEN_ID( GEN_EVOLUCAO, 1 );
END
 ^

CREATE TRIGGER "SINC1_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_EVOLUCAOENF_BLOK_ALTA" FOR "EVOLUCAOENF" 
INACTIVE BEFORE INSERT POSITION 20
as
DECLARE VARIABLE ALTA TIMESTAMP;
begin
  select datasaida from cps1 where codigocps = new.codigocps into :alta;
  if (alta is not null) Then
    exception exc_paciente_alta;
end
 ^

CREATE TRIGGER "TRGBI_EVOLUCAOENF_EMG" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 20
as begin
--  if ((new.tipoevol = '0') and (exists(select codigocps from cps1 where codigocps = new.CODIGOCPS and codigopla = 2))) then
 IF ((rdb$get_context('USER_SESSION', 'SISTEMA') = 'SAPI') and (rdb$get_context('USER_SESSION', 'CONSELHO') = 'CRM') ) THEN
  BEGIN
      new.tipoevol = '5';
      
      if ((new.HISTORIA_ADMISSAO is null) and  (new.tipo = 'U') and
       (exists(select codigocps from cpsmanchester where codigocps = new.CODIGOCPS and queixa is not null)))  then
       begin
          select CPSMANCHESTER.QUEIXA from cpsmanchester where codigocps = new.CODIGOCPS and queixa is not null into new.HISTORIA_ADMISSAO;
       end

  END
   IF ((rdb$get_context('USER_SESSION', 'SISTEMA') = 'SAPI') and (rdb$get_context('USER_SESSION', 'CONSELHO') <> 'CRM') ) THEN
     new.tipoevol = '1';
end
 ^

CREATE TRIGGER "TRGBI_EVOLSSOCIAL" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 40
as
declare variable especialidade varchar(10);
declare variable medico integer;
declare variable tipo integer;
begin
 select codigopla from cps1 where codigocps = new.codigocps into  :tipo;
 select first 1 medicos.especial, medicos.a_medicos from usuarios inner join medicos on
 (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1 into especialidade, medico;
  if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRESS') and (tipo =2)) then
  begin
     insert into cps2 (codigocps2,codigoserv, gruposus, codigoamb,a_medicos,especialidade,
     quantidade,a_codmoe,a_quantida,valor,
     data, hora, dhe,
     glosa, via, a_filme, sustipoato,  tecnica, cobrar, falha)
     values
     (new.codigocps, 25445,'03','01010048',:medico,'02',
     1,1,10,10,
     'today','now','N',
     0,0,0,'02','C','S', new.evolucao);
  end
end
 ^

CREATE TRIGGER "TRGBI_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 40
as
declare variable especialidade varchar(10);
declare variable medico integer;
DECLARE VARIABLE codigopla integer;
begin
    select codigopla from cps1 where codigocps = New.codigocps into :codigopla;
    select first 1 medicos.especial, medicos.a_medicos from usuarios inner join medicos on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1 into especialidade, medico;
    if (codigopla = 2) Then  -- emergencia
    begin
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and  (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01060061'))) then
        begin
            insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,especialidade,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01060061'),'01060061',:medico,:especialidade,1,1,11,11,'today','now','N',0,0,0,01,'03','C','S');
            update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
        end
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and  ( exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01060061'))) then
        begin
           update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
           update cps2 set a_medicos=:medico where codigoamb = '01060061' and codigocps2= new.codigocps;
        end
    end
    if (codigopla = 1) Then    -- ambulatorio
    begin
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and    -- 01010072 CONSULTA MEDICA EM ATENCAO ESPECIALIZADA
         (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01010072'))) then
        begin
            insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,especialidade,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                          (new.codigocps,25423,'01010072',:medico,:especialidade,1,1,10,10,'today','now','N',0,0,0,01,'03','C','S');
            update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
        end
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and
         ( exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01010072'))) then
        begin
           update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
           update cps2 set a_medicos=:medico where codigoamb = '01010072' and codigocps2= new.codigocps;
          -- update marcacao  set a_medicos2=:medico where codigocps= new.codigocps;  -- apropriar ambulatorio retira da agenda
          update marcacao  set status = 3 where codigocps= new.codigocps;  -- apropriar ambulatorio
        end
    end
    
     if (codigopla > 2) Then    -- internamento
    begin
        new.tipoevol = 1;
    end
end
 ^

CREATE TRIGGER "TRGBI_EVOLUCAOENF_COREN" FOR "EVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 40
as
begin
  if ((rdb$get_context('USER_SESSION','CONSELHO') = 'COREN') and (new.tipo = '1')) THEN
  begin
       new.tipoevol = '1';
  end
end
 ^

CREATE TRIGGER "TRGAILOG_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('EVOLUCAOENF',NEW.EVOLUCAO,'I') into indice; end
 ^

CREATE TRIGGER "EVOIS_BLOQ_ACESSO" FOR "EVOLUCAOENF" 
ACTIVE BEFORE UPDATE POSITION 0
as
DECLARE VARIABLE TIPO VARCHAR(10);
begin
   if (new.TIPOEVOL in (2,5,6)) Then
   begin
     select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPO;
     if (:TIPO <> 'CRM')  Then
        exception  EXC_CONTROLE_ACESSO;
   end
   if (new.TIPOEVOL in (4)) Then
   begin
     select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPO;
     if (:TIPO <> 'COREN')  Then
        exception  EXC_CONTROLE_ACESSO;
   end
end
 ^

CREATE TRIGGER "SINC2_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_EVOLUCAOENF_TRAVA30" FOR "EVOLUCAOENF" 
INACTIVE BEFORE UPDATE POSITION 20
as
declare variable tempo double precision;
begin
 -- if (new.tipoevol <> old.tipoevol) then
  begin
    tempo = cast('now' as timestamp) - new.datahora;
 --  if (tempo >= 0.02083333333) then   --- 30 min
    if (tempo >= 0.251201539) then   --- 6hs
      exception exc_dinamica 'Tempo de edio estabelecido pela direo mdica esgotado';
  end
end
 ^

CREATE TRIGGER "TRG_BU_EVOLUCAOENF_PEDIDO" FOR "EVOLUCAOENF" 
ACTIVE BEFORE UPDATE POSITION 20
as
DECLARE VARIABLE AUX_PEDIDO INTEGER;
DECLARE VARIABLE indicepv3 INTEGER;
DECLARE VARIABLE AUX_ESPECIALIDADE VARCHAR(2);
declare variable codkit integer;
declare variable id integer;
declare variable indiceitem integer;
declare variable descricao varchar(200);
declare variable classe varchar(20);
declare variable ccusto integer;
declare variable stok integer;
declare variable ala integer;
declare variable codigoserv integer;
declare variable tratamento integer;
/* code here */
BEGIN
    AUX_PEDIDO = 0;
    ccusto = 0;
    if ((exists(select codigopla from cps1 where codigocps = new.codigocps and codigopla = 2)) or
       ((rdb$get_context('USER_SESSION', 'SAPIITEM') in ('ALTA')))) then
    if (exists(select first 1 altaitem.indice from altaitem
                 where alta = new.evolucao and (classe = 'MatMed')  and ( indice_pedido is null or indice_pedido = 0))) then
    BEGIN
         SELECT ESPECIALIDADE FROM CPS1 WHERE CODIGOCPS= NEW.CODIGOCPS INTO :AUX_ESPECIALIDADE;
        if (exists(select codigopla from cps1 where codigocps = new.codigocps and codigopla = 2)) then
        begin
          /*    ccusto = 502;
            stok = 3;
            execute statement
            'SELECT PEDIDO FROM CRIAPEDIDOESTOQUE(' || NEW.CODIGOCPS || ',0,' || :ccusto ||',' || :stok || ',' || NEW.USER1 ||' )'
            on external 'LOCALHOST:almoxa'
            password 'ajuda' into :aux_pedido;*/
          execute statement
           'SELECT PEDIDO FROM CRIAPEDIDOESTOQUE(' || NEW.CODIGOCPS || ',' || 0 || ',' || 482 ||',' || 3 || ',' || NEW.USER1 ||' )'
          on external 'LOCALHOST:almoxa'
          as user current_user
          password 'ajuda' into :aux_pedido;
        end
        else
        begin
          select first 1 a_ala from inter4 where codigoint = new.codigocps order by data desc, hora desc, inter4no desc
          into ala;
          ccusto = 482;
          stok = 3;
          execute statement
          'SELECT PEDIDO FROM CRIAPEDIDOESTOQUE(' || NEW.CODIGOCPS || ',0,' || :ccusto ||',' || :stok || ',' || NEW.USER1 ||' )'
          on external 'LOCALHOST:almoxa'
          as user current_user
          password 'ajuda' into :aux_pedido;
        end
         if (aux_pedido > 0) then
         begin
             for select altaitem.indice, altaitem.codigoamb, cast(altaitem.descricao as varchar(200) ) Descricao from altaitem
                 where alta = new.evolucao and classe = 'MatMed'  and ( indice_pedido is null or indice_pedido = 0)
                 into indiceitem,:codkit, :descricao do
                 begin
                   execute statement
                   'select indice from CRIAPEDIDOITEMESTOQUE(' || :aux_pedido || ',' ||  :codkit || ',''' || :descricao||''',1)' on external 'LOCALHOST:almoxa' as user current_user password 'ajuda' into :indicepv3;
                   update altaitem set indice_pedido = :indicepv3 where indice = :indiceitem;
                 end
         end
    END
   id = 0;
   for select altaitem.codigoamb,altaitem.indice,altaitem.codigoserv from altaitem
       inner join servicos on (servicos.codigoserv = altaitem.codigoserv)
       where altaitem.alta = new.evolucao and altaitem.classe like 'Proc%'  and
       ( altaitem.indice_pedido is null or altaitem.indice_pedido = 0)
        --and servicos.a_tipo in ('R','Q')
       into codkit,indiceitem, codigoserv do
       begin
         classe = null;
         select a_tipo from servicos where codigoserv = :codigoserv into classe;
         if (classe = 'R') then
           classe = 'RX';
         if (classe = 'Q') then
           classe = 'TC';
         if (id = 0) then
           SELECT GEN_ID(GEN_CPS6ID,1) FROM RDB$DATABASE into id;
         insert into cps6 (CODIGOCPS6, CODIGOSERV, CODIGOAMB, PROCEDIMENTO, TIPO, QTDE,id, solicitante,classe,observacao)
         select new.codigocps, altaitem.codigoserv, substring(altaitem.codigoamb from 3 for 20),substring(descricao from 1 for 100),'I',1,:id,rdb$get_context('USER_SESSION','USUARIO'),:classe,observacao from altaitem
         where indice = :indiceitem and alta = new.evolucao and classe like 'Proc%'  and ( indice_pedido is null or indice_pedido = 0);
         update altaitem set indice_pedido = :id where indice = :indiceitem and alta = new.evolucao and classe like 'Proc%'  and ( indice_pedido is null or indice_pedido = 0);
       end
       if (id >0) then
       update cps6 set confirmado = 'S', datasinc='now', datahora='now' where codigocps6 = new.CODIGOCPS and id =:id;
   id = 0;
   for select altaitem.codigoamb,altaitem.indice,altaitem.codigoserv from altaitem
       inner join servicos on (servicos.codigoserv = altaitem.codigoserv)
       where altaitem.alta = new.evolucao and altaitem.classe like 'Proc%'  and ( altaitem.indice_pedido is null or altaitem.indice_pedido = 0) and servicos.a_tipo = 'E'
       into codkit,indiceitem, codigoserv do
       begin
         classe = null;
         select a_tipo from servicos where codigoserv = :codigoserv into classe;
         if (id = 0) then
           SELECT GEN_ID(GEN_CPS6ID,1) FROM RDB$DATABASE into id;
--         exception exc_acaobloqueada;
         insert into cps6 (CODIGOCPS6, CODIGOSERV, CODIGOAMB, PROCEDIMENTO, TIPO, QTDE,id, solicitante,classe,observacao)
         select new.codigocps, altaitem.codigoserv, substring(altaitem.codigoamb from 3 for 20),substring(descricao from 1 for 100),'I',1,:id,rdb$get_context('USER_SESSION','USUARIO'),'Procedimentos',observacao from altaitem
         where indice = :indiceitem and alta = new.evolucao and classe like 'Proc%'  and ( indice_pedido is null or indice_pedido = 0);
         update altaitem set indice_pedido = :id where indice = :indiceitem and alta = new.evolucao and classe like 'Proc%'  and ( indice_pedido is null or indice_pedido = 0);
       end
       if (id >0) then
       begin
         select numerolaudo from criapedidolaudoid(new.codigocps,:id,rdb$get_context('USER_SESSION','USUARIO'),'E') into descricao;
         update cps6 set confirmado = 'S', datasinc='now', datahora='now' where codigocps6 = new.CODIGOCPS and id =:id;
       end
END
 ^

CREATE TRIGGER "TRGBU_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE BEFORE UPDATE POSITION 40
as
declare variable especialidade varchar(10);
declare variable medico integer;
DECLARE VARIABLE codigopla integer;
begin
    select codigopla from cps1 where codigocps = New.codigocps into :codigopla;
    select first 1 medicos.especial, medicos.a_medicos from usuarios inner join medicos on (usuarios.medico = medicos.a_medicos) where usuarios.codigo = new.user1 into especialidade, medico;
    if (codigopla = 2) Then  -- emergencia
    begin
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and  (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01060061'))) then
        begin
            insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,especialidade,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                          (new.codigocps,(select max(codigoserv) from  servicos where a_codamb = '01060061'),'01060061',:medico,:especialidade,1,1,11,11,'today','now','N',0,0,0,01,'03','C','S');
            update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
        end
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and  ( exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01060061'))) then
        begin
           update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
           update cps2 set a_medicos=:medico where codigoamb = '01060061' and codigocps2= new.codigocps;
        end
    end
    if (codigopla = 1) Then    -- ambulatorio
    begin
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and    -- 01010072 CONSULTA MEDICA EM ATENCAO ESPECIALIZADA
         (not exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01010072'))) then
        begin
            insert into cps2 (codigocps2,codigoserv,codigoamb,a_medicos,especialidade,quantidade,a_codmoe,a_quantida,valor, data, hora,dhe,glosa,via,a_filme,sustipoato,gruposus,tecnica,cobrar) values
                          (new.codigocps,25423,'01010072',:medico,:especialidade,1,1,10,10,'today','now','N',0,0,0,01,'03','C','S');
            update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
        end
        if ((rdb$get_context('USER_SESSION','CONSELHO') = 'CRM') and (new.tipoevol = '5') and
         ( exists(select cps2.codigocps2 from cps2 where codigocps2 = new.codigocps and codigoamb = '01010072'))) then
        begin
           update cps1 set medresp = :medico, especialidade= :especialidade where codigocps = new.codigocps;
           update cps2 set a_medicos=:medico where codigoamb = '01010072' and codigocps2= new.codigocps;
          -- update marcacao  set a_medicos2=:medico where codigocps= new.codigocps;  -- apropriar ambulatorio retira da agenda
          update marcacao  set status = 3 where codigocps= new.codigocps;  -- apropriar ambulatorio
        end
    end
end
 ^

CREATE TRIGGER "TRGAULOG_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('EVOLUCAOENF',NEW.EVOLUCAO,'U') into :indice;
if ((new.CLASSE <> old.CLASSE) or (new.CLASSE is null and old.CLASSE is not null) or (new.CLASSE is not null and old.CLASSE is null)) then
 execute procedure insertlogitem(:indice,'CLASSE',old.CLASSE,new.CLASSE);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.CONTEUDO <> old.CONTEUDO) or (new.CONTEUDO is null and old.CONTEUDO is not null) or (new.CONTEUDO is not null and old.CONTEUDO is null)) then
 execute procedure insertlogitem(:indice,'CONTEUDO',old.CONTEUDO,new.CONTEUDO);
if ((new.DATAHORA <> old.DATAHORA) or (new.DATAHORA is null and old.DATAHORA is not null) or (new.DATAHORA is not null and old.DATAHORA is null)) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,new.DATAHORA);
if ((new.DATA_ADMISSAO <> old.DATA_ADMISSAO) or (new.DATA_ADMISSAO is null and old.DATA_ADMISSAO is not null) or (new.DATA_ADMISSAO is not null and old.DATA_ADMISSAO is null)) then
 execute procedure insertlogitem(:indice,'DATA_ADMISSAO',old.DATA_ADMISSAO,new.DATA_ADMISSAO);
if ((new.EVOLUCAO <> old.EVOLUCAO) or (new.EVOLUCAO is null and old.EVOLUCAO is not null) or (new.EVOLUCAO is not null and old.EVOLUCAO is null)) then
 execute procedure insertlogitem(:indice,'EVOLUCAO',old.EVOLUCAO,new.EVOLUCAO);
if ((new.FR <> old.FR) or (new.FR is null and old.FR is not null) or (new.FR is not null and old.FR is null)) then
 execute procedure insertlogitem(:indice,'FR',old.FR,new.FR);
if ((new.HISTORIA_ADMISSAO <> old.HISTORIA_ADMISSAO) or (new.HISTORIA_ADMISSAO is null and old.HISTORIA_ADMISSAO is not null) or (new.HISTORIA_ADMISSAO is not null and old.HISTORIA_ADMISSAO is null)) then
 execute procedure insertlogitem(:indice,'HISTORIA_ADMISSAO',old.HISTORIA_ADMISSAO,new.HISTORIA_ADMISSAO);
if ((new.IMPRESSO <> old.IMPRESSO) or (new.IMPRESSO is null and old.IMPRESSO is not null) or (new.IMPRESSO is not null and old.IMPRESSO is null)) then
 execute procedure insertlogitem(:indice,'IMPRESSO',old.IMPRESSO,new.IMPRESSO);
if ((new.ISOLAMENTO <> old.ISOLAMENTO) or (new.ISOLAMENTO is null and old.ISOLAMENTO is not null) or (new.ISOLAMENTO is not null and old.ISOLAMENTO is null)) then
 execute procedure insertlogitem(:indice,'ISOLAMENTO',old.ISOLAMENTO,new.ISOLAMENTO);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.PAD <> old.PAD) or (new.PAD is null and old.PAD is not null) or (new.PAD is not null and old.PAD is null)) then
 execute procedure insertlogitem(:indice,'PAD',old.PAD,new.PAD);
if ((new.PAS <> old.PAS) or (new.PAS is null and old.PAS is not null) or (new.PAS is not null and old.PAS is null)) then
 execute procedure insertlogitem(:indice,'PAS',old.PAS,new.PAS);
if ((new.PESO <> old.PESO) or (new.PESO is null and old.PESO is not null) or (new.PESO is not null and old.PESO is null)) then
 execute procedure insertlogitem(:indice,'PESO',old.PESO,new.PESO);
if ((new.PLANO_CONDUTA <> old.PLANO_CONDUTA) or (new.PLANO_CONDUTA is null and old.PLANO_CONDUTA is not null) or (new.PLANO_CONDUTA is not null and old.PLANO_CONDUTA is null)) then
 execute procedure insertlogitem(:indice,'PLANO_CONDUTA',old.PLANO_CONDUTA,new.PLANO_CONDUTA);
if ((new.PROBLEMAS <> old.PROBLEMAS) or (new.PROBLEMAS is null and old.PROBLEMAS is not null) or (new.PROBLEMAS is not null and old.PROBLEMAS is null)) then
 execute procedure insertlogitem(:indice,'PROBLEMAS',old.PROBLEMAS,new.PROBLEMAS);
if ((new.PROCEDIMENTOS <> old.PROCEDIMENTOS) or (new.PROCEDIMENTOS is null and old.PROCEDIMENTOS is not null) or (new.PROCEDIMENTOS is not null and old.PROCEDIMENTOS is null)) then
 execute procedure insertlogitem(:indice,'PROCEDIMENTOS',old.PROCEDIMENTOS,new.PROCEDIMENTOS);
if ((new.PULSO <> old.PULSO) or (new.PULSO is null and old.PULSO is not null) or (new.PULSO is not null and old.PULSO is null)) then
 execute procedure insertlogitem(:indice,'PULSO',old.PULSO,new.PULSO);
if ((new.SUSP_DIAGNOSTICA <> old.SUSP_DIAGNOSTICA) or (new.SUSP_DIAGNOSTICA is null and old.SUSP_DIAGNOSTICA is not null) or (new.SUSP_DIAGNOSTICA is not null and old.SUSP_DIAGNOSTICA is null)) then
 execute procedure insertlogitem(:indice,'SUSP_DIAGNOSTICA',old.SUSP_DIAGNOSTICA,new.SUSP_DIAGNOSTICA);
if ((new.TEMPERATURA <> old.TEMPERATURA) or (new.TEMPERATURA is null and old.TEMPERATURA is not null) or (new.TEMPERATURA is not null and old.TEMPERATURA is null)) then
 execute procedure insertlogitem(:indice,'TEMPERATURA',old.TEMPERATURA,new.TEMPERATURA);
if ((new.TIPO <> old.TIPO) or (new.TIPO is null and old.TIPO is not null) or (new.TIPO is not null and old.TIPO is null)) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,new.TIPO);
if ((new.TIPOEVOL <> old.TIPOEVOL) or (new.TIPOEVOL is null and old.TIPOEVOL is not null) or (new.TIPOEVOL is not null and old.TIPOEVOL is null)) then
 execute procedure insertlogitem(:indice,'TIPOEVOL',old.TIPOEVOL,new.TIPOEVOL);
if ((new.TURNO <> old.TURNO) or (new.TURNO is null and old.TURNO is not null) or (new.TURNO is not null and old.TURNO is null)) then
 execute procedure insertlogitem(:indice,'TURNO',old.TURNO,new.TURNO);
 end
 ^

CREATE TRIGGER "DEL_EVOLUCAOENF" FOR "EVOLUCAOENF" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  INSERT INTO XEVOLUCAOENF  (EVOLUCAO,  CODIGOCPS,  DATAHORA,  CONTEUDO,  IMPRESSO,  USER1,  USER2,  DATA1,  DATA2,
    TIPO,  DATASINC,  OBSERVACAO,  CLASSE,  PLANO_CONDUTA,  PROBLEMAS,  HISTORIA_ADMISSAO,  DATA_ADMISSAO,  TURNO,
    PROCEDIMENTOS,  ISOLAMENTO,  SUSP_DIAGNOSTICA,  TIPOEVOL,  TEMPERATURA,  PULSO,  FR,  PAS,  PAD,  PESO)
    SELECT EVOLUCAO,  CODIGOCPS,  DATAHORA,  CONTEUDO,  IMPRESSO,  USER1,  USER2,  DATA1,  DATA2,
    TIPO,  DATASINC,  OBSERVACAO,  CLASSE,  PLANO_CONDUTA,  PROBLEMAS,  HISTORIA_ADMISSAO,  DATA_ADMISSAO,  TURNO,
    PROCEDIMENTOS,  ISOLAMENTO,  SUSP_DIAGNOSTICA,  TIPOEVOL,  TEMPERATURA,  PULSO,  FR,  PAS,  PAD,  PESO
    from EVOLUCAOENF WHERE EVOLUCAO = OLD.EVOLUCAO;
end
 ^

CREATE TRIGGER "TRGBI_GEN_EXAMEFISICO" FOR "EXAMEFISICO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.IDEXAMEFISICO = GEN_ID( GEN_EXAMEFISICO, 1 );
end
 ^

CREATE TRIGGER "INS_EXAMES" FOR "EXAMES1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.A_NOTAMED = GEN_ID( GEN_EXAMES1, 1 );
END
 ^

CREATE TRIGGER "SINC1_EXAMES1" FOR "EXAMES1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_EXAMES1" FOR "EXAMES1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_EXAMES2" FOR "EXAMES2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_EXAMES2, 1 );
END
 ^

CREATE TRIGGER "SINC1_EXAMES2" FOR "EXAMES2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_EXAMES2" FOR "EXAMES2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_EXAMPACIENTE" FOR "EXAMPACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_EXAMPACIENTE" FOR "EXAMPACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
as begin
new.codigo = gen_id(gen_exampaciente,1);
end
 ^

CREATE TRIGGER "SINC2_EXAMPACIENTE" FOR "EXAMPACIENTE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSEXCLUIDOSBRAS" FOR "EXCLUIDOSBRAS" 
ACTIVE BEFORE INSERT POSITION 0
as begin
new.INDICE = gen_id(gen_EXCLUIDOSBRAS,1);
end
 ^

CREATE TRIGGER "INS_FECHA" FOR "FECHAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_FECHA, 1 );
END
 ^

CREATE TRIGGER "SINC1_FECHAMENTO" FOR "FECHAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_FECHAMENTO" FOR "FECHAMENTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRBU_DIF_ARECEBER" FOR "FECHAMENTO" 
INACTIVE BEFORE UPDATE POSITION 0
AS
declare variable valorrecebido double precision;
BEGIN
        NEW.ARECEBER = NEW.TOTAL - NEW.RECEBIDO;
END
 ^

CREATE TRIGGER "LIMPA_FINACEIRO_FECHAMENTO" FOR "FECHAMENTO" 
ACTIVE AFTER UPDATE POSITION 10
as
BEGIN
  IF ( NEW.FINANCEIRO = 0 ) THEN UPDATE FECHAMENTO SET FINANCEIRO = NULL WHERE SEQUENCIA = NEW.SEQUENCIA;
END
 ^

CREATE TRIGGER "DEL_BD_FECHAMENTO" FOR "FECHAMENTO" 
ACTIVE BEFORE DELETE POSITION 15
as
begin
    UPDATE CPS1 SET FATURAGLOSA =0 WHERE FATURAGLOSA = cast(OLD.SEQUENCIA as integer);
    UPDATE CPS1 SET FATURA =0 WHERE FATURA = OLD.SEQUENCIA;
    UPDATE INTER2 SET FATURAGLOSA =0 WHERE FATURAGLOSA = cast(OLD.SEQUENCIA as integer);
    UPDATE INTER2 SET FATURANO =0 WHERE FATURANO = cast(OLD.SEQUENCIA as integer);
end
 ^

CREATE TRIGGER "DELFECHAMENTO" FOR "FECHAMENTO" 
ACTIVE BEFORE DELETE POSITION 20
as
begin
  INSERT INTO FECHAMENTOABERTO
  ( SEQUENCIA, CONVENIO, DATA, DATAFINAL, DATAINICIAL, NOTAFISCAL, OBSERVACAO, TOTAL,
    QUANTIDADE, PAGMEDICO, DATAPAGMEDICO, FINANCEIRO, VENCIMENTO,
    RECEBIDO, NOTAFISCALDATA, LOTE, H_IRRF, H_PIS, H_COFINS, H_CLS, H_ISS,
    H_DESCONTO, PARCIAL, USER1, USER2, DATA1, DATA3, REFERENTE )
   SELECT SEQUENCIA, CONVENIO, DATA, DATAFINAL, DATAINICIAL, NOTAFISCAL, OBSERVACAO, TOTAL,
    QUANTIDADE, PAGMEDICO, DATAPAGMEDICO, FINANCEIRO, VENCIMENTO,
    RECEBIDO, NOTAFISCALDATA, LOTE, H_IRRF, H_PIS, H_COFINS, H_CLS, H_ISS,
    H_DESCONTO, PARCIAL, USER1, USER2, DATA1, DATA3, REFERENTE
   from FECHAMENTO WHERE SEQUENCIA = OLD.SEQUENCIA;
end
 ^

CREATE TRIGGER "INS_FECHAMENTO2" FOR "FECHAMENTO2" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_fechamento2, 1 );
end
 ^

CREATE TRIGGER "INS_FECHAMENTO3" FOR "FECHAMENTO3" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_fechamento3, 1 );
end
 ^

CREATE TRIGGER "SINC1_FERIADO" FOR "FERIADO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_FERIADO" FOR "FERIADO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_FETARIA" FOR "FETARIA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_FETARIA,1);
end
 ^

CREATE TRIGGER "TRGBI_FINGER" FOR "FINGER" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.codigo = gen_id(gen_finger,1);
end
 ^

CREATE TRIGGER "INS_FISIOTERAPIA" FOR "FISIOTERAPIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
     NEW.NUMERO = GEN_ID( GEN_FISIOTERAPIA, 1 );
END
 ^

CREATE TRIGGER "SINC1_FISIOTERAPIA" FOR "FISIOTERAPIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_FISIOTERAPIA" FOR "FISIOTERAPIA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_FORMA_ORG" FOR "FORMA_ORG" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(gen_FORMA_ORG,1);
end
 ^

CREATE TRIGGER "TRGBI_FORNEC" FOR "FORNECPROD" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.codigo = gen_id(gen_fornecprod,1);
end
 ^

CREATE TRIGGER "TRI_BI_FPO_SUS" FOR "FPO_SUS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id(gen_fpo_sus,1);
end
 ^

CREATE TRIGGER "SINC1_FRASESLAUDO" FOR "FRASESLAUDO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_FRASESLAUDO" FOR "FRASESLAUDO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BIFUGULIN_ALA" FOR "FUGULIN" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
END
 ^

CREATE TRIGGER "INS_FUGULIN" FOR "FUGULIN" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID_FUGULIN = GEN_ID( GEN_IDFUGULIN, 1 );
END
 ^

CREATE TRIGGER "SINC1_DATA1" FOR "FUGULIN" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.DATA = 'NOW';
END
 ^

CREATE TRIGGER "INS_FUNCAO" FOR "FUNCAO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.FUNCAO = GEN_ID( Gen_FUNCAO, 1 );
end
 ^

CREATE TRIGGER "SINC1_FUNCAO" FOR "FUNCAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_FUNCAO" FOR "FUNCAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_GLOSADETALHE" FOR "GLOSADETALHE" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.indice = gen_id( gen_glosadetalhe, 1 );
end
 ^

CREATE TRIGGER "TRGBI_GLOSAJUSTIFICATIVA" FOR "GLOSAJUSTIFICATIVA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_glosajustificativa,1);
end
 ^

CREATE TRIGGER "INSGRAFICO" FOR "GRAFICO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.GRAFICO = gen_id( gen_GRAFICO, 1 );
end
 ^

CREATE TRIGGER "SINC1_GRAFICO" FOR "GRAFICO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_GRAFICO" FOR "GRAFICO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_GRUPO" FOR "GRUPO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(GEN_GRUPO,1);
end
 ^

CREATE TRIGGER "SINC1_GRUPOALIMENTO" FOR "GRUPOALIMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_GRUPOALIMENTO" FOR "GRUPOALIMENTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_GRUPOGERAL" FOR "GRUPOGERAL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.CODIGO = GEN_ID( GEN_GRUPOGERAL, 1 );
END
 ^

CREATE TRIGGER "INSGRUPOMED" FOR "GRUPOMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.A_GRUPOM = GEN_ID( GEN_GRUPOMED, 1 );
END
 ^

CREATE TRIGGER "SINC1_GRUPOMED" FOR "GRUPOMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_GRUPOMED" FOR "GRUPOMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_GRUPOSUS" FOR "GRUPOSUS" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(gen_GRUPOSUS,1);
end
 ^

CREATE TRIGGER "INS_GRUPOTERA" FOR "GRUPOTERA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.A_GRUPOTEURA = GEN_ID( Gen_GrupoTeura, 1 );
end
 ^

CREATE TRIGGER "SINC1_GRUPOTERA" FOR "GRUPOTERA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_GRUPOTERA" FOR "GRUPOTERA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "GEN_GUICHE" FOR "GUICHE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_GUICHE, 1 );
END
 ^

CREATE TRIGGER "SINC1_GUICHE" FOR "GUICHE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_GUICHE" FOR "GUICHE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_DATAINS" FOR "HIS_ENFERMAGEM" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.data = 'NOW';
end
 ^

CREATE TRIGGER "TRGBI_GEN_HIS_ENFERMAGEM" FOR "HIS_ENFERMAGEM" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_His_enfermagem, 1 );
end
 ^

CREATE TRIGGER "INS_IMAGEM" FOR "IMAGENS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.NUMERO = GEN_ID( Gen_IMAGENS, 1 );
end
 ^

CREATE TRIGGER "SINC1_IMAGENS" FOR "IMAGENS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_IMAGENS" FOR "IMAGENS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_IMPORTPRONT" FOR "IMPORTPRONT" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_IMPORTPRONT" FOR "IMPORTPRONT" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_IMPORTPRONT2" FOR "IMPORTPRONT2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_IMPORTPRONT2" FOR "IMPORTPRONT2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_IMPRESSAODIGITAL" FOR "IMPRESSAODIGITAL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.numero = GEN_ID( GEN_SENHADIGITAL, 1 );
END
 ^

CREATE TRIGGER "BI_IMP_FUSMA" FOR "IMP_FUSMA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.DATAIMPORT = 'NOW';
  NEW.DATAIMPORTACAO = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_IMP_FUSMA" FOR "IMP_FUSMA" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  IF ((NEW.NIP_VINC IS NULL) OR (NEW.NIP_VINC = '')) THEN
    NEW.NIP_VINC = NEW.NIP_TIT;
END
 ^

CREATE TRIGGER "SINC1_INFONUT" FOR "INFONUT" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_INFONUT" FOR "INFONUT" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
NEW.CODIGO = GEN_ID(GEN_INFONUT,1);
END
 ^

CREATE TRIGGER "SINC2_INFONUT" FOR "INFONUT" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_INTENSIDADE" FOR "INTENSIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_INTENSIIDADE" FOR "INTENSIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   new.INDICE = GEN_ID( GEN_INTENSIDADE, 1 );
END
 ^

CREATE TRIGGER "SINC2_INTENSIDADE" FOR "INTENSIDADE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_INTER2" FOR "INTER2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INTER2NO = GEN_ID( GEN_INTER2, 1 );
END
 ^

CREATE TRIGGER "SINC1_INTER2" FOR "INTER2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRG_BI_TRATAMENTOUNICO" FOR "INTER2" 
ACTIVE BEFORE INSERT POSITION 5
AS
DECLARE VARIABLE AUX_TRATAMENTO INTEGER;
BEGIN
   AUX_TRATAMENTO =0;
   SELECT TRATAMENTO FROM INTER2 WHERE CODIGOINT = NEW.CODIGOINT AND TRATAMENTO = NEW.TRATAMENTO
   INTO :AUX_TRATAMENTO;
   BEGIN
      IF ((AUX_TRATAMENTO IS NOT NULL) AND (AUX_TRATAMENTO > 0) AND (NEW.TRATAMENTO = AUX_TRATAMENTO) ) THEN
        EXCEPTION TRAVAINTER2;
   END
END
 ^

CREATE TRIGGER "INS_INTER2VAL" FOR "INTER2" 
ACTIVE AFTER INSERT POSITION 0
AS
begin
    Update CPS1 SET VALORTOTAL = VALORTOTAL + NEW.TOTAL
    WHERE CODIGOCPS = NEW.CODIGOINT;
end
 ^

CREATE TRIGGER "SINC2_INTER2" FOR "INTER2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "UPD_INTER2VAL" FOR "INTER2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
begin
  if ( new.TOTAL <> old.TOTAL ) then
     Update CPS1 SET VALORTOTAL = VALORTOTAL - OLD.TOTAL
     + new.TOTAL WHERE CODIGOCPS = OLD.CODIGOINT;
end
 ^

CREATE TRIGGER "DEL2_INTER2" FOR "INTER2" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  insert into XX_INTER2
    (CODIGOINT, TRATAMENTO, CONVENIO, A_VIA, A_DATA, A_HORA, A_DATAFIM, A_HORAFIM,
     A_ENVIO, DOCUMENTOS, A_DATADIA, FATURA, CODIGO, A_VALOR, A_VALOR1,
     A_GLOSA, MARCADO, PARCELA, TIPOGUIA, MOTIVOALTA,FATURANO, OBSERVACAO, ADM,
     ENFERMAGEM, MEDICA, USER1, USER2, DATA1, DATA2, TIPO, MEDICOSOL, CODSERV1,
     CODSERV2, CODSERV3, OBSERVACAO2, DIARIA)
  SELECT
     CODIGOINT, TRATAMENTO, CONVENIO, A_VIA, A_DATA, A_HORA, A_DATAFIM, A_HORAFIM,
     A_ENVIO, DOCUMENTOS, A_DATADIA, FATURA, CODIGO, A_VALOR, A_VALOR1,
     A_GLOSA, MARCADO, PARCELA, TIPOGUIA, MOTIVOALTA,FATURANO, OBSERVACAO, ADM,
     ENFERMAGEM, MEDICA, USER1, USER2, DATA1, DATA2, TIPO, MEDICOSOL, CODSERV1,
     CODSERV2, CODSERV3, OBSERVACAO2, DIARIA
  FROM INTER2
  WHERE INTER2NO = OLD.INTER2NO;
  DELETE FROM INTER3  WHERE (CODIGOINT = OLD.CODIGOINT ) AND (TRATAMENTO = OLD.TRATAMENTO);
  DELETE FROM INTER32 WHERE (CODIGOINT = OLD.CODIGOINT ) AND (TRATAMENTO = OLD.TRATAMENTO);
end
 ^

CREATE TRIGGER "DEL_INTER2VAL" FOR "INTER2" 
ACTIVE BEFORE DELETE POSITION 0
AS
begin
     Update CPS1 SET VALORTOTAL = VALORTOTAL - OLD.TOTAL
     WHERE CODIGOCPS = OLD.CODIGOINT;
end
 ^

CREATE TRIGGER "DEL_X_INTER2" FOR "INTER2" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into XXX_INTER2
  (CODIGOINT,TRATAMENTO, CONVENIO, A_VIA, A_DATA, A_HORA,
   A_DATAFIM, A_HORAFIM, A_ENVIO, DOCUMENTOS, A_DATADIA, FATURA,
   CODIGO, A_VALOR, A_GLOSA, A_VALOR1, MARCADO, PARCELA, TIPOGUIA, MOTIVOALTA,
   FATURANO, MEDICA, ENFERMAGEM, ADM, OBSERVACAO, USER1, USER2, DATA1, DATA2, MEDICOSOL, TIPO,CODSERV1,
   CODSERV2,CODSERV3,OBSERVACAO2,  DIARIA, DESCONTO, DATASINC,
   FATURAGLOSA,  A_GUIA,  DATARECEBIMENTO,  IP,  VERSAO,  IP1,  VERSAO1,  DIARIAAUTO,
   DIARIAHORA,  TRAVADIA,  ASSISTAUTO,  TIPOACOMODACAO,  TIPOENFERMARIA,  DATAGLOSA,
   USERGLOSA,  ALTAMEDICO,  ALTAANESTESISTA,  ALTAAUDITOR,  ALTAFARMACIA,  ALTAENFERMAGEM,  TIPOALTATISS,
   TRATAMENTO2)
SELECT
   CODIGOINT, TRATAMENTO, CONVENIO, A_VIA, A_DATA, A_HORA,
   A_DATAFIM, A_HORAFIM, A_ENVIO, DOCUMENTOS, A_DATADIA, FATURA,
   CODIGO, A_VALOR, A_GLOSA, A_VALOR1, MARCADO, PARCELA, TIPOGUIA, MOTIVOALTA,
   FATURANO, MEDICA, ENFERMAGEM, ADM, OBSERVACAO, USER1, USER2, DATA1, DATA2, MEDICOSOL, TIPO,CODSERV1,
   CODSERV2,CODSERV3,OBSERVACAO2,  DIARIA, DESCONTO, DATASINC,
   FATURAGLOSA,  A_GUIA,  DATARECEBIMENTO,  IP,  VERSAO,  IP1,  VERSAO1,  DIARIAAUTO,
   DIARIAHORA,  TRAVADIA,  ASSISTAUTO,  TIPOACOMODACAO,  TIPOENFERMARIA,  DATAGLOSA,
   USERGLOSA,  ALTAMEDICO,  ALTAANESTESISTA,  ALTAAUDITOR,  ALTAFARMACIA,  ALTAENFERMAGEM,  TIPOALTATISS,
   TRATAMENTO2
FROM INTER2
WHERE INTER2NO = OLD.INTER2NO;
END
 ^

CREATE TRIGGER "DEL_INTER2" FOR "INTER2" 
ACTIVE AFTER DELETE POSITION 0
as
begin
  DELETE FROM INTER3  WHERE (CODIGOINT = OLD.CODIGOINT ) AND (TRATAMENTO = OLD.TRATAMENTO);
  DELETE FROM INTER32 WHERE (CODIGOINT = OLD.CODIGOINT ) AND (TRATAMENTO = OLD.TRATAMENTO);
end
 ^

CREATE TRIGGER "SINC1_INTER2X" FOR "INTER2X" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_INTER2X" FOR "INTER2X" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_INTER3" FOR "INTER3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INTER3NO = GEN_ID( GEN_INTER3, 1 );
   NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRBI_INTER3_VALOR_GLOSA_PART" FOR "INTER3" 
INACTIVE BEFORE INSERT POSITION 10
as
begin
 if ( NEW.glosa IS NOT NULL ) then
        new.valor = new.valor - new.glosa;
end
 ^

CREATE TRIGGER "ADICIONA_INTER3" FOR "INTER3" 
ACTIVE AFTER INSERT POSITION 0
AS
begin
    if ( ( NEW.COBRAR = 'S' ) or ( NEW.COBRAR is null)) then
    begin
        Update INTER2 SET A_VALOR = A_VALOR + NEW.VALOR
        Where CODIGOINT = NEW.CODIGOINT AND TRATAMENTO = NEW.TRATAMENTO;
        IF ( NEW.COBRAR <> 'N' ) THEN
        BEGIN
            Update CPS1 SET GLOSA = GLOSA + NEW.glosa WHERE CODIGOCPS = NEW.CODIGOINT;
        END
    end
end
 ^

CREATE TRIGGER "ATUALIZA_INTER3" FOR "INTER3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
    if ( ( OLD.COBRAR <> 'N' ) AND ( OLD.COBRAR <> 'B' ) AND ( OLD.COBRAR <> 'H' ) ) then
    begin
        if ( ( new.Valor <> old.Valor ) or ( new.QUANTIDADE <> old.QUANTIDADE ) or ( new.COBRAR <> old.COBRAR ) ) then
        Update INTER2 SET A_VALOR = A_VALOR - OLD.VALOR
        WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
    end
    if ( ( NEW.COBRAR <> 'N' ) AND ( NEW.COBRAR <> 'B' ) AND ( NEW.COBRAR <> 'H' ) ) then
    begin
        if ( ( new.Valor <> old.Valor ) or ( new.QUANTIDADE <> old.QUANTIDADE ) or ( new.COBRAR <> old.COBRAR ) ) then
        Update INTER2 SET A_VALOR = A_VALOR + NEW.VALOR
        WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
    end
end
 ^

CREATE TRIGGER "TRBU_INTER3_VALOR_GLOSA_PART" FOR "INTER3" 
INACTIVE BEFORE UPDATE POSITION 10
as
begin
 if ( old.glosa = 0) then
        new.valor = new.valor - new.glosa;
end
 ^

CREATE TRIGGER "TRGBU_INTER3_GLOSA" FOR "INTER3" 
ACTIVE BEFORE UPDATE POSITION 20
as
declare variable fatura integer;
begin
  if ((new.glosa <> old.glosa) or (new.representa <> old.representa)) then
  begin
    select faturaglosa from inter2 where codigoint = new.codigoint and tratamento = new.tratamento into :fatura;
    if (fatura > 0) then
      exception exc_glosa;
  end
  NEW.DATASINC = 'NOW';
end
 ^

CREATE TRIGGER "DELETA2_INTER3" FOR "INTER3" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  insert into X_INTER3
     ( CODIGOINT, TRATAMENTO, A_DATA, A_HORA, CODIGOSERV, A_MEDICOS,
         QUANTIDADE, A_CODMOE, A_QUANTIDADE, CODIGO, VALOR, CODIGOAMB, GLOSA,
         DHE,SENHA, PORTE, CODESP, USER1, USER2, DATA1, DATA2, REPRESENTA, A_FILME,
         CODIGOAMB1, GLOSARECEBIDA, GLOSADATA, GLOSATIPO, DATAINICIO, DATAFIM,
         TIPOCOB, CO, COBRAR, GLOSARESPONSAVEL, GLOSADEFINITIVA, DATASINC,
         UNIDADENEGOCIO, IP, VERSAO, IP1, VERSAO1, RSGLOSA, TECNICA,
         GRAUPARTICIPACAO, HORAFINAL, PACOTE, DATAGLOSA, USERGLOSA, CUSTO,
	 A_SITUACAO, JUSTIFICATIVA)
  SELECT CODIGOINT, TRATAMENTO, A_DATA, A_HORA, CODIGOSERV, A_MEDICOS,
         QUANTIDADE, A_CODMOE, A_QUANTIDADE, CODIGO, VALOR, CODIGOAMB, GLOSA,
         DHE,SENHA, PORTE, CODESP, USER1, USER2, DATA1, DATA2, REPRESENTA, A_FILME,
         CODIGOAMB1, GLOSARECEBIDA, GLOSADATA, GLOSATIPO, DATAINICIO, DATAFIM,
         TIPOCOB, CO, COBRAR, GLOSARESPONSAVEL, GLOSADEFINITIVA, DATASINC,
	 UNIDADENEGOCIO, IP, VERSAO, IP1, VERSAO1, RSGLOSA, TECNICA,
	 GRAUPARTICIPACAO, HORAFINAL, PACOTE, DATAGLOSA, USERGLOSA, CUSTO,
	 A_SITUACAO, JUSTIFICATIVA
   FROM INTER3
   WHERE INTER3NO = OLD.INTER3NO;
end
 ^

CREATE TRIGGER "DELETA_INTER3" FOR "INTER3" 
ACTIVE AFTER DELETE POSITION 0
AS
begin
    if ( ( old.COBRAR <> 'N' ) AND ( old.COBRAR <> 'B' ) AND ( old.COBRAR <> 'H' ) ) then
    begin
       Update INTER2 SET A_VALOR = A_VALOR - OLD.VALOR
       WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
       Update CPS1 SET GLOSA = GLOSA - OLD.GLOSA
       WHERE CODIGOCPS = OLD.CODIGOINT;
    end
end
 ^

CREATE TRIGGER "INS_INTER32" FOR "INTER32" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INTER3NO = GEN_ID( GEN_INTER32, 1 );
END
 ^

CREATE TRIGGER "SINC1_INTER32" FOR "INTER32" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_INTER32_COBRAR" FOR "INTER32" 
ACTIVE BEFORE INSERT POSITION 0
AS
DECLARE VARIABLE CONVENIO INTEGER;
BEGIN
   CONVENIO = NULL;
   SELECT CONVENIO FROM INTER2 WHERE CODIGOINT = NEW.CODIGOINT AND TRATAMENTO = NEW.TRATAMENTO INTO :CONVENIO;
   IF (CONVENIO = 118) THEN
     NEW.COBRAR = 'N';
END
 ^

CREATE TRIGGER "TRGBI_INTER32_SAIDA" FOR "INTER32" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  if (new.saida >0) then
  begin
   if (exists(select saida from inter32 where codigoint = new.codigoint and tratamento = new.tratamento and saida = new.saida)) then
     exception exc_saidadupla;
  end
end
 ^

CREATE TRIGGER "ADICIONA_INTER32" FOR "INTER32" 
ACTIVE AFTER INSERT POSITION 0
AS
begin
    if ( ( NEW.COBRAR <> 'N' ) AND ( NEW.COBRAR <> 'B' ) AND ( NEW.COBRAR <> 'H' ) ) then
    begin
        Update INTER2 SET A_VALOR1 = A_VALOR1 + ( NEW.QUANTIDADE * NEW.VALOR )
        WHERE CODIGOINT = NEW.CODIGOINT AND TRATAMENTO = NEW.TRATAMENTO;
        UPDATE CPS1 SET GLOSA = GLOSA + NEW.glosa
        WHERE CODIGOCPS = NEW.CODIGOINT;
    end
end
 ^

CREATE TRIGGER "ATUALIZA_INTER32" FOR "INTER32" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
    if ( ( old.COBRAR <> 'N' ) AND ( old.COBRAR <> 'B' ) AND ( old.COBRAR <> 'H' ) ) then
    begin
        if ( ( new.Valor <> old.Valor ) OR ( new.QUANTIDADE <> old.QUANTIDADE ) or ( new.COBRAR <> old.COBRAR ) ) then
        Update INTER2 SET A_VALOR1 = A_VALOR1 - ( OLD.QUANTIDADE * OLD.VALOR )
        WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
        if ( NEW.GLOSA <> OLD.GLOSA ) then
        Update CPS1 SET GLOSA = GLOSA - OLD.GLOSA
        WHERE CODIGOCPS = OLD.CODIGOINT;
    end
    if ( ( new.COBRAR <> 'N' ) AND ( new.COBRAR <> 'B' ) AND ( new.COBRAR <> 'H' ) ) then
    begin
        if ( ( new.Valor <> old.Valor ) OR ( new.QUANTIDADE <> old.QUANTIDADE ) or ( new.COBRAR <> old.COBRAR ) ) then
        Update INTER2 SET A_VALOR1 = A_VALOR1 + ( new.QUANTIDADE * new.VALOR )
        WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
        if ( NEW.GLOSA <> OLD.GLOSA ) then
        Update CPS1 SET GLOSA = GLOSA + NEW.glosa
        WHERE CODIGOCPS = OLD.CODIGOINT;
    end
end
 ^

CREATE TRIGGER "SINC2_INTER32" FOR "INTER32" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_INTER32_GLOSA" FOR "INTER32" 
ACTIVE BEFORE UPDATE POSITION 20
as
declare variable fatura integer;
begin
  if ((new.glosa <> old.glosa) or (new.representa <> old.representa)) then
  begin
    select faturaglosa from inter2 where codigoint = new.codigoint and tratamento = new.tratamento into :fatura;
    if (fatura > 0) then
      exception exc_glosa;
  end
end
 ^

CREATE TRIGGER "DEL_X_INTER32" FOR "INTER32" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into X_INTER32
  (CODIGOINT, TRATAMENTO, A_DATA, A_HORA, CODIGOMM, QUANTIDADE,
   VALOR, CODIGO, GLOSA, USER1, USER2, DATA1,
   DATA2, REPRESENTA, GLOSARECEBIDA, GLOSADATA, GLOSATIPO, A_MEDICOS, CUSTO, GLOSARESPONSAVEL,
   GLOSADEFINITIVA, DATASINC, UNIDADENEGOCIO, COBRAR, IP, VERSAO1,
   RSGLOSA, BRASINDICE, SAIDA, PACOTE, DATAGLOSA,USERGLOSA, REAPRESENTATISS,JUSTIFICATIVA )
SELECT
   CODIGOINT, TRATAMENTO, A_DATA, A_HORA, CODIGOMM, QUANTIDADE,
   VALOR, CODIGO, GLOSA, USER1, USER2, DATA1,
   DATA2, REPRESENTA, GLOSARECEBIDA, GLOSADATA, GLOSATIPO, A_MEDICOS, CUSTO, GLOSARESPONSAVEL,
   GLOSADEFINITIVA, DATASINC, UNIDADENEGOCIO, COBRAR, IP, VERSAO1, RSGLOSA, BRASINDICE, SAIDA,
   PACOTE, DATAGLOSA,USERGLOSA, REAPRESENTATISS,JUSTIFICATIVA
FROM INTER32
WHERE INTER3NO = OLD.INTER3NO;
END
 ^

CREATE TRIGGER "DELETA_INTER32" FOR "INTER32" 
ACTIVE AFTER DELETE POSITION 0
AS
begin
    if ( ( old.COBRAR <> 'N' ) AND ( old.COBRAR <> 'B' ) AND ( old.COBRAR <> 'H' ) ) then
    begin
        Update INTER2 SET A_VALOR1 = A_VALOR1 - ( OLD.QUANTIDADE * OLD.VALOR )
        WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
        Update CPS1 SET GLOSA = GLOSA - OLD.glosa
        WHERE CODIGOCPS = OLD.CODIGOINT;
    end
end
 ^

CREATE TRIGGER "OCUPA_LEITO_INTER" FOR "INTER4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  IF ( EXISTS (SELECT CODLEITO FROM OCUPLEITO3('NOW', 'N') WHERE CODLEITO = NEW.LEITO) ) THEN
  EXCEPTION LEITOOCUPADO;
END
 ^

CREATE TRIGGER "SINC1_INTER4" FOR "INTER4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_INTER4" FOR "INTER4" 
ACTIVE BEFORE INSERT POSITION 10
AS
BEGIN
UPDATE INTER4 SET DATAFIM = NEW.DATA, HORAFIM = NEW.HORA, FOIPARA = NEW.LEITO WHERE CODIGOINT = NEW.CODIGOINT AND (DATAFIM IS NULL);
END
 ^

CREATE TRIGGER "INS_INTER4" FOR "INTER4" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
   NEW.INTER4NO = GEN_ID( GEN_INTER4, 1 );
END
 ^

CREATE TRIGGER "TRBAI_INTER4" FOR "INTER4" 
ACTIVE AFTER INSERT POSITION 20
AS
BEGIN
   UPDATE INTER4 SET DATAFIM = NEW.DATA, HORAFIM = NEW.HORA, FOIPARA = NEW.LEITO WHERE CODIGOINT = NEW.CODIGOINT AND (DATAFIM IS NULL) AND (INTER4NO <> NEW.INTER4NO);
END
 ^

CREATE TRIGGER "TRIG_AI_ATUALIZA_LEITO" FOR "INTER4" 
ACTIVE AFTER INSERT POSITION 30
as
/* code here */
DECLARE VARIABLE auxCodigoCPS float;
BEGIN
     for select codigocps from atualiza_leitos
     into :auxCodigoCPS do
     begin
     end
END
 ^

CREATE TRIGGER "OCUPA_LEITO_INTER_ATUALIZA" FOR "INTER4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
  IF ( NEW.LEITO <> OLD.LEITO ) THEN
  BEGIN
    IF ( EXISTS ( SELECT CODLEITO FROM OCUPLEITO3('NOW', 'S') WHERE CODLEITO = NEW.LEITO) ) THEN
    EXCEPTION LEITOOCUPADO;
  END
END
 ^

CREATE TRIGGER "SINC2_INTER4" FOR "INTER4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_AU_ATUALIZA_LEITO" FOR "INTER4" 
ACTIVE AFTER UPDATE POSITION 30
as
/* code here */
DECLARE VARIABLE auxCodigoCPS float;
BEGIN
     for select codigocps from atualiza_leitos
     into :auxCodigoCPS do
     begin
     end
END
 ^

CREATE TRIGGER "TRIG_AD_ATUALIZA_LEITO" FOR "INTER4" 
ACTIVE AFTER DELETE POSITION 30
as
/* code here */
DECLARE VARIABLE auxCodigoCPS float;
BEGIN
     for select codigocps from atualiza_leitos
     into :auxCodigoCPS do
     begin
     end
END
 ^

CREATE TRIGGER "INS_INTERNAMENTO" FOR "INTERNAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.CODIGOINT = GEN_ID( GEN_INTERNAMENTO, 1 );
END
 ^

CREATE TRIGGER "SINC1_INTERNAMENTO" FOR "INTERNAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INTERNAMENTO_INS" FOR "INTERNAMENTO" 
ACTIVE AFTER INSERT POSITION 0
AS
BEGIN
  insert into INTER4
  (INTER4NO, CODIGOINT, DATA, HORA, LEITO, CODIGO )
   values
  (1 , NEW.CODIGOINT, NEW.DATA, NEW.HORA, NEW.LEITO, NEW.CODIGO);
END
 ^

CREATE TRIGGER "SINC2_INTERNAMENTO" FOR "INTERNAMENTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_INTERVISITA" FOR "INTERVISITA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_INTERVISITA, 1 );
END
 ^

CREATE TRIGGER "INTERVISITA_LEITOALA" FOR "INTERVISITA" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    IF (new.codigocps > 0) tHEN
    BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.ALEITO = vleito;
    END
END
 ^

CREATE TRIGGER "TRGBI_SOBCUSTODIA" FOR "INTERVISITA" 
ACTIVE BEFORE INSERT POSITION 10
AS
declare variable tipo char(1);
BEGIN
   SELECT ORIGEM FROM CPS1 WHERE CODIGOCPS= NEW.CODIGOCPS into :tipo;
   if (:tipo = 'C') then
    EXCEPTION EXC_CUSTODIA;
END
 ^

CREATE TRIGGER "INS_JUSTIFICAPADRAO" FOR "JUSTIFICAPADRAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_JUSTIFICAPADRAO, 1 );
END
 ^

CREATE TRIGGER "SINC1_LABORA" FOR "LABORA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LABORA" FOR "LABORA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_LAB_PARDINI" FOR "LAB_PARDINI" 
ACTIVE BEFORE INSERT POSITION 10
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_LAB_PARDINI,1);
END
 ^

CREATE TRIGGER "TRI_BI_LAUDOANTIBIOTICOS" FOR "LAUDOANTIBIOTICOS" 
ACTIVE BEFORE INSERT POSITION 10
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_LAUDOFUNGO,1 );
END
 ^

CREATE TRIGGER "TRI_BI_LAUDOBACTERIA" FOR "LAUDOBACTERIA" 
ACTIVE BEFORE INSERT POSITION 10
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_LAUDOBACTERIA,1 );
END
 ^

CREATE TRIGGER "SINC1_LAUDOPADRX" FOR "LAUDOPADRX" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_LAUDOPADRX" FOR "LAUDOPADRX" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_laudopadrx,1);
end
 ^

CREATE TRIGGER "SINC2_LAUDOPADRX" FOR "LAUDOPADRX" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_LAUDOPADRX" FOR "LAUDOPADRX" 
ACTIVE BEFORE UPDATE POSITION 20
as
begin
  if (new.indice is null) then
    new.indice = gen_id(gen_laudopadrx,1);
end
 ^

CREATE TRIGGER "TRGAU_LAUDOPADRX" FOR "LAUDOPADRX" 
ACTIVE AFTER UPDATE POSITION 20
as begin
 if (new.laudo <> old.laudo) then
 begin
   update laudovar  set laudo = new.laudo where laudo = old.laudo;
   update vinculorx set laudo = new.laudo where laudo = old.laudo;
 end
end
 ^

CREATE TRIGGER "DELVINCULOPAD" FOR "LAUDOPADRX" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  DELETE FROM VINCULORX WHERE LAUDO = OLD.LAUDO;
end
 ^

CREATE TRIGGER "TRGBI_LAUDOVAR" FOR "LAUDOVAR" 
ACTIVE BEFORE INSERT POSITION 20
AS
 BEGIN
 NEW.INDICE = GEN_ID(GEN_LAUDOVAR,1);
 END
 ^

CREATE TRIGGER "INSLEITOS" FOR "LEITOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.LEITO = GEN_ID( Gen_LEITOS, 1 );
    NEW.A_ATIVO = 'S';
end
 ^

CREATE TRIGGER "SINC1_LEITOS" FOR "LEITOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LEITOS" FOR "LEITOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LINKS" FOR "LINKS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LINKS" FOR "LINKS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_LOCALENTRADA" FOR "LOCALENTRADA" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_LOCALENTRADA,1);
END
 ^

CREATE TRIGGER "INSLOG" FOR "LOG" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_LOG, 1 );
end
 ^

CREATE TRIGGER "TRGBI_LOGSAPI" FOR "LOGSAPI" 
ACTIVE BEFORE INSERT POSITION 20
as
BEGIN
  new.datahora     = 'now';
  NEW.INDICE       = extract(year from new.datahora) || extract(month from new.datahora) || extract(day from new.datahora) || gen_id(gen_logsapi,1);
  NEW.IP           = rdb$get_context('SYSTEM', 'CLIENT_ADDRESS');
  NEW.SISTEMA      = rdb$get_context('USER_SESSION', 'SISTEMA');
  NEW.VERSAO       = rdb$get_context('USER_SESSION', 'VERSAO');
  NEW.USUARIO      = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "TRGBI_LOSAPICAMPO" FOR "LOGSAPI" 
ACTIVE BEFORE INSERT POSITION 20
as declare variable tamanho integer;
begin
  if (new.campo like '%.0') then
  begin
    tamanho = strlen(new.campo) - 2;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.00') then
  begin
    tamanho = strlen(new.campo) - 3;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.000') then
  begin
    tamanho = strlen(new.campo) - 4;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.0000') then
  begin
    tamanho = strlen(new.campo) - 5;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.00000') then
  begin
    tamanho = strlen(new.campo) - 6;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.000000') then
  begin
    tamanho = strlen(new.campo) - 7;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.0000000') then
  begin
    tamanho = strlen(new.campo) - 8;
    new.campo = substring(new.campo from 1 for tamanho);
  end
  if (new.campo like '%.00000000') then
  begin
    tamanho = strlen(new.campo) - 9;
    new.campo = substring(new.campo from 1 for tamanho);
  end
end
 ^

CREATE TRIGGER "INS_LOGUSUARIO" FOR "LOGUSUARIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_id( GEN_LOGUSUARIO, 1 );
END
 ^

CREATE TRIGGER "SINC1_LOG_BAIRRO" FOR "LOG_BAIRRO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_BAIRRO" FOR "LOG_BAIRRO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRB_LOG_CONVENIOS" FOR "LOG_CONVENIOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.indice = GEN_ID( gen_log_convenios, 1 );
end
 ^

CREATE TRIGGER "SINC1_LOG_CPC" FOR "LOG_CPC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_CPC" FOR "LOG_CPC" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_FAIXA_BAIRRO" FOR "LOG_FAIXA_BAIRRO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_FAIXA_BAIRRO" FOR "LOG_FAIXA_BAIRRO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_FAIXA_CPC" FOR "LOG_FAIXA_CPC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_FAIXA_CPC" FOR "LOG_FAIXA_CPC" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_FAIXA_LOCALIDADE" FOR "LOG_FAIXA_LOCALIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_FAIXA_LOCALIDADE" FOR "LOG_FAIXA_LOCALIDADE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_FAIXA_UF" FOR "LOG_FAIXA_UF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_FAIXA_UF" FOR "LOG_FAIXA_UF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_FAIXA_UOP" FOR "LOG_FAIXA_UOP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_FAIXA_UOP" FOR "LOG_FAIXA_UOP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_GRANDE_USUARIO" FOR "LOG_GRANDE_USUARIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_GRANDE_USUARIO" FOR "LOG_GRANDE_USUARIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_LOCALIDADE" FOR "LOG_LOCALIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_LOCALIDADE" FOR "LOG_LOCALIDADE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_LOGRADOURO" FOR "LOG_LOGRADOURO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_LOGRADOURO" FOR "LOG_LOGRADOURO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_LOG_SISTEMA" FOR "LOG_SISTEMA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.numero = gen_id( gen_log_sistema, 1 );
end
 ^

CREATE TRIGGER "SINC1_LOG_SISTEMA" FOR "LOG_SISTEMA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_SISTEMA" FOR "LOG_SISTEMA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_TIPO_LOGR" FOR "LOG_TIPO_LOGR" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_TIPO_LOGR" FOR "LOG_TIPO_LOGR" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_LOG_UNID_OPER" FOR "LOG_UNID_OPER" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_LOG_UNID_OPER" FOR "LOG_UNID_OPER" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_MARCACAO" FOR "MARCACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Numero = Gen_ID( Gen_marcacao, 1 );
  if ( new.smsenvia is null) then
      new.smsenvia = 'S';
end
 ^

CREATE TRIGGER "SINC1_MARCACAO" FOR "MARCACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGAILOG_MARCACAO" FOR "MARCACAO" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('MARCACAO',NEW.NUMERO,'I') into indice; end
 ^

CREATE TRIGGER "SINC2_MARCACAO" FOR "MARCACAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
   NEW.DATASINC = 'NOW';
   if ( new.smsenvia is null) then
      new.smsenvia = 'S';
END
 ^

CREATE TRIGGER "TRGBU_CHECAR_RESERVA" FOR "MARCACAO" 
ACTIVE BEFORE UPDATE POSITION 0
as
declare variable reservar char(1);
declare variable pac varchar(150);
declare variable indice integer;
declare variable codigoamb varchar(10);
begin
   pac = null;
   codigoamb = null;
   reservar = null;
   select first 1 numero, paciente, codigoamb from marcacao where data = NEW.DATA and cast(hora as time) <  cast(NEW.HORA as time) and a_medicos= NEW.A_MEDICOS
   order by hora desc into :indice, :pac, :codigoamb;
   if (codigoamb <> '')  then
     Select first 1 RESERVA from servicos_config where CODPROC =:codigoamb into :reservar;
   if (reservar = 'S')  then
   begin
       exception EXC_CHECAR_RESERVA;
   end
end
 ^

CREATE TRIGGER "TRGBU_MARCACAO_RESERVAR" FOR "MARCACAO" 
ACTIVE BEFORE UPDATE POSITION 0
as
declare variable checar char(1);
declare variable pac varchar(150);
declare variable indice integer;
begin
   Select first 1 RESERVA from servicos_config where CODPROC = new.codigoamb into :checar;
   pac = null;
   if (checar = 'S')  then
   begin
        select first 1 numero, paciente from marcacao where data = NEW.DATA and cast(hora as time) > NEW.HORA and a_medicos= NEW.A_MEDICOS order by hora desc into :indice, :pac;
        If ((pac <> null) OR (pac <> '')) then
        begin
            exception EXC_RESERVAR;
        end
        Else if (:indice > 0) Then
           update marcacao set paciente = 'Horrio Reservado' where numero= :indice;
   end
end
 ^

CREATE TRIGGER "TRGAULOG_MARCACAO" FOR "MARCACAO" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('MARCACAO',NEW.NUMERO,'U') into :indice;
if ((new.ANESTESIA <> old.ANESTESIA) or (new.ANESTESIA is null and old.ANESTESIA is not null) or (new.ANESTESIA is not null and old.ANESTESIA is null)) then
 execute procedure insertlogitem(:indice,'ANESTESIA',old.ANESTESIA,new.ANESTESIA);
if ((new.AUTORIZADO <> old.AUTORIZADO) or (new.AUTORIZADO is null and old.AUTORIZADO is not null) or (new.AUTORIZADO is not null and old.AUTORIZADO is null)) then
 execute procedure insertlogitem(:indice,'AUTORIZADO',old.AUTORIZADO,new.AUTORIZADO);
if ((new.A_MEDICOS <> old.A_MEDICOS) or (new.A_MEDICOS is null and old.A_MEDICOS is not null) or (new.A_MEDICOS is not null and old.A_MEDICOS is null)) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,new.A_MEDICOS);
if ((new.A_MEDICOS2 <> old.A_MEDICOS2) or (new.A_MEDICOS2 is null and old.A_MEDICOS2 is not null) or (new.A_MEDICOS2 is not null and old.A_MEDICOS2 is null)) then
 execute procedure insertlogitem(:indice,'A_MEDICOS2',old.A_MEDICOS2,new.A_MEDICOS2);
if ((new.CADASTRADOEM <> old.CADASTRADOEM) or (new.CADASTRADOEM is null and old.CADASTRADOEM is not null) or (new.CADASTRADOEM is not null and old.CADASTRADOEM is null)) then
 execute procedure insertlogitem(:indice,'CADASTRADOEM',old.CADASTRADOEM,new.CADASTRADOEM);
if ((new.CHECKUP <> old.CHECKUP) or (new.CHECKUP is null and old.CHECKUP is not null) or (new.CHECKUP is not null and old.CHECKUP is null)) then
 execute procedure insertlogitem(:indice,'CHECKUP',old.CHECKUP,new.CHECKUP);
if ((new.CHECKUP_RETORNO <> old.CHECKUP_RETORNO) or (new.CHECKUP_RETORNO is null and old.CHECKUP_RETORNO is not null) or (new.CHECKUP_RETORNO is not null and old.CHECKUP_RETORNO is null)) then
 execute procedure insertlogitem(:indice,'CHECKUP_RETORNO',old.CHECKUP_RETORNO,new.CHECKUP_RETORNO);
if ((new.CIRURGIA <> old.CIRURGIA) or (new.CIRURGIA is null and old.CIRURGIA is not null) or (new.CIRURGIA is not null and old.CIRURGIA is null)) then
 execute procedure insertlogitem(:indice,'CIRURGIA',old.CIRURGIA,new.CIRURGIA);
if ((new.CLASSIFICACAO <> old.CLASSIFICACAO) or (new.CLASSIFICACAO is null and old.CLASSIFICACAO is not null) or (new.CLASSIFICACAO is not null and old.CLASSIFICACAO is null)) then
 execute procedure insertlogitem(:indice,'CLASSIFICACAO',old.CLASSIFICACAO,new.CLASSIFICACAO);
if ((new.CODIGO <> old.CODIGO) or (new.CODIGO is null and old.CODIGO is not null) or (new.CODIGO is not null and old.CODIGO is null)) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,new.CODIGO);
if ((new.CODIGOAMB <> old.CODIGOAMB) or (new.CODIGOAMB is null and old.CODIGOAMB is not null) or (new.CODIGOAMB is not null and old.CODIGOAMB is null)) then
 execute procedure insertlogitem(:indice,'CODIGOAMB',old.CODIGOAMB,new.CODIGOAMB);
if ((new.CODIGOCPS <> old.CODIGOCPS) or (new.CODIGOCPS is null and old.CODIGOCPS is not null) or (new.CODIGOCPS is not null and old.CODIGOCPS is null)) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,new.CODIGOCPS);
if ((new.CODIGOPAC <> old.CODIGOPAC) or (new.CODIGOPAC is null and old.CODIGOPAC is not null) or (new.CODIGOPAC is not null and old.CODIGOPAC is null)) then
 execute procedure insertlogitem(:indice,'CODIGOPAC',old.CODIGOPAC,new.CODIGOPAC);
if ((new.CODIGOPROC <> old.CODIGOPROC) or (new.CODIGOPROC is null and old.CODIGOPROC is not null) or (new.CODIGOPROC is not null and old.CODIGOPROC is null)) then
 execute procedure insertlogitem(:indice,'CODIGOPROC',old.CODIGOPROC,new.CODIGOPROC);
if ((new.CONFIRMADO <> old.CONFIRMADO) or (new.CONFIRMADO is null and old.CONFIRMADO is not null) or (new.CONFIRMADO is not null and old.CONFIRMADO is null)) then
 execute procedure insertlogitem(:indice,'CONFIRMADO',old.CONFIRMADO,new.CONFIRMADO);
if ((new.CONTADOR <> old.CONTADOR) or (new.CONTADOR is null and old.CONTADOR is not null) or (new.CONTADOR is not null and old.CONTADOR is null)) then
 execute procedure insertlogitem(:indice,'CONTADOR',old.CONTADOR,new.CONTADOR);
if ((new.CONTATO <> old.CONTATO) or (new.CONTATO is null and old.CONTATO is not null) or (new.CONTATO is not null and old.CONTATO is null)) then
 execute procedure insertlogitem(:indice,'CONTATO',old.CONTATO,new.CONTATO);
if ((new.CONTRASTE <> old.CONTRASTE) or (new.CONTRASTE is null and old.CONTRASTE is not null) or (new.CONTRASTE is not null and old.CONTRASTE is null)) then
 execute procedure insertlogitem(:indice,'CONTRASTE',old.CONTRASTE,new.CONTRASTE);
if ((new.CONVENIO <> old.CONVENIO) or (new.CONVENIO is null and old.CONVENIO is not null) or (new.CONVENIO is not null and old.CONVENIO is null)) then
 execute procedure insertlogitem(:indice,'CONVENIO',old.CONVENIO,new.CONVENIO);
if ((new.DATA <> old.DATA) or (new.DATA is null and old.DATA is not null) or (new.DATA is not null and old.DATA is null)) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,new.DATA);
if ((new.DATAHORA <> old.DATAHORA) or (new.DATAHORA is null and old.DATAHORA is not null) or (new.DATAHORA is not null and old.DATAHORA is null)) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,new.DATAHORA);
if ((new.DESTAQUE <> old.DESTAQUE) or (new.DESTAQUE is null and old.DESTAQUE is not null) or (new.DESTAQUE is not null and old.DESTAQUE is null)) then
 execute procedure insertlogitem(:indice,'DESTAQUE',old.DESTAQUE,new.DESTAQUE);
if ((new.DICOM <> old.DICOM) or (new.DICOM is null and old.DICOM is not null) or (new.DICOM is not null and old.DICOM is null)) then
 execute procedure insertlogitem(:indice,'DICOM',old.DICOM,new.DICOM);
if ((new.DILATANDO <> old.DILATANDO) or (new.DILATANDO is null and old.DILATANDO is not null) or (new.DILATANDO is not null and old.DILATANDO is null)) then
 execute procedure insertlogitem(:indice,'DILATANDO',old.DILATANDO,new.DILATANDO);
if ((new.ESTADO <> old.ESTADO) or (new.ESTADO is null and old.ESTADO is not null) or (new.ESTADO is not null and old.ESTADO is null)) then
 execute procedure insertlogitem(:indice,'ESTADO',old.ESTADO,new.ESTADO);
if ((new.EXTRA <> old.EXTRA) or (new.EXTRA is null and old.EXTRA is not null) or (new.EXTRA is not null and old.EXTRA is null)) then
 execute procedure insertlogitem(:indice,'EXTRA',old.EXTRA,new.EXTRA);
if ((new.FEITO <> old.FEITO) or (new.FEITO is null and old.FEITO is not null) or (new.FEITO is not null and old.FEITO is null)) then
 execute procedure insertlogitem(:indice,'FEITO',old.FEITO,new.FEITO);
if ((new.GRUPOSUS <> old.GRUPOSUS) or (new.GRUPOSUS is null and old.GRUPOSUS is not null) or (new.GRUPOSUS is not null and old.GRUPOSUS is null)) then
 execute procedure insertlogitem(:indice,'GRUPOSUS',old.GRUPOSUS,new.GRUPOSUS);
if ((new.HORA <> old.HORA) or (new.HORA is null and old.HORA is not null) or (new.HORA is not null and old.HORA is null)) then
 execute procedure insertlogitem(:indice,'HORA',old.HORA,new.HORA);
if ((new.HORA1 <> old.HORA1) or (new.HORA1 is null and old.HORA1 is not null) or (new.HORA1 is not null and old.HORA1 is null)) then
 execute procedure insertlogitem(:indice,'HORA1',old.HORA1,new.HORA1);
if ((new.HORA2 <> old.HORA2) or (new.HORA2 is null and old.HORA2 is not null) or (new.HORA2 is not null and old.HORA2 is null)) then
 execute procedure insertlogitem(:indice,'HORA2',old.HORA2,new.HORA2);
if ((new.HORA3 <> old.HORA3) or (new.HORA3 is null and old.HORA3 is not null) or (new.HORA3 is not null and old.HORA3 is null)) then
 execute procedure insertlogitem(:indice,'HORA3',old.HORA3,new.HORA3);
if ((new.HORAFATURA <> old.HORAFATURA) or (new.HORAFATURA is null and old.HORAFATURA is not null) or (new.HORAFATURA is not null and old.HORAFATURA is null)) then
 execute procedure insertlogitem(:indice,'HORAFATURA',old.HORAFATURA,new.HORAFATURA);
if ((new.IMPRESSOETIQUETA <> old.IMPRESSOETIQUETA) or (new.IMPRESSOETIQUETA is null and old.IMPRESSOETIQUETA is not null) or (new.IMPRESSOETIQUETA is not null and old.IMPRESSOETIQUETA is null)) then
 execute procedure insertlogitem(:indice,'IMPRESSOETIQUETA',old.IMPRESSOETIQUETA,new.IMPRESSOETIQUETA);
if ((new.MATRICULA <> old.MATRICULA) or (new.MATRICULA is null and old.MATRICULA is not null) or (new.MATRICULA is not null and old.MATRICULA is null)) then
 execute procedure insertlogitem(:indice,'MATRICULA',old.MATRICULA,new.MATRICULA);
if ((new.MEDRESP <> old.MEDRESP) or (new.MEDRESP is null and old.MEDRESP is not null) or (new.MEDRESP is not null and old.MEDRESP is null)) then
 execute procedure insertlogitem(:indice,'MEDRESP',old.MEDRESP,new.MEDRESP);
if ((new.NUMERO <> old.NUMERO) or (new.NUMERO is null and old.NUMERO is not null) or (new.NUMERO is not null and old.NUMERO is null)) then
 execute procedure insertlogitem(:indice,'NUMERO',old.NUMERO,new.NUMERO);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.OPERADORA_CELULAR <> old.OPERADORA_CELULAR) or (new.OPERADORA_CELULAR is null and old.OPERADORA_CELULAR is not null) or (new.OPERADORA_CELULAR is not null and old.OPERADORA_CELULAR is null)) then
 execute procedure insertlogitem(:indice,'OPERADORA_CELULAR',old.OPERADORA_CELULAR,new.OPERADORA_CELULAR);
if ((new.ORDEMTRIAGEM <> old.ORDEMTRIAGEM) or (new.ORDEMTRIAGEM is null and old.ORDEMTRIAGEM is not null) or (new.ORDEMTRIAGEM is not null and old.ORDEMTRIAGEM is null)) then
 execute procedure insertlogitem(:indice,'ORDEMTRIAGEM',old.ORDEMTRIAGEM,new.ORDEMTRIAGEM);
if ((new.PACIENTE <> old.PACIENTE) or (new.PACIENTE is null and old.PACIENTE is not null) or (new.PACIENTE is not null and old.PACIENTE is null)) then
 execute procedure insertlogitem(:indice,'PACIENTE',old.PACIENTE,new.PACIENTE);
if ((new.PLANO <> old.PLANO) or (new.PLANO is null and old.PLANO is not null) or (new.PLANO is not null and old.PLANO is null)) then
 execute procedure insertlogitem(:indice,'PLANO',old.PLANO,new.PLANO);
if ((new.SALA <> old.SALA) or (new.SALA is null and old.SALA is not null) or (new.SALA is not null and old.SALA is null)) then
 execute procedure insertlogitem(:indice,'SALA',old.SALA,new.SALA);
if ((new.SMSENVIA <> old.SMSENVIA) or (new.SMSENVIA is null and old.SMSENVIA is not null) or (new.SMSENVIA is not null and old.SMSENVIA is null)) then
 execute procedure insertlogitem(:indice,'SMSENVIA',old.SMSENVIA,new.SMSENVIA);
if ((new.SMS_MARCADO <> old.SMS_MARCADO) or (new.SMS_MARCADO is null and old.SMS_MARCADO is not null) or (new.SMS_MARCADO is not null and old.SMS_MARCADO is null)) then
 execute procedure insertlogitem(:indice,'SMS_MARCADO',old.SMS_MARCADO,new.SMS_MARCADO);
if ((new.SOLCREMEB <> old.SOLCREMEB) or (new.SOLCREMEB is null and old.SOLCREMEB is not null) or (new.SOLCREMEB is not null and old.SOLCREMEB is null)) then
 execute procedure insertlogitem(:indice,'SOLCREMEB',old.SOLCREMEB,new.SOLCREMEB);
if ((new.SOLICITACAO <> old.SOLICITACAO) or (new.SOLICITACAO is null and old.SOLICITACAO is not null) or (new.SOLICITACAO is not null and old.SOLICITACAO is null)) then
 execute procedure insertlogitem(:indice,'SOLICITACAO',old.SOLICITACAO,new.SOLICITACAO);
if ((new.STATUS <> old.STATUS) or (new.STATUS is null and old.STATUS is not null) or (new.STATUS is not null and old.STATUS is null)) then
 execute procedure insertlogitem(:indice,'STATUS',old.STATUS,new.STATUS);
if ((new.TELEFONE <> old.TELEFONE) or (new.TELEFONE is null and old.TELEFONE is not null) or (new.TELEFONE is not null and old.TELEFONE is null)) then
 execute procedure insertlogitem(:indice,'TELEFONE',old.TELEFONE,new.TELEFONE);
if ((new.TELEFONEAUX <> old.TELEFONEAUX) or (new.TELEFONEAUX is null and old.TELEFONEAUX is not null) or (new.TELEFONEAUX is not null and old.TELEFONEAUX is null)) then
 execute procedure insertlogitem(:indice,'TELEFONEAUX',old.TELEFONEAUX,new.TELEFONEAUX);
if ((new.TIPO <> old.TIPO) or (new.TIPO is null and old.TIPO is not null) or (new.TIPO is not null and old.TIPO is null)) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,new.TIPO);
if ((new.TRIAGEM <> old.TRIAGEM) or (new.TRIAGEM is null and old.TRIAGEM is not null) or (new.TRIAGEM is not null and old.TRIAGEM is null)) then
 execute procedure insertlogitem(:indice,'TRIAGEM',old.TRIAGEM,new.TRIAGEM);
if ((new.USERB1 <> old.USERB1) or (new.USERB1 is null and old.USERB1 is not null) or (new.USERB1 is not null and old.USERB1 is null)) then
 execute procedure insertlogitem(:indice,'USERB1',old.USERB1,new.USERB1);
if ((new.USERB2 <> old.USERB2) or (new.USERB2 is null and old.USERB2 is not null) or (new.USERB2 is not null and old.USERB2 is null)) then
 execute procedure insertlogitem(:indice,'USERB2',old.USERB2,new.USERB2);
if ((new.USERGERACAO <> old.USERGERACAO) or (new.USERGERACAO is null and old.USERGERACAO is not null) or (new.USERGERACAO is not null and old.USERGERACAO is null)) then
 execute procedure insertlogitem(:indice,'USERGERACAO',old.USERGERACAO,new.USERGERACAO);
if ((new.XML <> old.XML) or (new.XML is null and old.XML is not null) or (new.XML is not null and old.XML is null)) then
 execute procedure insertlogitem(:indice,'XML',old.XML,new.XML);
 end
 ^

CREATE TRIGGER "TRGADLOG_MARCACAO" FOR "MARCACAO" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('MARCACAO',OLD.NUMERO,'D') into :indice;
if (old.ANESTESIA is not null) then
 execute procedure insertlogitem(:indice,'ANESTESIA',old.ANESTESIA,null);
if (old.AUTORIZADO is not null) then
 execute procedure insertlogitem(:indice,'AUTORIZADO',old.AUTORIZADO,null);
if (old.A_MEDICOS is not null) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,null);
if (old.A_MEDICOS2 is not null) then
 execute procedure insertlogitem(:indice,'A_MEDICOS2',old.A_MEDICOS2,null);
if (old.CADASTRADOEM is not null) then
 execute procedure insertlogitem(:indice,'CADASTRADOEM',old.CADASTRADOEM,null);
if (old.CHECKUP is not null) then
 execute procedure insertlogitem(:indice,'CHECKUP',old.CHECKUP,null);
if (old.CHECKUP_RETORNO is not null) then
 execute procedure insertlogitem(:indice,'CHECKUP_RETORNO',old.CHECKUP_RETORNO,null);
if (old.CIRURGIA is not null) then
 execute procedure insertlogitem(:indice,'CIRURGIA',old.CIRURGIA,null);
if (old.CLASSIFICACAO is not null) then
 execute procedure insertlogitem(:indice,'CLASSIFICACAO',old.CLASSIFICACAO,null);
if (old.CODIGO is not null) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,null);
if (old.CODIGOAMB is not null) then
 execute procedure insertlogitem(:indice,'CODIGOAMB',old.CODIGOAMB,null);
if (old.CODIGOCPS is not null) then
 execute procedure insertlogitem(:indice,'CODIGOCPS',old.CODIGOCPS,null);
if (old.CODIGOPAC is not null) then
 execute procedure insertlogitem(:indice,'CODIGOPAC',old.CODIGOPAC,null);
if (old.CODIGOPROC is not null) then
 execute procedure insertlogitem(:indice,'CODIGOPROC',old.CODIGOPROC,null);
if (old.CONFIRMADO is not null) then
 execute procedure insertlogitem(:indice,'CONFIRMADO',old.CONFIRMADO,null);
if (old.CONTADOR is not null) then
 execute procedure insertlogitem(:indice,'CONTADOR',old.CONTADOR,null);
if (old.CONTATO is not null) then
 execute procedure insertlogitem(:indice,'CONTATO',old.CONTATO,null);
if (old.CONTRASTE is not null) then
 execute procedure insertlogitem(:indice,'CONTRASTE',old.CONTRASTE,null);
if (old.CONVENIO is not null) then
 execute procedure insertlogitem(:indice,'CONVENIO',old.CONVENIO,null);
if (old.DATA is not null) then
 execute procedure insertlogitem(:indice,'DATA',old.DATA,null);
if (old.DATAHORA is not null) then
 execute procedure insertlogitem(:indice,'DATAHORA',old.DATAHORA,null);
if (old.DESTAQUE is not null) then
 execute procedure insertlogitem(:indice,'DESTAQUE',old.DESTAQUE,null);
if (old.DICOM is not null) then
 execute procedure insertlogitem(:indice,'DICOM',old.DICOM,null);
if (old.DILATANDO is not null) then
 execute procedure insertlogitem(:indice,'DILATANDO',old.DILATANDO,null);
if (old.ESTADO is not null) then
 execute procedure insertlogitem(:indice,'ESTADO',old.ESTADO,null);
if (old.EXTRA is not null) then
 execute procedure insertlogitem(:indice,'EXTRA',old.EXTRA,null);
if (old.FEITO is not null) then
 execute procedure insertlogitem(:indice,'FEITO',old.FEITO,null);
if (old.GRUPOSUS is not null) then
 execute procedure insertlogitem(:indice,'GRUPOSUS',old.GRUPOSUS,null);
if (old.HORA is not null) then
 execute procedure insertlogitem(:indice,'HORA',old.HORA,null);
if (old.HORA1 is not null) then
 execute procedure insertlogitem(:indice,'HORA1',old.HORA1,null);
if (old.HORA2 is not null) then
 execute procedure insertlogitem(:indice,'HORA2',old.HORA2,null);
if (old.HORA3 is not null) then
 execute procedure insertlogitem(:indice,'HORA3',old.HORA3,null);
if (old.HORAFATURA is not null) then
 execute procedure insertlogitem(:indice,'HORAFATURA',old.HORAFATURA,null);
if (old.IMPRESSOETIQUETA is not null) then
 execute procedure insertlogitem(:indice,'IMPRESSOETIQUETA',old.IMPRESSOETIQUETA,null);
if (old.MATRICULA is not null) then
 execute procedure insertlogitem(:indice,'MATRICULA',old.MATRICULA,null);
if (old.MEDRESP is not null) then
 execute procedure insertlogitem(:indice,'MEDRESP',old.MEDRESP,null);
if (old.NUMERO is not null) then
 execute procedure insertlogitem(:indice,'NUMERO',old.NUMERO,null);
if (old.OBSERVACAO is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,null);
if (old.OPERADORA_CELULAR is not null) then
 execute procedure insertlogitem(:indice,'OPERADORA_CELULAR',old.OPERADORA_CELULAR,null);
if (old.ORDEMTRIAGEM is not null) then
 execute procedure insertlogitem(:indice,'ORDEMTRIAGEM',old.ORDEMTRIAGEM,null);
if (old.PACIENTE is not null) then
 execute procedure insertlogitem(:indice,'PACIENTE',old.PACIENTE,null);
if (old.PLANO is not null) then
 execute procedure insertlogitem(:indice,'PLANO',old.PLANO,null);
if (old.SALA is not null) then
 execute procedure insertlogitem(:indice,'SALA',old.SALA,null);
if (old.SMSENVIA is not null) then
 execute procedure insertlogitem(:indice,'SMSENVIA',old.SMSENVIA,null);
if (old.SMS_MARCADO is not null) then
 execute procedure insertlogitem(:indice,'SMS_MARCADO',old.SMS_MARCADO,null);
if (old.SOLCREMEB is not null) then
 execute procedure insertlogitem(:indice,'SOLCREMEB',old.SOLCREMEB,null);
if (old.SOLICITACAO is not null) then
 execute procedure insertlogitem(:indice,'SOLICITACAO',old.SOLICITACAO,null);
if (old.STATUS is not null) then
 execute procedure insertlogitem(:indice,'STATUS',old.STATUS,null);
if (old.TELEFONE is not null) then
 execute procedure insertlogitem(:indice,'TELEFONE',old.TELEFONE,null);
if (old.TELEFONEAUX is not null) then
 execute procedure insertlogitem(:indice,'TELEFONEAUX',old.TELEFONEAUX,null);
if (old.TIPO is not null) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,null);
if (old.TRIAGEM is not null) then
 execute procedure insertlogitem(:indice,'TRIAGEM',old.TRIAGEM,null);
if (old.USERB1 is not null) then
 execute procedure insertlogitem(:indice,'USERB1',old.USERB1,null);
if (old.USERB2 is not null) then
 execute procedure insertlogitem(:indice,'USERB2',old.USERB2,null);
if (old.USERGERACAO is not null) then
 execute procedure insertlogitem(:indice,'USERGERACAO',old.USERGERACAO,null);
if (old.XML is not null) then
 execute procedure insertlogitem(:indice,'XML',old.XML,null);
 end
 ^

CREATE TRIGGER "TRGBI_MARCACAOLIMITE" FOR "MARCACAOLIMITE" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_marcacaolimite,1);
end
 ^

CREATE TRIGGER "INS_MARCACAO_REG_LIMPOS" FOR "MARCACAO_REG_LIMPOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Numero = Gen_ID( Gen_LIMPOS, 1 );
end
 ^

CREATE TRIGGER "INSMARCACIROPME" FOR "MARCACIROPME" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.INDICE = GEN_ID( Gen_MARCACIROPME, 1 );
end
 ^

CREATE TRIGGER "INS_MARCACIR" FOR "MARCACIRURGIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Numero = Gen_ID( Gen_marcaCirurgia, 1 );
end
 ^

CREATE TRIGGER "SINC1_MARCACIRURGIA" FOR "MARCACIRURGIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MARCACIRURGIA" FOR "MARCACIRURGIA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_MARCACLASSE" FOR "MARCACLASSE" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_marcaclasse,1);
end
 ^

CREATE TRIGGER "SINC1_MARCASESSOES" FOR "MARCASESSOES" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_MARCASESSOES" FOR "MARCASESSOES" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.indice = gen_id(gen_marcasessoes,1);
end
 ^

CREATE TRIGGER "DC_MARCASESSOES" FOR "MARCASESSOES" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN NEW.DATA2 = 'NOW'; END
 ^

CREATE TRIGGER "INS_MARKTING" FOR "MARKTING" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_MARKTING, 1 );
END
 ^

CREATE TRIGGER "INS_MATCOLETA" FOR "MATCOLETA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_MATCOLETA, 1 );
END
 ^

CREATE TRIGGER "INS_MATMED" FOR "MATMED" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   NEW.codigomm = GEN_ID( GEN_MATMED, 1 );
end
 ^

CREATE TRIGGER "SINC1_MATMED" FOR "MATMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MATMED" FOR "MATMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_MATMED_SIMPRO_TUSS" FOR "MATMED" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN
 IF ((NEW.SIMPRO > 0 ) AND (NEW.TUSSBRAS IS NULL)) THEN
   SELECT FIRST 1 CODIGO_TUSS FROM SIMPRO_LAYOUT2 WHERE CODIGO_USUARIO = NEW.SIMPRO INTO NEW.TUSSBRAS;
END
 ^

CREATE TRIGGER "MATMEDCONV_BI" FOR "MATMEDCONV" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_MATMEDP, 1 );
END
 ^

CREATE TRIGGER "SINC1_MATMEDCONV" FOR "MATMEDCONV" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MATMEDCONV" FOR "MATMEDCONV" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DC_MATMEDCONV" FOR "MATMEDCONV" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN NEW.DATA2 = 'NOW'; END
 ^

CREATE TRIGGER "XDELETA_MATMEDCONV" FOR "MATMEDCONV" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into X_MATMEDCONV
  (CODIGOMM,CONVENIO,VALOR,CODIGOCONV,INDICE,DATA2,BLOQUEADO,QTDE,INTERVALO,DATASINC,CODTISS,OBS,A_CODAMB)
SELECT
  CODIGOMM,CONVENIO,VALOR,CODIGOCONV,INDICE,DATA2,BLOQUEADO,QTDE,INTERVALO,DATASINC,CODTISS,OBS,A_CODAMB
FROM MATMEDCONV
WHERE INDICE = OLD.INDICE;
END
 ^

CREATE TRIGGER "INS_MATMEDCONVREST" FOR "MATMEDCONVREST" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_MATMEDCONVREST, 1 );
end
 ^

CREATE TRIGGER "MATMEDP_BI" FOR "MATMEDP" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     NEW.INdICE = GEN_ID( Gen_PrecoMatMed, 1 );
end
 ^

CREATE TRIGGER "SINC1_MATMEDP" FOR "MATMEDP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_MATMEDP_PFB" FOR "MATMEDP" 
ACTIVE BEFORE INSERT POSITION 20
as
declare variable precoaux double precision;
begin
  precoaux = null;
  if (new.PRECOPFB is null) then
  begin
    select first 1 precopfb from matmedp where codigomm = new.codigomm and precopfb > 0 order by data desc, indice desc into precoaux;
    if (:precoaux > 0 ) then
      new.precopfb = precoaux;
  end
end
 ^

CREATE TRIGGER "SINC2_MATMEDP" FOR "MATMEDP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DEL_MATMEDP" FOR "MATMEDP" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
execute statement 'insert into xmatmedp (data, brasindice, indice, codigomm, preco, codigo, data2, datasinc, codimport,
  user1, user2, data1, ip, versao, ip1, versao1, precopfb, precopmc )
SELECT
   data, brasindice, indice, codigomm, preco, codigo, data2, datasinc, codimport,
  user1, user2, data1, ip, versao, ip1, versao1, precopfb, precopmc
FROM matmedp
WHERE INDICE = ' || cast(OLD.INDICE as integer);
END
 ^

CREATE TRIGGER "TRGBI_MATMEDPADRAO" FOR "MATMEDPADRAO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
 new.codigo = gen_id(gen_matmedpadrao,1);
end
 ^

CREATE TRIGGER "MATMEDPG_BI" FOR "MATMEDPG" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     NEW.INdICE = GEN_ID( Gen_PrecoMatMedG, 1 );
end
 ^

CREATE TRIGGER "SINC1_MATMEDPG" FOR "MATMEDPG" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MATMEDPG" FOR "MATMEDPG" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
   NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_MATMEDPLANSERV" FOR "MATMEDPLANSERV" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_MATMEDPLANSERV, 1 );
end
 ^

CREATE TRIGGER "BI_MATMEDSEMSALDOPRESC" FOR "MATMEDSEMSALDOPRESC" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.IDMATMEDSEMSALDOPRESC = GEN_ID( GEN_MATMEDSEMSALDOPRESCR, '1');
END
 ^

CREATE TRIGGER "TRGBI_MATMEDUNIMED" FOR "MATMEDUNIMED" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.CODIGO = GEN_ID( gen_MATMEDUNIMED, 1 );
end
 ^

CREATE TRIGGER "TRGBI_MATMEDUNIMED2" FOR "MATMEDUNIMED" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.DATASINC = 'NOW';
end
 ^

CREATE TRIGGER "TRGG_MATMEDUNIMEDDATA" FOR "MATMEDUNIMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGG_MATMEDUNIMED_BI" FOR "MATMEDUNIMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.MMU_ID = GEN_ID(GEN_MATMEDUNIMED_ID, 1);
END
 ^

CREATE TRIGGER "INS_GEN_MEDICA_USO_CONT" FOR "MEDICACAO_USO_CONTINUO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDMEDICACAO_USO_CONTINUO = gen_id( GEN_MEDICA_USO_CONT, 1 );
end
 ^

CREATE TRIGGER "INSMEDICOCOBRANCA" FOR "MEDICOCOBRANCA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_MEDICOCOBRANCA, 1 );
END
 ^

CREATE TRIGGER "INSMEDICOREST" FOR "MEDICOREST" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.NUMERO = GEN_ID( GEN_MEDICOREST, 1 );
END
 ^

CREATE TRIGGER "SINC1_MEDICOREST" FOR "MEDICOREST" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MEDICOREST" FOR "MEDICOREST" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSMEDICO" FOR "MEDICOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.A_Medicos = GEN_ID( GEN_MEDICOS, 1 );
END
 ^

CREATE TRIGGER "SINC1_MEDICOS" FOR "MEDICOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MEDICOS" FOR "MEDICOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "MEDICO_SOL" FOR "MEDICOSOLICITANTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_MEDICOSOL, 1 );
END
 ^

CREATE TRIGGER "SINC1_MEDICOSOLICITANTE" FOR "MEDICOSOLICITANTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MEDICOSOLICITANTE" FOR "MEDICOSOLICITANTE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_MEDICOS_PERC_GRUPO" FOR "MEDICOS_PERC_GRUPO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
   NEW.INDICE = GEN_ID( GEN_MEDICOS_PERC_GRUPO, 1 );
end
 ^

CREATE TRIGGER "INSMEDIDAS" FOR "MEDIDAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.unidade = GEN_ID( GEN_MEDIDAS, 1 );
END
 ^

CREATE TRIGGER "SINC1_MEDIDAS" FOR "MEDIDAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MEDIDAS" FOR "MEDIDAS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_MEMORANDO" FOR "MEMORANDO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBIMEMORANDO" FOR "MEMORANDO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.INDICE = GEN_ID( Gen_MEMORANDO, 1 );
end
 ^

CREATE TRIGGER "SINC2_MEMORANDO" FOR "MEMORANDO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_MENSAGEM" FOR "MENSAGEM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_mensagem,1);
end
 ^

CREATE TRIGGER "TRIG_BIMENSAGEM_INTERNA_LAUDO" FOR "MENSAGEM_INTERNA_LAUDO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id(gen_mensagem_interna_laudo,1);
end
 ^

CREATE TRIGGER "TRGBI_MEWS" FOR "MEWS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_MEWS, 1 );
end
 ^

CREATE TRIGGER "SINC1_MODALIDADE" FOR "MODALIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_MODALIDADE" FOR "MODALIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   new.INDICE = GEN_ID( GEN_MODALIDADE, 1 );
END
 ^

CREATE TRIGGER "SINC2_MODALIDADE" FOR "MODALIDADE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSMOEDAS" FOR "MOEDAS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.a_codmoe = gen_id( gen_Moedas, 1 );
end
 ^

CREATE TRIGGER "SINC1_MOEDAS" FOR "MOEDAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MOEDAS" FOR "MOEDAS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSMOEDASTAB" FOR "MOEDASTAB" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
   NEW.a_codmoe = gen_id( gen_MoedasTAB, 1 );
end
 ^

CREATE TRIGGER "SINC1_MOEDASTAB" FOR "MOEDASTAB" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MOEDASTAB" FOR "MOEDASTAB" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_MONCOMPUTADOR" FOR "MONCOMPUTADOR" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_MONCOMPUTADOR, 1);
END
 ^

CREATE TRIGGER "TRGBI_MONTOR_BH" FOR "MONITORIZACAO_BH" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_MONITORIZACAO_BH = GEN_ID( GEN_MONITORIZACAO_BH, 1 );
end
 ^

CREATE TRIGGER "TRIG_BI_MONLOGCOMP" FOR "MONLOGCOMP" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_MONLOGCOMP,1);
END
 ^

CREATE TRIGGER "INS_MOTIVOCLAS" FOR "MOTIVOCLAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.IDMOTIVOCLAS = GEN_ID( GEN_MOTIVOCLAS, 1 );
END
 ^

CREATE TRIGGER "INSMOTIVOGLOSA" FOR "MOTIVOGLOSA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.NUMERO = GEN_ID( Gen_MOTIVOGLOSA, 1 );
end
 ^

CREATE TRIGGER "SINC1_MOTIVOGLOSA" FOR "MOTIVOGLOSA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MOTIVOGLOSA" FOR "MOTIVOGLOSA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSMOVSUS" FOR "MOVSUS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.NUMERO = GEN_ID( GEN_MOVSUS, 1 );
END
 ^

CREATE TRIGGER "SINC1_MOVSUS" FOR "MOVSUS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_MOVSUS" FOR "MOVSUS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED" FOR "NOTAMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.A_NOTAMED = GEN_ID( GEN_NOTAMED, 1 );
END
 ^

CREATE TRIGGER "NOTAMED_HORAINICIO" FOR "NOTAMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    NEW.HORAINICIO = 14;
END
 ^

CREATE TRIGGER "NOTAMED_LEITOALA" FOR "NOTAMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "SINC1_NOTAMED" FOR "NOTAMED" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "PRESCINS_BLOQ_ACESSO" FOR "NOTAMED" 
ACTIVE BEFORE INSERT POSITION 20
as
DECLARE VARIABLE TIPOU VARCHAR(10);
begin
    select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPOU;
    if (:TIPOU <> 'CRM') then
    begin
    --     exception  EXC_DINAMICA 'tipoc';
        if  ( rdb$get_context('USER_SESSION','TIPOPRESC') = 0) Then
             exception  EXC_DINAMICA 'Tipo de Usurio no autorizado (verificar login e CRM)';
    end
end
 ^

CREATE TRIGGER "TRGBI_NOTAMED_TIPO" FOR "NOTAMED" 
ACTIVE BEFORE INSERT POSITION 40
as
begin
 new.aprazada=0;
  new.tipo = rdb$get_context('USER_SESSION','TIPOPRESC');
end
 ^

CREATE TRIGGER "SINC2_NOTAMED" FOR "NOTAMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "UPNOTAMED_HORAINICIO" FOR "NOTAMED" 
ACTIVE BEFORE UPDATE POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    NEW.HORAINICIO = 14;
END
 ^

CREATE TRIGGER "TBU_MOD_PRESC" FOR "NOTAMED" 
ACTIVE BEFORE UPDATE POSITION 20
as
begin
If (new.a_codigo1 <> new.codigo) Then
exception exc_dinamica 'Registro feito por outro usurio';
end
 ^

CREATE TRIGGER "INS_NOTAMED10" FOR "NOTAMED10" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED10, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED10" FOR "NOTAMED10" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED10" FOR "NOTAMED10" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED12" FOR "NOTAMED12" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED12, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED12" FOR "NOTAMED12" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED12" FOR "NOTAMED12" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED13" FOR "NOTAMED13" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED13, 1 );
END
 ^

CREATE TRIGGER "TRGAILOG_NOTAMED13" FOR "NOTAMED13" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('NOTAMED13',NEW.SEQUENCIA,'I') into indice; end
 ^

CREATE TRIGGER "TRGAULOG_NOTAMED13" FOR "NOTAMED13" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('NOTAMED13',NEW.SEQUENCIA,'U') into :indice;
if ((new.DESCRICAO <> old.DESCRICAO) or (new.DESCRICAO is null and old.DESCRICAO is not null) or (new.DESCRICAO is not null and old.DESCRICAO is null)) then
 execute procedure insertlogitem(:indice,'DESCRICAO',old.DESCRICAO,new.DESCRICAO);
if ((new.H1 <> old.H1) or (new.H1 is null and old.H1 is not null) or (new.H1 is not null and old.H1 is null)) then
 execute procedure insertlogitem(:indice,'H1',old.H1,new.H1);
if ((new.H10 <> old.H10) or (new.H10 is null and old.H10 is not null) or (new.H10 is not null and old.H10 is null)) then
 execute procedure insertlogitem(:indice,'H10',old.H10,new.H10);
if ((new.H11 <> old.H11) or (new.H11 is null and old.H11 is not null) or (new.H11 is not null and old.H11 is null)) then
 execute procedure insertlogitem(:indice,'H11',old.H11,new.H11);
if ((new.H12 <> old.H12) or (new.H12 is null and old.H12 is not null) or (new.H12 is not null and old.H12 is null)) then
 execute procedure insertlogitem(:indice,'H12',old.H12,new.H12);
if ((new.H2 <> old.H2) or (new.H2 is null and old.H2 is not null) or (new.H2 is not null and old.H2 is null)) then
 execute procedure insertlogitem(:indice,'H2',old.H2,new.H2);
if ((new.H3 <> old.H3) or (new.H3 is null and old.H3 is not null) or (new.H3 is not null and old.H3 is null)) then
 execute procedure insertlogitem(:indice,'H3',old.H3,new.H3);
if ((new.H4 <> old.H4) or (new.H4 is null and old.H4 is not null) or (new.H4 is not null and old.H4 is null)) then
 execute procedure insertlogitem(:indice,'H4',old.H4,new.H4);
if ((new.H5 <> old.H5) or (new.H5 is null and old.H5 is not null) or (new.H5 is not null and old.H5 is null)) then
 execute procedure insertlogitem(:indice,'H5',old.H5,new.H5);
if ((new.H6 <> old.H6) or (new.H6 is null and old.H6 is not null) or (new.H6 is not null and old.H6 is null)) then
 execute procedure insertlogitem(:indice,'H6',old.H6,new.H6);
if ((new.H7 <> old.H7) or (new.H7 is null and old.H7 is not null) or (new.H7 is not null and old.H7 is null)) then
 execute procedure insertlogitem(:indice,'H7',old.H7,new.H7);
if ((new.H8 <> old.H8) or (new.H8 is null and old.H8 is not null) or (new.H8 is not null and old.H8 is null)) then
 execute procedure insertlogitem(:indice,'H8',old.H8,new.H8);
if ((new.H9 <> old.H9) or (new.H9 is null and old.H9 is not null) or (new.H9 is not null and old.H9 is null)) then
 execute procedure insertlogitem(:indice,'H9',old.H9,new.H9);
if ((new.OK13 <> old.OK13) or (new.OK13 is null and old.OK13 is not null) or (new.OK13 is not null and old.OK13 is null)) then
 execute procedure insertlogitem(:indice,'OK13',old.OK13,new.OK13);
if ((new.OK14 <> old.OK14) or (new.OK14 is null and old.OK14 is not null) or (new.OK14 is not null and old.OK14 is null)) then
 execute procedure insertlogitem(:indice,'OK14',old.OK14,new.OK14);
if ((new.OK15 <> old.OK15) or (new.OK15 is null and old.OK15 is not null) or (new.OK15 is not null and old.OK15 is null)) then
 execute procedure insertlogitem(:indice,'OK15',old.OK15,new.OK15);
if ((new.OK16 <> old.OK16) or (new.OK16 is null and old.OK16 is not null) or (new.OK16 is not null and old.OK16 is null)) then
 execute procedure insertlogitem(:indice,'OK16',old.OK16,new.OK16);
if ((new.OK17 <> old.OK17) or (new.OK17 is null and old.OK17 is not null) or (new.OK17 is not null and old.OK17 is null)) then
 execute procedure insertlogitem(:indice,'OK17',old.OK17,new.OK17);
if ((new.OK18 <> old.OK18) or (new.OK18 is null and old.OK18 is not null) or (new.OK18 is not null and old.OK18 is null)) then
 execute procedure insertlogitem(:indice,'OK18',old.OK18,new.OK18);
if ((new.OK19 <> old.OK19) or (new.OK19 is null and old.OK19 is not null) or (new.OK19 is not null and old.OK19 is null)) then
 execute procedure insertlogitem(:indice,'OK19',old.OK19,new.OK19);
if ((new.OK20 <> old.OK20) or (new.OK20 is null and old.OK20 is not null) or (new.OK20 is not null and old.OK20 is null)) then
 execute procedure insertlogitem(:indice,'OK20',old.OK20,new.OK20);
if ((new.OK21 <> old.OK21) or (new.OK21 is null and old.OK21 is not null) or (new.OK21 is not null and old.OK21 is null)) then
 execute procedure insertlogitem(:indice,'OK21',old.OK21,new.OK21);
if ((new.OK22 <> old.OK22) or (new.OK22 is null and old.OK22 is not null) or (new.OK22 is not null and old.OK22 is null)) then
 execute procedure insertlogitem(:indice,'OK22',old.OK22,new.OK22);
if ((new.OK23 <> old.OK23) or (new.OK23 is null and old.OK23 is not null) or (new.OK23 is not null and old.OK23 is null)) then
 execute procedure insertlogitem(:indice,'OK23',old.OK23,new.OK23);
if ((new.OK24 <> old.OK24) or (new.OK24 is null and old.OK24 is not null) or (new.OK24 is not null and old.OK24 is null)) then
 execute procedure insertlogitem(:indice,'OK24',old.OK24,new.OK24);
if ((new.PRESCRICAO <> old.PRESCRICAO) or (new.PRESCRICAO is null and old.PRESCRICAO is not null) or (new.PRESCRICAO is not null and old.PRESCRICAO is null)) then
 execute procedure insertlogitem(:indice,'PRESCRICAO',old.PRESCRICAO,new.PRESCRICAO);
if ((new.QX13 <> old.QX13) or (new.QX13 is null and old.QX13 is not null) or (new.QX13 is not null and old.QX13 is null)) then
 execute procedure insertlogitem(:indice,'QX13',old.QX13,new.QX13);
if ((new.QX14 <> old.QX14) or (new.QX14 is null and old.QX14 is not null) or (new.QX14 is not null and old.QX14 is null)) then
 execute procedure insertlogitem(:indice,'QX14',old.QX14,new.QX14);
if ((new.QX15 <> old.QX15) or (new.QX15 is null and old.QX15 is not null) or (new.QX15 is not null and old.QX15 is null)) then
 execute procedure insertlogitem(:indice,'QX15',old.QX15,new.QX15);
if ((new.QX16 <> old.QX16) or (new.QX16 is null and old.QX16 is not null) or (new.QX16 is not null and old.QX16 is null)) then
 execute procedure insertlogitem(:indice,'QX16',old.QX16,new.QX16);
if ((new.QX17 <> old.QX17) or (new.QX17 is null and old.QX17 is not null) or (new.QX17 is not null and old.QX17 is null)) then
 execute procedure insertlogitem(:indice,'QX17',old.QX17,new.QX17);
if ((new.QX18 <> old.QX18) or (new.QX18 is null and old.QX18 is not null) or (new.QX18 is not null and old.QX18 is null)) then
 execute procedure insertlogitem(:indice,'QX18',old.QX18,new.QX18);
if ((new.QX19 <> old.QX19) or (new.QX19 is null and old.QX19 is not null) or (new.QX19 is not null and old.QX19 is null)) then
 execute procedure insertlogitem(:indice,'QX19',old.QX19,new.QX19);
if ((new.QX20 <> old.QX20) or (new.QX20 is null and old.QX20 is not null) or (new.QX20 is not null and old.QX20 is null)) then
 execute procedure insertlogitem(:indice,'QX20',old.QX20,new.QX20);
if ((new.QX21 <> old.QX21) or (new.QX21 is null and old.QX21 is not null) or (new.QX21 is not null and old.QX21 is null)) then
 execute procedure insertlogitem(:indice,'QX21',old.QX21,new.QX21);
if ((new.QX22 <> old.QX22) or (new.QX22 is null and old.QX22 is not null) or (new.QX22 is not null and old.QX22 is null)) then
 execute procedure insertlogitem(:indice,'QX22',old.QX22,new.QX22);
if ((new.QX23 <> old.QX23) or (new.QX23 is null and old.QX23 is not null) or (new.QX23 is not null and old.QX23 is null)) then
 execute procedure insertlogitem(:indice,'QX23',old.QX23,new.QX23);
if ((new.QX24 <> old.QX24) or (new.QX24 is null and old.QX24 is not null) or (new.QX24 is not null and old.QX24 is null)) then
 execute procedure insertlogitem(:indice,'QX24',old.QX24,new.QX24);
if ((new.QY13 <> old.QY13) or (new.QY13 is null and old.QY13 is not null) or (new.QY13 is not null and old.QY13 is null)) then
 execute procedure insertlogitem(:indice,'QY13',old.QY13,new.QY13);
if ((new.QY14 <> old.QY14) or (new.QY14 is null and old.QY14 is not null) or (new.QY14 is not null and old.QY14 is null)) then
 execute procedure insertlogitem(:indice,'QY14',old.QY14,new.QY14);
if ((new.QY15 <> old.QY15) or (new.QY15 is null and old.QY15 is not null) or (new.QY15 is not null and old.QY15 is null)) then
 execute procedure insertlogitem(:indice,'QY15',old.QY15,new.QY15);
if ((new.QY16 <> old.QY16) or (new.QY16 is null and old.QY16 is not null) or (new.QY16 is not null and old.QY16 is null)) then
 execute procedure insertlogitem(:indice,'QY16',old.QY16,new.QY16);
if ((new.QY17 <> old.QY17) or (new.QY17 is null and old.QY17 is not null) or (new.QY17 is not null and old.QY17 is null)) then
 execute procedure insertlogitem(:indice,'QY17',old.QY17,new.QY17);
if ((new.QY18 <> old.QY18) or (new.QY18 is null and old.QY18 is not null) or (new.QY18 is not null and old.QY18 is null)) then
 execute procedure insertlogitem(:indice,'QY18',old.QY18,new.QY18);
if ((new.QY19 <> old.QY19) or (new.QY19 is null and old.QY19 is not null) or (new.QY19 is not null and old.QY19 is null)) then
 execute procedure insertlogitem(:indice,'QY19',old.QY19,new.QY19);
if ((new.QY20 <> old.QY20) or (new.QY20 is null and old.QY20 is not null) or (new.QY20 is not null and old.QY20 is null)) then
 execute procedure insertlogitem(:indice,'QY20',old.QY20,new.QY20);
if ((new.QY21 <> old.QY21) or (new.QY21 is null and old.QY21 is not null) or (new.QY21 is not null and old.QY21 is null)) then
 execute procedure insertlogitem(:indice,'QY21',old.QY21,new.QY21);
if ((new.QY22 <> old.QY22) or (new.QY22 is null and old.QY22 is not null) or (new.QY22 is not null and old.QY22 is null)) then
 execute procedure insertlogitem(:indice,'QY22',old.QY22,new.QY22);
if ((new.QY23 <> old.QY23) or (new.QY23 is null and old.QY23 is not null) or (new.QY23 is not null and old.QY23 is null)) then
 execute procedure insertlogitem(:indice,'QY23',old.QY23,new.QY23);
if ((new.QY24 <> old.QY24) or (new.QY24 is null and old.QY24 is not null) or (new.QY24 is not null and old.QY24 is null)) then
 execute procedure insertlogitem(:indice,'QY24',old.QY24,new.QY24);
if ((new.SEQUENCIA <> old.SEQUENCIA) or (new.SEQUENCIA is null and old.SEQUENCIA is not null) or (new.SEQUENCIA is not null and old.SEQUENCIA is null)) then
 execute procedure insertlogitem(:indice,'SEQUENCIA',old.SEQUENCIA,new.SEQUENCIA);
if ((new.SUSPENSO <> old.SUSPENSO) or (new.SUSPENSO is null and old.SUSPENSO is not null) or (new.SUSPENSO is not null and old.SUSPENSO is null)) then
 execute procedure insertlogitem(:indice,'SUSPENSO',old.SUSPENSO,new.SUSPENSO);
if ((new.SUSPENSO_DATA <> old.SUSPENSO_DATA) or (new.SUSPENSO_DATA is null and old.SUSPENSO_DATA is not null) or (new.SUSPENSO_DATA is not null and old.SUSPENSO_DATA is null)) then
 execute procedure insertlogitem(:indice,'SUSPENSO_DATA',old.SUSPENSO_DATA,new.SUSPENSO_DATA);
if ((new.SUSPENSO_JUSTIF <> old.SUSPENSO_JUSTIF) or (new.SUSPENSO_JUSTIF is null and old.SUSPENSO_JUSTIF is not null) or (new.SUSPENSO_JUSTIF is not null and old.SUSPENSO_JUSTIF is null)) then
 execute procedure insertlogitem(:indice,'SUSPENSO_JUSTIF',old.SUSPENSO_JUSTIF,new.SUSPENSO_JUSTIF);
if ((new.SUSPENSO_USER <> old.SUSPENSO_USER) or (new.SUSPENSO_USER is null and old.SUSPENSO_USER is not null) or (new.SUSPENSO_USER is not null and old.SUSPENSO_USER is null)) then
 execute procedure insertlogitem(:indice,'SUSPENSO_USER',old.SUSPENSO_USER,new.SUSPENSO_USER);
 end
 ^

CREATE TRIGGER "TRGADLOG_NOTAMED13" FOR "NOTAMED13" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('NOTAMED13',OLD.SEQUENCIA,'D') into :indice;
if (old.DESCRICAO is not null) then
 execute procedure insertlogitem(:indice,'DESCRICAO',old.DESCRICAO,null);
if (old.H1 is not null) then
 execute procedure insertlogitem(:indice,'H1',old.H1,null);
if (old.H10 is not null) then
 execute procedure insertlogitem(:indice,'H10',old.H10,null);
if (old.H11 is not null) then
 execute procedure insertlogitem(:indice,'H11',old.H11,null);
if (old.H12 is not null) then
 execute procedure insertlogitem(:indice,'H12',old.H12,null);
if (old.H2 is not null) then
 execute procedure insertlogitem(:indice,'H2',old.H2,null);
if (old.H3 is not null) then
 execute procedure insertlogitem(:indice,'H3',old.H3,null);
if (old.H4 is not null) then
 execute procedure insertlogitem(:indice,'H4',old.H4,null);
if (old.H5 is not null) then
 execute procedure insertlogitem(:indice,'H5',old.H5,null);
if (old.H6 is not null) then
 execute procedure insertlogitem(:indice,'H6',old.H6,null);
if (old.H7 is not null) then
 execute procedure insertlogitem(:indice,'H7',old.H7,null);
if (old.H8 is not null) then
 execute procedure insertlogitem(:indice,'H8',old.H8,null);
if (old.H9 is not null) then
 execute procedure insertlogitem(:indice,'H9',old.H9,null);
if (old.OK13 is not null) then
 execute procedure insertlogitem(:indice,'OK13',old.OK13,null);
if (old.OK14 is not null) then
 execute procedure insertlogitem(:indice,'OK14',old.OK14,null);
if (old.OK15 is not null) then
 execute procedure insertlogitem(:indice,'OK15',old.OK15,null);
if (old.OK16 is not null) then
 execute procedure insertlogitem(:indice,'OK16',old.OK16,null);
if (old.OK17 is not null) then
 execute procedure insertlogitem(:indice,'OK17',old.OK17,null);
if (old.OK18 is not null) then
 execute procedure insertlogitem(:indice,'OK18',old.OK18,null);
if (old.OK19 is not null) then
 execute procedure insertlogitem(:indice,'OK19',old.OK19,null);
if (old.OK20 is not null) then
 execute procedure insertlogitem(:indice,'OK20',old.OK20,null);
if (old.OK21 is not null) then
 execute procedure insertlogitem(:indice,'OK21',old.OK21,null);
if (old.OK22 is not null) then
 execute procedure insertlogitem(:indice,'OK22',old.OK22,null);
if (old.OK23 is not null) then
 execute procedure insertlogitem(:indice,'OK23',old.OK23,null);
if (old.OK24 is not null) then
 execute procedure insertlogitem(:indice,'OK24',old.OK24,null);
if (old.PRESCRICAO is not null) then
 execute procedure insertlogitem(:indice,'PRESCRICAO',old.PRESCRICAO,null);
if (old.QX13 is not null) then
 execute procedure insertlogitem(:indice,'QX13',old.QX13,null);
if (old.QX14 is not null) then
 execute procedure insertlogitem(:indice,'QX14',old.QX14,null);
if (old.QX15 is not null) then
 execute procedure insertlogitem(:indice,'QX15',old.QX15,null);
if (old.QX16 is not null) then
 execute procedure insertlogitem(:indice,'QX16',old.QX16,null);
if (old.QX17 is not null) then
 execute procedure insertlogitem(:indice,'QX17',old.QX17,null);
if (old.QX18 is not null) then
 execute procedure insertlogitem(:indice,'QX18',old.QX18,null);
if (old.QX19 is not null) then
 execute procedure insertlogitem(:indice,'QX19',old.QX19,null);
if (old.QX20 is not null) then
 execute procedure insertlogitem(:indice,'QX20',old.QX20,null);
if (old.QX21 is not null) then
 execute procedure insertlogitem(:indice,'QX21',old.QX21,null);
if (old.QX22 is not null) then
 execute procedure insertlogitem(:indice,'QX22',old.QX22,null);
if (old.QX23 is not null) then
 execute procedure insertlogitem(:indice,'QX23',old.QX23,null);
if (old.QX24 is not null) then
 execute procedure insertlogitem(:indice,'QX24',old.QX24,null);
if (old.QY13 is not null) then
 execute procedure insertlogitem(:indice,'QY13',old.QY13,null);
if (old.QY14 is not null) then
 execute procedure insertlogitem(:indice,'QY14',old.QY14,null);
if (old.QY15 is not null) then
 execute procedure insertlogitem(:indice,'QY15',old.QY15,null);
if (old.QY16 is not null) then
 execute procedure insertlogitem(:indice,'QY16',old.QY16,null);
if (old.QY17 is not null) then
 execute procedure insertlogitem(:indice,'QY17',old.QY17,null);
if (old.QY18 is not null) then
 execute procedure insertlogitem(:indice,'QY18',old.QY18,null);
if (old.QY19 is not null) then
 execute procedure insertlogitem(:indice,'QY19',old.QY19,null);
if (old.QY20 is not null) then
 execute procedure insertlogitem(:indice,'QY20',old.QY20,null);
if (old.QY21 is not null) then
 execute procedure insertlogitem(:indice,'QY21',old.QY21,null);
if (old.QY22 is not null) then
 execute procedure insertlogitem(:indice,'QY22',old.QY22,null);
if (old.QY23 is not null) then
 execute procedure insertlogitem(:indice,'QY23',old.QY23,null);
if (old.QY24 is not null) then
 execute procedure insertlogitem(:indice,'QY24',old.QY24,null);
if (old.SEQUENCIA is not null) then
 execute procedure insertlogitem(:indice,'SEQUENCIA',old.SEQUENCIA,null);
if (old.SUSPENSO is not null) then
 execute procedure insertlogitem(:indice,'SUSPENSO',old.SUSPENSO,null);
if (old.SUSPENSO_DATA is not null) then
 execute procedure insertlogitem(:indice,'SUSPENSO_DATA',old.SUSPENSO_DATA,null);
if (old.SUSPENSO_JUSTIF is not null) then
 execute procedure insertlogitem(:indice,'SUSPENSO_JUSTIF',old.SUSPENSO_JUSTIF,null);
if (old.SUSPENSO_USER is not null) then
 execute procedure insertlogitem(:indice,'SUSPENSO_USER',old.SUSPENSO_USER,null);
 end
 ^

CREATE TRIGGER "INS_NOTAMED2" FOR "NOTAMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED2, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED2" FOR "NOTAMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_NOTAMED2_ORDEM" FOR "NOTAMED2" 
ACTIVE BEFORE INSERT POSITION 100
as begin
  if (
     (new.ordem = '1') or (new.ordem = '2') or
     (new.ordem = '3') or (new.ordem = '4') or
     (new.ordem = '5') or (new.ordem = '6') or
     (new.ordem = '7') or (new.ordem = '8') or
     (new.ordem = '1 ') or (new.ordem = '2 ') or
     (new.ordem = '3 ') or (new.ordem = '4 ') or
     (new.ordem = '5 ') or (new.ordem = '6 ') or
     (new.ordem = '7 ') or (new.ordem = '8 ') or
     (new.ordem = '9') or (new.ordem = '9 ')
     )
   then
     new.ordem = '0' || new.ordem;
end
 ^

CREATE TRIGGER "SINC2_NOTAMED2" FOR "NOTAMED2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBU_NOTAMED2_ORDEM" FOR "NOTAMED2" 
ACTIVE BEFORE UPDATE POSITION 100
as begin
  if (
     (new.ordem = '1') or (new.ordem = '2') or
     (new.ordem = '3') or (new.ordem = '4') or
     (new.ordem = '5') or (new.ordem = '6') or
     (new.ordem = '7') or (new.ordem = '8') or
     (new.ordem = '1 ') or (new.ordem = '2 ') or
     (new.ordem = '3 ') or (new.ordem = '4 ') or
     (new.ordem = '5 ') or (new.ordem = '6 ') or
     (new.ordem = '7 ') or (new.ordem = '8 ') or
     (new.ordem = '9') or (new.ordem = '9 ')
     )
   then
     new.ordem = '0' || new.ordem;
end
 ^

CREATE TRIGGER "DEL_X_NOTAMED2" FOR "NOTAMED2" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into XNOTAMED2
  (    A_NOTAMED,  A_KITS,  MEDICAMENT,  POSOLOGIA,  QUANTIDADE,  A_MEDIDAS,  NUMERO,  CODIGO,  A_CODIGO1,  DILUENTE,  VIA,  ORDEM,  DATA2,  DATASINC,  HORA1,  OK1,  QX1,  QY1,  HORA2,  OK2,  QX2,  QY2,  HORA3,  OK3,  QX3,  QY3,  HORA4,  OK4,  QX4,  QY4,  HORA5,
  OK5,  QX5,  QY5,  HORA6,  OK6,  QX6,  QY6,  HORA7,  OK7,  QX7,  QY7,  HORA8,  OK8,  QX8,  QY8,  HORA9,
  OK9,  QX9,  QY9,  HORA10,  OK10,  QX10,  QY10,  HORA11,  OK11,  QX11,  QY11,  HORA12,
  OK12,  QX12,  QY12,  HORARIO1,  HORARIO2,  HORARIO3,  HORARIO4,  HORARIO5,
  HORARIO6,  HORARIO7,  HORARIO8,  HORARIO9,  HORARIO10,  HORARIO11,  HORARIO12,  SUSPENSO,
  SUSPENSO_JUSTIF,  SUSPENSO_DATA,  SUSPENSO_USER,  OK13,  OK14,  OK15,  OK16,  OK17,  OK18,  OK19,  OK20,  OK21,
  OK22,  OK23,  OK24,  QX13,  QX14,  QX15,  QX16,  QX17,  QX18,  QX19,  QX20,  QX21,  QX22,  QX23,  QX24,  QY13,
  QY14,  QY15,  QY16,  QY17,  QY18,  QY19,  QY20,  QY21,  QY22,  QY23,  QY24)
SELECT
    A_NOTAMED,  A_KITS,  MEDICAMENT,  POSOLOGIA,  QUANTIDADE,  A_MEDIDAS,  NUMERO,  CODIGO,  A_CODIGO1,  DILUENTE,  VIA,  ORDEM,  DATA2,  DATASINC,  HORA1,  OK1,  QX1,  QY1,  HORA2,  OK2,  QX2,  QY2,  HORA3,  OK3,  QX3,  QY3,  HORA4,  OK4,  QX4,  QY4,  HORA5,
  OK5,  QX5,  QY5,  HORA6,  OK6,  QX6,  QY6,  HORA7,  OK7,  QX7,  QY7,  HORA8,  OK8,  QX8,  QY8,  HORA9,
  OK9,  QX9,  QY9,  HORA10,  OK10,  QX10,  QY10,  HORA11,  OK11,  QX11,  QY11,  HORA12,
  OK12,  QX12,  QY12,  HORARIO1,  HORARIO2,  HORARIO3,  HORARIO4,  HORARIO5,
  HORARIO6,  HORARIO7,  HORARIO8,  HORARIO9,  HORARIO10,  HORARIO11,  HORARIO12,  SUSPENSO,
  SUSPENSO_JUSTIF,  SUSPENSO_DATA,  SUSPENSO_USER,  OK13,  OK14,  OK15,  OK16,  OK17,  OK18,  OK19,  OK20,  OK21,
  OK22,  OK23,  OK24,  QX13,  QX14,  QX15,  QX16,  QX17,  QX18,  QX19,  QX20,  QX21,  QX22,  QX23,  QX24,  QY13,
  QY14,  QY15,  QY16,  QY17,  QY18,  QY19,  QY20,  QY21,  QY22,  QY23,  QY24
FROM NOTAMED2
WHERE SEQUENCIA = OLD.SEQUENCIA;
END
 ^

CREATE TRIGGER "INS_NOTAMED3" FOR "NOTAMED3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED3, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED3" FOR "NOTAMED3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED3" FOR "NOTAMED3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED4" FOR "NOTAMED4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED4, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED4" FOR "NOTAMED4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED4" FOR "NOTAMED4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED5" FOR "NOTAMED5" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED5, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED5" FOR "NOTAMED5" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED5" FOR "NOTAMED5" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED6" FOR "NOTAMED6" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED6, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED6" FOR "NOTAMED6" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED6" FOR "NOTAMED6" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED7" FOR "NOTAMED7" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED7, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED7" FOR "NOTAMED7" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED7" FOR "NOTAMED7" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED8" FOR "NOTAMED8" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED8, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED8" FOR "NOTAMED8" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED8" FOR "NOTAMED8" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMED9" FOR "NOTAMED9" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_NOTAMED9, 1 );
END
 ^

CREATE TRIGGER "SINC1_NOTAMED9" FOR "NOTAMED9" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NOTAMED9" FOR "NOTAMED9" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_NOTAMEDDIETA" FOR "NOTAMEDDIETA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAMEDDIETA" FOR "NOTAMEDDIETA" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
   NEW.CODIGO = GEN_ID( GEN_NOTAMEDDIETA, 1 );
END
 ^

CREATE TRIGGER "SINC2_NOTAMEDDIETA" FOR "NOTAMEDDIETA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTAPACIENTE" FOR "NOTAPACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_NOTAPACIENTE, 1 );
END
 ^

CREATE TRIGGER "INS_NOTAPACIENTE_DATA" FOR "NOTAPACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   IF (NEW.DATA IS NULL) THEN
      NEW.DATA = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_NOTAPACIENTE" FOR "NOTAPACIENTE" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_notapaciente, 1 );
end
 ^

CREATE TRIGGER "INS_NOTASALA1" FOR "NOTASALA1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.NUMERO = GEN_ID( GEN_NOTASALA1, 1 );
END
 ^

CREATE TRIGGER "INS_NOTASALA2" FOR "NOTASALA2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.NUMERO = GEN_ID( GEN_NOTASALA2, 1 );
END
 ^

CREATE TRIGGER "TRGBI_NOTASALAMM" FOR "NOTASALAMM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_notasalamm,1);
end
 ^

CREATE TRIGGER "TRGBI_NOTASALA_PARTIC" FOR "NOTASALA_PARTIC" 
ACTIVE BEFORE INSERT POSITION 20
as begin
 new.indice = gen_id(gen_notasala_partic,1);
end
 ^

CREATE TRIGGER "INS_NOTIFICACAO_EVENTO" FOR "NOTIFICACAO_EVENTOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID_NOTIFICACAO = GEN_ID( GEN_NOTIFICACAO_EVENTO, 1 );
END
 ^

CREATE TRIGGER "SINC1_DATA" FOR "NOTIFICACAO_EVENTOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATA = 'NOW';
END
 ^

CREATE TRIGGER "INS_DATA_RESP" FOR "NOTIFICACAO_RESPOSTA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.DATA_RESPOSTA = 'NOW';
END
 ^

CREATE TRIGGER "INS_NOTIFICAO_RESP" FOR "NOTIFICACAO_RESPOSTA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID_NOTIFICACAO_RESPOSTA = GEN_ID( GEN_NOTIFICACAO_RESPOSTA, 1 );
END
 ^

CREATE TRIGGER "INS_NUMERAGUIA" FOR "NUMERAGUIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_NUMERAGUIA, 1 );
END
 ^

CREATE TRIGGER "INSNUTRICAO" FOR "NUTRICAO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.SEQUENCIA = GEN_ID( Gen_NUTRICAO, 1 );
end
 ^

CREATE TRIGGER "SINC1_NUTRICAO" FOR "NUTRICAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_NUTRICAO" FOR "NUTRICAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATAMOD = 'NOW';
END
 ^

CREATE TRIGGER "INS_OPERADORAS" FOR "OPERADORAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_OPERADORAS, 1);
END
 ^

CREATE TRIGGER "TRIG_OPERADORA_CELULAR_BI" FOR "OPERADORA_CELULAR" 
ACTIVE BEFORE INSERT POSITION 0
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_OPERADORA_CELULAR,1);
END
 ^

CREATE TRIGGER "INSOPME" FOR "OPME" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.INDICE = GEN_ID( OPME, 1 );
end
 ^

CREATE TRIGGER "INSOPMEP" FOR "OPMEP" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.INDICE = GEN_ID( GEN_OPMEP, 1 );
end
 ^

CREATE TRIGGER "TRGBI_ORCAMENTO" FOR "ORCAMENTO" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.ORCAMENTO = GEN_ID(GEN_ORCAMENTO, 1);
END
 ^

CREATE TRIGGER "TRGBI_ORCAMENTOITEM" FOR "ORCAMENTOITEM" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_ORCAMENTOITEM, 1);
END
 ^

CREATE TRIGGER "BI_ORIGEM" FOR "ORIGEM" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.SEQUENCIA = GEN_ID( GEN_ORIGEM, 1 );
END
 ^

CREATE TRIGGER "INS_OSP" FOR "OSP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.IDOSP = GEN_ID( GEN_OSP, 1 );
END
 ^

CREATE TRIGGER "BI_PACESPEC" FOR "PACESPEC" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
   NEW.IDPACESPEC = GEN_ID(GEN_PACESPEC, 1);
END
 ^

CREATE TRIGGER "INSPACIENTE" FOR "PACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.CodigoPac = GEN_ID( Gen_CodigoPac, 1 );
END
 ^

CREATE TRIGGER "SINC1_PACIENTE" FOR "PACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_PACIENTE_NUM_END" FOR "PACIENTE" 
ACTIVE BEFORE INSERT POSITION 20
as
/* code here */
BEGIN
   IF (NEW.NUMERO IS NULL)THEN
      NEW.NUMERO = 'S/N';
END
 ^

CREATE TRIGGER "TRIG_BI_PACIENTE_RACA" FOR "PACIENTE" 
ACTIVE BEFORE INSERT POSITION 20
as
/* code here */
BEGIN
   IF (NEW.COR IS NULL) THEN
      NEW.COR = 3;
END
 ^

CREATE TRIGGER "TRGAILOG_PACIENTE" FOR "PACIENTE" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('PACIENTE',NEW.CODIGOPAC,'I') into indice; end
 ^

CREATE TRIGGER "ALTERA_PACBACKUP" FOR "PACIENTE" 
INACTIVE BEFORE UPDATE POSITION 0
as
BEGIN
insert into X_PACBACKUP
( CODIGOPACOFICIAL,
  A_NOME,
  ENDERECO,
  MATRICULA,
  IDENTIDADE,
  NASC,
  CONSULTA,
  TRABALHO,
  SEGURADO,
  GAVETA,
  GAVETA1,
  NATURALIDADE,
  PAI,
  MAE,
  CODIGO,
  A_CODIGO1,
  SEXO,
  A_CPF,
  CEP,
  BAIRRO,
  CIDADE,
  A_MEDICOS,
  UF,
  CIVIL,
  CADASTRADOEM,
  IMPRESSO,
  COR,
  CONVENIO,
  CODIGOANTIGO,
  TRABALHO1,
  EMAIL,
  SANGUE,
  FATORRH,
  OBSERVACAO,
  ATIVO,
  USER1,
  USER2,
  DATA1,
  DATA2,
  ANAMNESE,
  PREVIDENCIA,
  SUS,
  PLANO,
  VALIDADE,
  PRODUTO,
  CARTAO,
  CONVPLANO,
  IMPORTA,
  AREA,
  PREFERENCIA,
  OBSERVACAOMED,
  SENHA,
  DATASINC,
  NUMERO,
  COMPLEMENTO,
  APELIDO,
  IP,
  VERSAO,
  IP1,
  VERSAO1,
  FR1,
  FR2,
  FR3,
  FR4,
  FR5,
  FR6,
  FR7,
  FR8,
  FR9,
  FR10,
  FR11,
  FR12,
  FR13,
  FR14,
  FR15,
  FR16,
  RGORGAO,
  ESCOLARIDADE,
  RGUF,
  BOLSAFAMILIA,
  MICROAREA,
  POSTO,
  MAT_FIN,
  OML,
  CORPO,
  QUADRO,
  ESPEC,
  NUMBOL,
  ANOBOL,
  AP,
  PARENTE,
  SITUACAO,
  INIFUS,
  SIAPE,
  NIPTITULAR,
  SISPRENATAL,
  IMH,
  IMPORTADO,
  PRONTUARIO,
  LIBERADOTEMP,
  CERTIDAONASC
)
SELECT
  CODIGOPAC,
  A_NOME,
  ENDERECO,
  MATRICULA,
  IDENTIDADE,
  NASC,
  CONSULTA,
  TRABALHO,
  SEGURADO,
  GAVETA,
  GAVETA1,
  NATURALIDADE,
  PAI,
  MAE,
  CODIGO,
  A_CODIGO1,
  SEXO,
  A_CPF,
  CEP,
  BAIRRO,
  CIDADE,
  A_MEDICOS,
  UF,
  CIVIL,
  CADASTRADOEM,
  IMPRESSO,
  COR,
  CONVENIO,
  CODIGOANTIGO,
  TRABALHO1,
  EMAIL,
  SANGUE,
  FATORRH,
  OBSERVACAO,
  ATIVO,
  USER1,
  USER2,
  DATA1,
  DATA2,
  ANAMNESE,
  PREVIDENCIA,
  SUS,
  PLANO,
  VALIDADE,
  PRODUTO,
  CARTAO,
  CONVPLANO,
  IMPORTA,
  AREA,
  PREFERENCIA,
  OBSERVACAOMED,
  SENHA,
  DATASINC,
  NUMERO,
  COMPLEMENTO,
  APELIDO,
  IP,
  VERSAO,
  IP1,
  VERSAO1,
  FR1,
  FR2,
  FR3,
  FR4,
  FR5,
  FR6,
  FR7,
  FR8,
  FR9,
  FR10,
  FR11,
  FR12,
  FR13,
  FR14,
  FR15,
  FR16,
  RGORGAO,
  ESCOLARIDADE,
  RGUF,
  BOLSAFAMILIA,
  MICROAREA,
  POSTO,
  MAT_FIN,
  OML,
  CORPO,
  QUADRO,
  ESPEC,
  NUMBOL,
  ANOBOL,
  AP,
  PARENTE,
  SITUACAO,
  INIFUS,
  SIAPE,
  NIPTITULAR,
  SISPRENATAL,
  IMH,
  IMPORTADO,
  PRONTUARIO,
  LIBERADOTEMP,
  CERTIDAONASC
FROM PACIENTE
WHERE CODIGOPAC = OLD.CODIGOPAC;
END
 ^

CREATE TRIGGER "SINC2_PACIENTE" FOR "PACIENTE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BU_PACIENTE_NUM_END" FOR "PACIENTE" 
ACTIVE BEFORE UPDATE POSITION 20
as
/* code here */
BEGIN
   IF (NEW.NUMERO IS NULL)THEN
      NEW.NUMERO = 'S/N';
END
 ^

CREATE TRIGGER "TRIG_BU_PACIENTE_RACA" FOR "PACIENTE" 
ACTIVE BEFORE UPDATE POSITION 20
as
/* code here */
BEGIN
   IF (NEW.COR IS NULL) THEN
      NEW.COR = 3;
END
 ^

CREATE TRIGGER "BU_NOMEPAC" FOR "PACIENTE" 
INACTIVE BEFORE UPDATE POSITION 21
as
BEGIN
        IF (not(rdb$get_context('USER_SESSION', 'USUARIO') in ('1','218', '395', '416', '419', '61', '48', '28') )) THEN
    BEGIN
       IF (NEW.A_NOME <> OLD.A_NOME) Then
          exception exc_dinamica 'Ateno no permitido alterar o nome do PACIENTE procure coordenao.';
    END
END
 ^

CREATE TRIGGER "TRIG_AU_PACFUSMA" FOR "PACIENTE" 
INACTIVE AFTER UPDATE POSITION 20
as
BEGIN
   IF (new.VALIDADE <> old.VALIDADE) THEN
   BEGIN
       INSERT INTO AUDITA_VALIDADE_FUSMA (CODIGOPAC, INICIO, VALIDADE, USUARIO, DATASINC)
       VALUES(old.CODIGOPAC, old.INIFUS, old.VALIDADE, NEW.A_CODIGO1, 'NOW');
   END
END
 ^

CREATE TRIGGER "TRGAULOG_PACIENTE" FOR "PACIENTE" 
ACTIVE AFTER UPDATE POSITION 100
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('PACIENTE',NEW.CODIGOPAC,'U') into :indice;
if ((new.ANAMNESE <> old.ANAMNESE) or (new.ANAMNESE is null and old.ANAMNESE is not null) or (new.ANAMNESE is not null and old.ANAMNESE is null)) then
 execute procedure insertlogitem(:indice,'ANAMNESE',old.ANAMNESE,new.ANAMNESE);
if ((new.ANOBOL <> old.ANOBOL) or (new.ANOBOL is null and old.ANOBOL is not null) or (new.ANOBOL is not null and old.ANOBOL is null)) then
 execute procedure insertlogitem(:indice,'ANOBOL',old.ANOBOL,new.ANOBOL);
if ((new.AP <> old.AP) or (new.AP is null and old.AP is not null) or (new.AP is not null and old.AP is null)) then
 execute procedure insertlogitem(:indice,'AP',old.AP,new.AP);
if ((new.APELIDO <> old.APELIDO) or (new.APELIDO is null and old.APELIDO is not null) or (new.APELIDO is not null and old.APELIDO is null)) then
 execute procedure insertlogitem(:indice,'APELIDO',old.APELIDO,new.APELIDO);
if ((new.AREA <> old.AREA) or (new.AREA is null and old.AREA is not null) or (new.AREA is not null and old.AREA is null)) then
 execute procedure insertlogitem(:indice,'AREA',old.AREA,new.AREA);
if ((new.ATIVO <> old.ATIVO) or (new.ATIVO is null and old.ATIVO is not null) or (new.ATIVO is not null and old.ATIVO is null)) then
 execute procedure insertlogitem(:indice,'ATIVO',old.ATIVO,new.ATIVO);
if ((new.A_CODIGO1 <> old.A_CODIGO1) or (new.A_CODIGO1 is null and old.A_CODIGO1 is not null) or (new.A_CODIGO1 is not null and old.A_CODIGO1 is null)) then
 execute procedure insertlogitem(:indice,'A_CODIGO1',old.A_CODIGO1,new.A_CODIGO1);
if ((new.A_CPF <> old.A_CPF) or (new.A_CPF is null and old.A_CPF is not null) or (new.A_CPF is not null and old.A_CPF is null)) then
 execute procedure insertlogitem(:indice,'A_CPF',old.A_CPF,new.A_CPF);
if ((new.A_MEDICOS <> old.A_MEDICOS) or (new.A_MEDICOS is null and old.A_MEDICOS is not null) or (new.A_MEDICOS is not null and old.A_MEDICOS is null)) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,new.A_MEDICOS);
if ((new.A_NOME <> old.A_NOME) or (new.A_NOME is null and old.A_NOME is not null) or (new.A_NOME is not null and old.A_NOME is null)) then
 execute procedure insertlogitem(:indice,'A_NOME',old.A_NOME,new.A_NOME);
if ((new.BAIRRO <> old.BAIRRO) or (new.BAIRRO is null and old.BAIRRO is not null) or (new.BAIRRO is not null and old.BAIRRO is null)) then
 execute procedure insertlogitem(:indice,'BAIRRO',old.BAIRRO,new.BAIRRO);
if ((new.BOLSAFAMILIA <> old.BOLSAFAMILIA) or (new.BOLSAFAMILIA is null and old.BOLSAFAMILIA is not null) or (new.BOLSAFAMILIA is not null and old.BOLSAFAMILIA is null)) then
 execute procedure insertlogitem(:indice,'BOLSAFAMILIA',old.BOLSAFAMILIA,new.BOLSAFAMILIA);
if ((new.CADASTRADOEM <> old.CADASTRADOEM) or (new.CADASTRADOEM is null and old.CADASTRADOEM is not null) or (new.CADASTRADOEM is not null and old.CADASTRADOEM is null)) then
 execute procedure insertlogitem(:indice,'CADASTRADOEM',old.CADASTRADOEM,new.CADASTRADOEM);
if ((new.CARTAO <> old.CARTAO) or (new.CARTAO is null and old.CARTAO is not null) or (new.CARTAO is not null and old.CARTAO is null)) then
 execute procedure insertlogitem(:indice,'CARTAO',old.CARTAO,new.CARTAO);
if ((new.CELULAR <> old.CELULAR) or (new.CELULAR is null and old.CELULAR is not null) or (new.CELULAR is not null and old.CELULAR is null)) then
 execute procedure insertlogitem(:indice,'CELULAR',old.CELULAR,new.CELULAR);
if ((new.CEP <> old.CEP) or (new.CEP is null and old.CEP is not null) or (new.CEP is not null and old.CEP is null)) then
 execute procedure insertlogitem(:indice,'CEP',old.CEP,new.CEP);
if ((new.CERTIDAONASC <> old.CERTIDAONASC) or (new.CERTIDAONASC is null and old.CERTIDAONASC is not null) or (new.CERTIDAONASC is not null and old.CERTIDAONASC is null)) then
 execute procedure insertlogitem(:indice,'CERTIDAONASC',old.CERTIDAONASC,new.CERTIDAONASC);
if ((new.CIDADE <> old.CIDADE) or (new.CIDADE is null and old.CIDADE is not null) or (new.CIDADE is not null and old.CIDADE is null)) then
 execute procedure insertlogitem(:indice,'CIDADE',old.CIDADE,new.CIDADE);
if ((new.CIVIL <> old.CIVIL) or (new.CIVIL is null and old.CIVIL is not null) or (new.CIVIL is not null and old.CIVIL is null)) then
 execute procedure insertlogitem(:indice,'CIVIL',old.CIVIL,new.CIVIL);
if ((new.CODIGO <> old.CODIGO) or (new.CODIGO is null and old.CODIGO is not null) or (new.CODIGO is not null and old.CODIGO is null)) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,new.CODIGO);
if ((new.CODIGOANTIGO <> old.CODIGOANTIGO) or (new.CODIGOANTIGO is null and old.CODIGOANTIGO is not null) or (new.CODIGOANTIGO is not null and old.CODIGOANTIGO is null)) then
 execute procedure insertlogitem(:indice,'CODIGOANTIGO',old.CODIGOANTIGO,new.CODIGOANTIGO);
if ((new.CODIGOPAC <> old.CODIGOPAC) or (new.CODIGOPAC is null and old.CODIGOPAC is not null) or (new.CODIGOPAC is not null and old.CODIGOPAC is null)) then
 execute procedure insertlogitem(:indice,'CODIGOPAC',old.CODIGOPAC,new.CODIGOPAC);
if ((new.COD_LOGRADOURO <> old.COD_LOGRADOURO) or (new.COD_LOGRADOURO is null and old.COD_LOGRADOURO is not null) or (new.COD_LOGRADOURO is not null and old.COD_LOGRADOURO is null)) then
 execute procedure insertlogitem(:indice,'COD_LOGRADOURO',old.COD_LOGRADOURO,new.COD_LOGRADOURO);
if ((new.COMPLEMENTO <> old.COMPLEMENTO) or (new.COMPLEMENTO is null and old.COMPLEMENTO is not null) or (new.COMPLEMENTO is not null and old.COMPLEMENTO is null)) then
 execute procedure insertlogitem(:indice,'COMPLEMENTO',old.COMPLEMENTO,new.COMPLEMENTO);
if ((new.CONSULTA <> old.CONSULTA) or (new.CONSULTA is null and old.CONSULTA is not null) or (new.CONSULTA is not null and old.CONSULTA is null)) then
 execute procedure insertlogitem(:indice,'CONSULTA',old.CONSULTA,new.CONSULTA);
if ((new.CONVENIO <> old.CONVENIO) or (new.CONVENIO is null and old.CONVENIO is not null) or (new.CONVENIO is not null and old.CONVENIO is null)) then
 execute procedure insertlogitem(:indice,'CONVENIO',old.CONVENIO,new.CONVENIO);
if ((new.CONVPLANO <> old.CONVPLANO) or (new.CONVPLANO is null and old.CONVPLANO is not null) or (new.CONVPLANO is not null and old.CONVPLANO is null)) then
 execute procedure insertlogitem(:indice,'CONVPLANO',old.CONVPLANO,new.CONVPLANO);
if ((new.COR <> old.COR) or (new.COR is null and old.COR is not null) or (new.COR is not null and old.COR is null)) then
 execute procedure insertlogitem(:indice,'COR',old.COR,new.COR);
if ((new.CORPO <> old.CORPO) or (new.CORPO is null and old.CORPO is not null) or (new.CORPO is not null and old.CORPO is null)) then
 execute procedure insertlogitem(:indice,'CORPO',old.CORPO,new.CORPO);
if ((new.DATAEXPEDICAO <> old.DATAEXPEDICAO) or (new.DATAEXPEDICAO is null and old.DATAEXPEDICAO is not null) or (new.DATAEXPEDICAO is not null and old.DATAEXPEDICAO is null)) then
 execute procedure insertlogitem(:indice,'DATAEXPEDICAO',old.DATAEXPEDICAO,new.DATAEXPEDICAO);
if ((new.EMAIL <> old.EMAIL) or (new.EMAIL is null and old.EMAIL is not null) or (new.EMAIL is not null and old.EMAIL is null)) then
 execute procedure insertlogitem(:indice,'EMAIL',old.EMAIL,new.EMAIL);
if ((new.ENDERECO <> old.ENDERECO) or (new.ENDERECO is null and old.ENDERECO is not null) or (new.ENDERECO is not null and old.ENDERECO is null)) then
 execute procedure insertlogitem(:indice,'ENDERECO',old.ENDERECO,new.ENDERECO);
if ((new.ESCOLARIDADE <> old.ESCOLARIDADE) or (new.ESCOLARIDADE is null and old.ESCOLARIDADE is not null) or (new.ESCOLARIDADE is not null and old.ESCOLARIDADE is null)) then
 execute procedure insertlogitem(:indice,'ESCOLARIDADE',old.ESCOLARIDADE,new.ESCOLARIDADE);
if ((new.ESPEC <> old.ESPEC) or (new.ESPEC is null and old.ESPEC is not null) or (new.ESPEC is not null and old.ESPEC is null)) then
 execute procedure insertlogitem(:indice,'ESPEC',old.ESPEC,new.ESPEC);
if ((new.ETNIA <> old.ETNIA) or (new.ETNIA is null and old.ETNIA is not null) or (new.ETNIA is not null and old.ETNIA is null)) then
 execute procedure insertlogitem(:indice,'ETNIA',old.ETNIA,new.ETNIA);
if ((new.FATORRH <> old.FATORRH) or (new.FATORRH is null and old.FATORRH is not null) or (new.FATORRH is not null and old.FATORRH is null)) then
 execute procedure insertlogitem(:indice,'FATORRH',old.FATORRH,new.FATORRH);
if ((new.FR1 <> old.FR1) or (new.FR1 is null and old.FR1 is not null) or (new.FR1 is not null and old.FR1 is null)) then
 execute procedure insertlogitem(:indice,'FR1',old.FR1,new.FR1);
if ((new.FR10 <> old.FR10) or (new.FR10 is null and old.FR10 is not null) or (new.FR10 is not null and old.FR10 is null)) then
 execute procedure insertlogitem(:indice,'FR10',old.FR10,new.FR10);
if ((new.FR11 <> old.FR11) or (new.FR11 is null and old.FR11 is not null) or (new.FR11 is not null and old.FR11 is null)) then
 execute procedure insertlogitem(:indice,'FR11',old.FR11,new.FR11);
if ((new.FR12 <> old.FR12) or (new.FR12 is null and old.FR12 is not null) or (new.FR12 is not null and old.FR12 is null)) then
 execute procedure insertlogitem(:indice,'FR12',old.FR12,new.FR12);
if ((new.FR13 <> old.FR13) or (new.FR13 is null and old.FR13 is not null) or (new.FR13 is not null and old.FR13 is null)) then
 execute procedure insertlogitem(:indice,'FR13',old.FR13,new.FR13);
if ((new.FR14 <> old.FR14) or (new.FR14 is null and old.FR14 is not null) or (new.FR14 is not null and old.FR14 is null)) then
 execute procedure insertlogitem(:indice,'FR14',old.FR14,new.FR14);
if ((new.FR15 <> old.FR15) or (new.FR15 is null and old.FR15 is not null) or (new.FR15 is not null and old.FR15 is null)) then
 execute procedure insertlogitem(:indice,'FR15',old.FR15,new.FR15);
if ((new.FR16 <> old.FR16) or (new.FR16 is null and old.FR16 is not null) or (new.FR16 is not null and old.FR16 is null)) then
 execute procedure insertlogitem(:indice,'FR16',old.FR16,new.FR16);
if ((new.FR2 <> old.FR2) or (new.FR2 is null and old.FR2 is not null) or (new.FR2 is not null and old.FR2 is null)) then
 execute procedure insertlogitem(:indice,'FR2',old.FR2,new.FR2);
if ((new.FR3 <> old.FR3) or (new.FR3 is null and old.FR3 is not null) or (new.FR3 is not null and old.FR3 is null)) then
 execute procedure insertlogitem(:indice,'FR3',old.FR3,new.FR3);
if ((new.FR4 <> old.FR4) or (new.FR4 is null and old.FR4 is not null) or (new.FR4 is not null and old.FR4 is null)) then
 execute procedure insertlogitem(:indice,'FR4',old.FR4,new.FR4);
if ((new.FR5 <> old.FR5) or (new.FR5 is null and old.FR5 is not null) or (new.FR5 is not null and old.FR5 is null)) then
 execute procedure insertlogitem(:indice,'FR5',old.FR5,new.FR5);
if ((new.FR6 <> old.FR6) or (new.FR6 is null and old.FR6 is not null) or (new.FR6 is not null and old.FR6 is null)) then
 execute procedure insertlogitem(:indice,'FR6',old.FR6,new.FR6);
if ((new.FR7 <> old.FR7) or (new.FR7 is null and old.FR7 is not null) or (new.FR7 is not null and old.FR7 is null)) then
 execute procedure insertlogitem(:indice,'FR7',old.FR7,new.FR7);
if ((new.FR8 <> old.FR8) or (new.FR8 is null and old.FR8 is not null) or (new.FR8 is not null and old.FR8 is null)) then
 execute procedure insertlogitem(:indice,'FR8',old.FR8,new.FR8);
if ((new.FR9 <> old.FR9) or (new.FR9 is null and old.FR9 is not null) or (new.FR9 is not null and old.FR9 is null)) then
 execute procedure insertlogitem(:indice,'FR9',old.FR9,new.FR9);
if ((new.GAVETA <> old.GAVETA) or (new.GAVETA is null and old.GAVETA is not null) or (new.GAVETA is not null and old.GAVETA is null)) then
 execute procedure insertlogitem(:indice,'GAVETA',old.GAVETA,new.GAVETA);
if ((new.GAVETA1 <> old.GAVETA1) or (new.GAVETA1 is null and old.GAVETA1 is not null) or (new.GAVETA1 is not null and old.GAVETA1 is null)) then
 execute procedure insertlogitem(:indice,'GAVETA1',old.GAVETA1,new.GAVETA1);
if ((new.IBR_BLOCK_NET <> old.IBR_BLOCK_NET) or (new.IBR_BLOCK_NET is null and old.IBR_BLOCK_NET is not null) or (new.IBR_BLOCK_NET is not null and old.IBR_BLOCK_NET is null)) then
 execute procedure insertlogitem(:indice,'IBR_BLOCK_NET',old.IBR_BLOCK_NET,new.IBR_BLOCK_NET);
if ((new.IBR_SENHA_NET <> old.IBR_SENHA_NET) or (new.IBR_SENHA_NET is null and old.IBR_SENHA_NET is not null) or (new.IBR_SENHA_NET is not null and old.IBR_SENHA_NET is null)) then
 execute procedure insertlogitem(:indice,'IBR_SENHA_NET',old.IBR_SENHA_NET,new.IBR_SENHA_NET);
if ((new.IDENTIDADE <> old.IDENTIDADE) or (new.IDENTIDADE is null and old.IDENTIDADE is not null) or (new.IDENTIDADE is not null and old.IDENTIDADE is null)) then
 execute procedure insertlogitem(:indice,'IDENTIDADE',old.IDENTIDADE,new.IDENTIDADE);
if ((new.IMH <> old.IMH) or (new.IMH is null and old.IMH is not null) or (new.IMH is not null and old.IMH is null)) then
 execute procedure insertlogitem(:indice,'IMH',old.IMH,new.IMH);
if ((new.IMPORTA <> old.IMPORTA) or (new.IMPORTA is null and old.IMPORTA is not null) or (new.IMPORTA is not null and old.IMPORTA is null)) then
 execute procedure insertlogitem(:indice,'IMPORTA',old.IMPORTA,new.IMPORTA);
if ((new.IMPORTADO <> old.IMPORTADO) or (new.IMPORTADO is null and old.IMPORTADO is not null) or (new.IMPORTADO is not null and old.IMPORTADO is null)) then
 execute procedure insertlogitem(:indice,'IMPORTADO',old.IMPORTADO,new.IMPORTADO);
if ((new.IMPRESSO <> old.IMPRESSO) or (new.IMPRESSO is null and old.IMPRESSO is not null) or (new.IMPRESSO is not null and old.IMPRESSO is null)) then
 execute procedure insertlogitem(:indice,'IMPRESSO',old.IMPRESSO,new.IMPRESSO);
if ((new.INIFUS <> old.INIFUS) or (new.INIFUS is null and old.INIFUS is not null) or (new.INIFUS is not null and old.INIFUS is null)) then
 execute procedure insertlogitem(:indice,'INIFUS',old.INIFUS,new.INIFUS);
if ((new.LIBERADOTEMP <> old.LIBERADOTEMP) or (new.LIBERADOTEMP is null and old.LIBERADOTEMP is not null) or (new.LIBERADOTEMP is not null and old.LIBERADOTEMP is null)) then
 execute procedure insertlogitem(:indice,'LIBERADOTEMP',old.LIBERADOTEMP,new.LIBERADOTEMP);
if ((new.MAE <> old.MAE) or (new.MAE is null and old.MAE is not null) or (new.MAE is not null and old.MAE is null)) then
 execute procedure insertlogitem(:indice,'MAE',old.MAE,new.MAE);
if ((new.MATRICULA <> old.MATRICULA) or (new.MATRICULA is null and old.MATRICULA is not null) or (new.MATRICULA is not null and old.MATRICULA is null)) then
 execute procedure insertlogitem(:indice,'MATRICULA',old.MATRICULA,new.MATRICULA);
if ((new.MAT_FIN <> old.MAT_FIN) or (new.MAT_FIN is null and old.MAT_FIN is not null) or (new.MAT_FIN is not null and old.MAT_FIN is null)) then
 execute procedure insertlogitem(:indice,'MAT_FIN',old.MAT_FIN,new.MAT_FIN);
if ((new.MICROAREA <> old.MICROAREA) or (new.MICROAREA is null and old.MICROAREA is not null) or (new.MICROAREA is not null and old.MICROAREA is null)) then
 execute procedure insertlogitem(:indice,'MICROAREA',old.MICROAREA,new.MICROAREA);
if ((new.NACIONALIDADE <> old.NACIONALIDADE) or (new.NACIONALIDADE is null and old.NACIONALIDADE is not null) or (new.NACIONALIDADE is not null and old.NACIONALIDADE is null)) then
 execute procedure insertlogitem(:indice,'NACIONALIDADE',old.NACIONALIDADE,new.NACIONALIDADE);
if ((new.NASC <> old.NASC) or (new.NASC is null and old.NASC is not null) or (new.NASC is not null and old.NASC is null)) then
 execute procedure insertlogitem(:indice,'NASC',old.NASC,new.NASC);
if ((new.NATURALIDADE <> old.NATURALIDADE) or (new.NATURALIDADE is null and old.NATURALIDADE is not null) or (new.NATURALIDADE is not null and old.NATURALIDADE is null)) then
 execute procedure insertlogitem(:indice,'NATURALIDADE',old.NATURALIDADE,new.NATURALIDADE);
if ((new.NIPTITULAR <> old.NIPTITULAR) or (new.NIPTITULAR is null and old.NIPTITULAR is not null) or (new.NIPTITULAR is not null and old.NIPTITULAR is null)) then
 execute procedure insertlogitem(:indice,'NIPTITULAR',old.NIPTITULAR,new.NIPTITULAR);
if ((new.NOMEFONETICO <> old.NOMEFONETICO) or (new.NOMEFONETICO is null and old.NOMEFONETICO is not null) or (new.NOMEFONETICO is not null and old.NOMEFONETICO is null)) then
 execute procedure insertlogitem(:indice,'NOMEFONETICO',old.NOMEFONETICO,new.NOMEFONETICO);
if ((new.NUMBOL <> old.NUMBOL) or (new.NUMBOL is null and old.NUMBOL is not null) or (new.NUMBOL is not null and old.NUMBOL is null)) then
 execute procedure insertlogitem(:indice,'NUMBOL',old.NUMBOL,new.NUMBOL);
if ((new.NUMERO <> old.NUMERO) or (new.NUMERO is null and old.NUMERO is not null) or (new.NUMERO is not null and old.NUMERO is null)) then
 execute procedure insertlogitem(:indice,'NUMERO',old.NUMERO,new.NUMERO);
if ((new.OBSERVACAO <> old.OBSERVACAO) or (new.OBSERVACAO is null and old.OBSERVACAO is not null) or (new.OBSERVACAO is not null and old.OBSERVACAO is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,new.OBSERVACAO);
if ((new.OBSERVACAOMED <> old.OBSERVACAOMED) or (new.OBSERVACAOMED is null and old.OBSERVACAOMED is not null) or (new.OBSERVACAOMED is not null and old.OBSERVACAOMED is null)) then
 execute procedure insertlogitem(:indice,'OBSERVACAOMED',old.OBSERVACAOMED,new.OBSERVACAOMED);
if ((new.OML <> old.OML) or (new.OML is null and old.OML is not null) or (new.OML is not null and old.OML is null)) then
 execute procedure insertlogitem(:indice,'OML',old.OML,new.OML);
if ((new.PAI <> old.PAI) or (new.PAI is null and old.PAI is not null) or (new.PAI is not null and old.PAI is null)) then
 execute procedure insertlogitem(:indice,'PAI',old.PAI,new.PAI);
if ((new.PARENTE <> old.PARENTE) or (new.PARENTE is null and old.PARENTE is not null) or (new.PARENTE is not null and old.PARENTE is null)) then
 execute procedure insertlogitem(:indice,'PARENTE',old.PARENTE,new.PARENTE);
if ((new.PLANO <> old.PLANO) or (new.PLANO is null and old.PLANO is not null) or (new.PLANO is not null and old.PLANO is null)) then
 execute procedure insertlogitem(:indice,'PLANO',old.PLANO,new.PLANO);
if ((new.POSTO <> old.POSTO) or (new.POSTO is null and old.POSTO is not null) or (new.POSTO is not null and old.POSTO is null)) then
 execute procedure insertlogitem(:indice,'POSTO',old.POSTO,new.POSTO);
if ((new.PREFERENCIA <> old.PREFERENCIA) or (new.PREFERENCIA is null and old.PREFERENCIA is not null) or (new.PREFERENCIA is not null and old.PREFERENCIA is null)) then
 execute procedure insertlogitem(:indice,'PREFERENCIA',old.PREFERENCIA,new.PREFERENCIA);
if ((new.PREVIDENCIA <> old.PREVIDENCIA) or (new.PREVIDENCIA is null and old.PREVIDENCIA is not null) or (new.PREVIDENCIA is not null and old.PREVIDENCIA is null)) then
 execute procedure insertlogitem(:indice,'PREVIDENCIA',old.PREVIDENCIA,new.PREVIDENCIA);
if ((new.PRODUTO <> old.PRODUTO) or (new.PRODUTO is null and old.PRODUTO is not null) or (new.PRODUTO is not null and old.PRODUTO is null)) then
 execute procedure insertlogitem(:indice,'PRODUTO',old.PRODUTO,new.PRODUTO);
if ((new.PRONTUARIO <> old.PRONTUARIO) or (new.PRONTUARIO is null and old.PRONTUARIO is not null) or (new.PRONTUARIO is not null and old.PRONTUARIO is null)) then
 execute procedure insertlogitem(:indice,'PRONTUARIO',old.PRONTUARIO,new.PRONTUARIO);
if ((new.QUADRADO <> old.QUADRADO) or (new.QUADRADO is null and old.QUADRADO is not null) or (new.QUADRADO is not null and old.QUADRADO is null)) then
 execute procedure insertlogitem(:indice,'QUADRADO',old.QUADRADO,new.QUADRADO);
if ((new.QUADRO <> old.QUADRO) or (new.QUADRO is null and old.QUADRO is not null) or (new.QUADRO is not null and old.QUADRO is null)) then
 execute procedure insertlogitem(:indice,'QUADRO',old.QUADRO,new.QUADRO);
if ((new.RGORGAO <> old.RGORGAO) or (new.RGORGAO is null and old.RGORGAO is not null) or (new.RGORGAO is not null and old.RGORGAO is null)) then
 execute procedure insertlogitem(:indice,'RGORGAO',old.RGORGAO,new.RGORGAO);
if ((new.RGUF <> old.RGUF) or (new.RGUF is null and old.RGUF is not null) or (new.RGUF is not null and old.RGUF is null)) then
 execute procedure insertlogitem(:indice,'RGUF',old.RGUF,new.RGUF);
if ((new.SANGUE <> old.SANGUE) or (new.SANGUE is null and old.SANGUE is not null) or (new.SANGUE is not null and old.SANGUE is null)) then
 execute procedure insertlogitem(:indice,'SANGUE',old.SANGUE,new.SANGUE);
if ((new.SEGURADO <> old.SEGURADO) or (new.SEGURADO is null and old.SEGURADO is not null) or (new.SEGURADO is not null and old.SEGURADO is null)) then
 execute procedure insertlogitem(:indice,'SEGURADO',old.SEGURADO,new.SEGURADO);
if ((new.SENHA <> old.SENHA) or (new.SENHA is null and old.SENHA is not null) or (new.SENHA is not null and old.SENHA is null)) then
 execute procedure insertlogitem(:indice,'SENHA',old.SENHA,new.SENHA);
if ((new.SEXO <> old.SEXO) or (new.SEXO is null and old.SEXO is not null) or (new.SEXO is not null and old.SEXO is null)) then
 execute procedure insertlogitem(:indice,'SEXO',old.SEXO,new.SEXO);
if ((new.SIAPE <> old.SIAPE) or (new.SIAPE is null and old.SIAPE is not null) or (new.SIAPE is not null and old.SIAPE is null)) then
 execute procedure insertlogitem(:indice,'SIAPE',old.SIAPE,new.SIAPE);
if ((new.SISPRENATAL <> old.SISPRENATAL) or (new.SISPRENATAL is null and old.SISPRENATAL is not null) or (new.SISPRENATAL is not null and old.SISPRENATAL is null)) then
 execute procedure insertlogitem(:indice,'SISPRENATAL',old.SISPRENATAL,new.SISPRENATAL);
if ((new.SITUACAO <> old.SITUACAO) or (new.SITUACAO is null and old.SITUACAO is not null) or (new.SITUACAO is not null and old.SITUACAO is null)) then
 execute procedure insertlogitem(:indice,'SITUACAO',old.SITUACAO,new.SITUACAO);
if ((new.SMS_MARCADO <> old.SMS_MARCADO) or (new.SMS_MARCADO is null and old.SMS_MARCADO is not null) or (new.SMS_MARCADO is not null and old.SMS_MARCADO is null)) then
 execute procedure insertlogitem(:indice,'SMS_MARCADO',old.SMS_MARCADO,new.SMS_MARCADO);
if ((new.SMS_RECEBI <> old.SMS_RECEBI) or (new.SMS_RECEBI is null and old.SMS_RECEBI is not null) or (new.SMS_RECEBI is not null and old.SMS_RECEBI is null)) then
 execute procedure insertlogitem(:indice,'SMS_RECEBI',old.SMS_RECEBI,new.SMS_RECEBI);
if ((new.SUS <> old.SUS) or (new.SUS is null and old.SUS is not null) or (new.SUS is not null and old.SUS is null)) then
 execute procedure insertlogitem(:indice,'SUS',old.SUS,new.SUS);
if ((new.TELEFONE <> old.TELEFONE) or (new.TELEFONE is null and old.TELEFONE is not null) or (new.TELEFONE is not null and old.TELEFONE is null)) then
 execute procedure insertlogitem(:indice,'TELEFONE',old.TELEFONE,new.TELEFONE);
if ((new.TELEFONE3 <> old.TELEFONE3) or (new.TELEFONE3 is null and old.TELEFONE3 is not null) or (new.TELEFONE3 is not null and old.TELEFONE3 is null)) then
 execute procedure insertlogitem(:indice,'TELEFONE3',old.TELEFONE3,new.TELEFONE3);
if ((new.TRABALHO <> old.TRABALHO) or (new.TRABALHO is null and old.TRABALHO is not null) or (new.TRABALHO is not null and old.TRABALHO is null)) then
 execute procedure insertlogitem(:indice,'TRABALHO',old.TRABALHO,new.TRABALHO);
if ((new.TRABALHO1 <> old.TRABALHO1) or (new.TRABALHO1 is null and old.TRABALHO1 is not null) or (new.TRABALHO1 is not null and old.TRABALHO1 is null)) then
 execute procedure insertlogitem(:indice,'TRABALHO1',old.TRABALHO1,new.TRABALHO1);
if ((new.UF <> old.UF) or (new.UF is null and old.UF is not null) or (new.UF is not null and old.UF is null)) then
 execute procedure insertlogitem(:indice,'UF',old.UF,new.UF);
if ((new.VALIDADE <> old.VALIDADE) or (new.VALIDADE is null and old.VALIDADE is not null) or (new.VALIDADE is not null and old.VALIDADE is null)) then
 execute procedure insertlogitem(:indice,'VALIDADE',old.VALIDADE,new.VALIDADE);
 end
 ^

CREATE TRIGGER "DEL_PACIENTE" FOR "PACIENTE" 
ACTIVE BEFORE DELETE POSITION 0
AS
BEGIN
   INSERT INTO X_PACIENTE (CODIGOPAC, A_NOME, ENDERECO, MATRICULA, IDENTIDADE, NASC, CONSULTA, TRABALHO, SEGURADO,
  GAVETA, GAVETA1, NATURALIDADE, PAI, MAE, CODIGO, A_CODIGO1, SEXO, A_CPF, CEP, BAIRRO, CIDADE,
  A_MEDICOS, UF, CIVIL, CADASTRADOEM, IMPRESSO, COR, CONVENIO, CODIGOANTIGO,
  TRABALHO1, EMAIL, SANGUE, FATORRH, OBSERVACAO, ATIVO, USER1, USER2, DATA1, DATA2) SELECT CODIGOPAC, A_NOME, ENDERECO, MATRICULA, IDENTIDADE, NASC, CONSULTA, TRABALHO, SEGURADO,
  GAVETA, GAVETA1, NATURALIDADE, PAI, MAE, CODIGO, A_CODIGO1, SEXO, A_CPF, CEP, BAIRRO, CIDADE,
  A_MEDICOS, UF, CIVIL, CADASTRADOEM, IMPRESSO, COR, CONVENIO, CODIGOANTIGO,
  TRABALHO1, EMAIL, SANGUE, FATORRH, OBSERVACAO, ATIVO, USER1, USER2, DATA1, DATA2 FROM PACIENTE WHERE CODIGOPAC = OLD.CODIGOPAC;
END
 ^

CREATE TRIGGER "TRGADLOG_PACIENTE" FOR "PACIENTE" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('PACIENTE',OLD.CODIGOPAC,'D') into :indice;
if (old.ANAMNESE is not null) then
 execute procedure insertlogitem(:indice,'ANAMNESE',old.ANAMNESE,null);
if (old.ANOBOL is not null) then
 execute procedure insertlogitem(:indice,'ANOBOL',old.ANOBOL,null);
if (old.AP is not null) then
 execute procedure insertlogitem(:indice,'AP',old.AP,null);
if (old.APELIDO is not null) then
 execute procedure insertlogitem(:indice,'APELIDO',old.APELIDO,null);
if (old.AREA is not null) then
 execute procedure insertlogitem(:indice,'AREA',old.AREA,null);
if (old.ATIVO is not null) then
 execute procedure insertlogitem(:indice,'ATIVO',old.ATIVO,null);
if (old.A_CODIGO1 is not null) then
 execute procedure insertlogitem(:indice,'A_CODIGO1',old.A_CODIGO1,null);
if (old.A_CPF is not null) then
 execute procedure insertlogitem(:indice,'A_CPF',old.A_CPF,null);
if (old.A_MEDICOS is not null) then
 execute procedure insertlogitem(:indice,'A_MEDICOS',old.A_MEDICOS,null);
if (old.A_NOME is not null) then
 execute procedure insertlogitem(:indice,'A_NOME',old.A_NOME,null);
if (old.BAIRRO is not null) then
 execute procedure insertlogitem(:indice,'BAIRRO',old.BAIRRO,null);
if (old.BOLSAFAMILIA is not null) then
 execute procedure insertlogitem(:indice,'BOLSAFAMILIA',old.BOLSAFAMILIA,null);
if (old.CADASTRADOEM is not null) then
 execute procedure insertlogitem(:indice,'CADASTRADOEM',old.CADASTRADOEM,null);
if (old.CARTAO is not null) then
 execute procedure insertlogitem(:indice,'CARTAO',old.CARTAO,null);
if (old.CELULAR is not null) then
 execute procedure insertlogitem(:indice,'CELULAR',old.CELULAR,null);
if (old.CEP is not null) then
 execute procedure insertlogitem(:indice,'CEP',old.CEP,null);
if (old.CERTIDAONASC is not null) then
 execute procedure insertlogitem(:indice,'CERTIDAONASC',old.CERTIDAONASC,null);
if (old.CIDADE is not null) then
 execute procedure insertlogitem(:indice,'CIDADE',old.CIDADE,null);
if (old.CIVIL is not null) then
 execute procedure insertlogitem(:indice,'CIVIL',old.CIVIL,null);
if (old.CODIGO is not null) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,null);
if (old.CODIGOANTIGO is not null) then
 execute procedure insertlogitem(:indice,'CODIGOANTIGO',old.CODIGOANTIGO,null);
if (old.CODIGOPAC is not null) then
 execute procedure insertlogitem(:indice,'CODIGOPAC',old.CODIGOPAC,null);
if (old.COD_LOGRADOURO is not null) then
 execute procedure insertlogitem(:indice,'COD_LOGRADOURO',old.COD_LOGRADOURO,null);
if (old.COMPLEMENTO is not null) then
 execute procedure insertlogitem(:indice,'COMPLEMENTO',old.COMPLEMENTO,null);
if (old.CONSULTA is not null) then
 execute procedure insertlogitem(:indice,'CONSULTA',old.CONSULTA,null);
if (old.CONVENIO is not null) then
 execute procedure insertlogitem(:indice,'CONVENIO',old.CONVENIO,null);
if (old.CONVPLANO is not null) then
 execute procedure insertlogitem(:indice,'CONVPLANO',old.CONVPLANO,null);
if (old.COR is not null) then
 execute procedure insertlogitem(:indice,'COR',old.COR,null);
if (old.CORPO is not null) then
 execute procedure insertlogitem(:indice,'CORPO',old.CORPO,null);
if (old.DATAEXPEDICAO is not null) then
 execute procedure insertlogitem(:indice,'DATAEXPEDICAO',old.DATAEXPEDICAO,null);
if (old.EMAIL is not null) then
 execute procedure insertlogitem(:indice,'EMAIL',old.EMAIL,null);
if (old.ENDERECO is not null) then
 execute procedure insertlogitem(:indice,'ENDERECO',old.ENDERECO,null);
if (old.ESCOLARIDADE is not null) then
 execute procedure insertlogitem(:indice,'ESCOLARIDADE',old.ESCOLARIDADE,null);
if (old.ESPEC is not null) then
 execute procedure insertlogitem(:indice,'ESPEC',old.ESPEC,null);
if (old.ETNIA is not null) then
 execute procedure insertlogitem(:indice,'ETNIA',old.ETNIA,null);
if (old.FATORRH is not null) then
 execute procedure insertlogitem(:indice,'FATORRH',old.FATORRH,null);
if (old.FR1 is not null) then
 execute procedure insertlogitem(:indice,'FR1',old.FR1,null);
if (old.FR10 is not null) then
 execute procedure insertlogitem(:indice,'FR10',old.FR10,null);
if (old.FR11 is not null) then
 execute procedure insertlogitem(:indice,'FR11',old.FR11,null);
if (old.FR12 is not null) then
 execute procedure insertlogitem(:indice,'FR12',old.FR12,null);
if (old.FR13 is not null) then
 execute procedure insertlogitem(:indice,'FR13',old.FR13,null);
if (old.FR14 is not null) then
 execute procedure insertlogitem(:indice,'FR14',old.FR14,null);
if (old.FR15 is not null) then
 execute procedure insertlogitem(:indice,'FR15',old.FR15,null);
if (old.FR16 is not null) then
 execute procedure insertlogitem(:indice,'FR16',old.FR16,null);
if (old.FR2 is not null) then
 execute procedure insertlogitem(:indice,'FR2',old.FR2,null);
if (old.FR3 is not null) then
 execute procedure insertlogitem(:indice,'FR3',old.FR3,null);
if (old.FR4 is not null) then
 execute procedure insertlogitem(:indice,'FR4',old.FR4,null);
if (old.FR5 is not null) then
 execute procedure insertlogitem(:indice,'FR5',old.FR5,null);
if (old.FR6 is not null) then
 execute procedure insertlogitem(:indice,'FR6',old.FR6,null);
if (old.FR7 is not null) then
 execute procedure insertlogitem(:indice,'FR7',old.FR7,null);
if (old.FR8 is not null) then
 execute procedure insertlogitem(:indice,'FR8',old.FR8,null);
if (old.FR9 is not null) then
 execute procedure insertlogitem(:indice,'FR9',old.FR9,null);
if (old.GAVETA is not null) then
 execute procedure insertlogitem(:indice,'GAVETA',old.GAVETA,null);
if (old.GAVETA1 is not null) then
 execute procedure insertlogitem(:indice,'GAVETA1',old.GAVETA1,null);
if (old.IBR_BLOCK_NET is not null) then
 execute procedure insertlogitem(:indice,'IBR_BLOCK_NET',old.IBR_BLOCK_NET,null);
if (old.IBR_SENHA_NET is not null) then
 execute procedure insertlogitem(:indice,'IBR_SENHA_NET',old.IBR_SENHA_NET,null);
if (old.IDENTIDADE is not null) then
 execute procedure insertlogitem(:indice,'IDENTIDADE',old.IDENTIDADE,null);
if (old.IMH is not null) then
 execute procedure insertlogitem(:indice,'IMH',old.IMH,null);
if (old.IMPORTA is not null) then
 execute procedure insertlogitem(:indice,'IMPORTA',old.IMPORTA,null);
if (old.IMPORTADO is not null) then
 execute procedure insertlogitem(:indice,'IMPORTADO',old.IMPORTADO,null);
if (old.IMPRESSO is not null) then
 execute procedure insertlogitem(:indice,'IMPRESSO',old.IMPRESSO,null);
if (old.INIFUS is not null) then
 execute procedure insertlogitem(:indice,'INIFUS',old.INIFUS,null);
if (old.LIBERADOTEMP is not null) then
 execute procedure insertlogitem(:indice,'LIBERADOTEMP',old.LIBERADOTEMP,null);
if (old.MAE is not null) then
 execute procedure insertlogitem(:indice,'MAE',old.MAE,null);
if (old.MATRICULA is not null) then
 execute procedure insertlogitem(:indice,'MATRICULA',old.MATRICULA,null);
if (old.MAT_FIN is not null) then
 execute procedure insertlogitem(:indice,'MAT_FIN',old.MAT_FIN,null);
if (old.MICROAREA is not null) then
 execute procedure insertlogitem(:indice,'MICROAREA',old.MICROAREA,null);
if (old.NACIONALIDADE is not null) then
 execute procedure insertlogitem(:indice,'NACIONALIDADE',old.NACIONALIDADE,null);
if (old.NASC is not null) then
 execute procedure insertlogitem(:indice,'NASC',old.NASC,null);
if (old.NATURALIDADE is not null) then
 execute procedure insertlogitem(:indice,'NATURALIDADE',old.NATURALIDADE,null);
if (old.NIPTITULAR is not null) then
 execute procedure insertlogitem(:indice,'NIPTITULAR',old.NIPTITULAR,null);
if (old.NOMEFONETICO is not null) then
 execute procedure insertlogitem(:indice,'NOMEFONETICO',old.NOMEFONETICO,null);
if (old.NUMBOL is not null) then
 execute procedure insertlogitem(:indice,'NUMBOL',old.NUMBOL,null);
if (old.NUMERO is not null) then
 execute procedure insertlogitem(:indice,'NUMERO',old.NUMERO,null);
if (old.OBSERVACAO is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAO',old.OBSERVACAO,null);
if (old.OBSERVACAOMED is not null) then
 execute procedure insertlogitem(:indice,'OBSERVACAOMED',old.OBSERVACAOMED,null);
if (old.OML is not null) then
 execute procedure insertlogitem(:indice,'OML',old.OML,null);
if (old.PAI is not null) then
 execute procedure insertlogitem(:indice,'PAI',old.PAI,null);
if (old.PARENTE is not null) then
 execute procedure insertlogitem(:indice,'PARENTE',old.PARENTE,null);
if (old.PLANO is not null) then
 execute procedure insertlogitem(:indice,'PLANO',old.PLANO,null);
if (old.POSTO is not null) then
 execute procedure insertlogitem(:indice,'POSTO',old.POSTO,null);
if (old.PREFERENCIA is not null) then
 execute procedure insertlogitem(:indice,'PREFERENCIA',old.PREFERENCIA,null);
if (old.PREVIDENCIA is not null) then
 execute procedure insertlogitem(:indice,'PREVIDENCIA',old.PREVIDENCIA,null);
if (old.PRODUTO is not null) then
 execute procedure insertlogitem(:indice,'PRODUTO',old.PRODUTO,null);
if (old.PRONTUARIO is not null) then
 execute procedure insertlogitem(:indice,'PRONTUARIO',old.PRONTUARIO,null);
if (old.QUADRADO is not null) then
 execute procedure insertlogitem(:indice,'QUADRADO',old.QUADRADO,null);
if (old.QUADRO is not null) then
 execute procedure insertlogitem(:indice,'QUADRO',old.QUADRO,null);
if (old.RGORGAO is not null) then
 execute procedure insertlogitem(:indice,'RGORGAO',old.RGORGAO,null);
if (old.RGUF is not null) then
 execute procedure insertlogitem(:indice,'RGUF',old.RGUF,null);
if (old.SANGUE is not null) then
 execute procedure insertlogitem(:indice,'SANGUE',old.SANGUE,null);
if (old.SEGURADO is not null) then
 execute procedure insertlogitem(:indice,'SEGURADO',old.SEGURADO,null);
if (old.SENHA is not null) then
 execute procedure insertlogitem(:indice,'SENHA',old.SENHA,null);
if (old.SEXO is not null) then
 execute procedure insertlogitem(:indice,'SEXO',old.SEXO,null);
if (old.SIAPE is not null) then
 execute procedure insertlogitem(:indice,'SIAPE',old.SIAPE,null);
if (old.SISPRENATAL is not null) then
 execute procedure insertlogitem(:indice,'SISPRENATAL',old.SISPRENATAL,null);
if (old.SITUACAO is not null) then
 execute procedure insertlogitem(:indice,'SITUACAO',old.SITUACAO,null);
if (old.SMS_MARCADO is not null) then
 execute procedure insertlogitem(:indice,'SMS_MARCADO',old.SMS_MARCADO,null);
if (old.SMS_RECEBI is not null) then
 execute procedure insertlogitem(:indice,'SMS_RECEBI',old.SMS_RECEBI,null);
if (old.SUS is not null) then
 execute procedure insertlogitem(:indice,'SUS',old.SUS,null);
if (old.TELEFONE is not null) then
 execute procedure insertlogitem(:indice,'TELEFONE',old.TELEFONE,null);
if (old.TELEFONE3 is not null) then
 execute procedure insertlogitem(:indice,'TELEFONE3',old.TELEFONE3,null);
if (old.TRABALHO is not null) then
 execute procedure insertlogitem(:indice,'TRABALHO',old.TRABALHO,null);
if (old.TRABALHO1 is not null) then
 execute procedure insertlogitem(:indice,'TRABALHO1',old.TRABALHO1,null);
if (old.UF is not null) then
 execute procedure insertlogitem(:indice,'UF',old.UF,null);
if (old.VALIDADE is not null) then
 execute procedure insertlogitem(:indice,'VALIDADE',old.VALIDADE,null);
 end
 ^

CREATE TRIGGER "INS_PACIENTECPR" FOR "PACIENTECPR" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_PACIENTECPR, 1 );
END
 ^

CREATE TRIGGER "INS_PACIENTEPROGGOV" FOR "PACIENTEPROGGOV" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_PACIENTEPROGGOV, 1 );
END
 ^

CREATE TRIGGER "INS_PACIENTESBLOQUEADOS" FOR "PACIENTESBLOQUEADOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pacientesbloqueados, 1 );
end
 ^

CREATE TRIGGER "INS_PACIENTESBLOQUEADOS2" FOR "PACIENTESBLOQUEADOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.DATA1 = 'NOW';
end
 ^

CREATE TRIGGER "UPDATE_PACIENTESBLOQUEADOS2" FOR "PACIENTESBLOQUEADOS" 
ACTIVE BEFORE UPDATE POSITION 0
as
begin
   new.DATA2 = 'NOW';
end
 ^

CREATE TRIGGER "SINC1_PACIENTE_ALARME" FOR "PACIENTE_ALARME" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.DATA = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACIENTE_ALARME" FOR "PACIENTE_ALARME" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.ID_PACIENTE_ALARME = gen_id( gen_PAC_ALARME, 1 );
end
 ^

CREATE TRIGGER "SINC2_PACIENTE_ALARME" FOR "PACIENTE_ALARME" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
    NEW.DATA = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACOTE1" FOR "PACOTE1" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.pacote = gen_id( gen_pacote1, 1 );
end
 ^

CREATE TRIGGER "SINC1_PACOTE1" FOR "PACOTE1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PACOTE1" FOR "PACOTE1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACOTE2" FOR "PACOTE2" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pacote2, 1 );
end
 ^

CREATE TRIGGER "SINC1_PACOTE2" FOR "PACOTE2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PACOTE2" FOR "PACOTE2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACOTE3" FOR "PACOTE3" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pacote3, 1 );
end
 ^

CREATE TRIGGER "SINC1_PACOTE3" FOR "PACOTE3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PACOTE3" FOR "PACOTE3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACOTE4" FOR "PACOTE4" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pacote4, 1 );
end
 ^

CREATE TRIGGER "SINC1_PACOTE4" FOR "PACOTE4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PACOTE4" FOR "PACOTE4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACOTE5" FOR "PACOTE5" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pacote5, 1 );
end
 ^

CREATE TRIGGER "SINC1_PACOTE5" FOR "PACOTE5" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PACOTE5" FOR "PACOTE5" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACOTE6" FOR "PACOTE6" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pacote6, 1 );
end
 ^

CREATE TRIGGER "TRGBI_PACOTEBARRA" FOR "PACOTEBARRA" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_PACOTEBARRA,1);
END
 ^

CREATE TRIGGER "TRGBI_PACOTEBARRAITEM" FOR "PACOTEBARRAITEM" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_PACOTEBARRAITEM,1);
END
 ^

CREATE TRIGGER "INS_PACOTEEXTRA" FOR "PACOTEEXTRA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_pctextra, 1 );
end
 ^

CREATE TRIGGER "INS_PACOTE_SUSBSTANCIA" FOR "PACOTE_SUSBSTANCIA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDPACOTE_SUSBSTANCIA = gen_id( GEN_PACOTE_SUBSTANCIA, 1 );
end
 ^

CREATE TRIGGER "INS_PACPLAN" FOR "PACPLAN" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.A_PACOTE = gen_id( gen_PACPLAN, 1 );
end
 ^

CREATE TRIGGER "SINC1_PACPLAN" FOR "PACPLAN" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PACPLAN" FOR "PACPLAN" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PACTUACAO" FOR "PACTUACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_PACTUACAO, 1 );
END
 ^

CREATE TRIGGER "TRGBI_PAINELCHAMADA" FOR "PAINELCHAMADA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_painelchamada,1);
  new.data1 = 'now';
end
 ^

CREATE TRIGGER "TRGBI_PASSAPLANTAO" FOR "PASSAPLANTAO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_PASSAPLANTAO, 1 );
end
 ^

CREATE TRIGGER "BIPASSAPLANTAO2_LEITOALA" FOR "PASSAPLANTAO2" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
declare variable vUN integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito, alas.unidadenegocio from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.cps order by data desc, hora desc
          into :vala, :vleito, vUN;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
       if (:vUN is not null) Then
          NEW.unidadenegocio = vUN;
END
 ^

CREATE TRIGGER "INS_PASSAPLANTAO2" FOR "PASSAPLANTAO2" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDPASSAPLANTAO2 = gen_id( gen_passaplantao2, 1 );
end
 ^

CREATE TRIGGER "BUPASSAPLANTAO2_LEITOALA" FOR "PASSAPLANTAO2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
declare variable vUN integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito, alas.unidadenegocio from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.cps order by data desc, hora desc
          into :vala, :vleito, vUN;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
       if (:vUN is not null) Then
          NEW.unidadenegocio = vUN;
END
 ^

CREATE TRIGGER "INS_PENDENCIAS" FOR "PENDENCIAS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.pendencia = gen_id( gen_pendencias, 1 );
end
 ^

CREATE TRIGGER "INS_PENDENCIAS_DETALHE" FOR "PENDENCIAS_DETALHE" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.pendencias_detalhe = gen_id( gen_pendencias_detalhe, 1 );
end
 ^

CREATE TRIGGER "INS_PENDENCIAS_TIPO" FOR "PENDENCIAS_TIPO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.pendencia_tipo = gen_id( gen_pendencias_tipo, 1 );
end
 ^

CREATE TRIGGER "INSPERFILA" FOR "PERFILA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILA, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILA" FOR "PERFILA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILA" FOR "PERFILA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPERFILAL" FOR "PERFILAL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILAL, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILAL" FOR "PERFILAL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILAL" FOR "PERFILAL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPERFILALL" FOR "PERFILALL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILALL, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILALL" FOR "PERFILALL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILALL" FOR "PERFILALL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPERFILAM" FOR "PERFILAM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILAM, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILAM" FOR "PERFILAM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILAM" FOR "PERFILAM" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPERFILAO" FOR "PERFILAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILAO, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILAO" FOR "PERFILAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILAO" FOR "PERFILAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPERFILAP" FOR "PERFILAP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILAP, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILAP" FOR "PERFILAP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILAP" FOR "PERFILAP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPERFILFO" FOR "PERFILFO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ACESSO = GEN_ID( GEN_PERFILFO, 1 );
END
 ^

CREATE TRIGGER "SINC1_PERFILFO" FOR "PERFILFO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PERFILFO" FOR "PERFILFO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
   NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PESOPAC" FOR "PESOPAC" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.IDPESOPAC = gen_id( GEN_PESOPAC, 1 );
end
 ^

CREATE TRIGGER "INSPLANO" FOR "PLANOSSAUDE" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.CodigoPla = gen_id( gen_Plano, 1 );
end
 ^

CREATE TRIGGER "SINC1_PLANOSSAUDE" FOR "PLANOSSAUDE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PLANOSSAUDE" FOR "PLANOSSAUDE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPLANSERV_ATUALIZACAO" FOR "PLANSERV_ATUALIZACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.idplanserv_atualizacao = GEN_ID( gen_planserv_atualizacao, 1 );
END
 ^

CREATE TRIGGER "GEN_PLANSERV_MAT" FOR "PLANSERV_MAT" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_PLANSERV_MAT, 1 );
END
 ^

CREATE TRIGGER "INS_PLANTOSOL" FOR "PLANTOSOIL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.IDPLANTOSOIL = GEN_ID( GEN_PLANTOSOL, 1 );
   NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BIPLANTOSOIL_ALALEITO" FOR "PLANTOSOIL" 
ACTIVE BEFORE INSERT POSITION 20
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "TRGBI_PLODONTO" FOR "PLODONTO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_PlOdonto, 1 );
end
 ^

CREATE TRIGGER "INS_PLODONTO_TRATMENTO" FOR "PLODONTO_TRATAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( GEN_PLODONTO_TRATMENTO, 1 );
end
 ^

CREATE TRIGGER "TRGBDEL_FATURAR" FOR "PLODONTO_TRATAMENTO" 
ACTIVE BEFORE DELETE POSITION 20
as
declare variable iddel integer;
begin
  Select indice from cps2 where codigoserv = old.codigoserv and codigocps2 = old.codigocps into :iddel;
  if (iddel > 0) Then
     delete from cps2 where indice = :iddel;
end
 ^

CREATE TRIGGER "TRIG_BI_PORTADOR" FOR "PORTADOR" 
ACTIVE BEFORE INSERT POSITION 10
as
begin
   new.indice = gen_id(gen_portador, 1);
end
 ^

CREATE TRIGGER "TRIG_BI_PORTADOR_CONF" FOR "PORTADOR_CONF" 
ACTIVE BEFORE INSERT POSITION 10
as
BEGIN
   NEW.INDICE = GEN_ID(GEN_PORTADOR_CONF,1);
END
 ^

CREATE TRIGGER "SINC1_PORTE" FOR "PORTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PORTE" FOR "PORTE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_POSSE" FOR "POSSE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_POSSE, 1 );
END
 ^

CREATE TRIGGER "INS_POSTO" FOR "POSTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_POSTO, 1 );
END
 ^

CREATE TRIGGER "INS_PRECOMEDICOCONV" FOR "PRECOMEDICOCONV" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_PRECOMEDICOCONV, 1 );
END
 ^

CREATE TRIGGER "PRECOS_BI" FOR "PRECOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_PRECOS, 1 );
END
 ^

CREATE TRIGGER "SINC1_PRECOS" FOR "PRECOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PRECOS" FOR "PRECOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_PRESCRICAOENF" FOR "PRESCRICAOENF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_PRESCRICAOENF, 1 );
END
 ^

CREATE TRIGGER "TRBI_PRESCRICAOIMPRESSO" FOR "PRESCRICAOIMPRESSO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_prescricaoimpresso,1);
end
 ^

CREATE TRIGGER "INS_PRESCRICAOMODELO" FOR "PRESCRICAOMODELO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_PRESCRICAOMODELO, 1 );
END
 ^

CREATE TRIGGER "TRGBI_PRESCSAE" FOR "PRESCSAE" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    NEW.IDPRESCSAE = GEN_ID( GEN_PRESCSAE, 1 );
end
 ^

CREATE TRIGGER "INS_PRESCSAE_CUIDADOS" FOR "PRESCSAE_CUIDADOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.IDPRESCSAE_CUIDADOS = GEN_ID( GEN_PRESCSAE_CUIDADOS, 1 );
END
 ^

CREATE TRIGGER "INS_PRESCSAE_MODELO" FOR "PRESCSAE_MODELO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDPRESCSAE_MODELO = gen_id( GEN_PENFNAVALMODELO, 1 );
end
 ^

CREATE TRIGGER "INSPREVISAO" FOR "PREVISAO_ALTA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.idprevisao = GEN_ID( gen_previsao_alta, 1 );
end
 ^

CREATE TRIGGER "INS_PRINCIPIO" FOR "PRINCIPIO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.A_PRINCIPIO = GEN_ID( Gen_PRINCIPIO, 1 );
end
 ^

CREATE TRIGGER "SINC1_PRINCIPIO" FOR "PRINCIPIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PRINCIPIO" FOR "PRINCIPIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BI_PROCEDIMENTO" FOR "PROCEDIMENTO" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.SEQUENCIA = GEN_ID( GEN_PROCEDIMENTO, 1 );
  NEW.DATAHORA_INC = 'NOW';
  NEW.DATAHORA_ALT = 'NOW';
END
 ^

CREATE TRIGGER "BI_PROCEDIMENTOCBOSUS" FOR "PROCEDIMENTO_CBOSUS" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.SEQUENCIA = GEN_ID( GEN_PROCEDIMENTOCBOSUS, 1 );
  if (NEW.cod_procedimento = 0)  then
    SELECT first 1 codigo from procedimento WHERE codproc = new.procedimento into NEW.cod_procedimento;
END
 ^

CREATE TRIGGER "TRGBI_PRODNPADRAO" FOR "PRODNPADRAO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.INDICE = GEN_ID( gen_prodnpadrao, 1 );
end
 ^

CREATE TRIGGER "INSPRODUS" FOR "PRODUS" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Indice = Gen_ID( Gen_Produs, 1 );
end
 ^

CREATE TRIGGER "SINC1_PRODUS" FOR "PRODUS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PRODUS" FOR "PRODUS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PRODUTOSTEMP" FOR "PRODUTOSTEMP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PRODUTOSTEMP" FOR "PRODUTOSTEMP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_PROFILATICOS" FOR "PROFILATICOS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_PROFILATICOS= GEN_ID( GEN_PROFILATICOS, 1 );
end
 ^

CREATE TRIGGER "INS_PROFISSAO" FOR "PROFISSAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_PROFISSAO, 1 );
END
 ^

CREATE TRIGGER "INS_PROGGOV" FOR "PROGGOVERNO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.CODIGO = GEN_ID( GEN_PROGGOVERNO, 1 );
END
 ^

CREATE TRIGGER "SINC1_PROGRAMAC" FOR "PROGRAMAC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMAC" FOR "PROGRAMAC" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMAS" FOR "PROGRAMAS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMAS" FOR "PROGRAMAS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASA" FOR "PROGRAMASA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASA" FOR "PROGRAMASA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "GEN_PROGRAMASAUDE" FOR "PROGRAMASAUDE" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.indice = GEN_ID( GEN_PROGRAMASAUDE, 1 );
end
 ^

CREATE TRIGGER "SINC1_PROGRAMASCONTABIL" FOR "PROGRAMASCONTABIL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASCONTABIL" FOR "PROGRAMASCONTABIL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DC_PROGRAMASCONTABIL" FOR "PROGRAMASCONTABIL" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN NEW.DATA2 = 'NOW'; END
 ^

CREATE TRIGGER "SINC1_PROGRAMASF" FOR "PROGRAMASF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASF" FOR "PROGRAMASF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASFF" FOR "PROGRAMASFF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASFF" FOR "PROGRAMASFF" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DC_PROGRAMASFF" FOR "PROGRAMASFF" 
ACTIVE BEFORE UPDATE POSITION 20
AS BEGIN NEW.DATA2 = 'NOW'; END
 ^

CREATE TRIGGER "SINC1_PROGRAMASI" FOR "PROGRAMASI" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASI" FOR "PROGRAMASI" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASL" FOR "PROGRAMASL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASL" FOR "PROGRAMASL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASLAB" FOR "PROGRAMASLAB" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASLAB" FOR "PROGRAMASLAB" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASO" FOR "PROGRAMASO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASO" FOR "PROGRAMASO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASP" FOR "PROGRAMASP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASP" FOR "PROGRAMASP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_PROGRAMASX" FOR "PROGRAMASX" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_PROGRAMASX" FOR "PROGRAMASX" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "BI_PROJETOCIRINS" FOR "PROJETOCIR" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
      new.IDPROJETOCIR = GEN_ID( GEN_PROJETOCIR, 1 );
END
 ^

CREATE TRIGGER "DELPROJETOCIR" FOR "PROJETOCIR" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  DELETE FROM PROJETOCIRFASE WHERE IDAPROJETOCIR = OLD.IDPROJETOCIR;
  DELETE FROM PROJETOFASEITENS WHERE IDPROJETOCIR = OLD.IDPROJETOCIR;
end
 ^

CREATE TRIGGER "BI_PROJETOCIRFASEINS" FOR "PROJETOCIRFASE" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
      new.IDPROJETOCIRFASE = GEN_ID( GEN_PROJETOCIRFASE, 1 );
END
 ^

CREATE TRIGGER "BI_PROJETOFASEITENSINS" FOR "PROJETOFASEITENS" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
      new.IDPROJETOFASEITENS = GEN_ID( GEN_PROJETOCIRFASEITENS, 1 );
END
 ^

CREATE TRIGGER "SINC1_PRORROGACAO" FOR "PRORROGACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSPRORROGACAO" FOR "PRORROGACAO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.numero = gen_id( gen_prorrogacao, 1 );
end
 ^

CREATE TRIGGER "SINC2_PRORROGACAO" FOR "PRORROGACAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_PROTESES" FOR "PROTESES" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_PROTESE = GEN_ID( GEN_PROTESES, 1 );
end
 ^

CREATE TRIGGER "INS_PROTOCOLO" FOR "PROTOCOLO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_PROTOCOLO, 1 );
END
 ^

CREATE TRIGGER "TRB_PROTODOCS" FOR "PROTODOCS" 
ACTIVE BEFORE INSERT POSITION 0
AS BEGIN
		NEW.indice = GEN_ID(GEN_PROTODOCS, 1);
	END
 ^

CREATE TRIGGER "INS_QUESTCHECK" FOR "QUESTCHECK" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.IDQUESTCHECK = GEN_ID( GEN_QUESTCHECK, 1 );
END
 ^

CREATE TRIGGER "INS_QUESTCHECKMARCAR" FOR "QUESTCHECKMARCAR" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.IDQUESTCHECKMARCAR = GEN_ID( Gen_QUESTCHECKMARCAR, 1 );
end
 ^

CREATE TRIGGER "INS_QUESTCHECKMARCARSINC" FOR "QUESTCHECKMARCAR" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.data = 'now';
end
 ^

CREATE TRIGGER "SINC1_QUESTIONARIO" FOR "QUESTIONARIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_QUESTIONARIO" FOR "QUESTIONARIO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_questionario,1);
end
 ^

CREATE TRIGGER "SINC2_QUESTIONARIO" FOR "QUESTIONARIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_RECEBIMENTO" FOR "RECEBIMENTO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.indice = gen_id( gen_recebimento, 1 );
end
 ^

CREATE TRIGGER "INS_USERRECEBIMENTO" FOR "RECEBIMENTO_USER" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.codigo = gen_id( GEN_UserRecebimento, 1 );
end
 ^

CREATE TRIGGER "SINC1_RECEITA" FOR "RECEITA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_RECEITA" FOR "RECEITA" 
ACTIVE BEFORE INSERT POSITION 0
AS BEGIN
NEW.CODIGO = gen_id(gen_receita,1);
END
 ^

CREATE TRIGGER "SINC2_RECEITA" FOR "RECEITA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_RECIBO" FOR "RECIBO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_RECIBO, 1 );
end
 ^

CREATE TRIGGER "TRIG_BU_REGRA_UN" FOR "REGRA_UNIDADE_NEGOCIO" 
ACTIVE BEFORE INSERT POSITION 10
as
BEGIN
   NEW.INDICE =GEN_ID(GEN_REGRA_UD, 1);
END
 ^

CREATE TRIGGER "INSRELALTA" FOR "RELALTA" 
ACTIVE BEFORE INSERT POSITION 0
as begin
     new.n_prontuari = gen_id(gen_relalta,1);
end
 ^

CREATE TRIGGER "SINC1_RELALTA" FOR "RELALTA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_RELALTA" FOR "RELALTA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_RELATORIO" FOR "RELATORIOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
     NEW.INDICE = GEN_ID( GEN_RELATORIO, 1 );
END
 ^

CREATE TRIGGER "SINC1_RELATORIOS" FOR "RELATORIOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_RELATORIOS" FOR "RELATORIOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "DELRELATORIOS" FOR "RELATORIOS" 
ACTIVE BEFORE DELETE POSITION 0
as
begin
  DELETE FROM RELATORIOS1 WHERE INDICE = OLD.INDICE;
end
 ^

CREATE TRIGGER "INS_RELATORIO1" FOR "RELATORIOS1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_RELATORIO1, 1 );
END
 ^

CREATE TRIGGER "SINC1_RELATORIOS1" FOR "RELATORIOS1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_RELATORIOS1" FOR "RELATORIOS1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_RELGLOSA" FOR "RELGLOSA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_RELGLOSA" FOR "RELGLOSA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.codigo = gen_id(gen_relglosa,1);
end
 ^

CREATE TRIGGER "SINC2_RELGLOSA" FOR "RELGLOSA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_DATASINC_REL_MED_ENDO" FOR "REL_MED_ENDO" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_REL_MED_ENDO" FOR "REL_MED_ENDO" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   new.indice = gen_id( gen_rel_med_endo, 1 );
END
 ^

CREATE TRIGGER "TRIG_BU_DATAMOD_REL_MED_ENDO" FOR "REL_MED_ENDO" 
ACTIVE BEFORE UPDATE POSITION 5
as
BEGIN
  NEW.DATAMOD = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_DATASINC_REL_MED_NUTRI" FOR "REL_MED_NUTRI" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_REL_MED_NUTRI" FOR "REL_MED_NUTRI" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   new.indice = gen_id( gen_rel_med_NUTRI, 1 );
END
 ^

CREATE TRIGGER "TRIG_BU_DATAMOD_REL_MED_NUTRI" FOR "REL_MED_NUTRI" 
ACTIVE BEFORE UPDATE POSITION 5
as
BEGIN
  NEW.DATAMOD = 'NOW';
END
 ^

CREATE TRIGGER "REL_REGULACAO_LEITOALA" FOR "REL_REGULACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "TBI_A_DATA_REL_REGULACAO" FOR "REL_REGULACAO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.a_data = current_timestamp;
end
 ^

CREATE TRIGGER "REGULACAO_BLOQ_ACESSO" FOR "REL_REGULACAO" 
ACTIVE BEFORE INSERT POSITION 20
as
DECLARE VARIABLE TIPOU VARCHAR(10);
begin
    select tipoconselho from USUARIOS U INNER JOIN MEDICOS M ON U.MEDICO = M.A_MEDICOS  where U.CODIGO = rdb$get_context('USER_SESSION', 'USUARIO') INTO :TIPOU;
    if (:TIPOU <> 'CRM') then
    begin
    --     exception  EXC_DINAMICA 'tipoc';
        if  ( rdb$get_context('USER_SESSION','TIPOPRESC') = 0) Then
             exception  EXC_DINAMICA 'Tipo de Usurio no autorizado (verificar login e CRM)';
    end
end
 ^

CREATE TRIGGER "TRGBI_CP_ATD" FOR "REL_REGULACAO" 
ACTIVE BEFORE INSERT POSITION 20
as begin
 IF ((rdb$get_context('USER_SESSION', 'SISTEMA') = 'SAPI') and
 (rdb$get_context('USER_SESSION', 'CONSELHO') = 'CRM') ) THEN
  BEGIN
      -- historia admissao
      if (exists(SELECT first 1 historia_admissao from evolucaoenf
      where codigocps = new.codigocps and historia_admissao is not null
      order by evolucao desc) )  then
      begin
           SELECT first 1 (select texto from RTF_CONVERT(historia_admissao)) from evolucaoenf
           where codigocps = new.codigocps and historia_admissao is not null
           order by evolucao desc into new.HISTORIA;
      end
      -- evolucao
      if (exists(SELECT first 1 CONTEUDO from evolucaoenf
      where codigocps = new.codigocps and CONTEUDO is not null
      order by evolucao desc) )  then
      begin
           SELECT first 1 (select texto from RTF_CONVERT(CONTEUDO)) from evolucaoenf
           where codigocps = new.codigocps and CONTEUDO is not null
           order by evolucao desc into new.evolucao;
      end
      -- exame fisico
      if (exists(SELECT first 1 PROBLEMAS from evolucaoenf
      where codigocps = new.codigocps and PROBLEMAS is not null
      order by evolucao desc) )  then
      begin
           SELECT first 1 (select texto from RTF_CONVERT(PROBLEMAS)) from evolucaoenf
           where codigocps = new.codigocps and PROBLEMAS is not null
           order by evolucao desc into new.examefisico;
      end
  END
end
 ^

CREATE TRIGGER "TRGBI_GEN_REL_REG" FOR "REL_REGULACAO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.NUMERO = GEN_ID( GEN_REL_REGULACAO, 1 );
end
 ^

CREATE TRIGGER "TBU_DATASINC_REL_REGULACAO" FOR "REL_REGULACAO" 
ACTIVE BEFORE UPDATE POSITION 0
as
begin
  new.datasinc = current_timestamp;
end
 ^

CREATE TRIGGER "INSREP1" FOR "REPRESENTA1" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = gen_id( gen_REPRESENTA1, 1 );
end
 ^

CREATE TRIGGER "SINC1_REPRESENTA1" FOR "REPRESENTA1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_REPRESENTA1" FOR "REPRESENTA1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSRESPIRADOR" FOR "RESPIRADOR" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.Codigo = GEN_ID( Gen_RESPIRADOR, 1 );
END
 ^

CREATE TRIGGER "INSRESULTEXAMES" FOR "RESULTEXAMES" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.indice = GEN_ID( Gen_ResultExames, 1 );
end
 ^

CREATE TRIGGER "TRGBI_RETORNO" FOR "RETORNO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.IDRETORNO = GEN_ID( gen_RETORNO, 1 );
end
 ^

CREATE TRIGGER "RISCOS_INS" FOR "RISCOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( gen_riscos, 1 );
end
 ^

CREATE TRIGGER "SINC1_RISCOS" FOR "RISCOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_RISCOS" FOR "RISCOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_ROLFPO" FOR "ROL_FPO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.INDICE = gen_id( gen_rolFpo, 1 );
end
 ^

CREATE TRIGGER "INS_ROUPARIADIA" FOR "ROUPARIADIA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDROUPARIADIA = gen_id( GEN_ROUPARIADIA, 1 );
end
 ^

CREATE TRIGGER "INS_ROUPARIA_PESO" FOR "ROUPARIA_PESO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDROUPARIA_PESO = gen_id( GEN_ROUPARIA_PESO, 1 );
end
 ^

CREATE TRIGGER "INSSALA" FOR "SALA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.sala = GEN_ID( Gen_Salas, 1 );
end
 ^

CREATE TRIGGER "SINC1_SALA" FOR "SALA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SALA" FOR "SALA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_SANGUE" FOR "SANGUE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SANGUE_BI" FOR "SANGUE" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
  NEW.CODIGO = GEN_ID( GEN_SANGUE, 1 );
END
 ^

CREATE TRIGGER "SINC2_SANGUE" FOR "SANGUE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_SAP" FOR "SAP" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_sap,1);
end
 ^

CREATE TRIGGER "TRGBI_SAPATENDIMENTO" FOR "SAPATENDIMENTO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_sapatendimento,1);
end
 ^

CREATE TRIGGER "TRGAILOG_SAPIBOTOES" FOR "SAPIBOTOES" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('SAPIBOTOES',NEW.TITULO,'I') into indice; end
 ^

CREATE TRIGGER "TRGAULOG_SAPIBOTOES" FOR "SAPIBOTOES" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('SAPIBOTOES',NEW.TITULO,'U') into :indice;
if ((new.COMANDO <> old.COMANDO) or (new.COMANDO is null and old.COMANDO is not null) or (new.COMANDO is not null and old.COMANDO is null)) then
 execute procedure insertlogitem(:indice,'COMANDO',old.COMANDO,new.COMANDO);
if ((new.GRUPO <> old.GRUPO) or (new.GRUPO is null and old.GRUPO is not null) or (new.GRUPO is not null and old.GRUPO is null)) then
 execute procedure insertlogitem(:indice,'GRUPO',old.GRUPO,new.GRUPO);
if ((new.IMAGEM <> old.IMAGEM) or (new.IMAGEM is null and old.IMAGEM is not null) or (new.IMAGEM is not null and old.IMAGEM is null)) then
 execute procedure insertlogitem(:indice,'IMAGEM',old.IMAGEM,new.IMAGEM);
if ((new.ORDEM <> old.ORDEM) or (new.ORDEM is null and old.ORDEM is not null) or (new.ORDEM is not null and old.ORDEM is null)) then
 execute procedure insertlogitem(:indice,'ORDEM',old.ORDEM,new.ORDEM);
if ((new.SQLCONSULTA <> old.SQLCONSULTA) or (new.SQLCONSULTA is null and old.SQLCONSULTA is not null) or (new.SQLCONSULTA is not null and old.SQLCONSULTA is null)) then
 execute procedure insertlogitem(:indice,'SQLCONSULTA',old.SQLCONSULTA,new.SQLCONSULTA);
if ((new.TITULO <> old.TITULO) or (new.TITULO is null and old.TITULO is not null) or (new.TITULO is not null and old.TITULO is null)) then
 execute procedure insertlogitem(:indice,'TITULO',old.TITULO,new.TITULO);
 end
 ^

CREATE TRIGGER "TRGADLOG_SAPIBOTOES" FOR "SAPIBOTOES" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('SAPIBOTOES',OLD.TITULO,'D') into :indice;
if (old.COMANDO is not null) then
 execute procedure insertlogitem(:indice,'COMANDO',old.COMANDO,null);
if (old.GRUPO is not null) then
 execute procedure insertlogitem(:indice,'GRUPO',old.GRUPO,null);
if (old.IMAGEM is not null) then
 execute procedure insertlogitem(:indice,'IMAGEM',old.IMAGEM,null);
if (old.ORDEM is not null) then
 execute procedure insertlogitem(:indice,'ORDEM',old.ORDEM,null);
if (old.SQLCONSULTA is not null) then
 execute procedure insertlogitem(:indice,'SQLCONSULTA',old.SQLCONSULTA,null);
if (old.TITULO is not null) then
 execute procedure insertlogitem(:indice,'TITULO',old.TITULO,null);
 end
 ^

CREATE TRIGGER "TRGBI_SAPITEM" FOR "SAPITEM" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  new.indice = gen_id(gen_sapitem,1);
end
 ^

CREATE TRIGGER "INS_SAPS3" FOR "SAPS3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID_SAPS3 = GEN_ID( GEN_ID_SAPS3, 1 );
END
 ^

CREATE TRIGGER "TRGBU_MUDARPACIENTESAPS3" FOR "SAPS3" 
ACTIVE BEFORE UPDATE POSITION 1
as begin
  if (new.codigocps <> old.codigocps) then
  exception EXC_TRAVAMUDAPACIENTEASSIST;
end
 ^

CREATE TRIGGER "SEPSE_LEITOALA_" FOR "SEPSE" 
ACTIVE BEFORE INSERT POSITION 0
AS
declare variable vala integer;
declare variable vleito integer;
BEGIN
    select first 1  alas.a_ala, leitos.leito from inter4
          inner join LEITOS on inter4.leito = leitos.leito  inner join alas on alas.a_ala = leitos.a_grupo
          where inter4.codigoint = new.codigocps order by data desc, hora desc
          into :vala, :vleito;
       if (:vala is not null) Then
              NEW.ALA = vala;
       if (:vleito is not null) Then
          NEW.LEITO = vleito;
END
 ^

CREATE TRIGGER "TBI_GEN_SEPSE" FOR "SEPSE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.numero = GEN_ID( GEN_SEPSE, 1 );
end
 ^

CREATE TRIGGER "TBI_SEPSE_DATA1" FOR "SEPSE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   new.data1 = 'now';
end
 ^

CREATE TRIGGER "TBU_SEPSE_DATASINC" FOR "SEPSE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
   new.datasinc = 'now';
end
 ^

CREATE TRIGGER "INS_SERVCONVENIO" FOR "SERVCONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_SERVCONVENIO, 1 );
END
 ^

CREATE TRIGGER "SINC1_SERVCONVENIO" FOR "SERVCONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SERVCONVENIO" FOR "SERVCONVENIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_SERVCORREIO" FOR "SERVCORREIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.IDSERVCORREIO = GEN_ID( GEN_SERVCORREIO, 1 );
END
 ^

CREATE TRIGGER "TRGBI_SERVCORREIO_MAT" FOR "SERVCORREIO_MAT" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
	NEW.IDSERVCORREIO_MAT = gen_id(GEN_SERVCORREIO_MAT, 1);
END
 ^

CREATE TRIGGER "INSSERVICO" FOR "SERVICOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  New.CodigoServ = gen_id( Gen_Servico, 1 );
end
 ^

CREATE TRIGGER "SINC1_SERVICOS" FOR "SERVICOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_BI_SERVICOS_SP" FOR "SERVICOS" 
ACTIVE BEFORE INSERT POSITION 5
as
BEGIN
   IF ( NEW.SP IS NULL ) THEN
        NEW.SP = 0;
END
 ^

CREATE TRIGGER "SINC2_SERVICOS" FOR "SERVICOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_SERVICOS3" FOR "SERVICOS3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SERVICOS3" FOR "SERVICOS3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_SERVICOS4" FOR "SERVICOS4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SERVICOS4" FOR "SERVICOS4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSSERVSOCIALA" FOR "SERVICOSOCIALACOMP" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.IDSERVICOSOCIALACOMP = gen_id( GEN_SERVICOSOCIALACOMP, 1 );
end
 ^

CREATE TRIGGER "INS_SERVICOS_CONFIG" FOR "SERVICOS_CONFIG" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.IDSERVICOS_CONFIG = GEN_ID( GEN_SERVICOS_CONFIG, 1 );
END
 ^

CREATE TRIGGER "INS_SERVIDOREMAIL" FOR "SERVIDOREMAIL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.INDICE = GEN_ID( GEN_SERVIDOREMAIL, 1 );
END
 ^

CREATE TRIGGER "INSSIMPRO" FOR "SIMPRO" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.SEQUENCIA = Gen_ID( Gen_SIMPRO, 1 );
end
 ^

CREATE TRIGGER "SINC1_SIMPRO" FOR "SIMPRO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SIMPRO" FOR "SIMPRO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_SIMPROANTIGO" FOR "SIMPROANTIGO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SIMPROANTIGO" FOR "SIMPROANTIGO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_BI_SIMPRO_LAYOUT2" FOR "SIMPRO_LAYOUT2" 
ACTIVE BEFORE INSERT POSITION 20
as begin
new.IDSIMPRO_LAYOUT2 = gen_id(gen_SIMPRO_LAYOUT2,1);
update matmed set tussbras = new.codigo_tuss where simpro = cast(new.codigo_usuario as integer) and (tussbras is null or tussbras = '') AND SIMPRO IS NOT NULL;
end
 ^

CREATE TRIGGER "SINC1_SITUACAO" FOR "SITUACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRIG_SITUACAO_1" FOR "SITUACAO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.INDICE = GEN_ID( Gen_SITUACAO, 1 );
end
 ^

CREATE TRIGGER "SINC2_SITUACAO" FOR "SITUACAO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_SMORADIA" FOR "SMORADIA" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_SMORADIA, 1 );
END
 ^

CREATE TRIGGER "TRG_BI_SMS" FOR "SMS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID(GEN_SMS, 1);
END
 ^

CREATE TRIGGER "TRGBI_SMSAGENDADOR" FOR "SMSAGENDADOR" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_smsagendador,1);
end
 ^

CREATE TRIGGER "TRGBI_SMSLISTA" FOR "SMSLISTA" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_smsLista,1);
  NEW.DATAINC = 'NOW';
  NEW.DATA = 'NOW';
    IF (NEW.TELEFONE LIKE '550%') THEN
        NEW.TELEFONE = '55' || SUBSTR(NEW.TELEFONE, 4,30);
   IF (NEW.TELEFONE LIKE '0%') THEN
        NEW.TELEFONE = SUBSTR(NEW.TELEFONE, 2,30);
end
 ^

CREATE TRIGGER "INSSOLICITAGUIA" FOR "SOLICITAGUIA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.NUMERO = gen_id( gen_SOLICITAGUIA, 1 );
end
 ^

CREATE TRIGGER "SINC1_SOLICITAGUIA" FOR "SOLICITAGUIA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SOLICITAGUIA" FOR "SOLICITAGUIA" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_SG2" FOR "SOLICITAGUIA2" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.Indice = gen_id( gen_sg_ins, 1 );
end
 ^

CREATE TRIGGER "SINC1_SOLICITAGUIA2" FOR "SOLICITAGUIA2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_SOLICITAGUIA2" FOR "SOLICITAGUIA2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_SOLICITAGUIAM" FOR "SOLICITAGUIAMM" 
ACTIVE BEFORE INSERT POSITION 20
as begin
  new.indice = gen_id(gen_solicitaguiamm,1);
end
 ^

CREATE TRIGGER "INS_SOLICITANTE" FOR "SOLICITANTE" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.indice = gen_id( gen_solicitante, 1 );
end
 ^

CREATE TRIGGER "TRGBI_SUBGRUPOSUS" FOR "SUBGRUPOSUS" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.SEQUENCIA = gen_id(gen_SUBGRUPOSUS,1);
end
 ^

CREATE TRIGGER "TRGBI_SUBST_ALERG" FOR "SUBSTANCIAS_ALERGIA" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.ID_SUBSTANCIAS_ALERGIA = GEN_ID( GEN_SUBSTANCIAS_ALERGIA, 1 );
end
 ^

CREATE TRIGGER "INSTABELA" FOR "TABELA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
  NEW.INDICE = GEN_ID( GEN_TABELA, 1 );
END
 ^

CREATE TRIGGER "INSTABELAHON" FOR "TABELAHON" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.numero = GEN_ID( Gen_tabelahon, 1 );
end
 ^

CREATE TRIGGER "SINC1_TABELAHON" FOR "TABELAHON" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TABELAHON" FOR "TABELAHON" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_TABELASUS" FOR "TABELASUS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TABELASUS" FOR "TABELASUS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_TABHONREL" FOR "TABHONREL" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_TABHONREL" FOR "TABHONREL" 
ACTIVE BEFORE INSERT POSITION 20
as begin
   new.codigo = gen_id(gen_tabhonrel,1);
end
 ^

CREATE TRIGGER "SINC2_TABHONREL" FOR "TABHONREL" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_TB_CHECK" FOR "TB_CHECK" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CHECK, 1);
END
 ^

CREATE TRIGGER "INS_TB_CHECK_HOSP" FOR "TB_CHECK_HOSP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CHECK_HOSP, 1);
END
 ^

CREATE TRIGGER "INS_TB_CHECK_LIST" FOR "TB_CHECK_LIST" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CHECK_LIST, 1);
END
 ^

CREATE TRIGGER "INS_TB_CHECK_LIST_HOSP" FOR "TB_CHECK_LIST_HOSP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CHECK_LIST_HOSP, 1);
END
 ^

CREATE TRIGGER "INS_TB_CHECK_LIST_MOT_COBR" FOR "TB_CHECK_LIST_MOT_COBR" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CHECK_LIST_MOT_COBR, 1);
END
 ^

CREATE TRIGGER "INS_TB_CHECK_MOT_COBR" FOR "TB_CHECK_MOT_COBR" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CHECK_MOT_COBR, 1);
END
 ^

CREATE TRIGGER "INS_TB_CID_PROC" FOR "TB_CID_PROC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CID_PROC, 1);
END
 ^

CREATE TRIGGER "INS_TB_CLINICA" FOR "TB_CLINICA" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_CLINICA, 1);
END
 ^

CREATE TRIGGER "INS_TB_EQUIPE" FOR "TB_EQUIPE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_EQUIPE, 1);
END
 ^

CREATE TRIGGER "INS_TB_EXCEC_COMP" FOR "TB_EXCEC_COMP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_EXCEC_COMP, 1);
END
 ^

CREATE TRIGGER "INS_TB_FINANCIAMENTO" FOR "TB_FINANCIAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_FINANCIAMENTO, 1);
END
 ^

CREATE TRIGGER "INS_TB_FO" FOR "TB_FO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_FO, 1);
END
 ^

CREATE TRIGGER "INS_TB_GRUPO" FOR "TB_GRUPO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_GRUPO, 1);
END
 ^

CREATE TRIGGER "INS_TB_HABILITACAO" FOR "TB_HABILITACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_HABILITACAO, 1);
END
 ^

CREATE TRIGGER "INS_TB_MENSAGEM" FOR "TB_MENSAGEM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_MENSAGEM, 1);
END
 ^

CREATE TRIGGER "INS_TB_MODALIDADE" FOR "TB_MODALIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_MODALIDADE, 1);
END
 ^

CREATE TRIGGER "INS_TB_MOT_COBR" FOR "TB_MOT_COBR" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_MOT_COBR, 1);
END
 ^

CREATE TRIGGER "INS_TB_PROC" FOR "TB_PROC" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_PROC, 1);
END
 ^

CREATE TRIGGER "INS_TB_PROC_CBO" FOR "TB_PROC_CBO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_PROC_CBO, 1);
END
 ^

CREATE TRIGGER "INS_TB_PROC_COMP" FOR "TB_PROC_COMP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INDICE = GEN_ID( GEN_TB_PROC_COMP, 1);
END
 ^

CREATE TRIGGER "INSTECNICO" FOR "TECNICOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.A_TECNICO = GEN_ID( GEN_TECNICO, 1 );
END
 ^

CREATE TRIGGER "SINC1_TECNICOS" FOR "TECNICOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TECNICOS" FOR "TECNICOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_TEMP" FOR "TEMP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TEMP" FOR "TEMP" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_TIPO" FOR "TIPO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TIPO" FOR "TIPO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRBI_TIPOPROGRAMASAUDE" FOR "TIPOPROGRAMASAUDE" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.TIPOPROGRAMASAUDE = GEN_ID( TIPOPROGRAMASAUDE, 1 );
end
 ^

CREATE TRIGGER "INS_TISS11" FOR "TISS11" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS11, 1 );
END
 ^

CREATE TRIGGER "INS_TISS110" FOR "TISS110" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS110, 1 );
END
 ^

CREATE TRIGGER "INS_TISS111" FOR "TISS111" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS111, 1 );
END
 ^

CREATE TRIGGER "INS_TISS112" FOR "TISS112" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS112, 1 );
END
 ^

CREATE TRIGGER "INS_TISS113" FOR "TISS113" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS113, 1 );
END
 ^

CREATE TRIGGER "INS_TISS114" FOR "TISS114" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS114, 1 );
END
 ^

CREATE TRIGGER "INS_TISS115" FOR "TISS115" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS115, 1 );
END
 ^

CREATE TRIGGER "INS_TISS116" FOR "TISS116" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS116, 1 );
END
 ^

CREATE TRIGGER "INS_TISS117" FOR "TISS117" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS117, 1 );
END
 ^

CREATE TRIGGER "INS_TISS118" FOR "TISS118" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS118, 1 );
END
 ^

CREATE TRIGGER "INS_TISS119" FOR "TISS119" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS119, 1 );
END
 ^

CREATE TRIGGER "INS_TISS12" FOR "TISS12" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS12, 1 );
END
 ^

CREATE TRIGGER "INS_TISS120" FOR "TISS120" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS120, 1 );
END
 ^

CREATE TRIGGER "INS_TISS121" FOR "TISS121" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS121, 1 );
END
 ^

CREATE TRIGGER "INS_TISS122" FOR "TISS122" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS122, 1 );
END
 ^

CREATE TRIGGER "INS_TISS123" FOR "TISS123" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS123, 1 );
END
 ^

CREATE TRIGGER "INS_TISS124" FOR "TISS124" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS124, 1 );
END
 ^

CREATE TRIGGER "INS_TISS125" FOR "TISS125" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS125, 1 );
END
 ^

CREATE TRIGGER "INS_TISS126" FOR "TISS126" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS126, 1 );
END
 ^

CREATE TRIGGER "INS_TISS13" FOR "TISS13" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS13, 1 );
END
 ^

CREATE TRIGGER "INS_TISS14" FOR "TISS14" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS14, 1 );
END
 ^

CREATE TRIGGER "INS_TISS15" FOR "TISS15" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS15, 1 );
END
 ^

CREATE TRIGGER "INS_TISS16" FOR "TISS16" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS16, 1 );
END
 ^

CREATE TRIGGER "INS_TISS17" FOR "TISS17" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS17, 1 );
END
 ^

CREATE TRIGGER "INS_TISS18" FOR "TISS18" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS18, 1 );
END
 ^

CREATE TRIGGER "INS_TISS19" FOR "TISS19" 
ACTIVE BEFORE INSERT POSITION 20
AS
BEGIN
    NEW.SEQUENCIA = GEN_ID( GEN_TISS19, 1 );
END
 ^

CREATE TRIGGER "TRGBI_TISSDOMINIO" FOR "TISSDOMINIO" 
ACTIVE BEFORE INSERT POSITION 20
as
BEGIN
  NEW.INDICE = GEN_ID(GEN_TISSDOMINIO,1);
  if (new.versao is null) then
  NEW.VERSAO = '3.02.00';
END
 ^

CREATE TRIGGER "TRGAILOG_TISSDOMINIOSAPI" FOR "TISSDOMINIOSAPI" 
ACTIVE AFTER INSERT POSITION 200
as declare variable indice varchar(50); begin select indice from INSERTlog('TISSDOMINIOSAPI',NEW.TIPO,'I') into indice; end
 ^

CREATE TRIGGER "TRGAULOG_TISSDOMINIOSAPI" FOR "TISSDOMINIOSAPI" 
ACTIVE AFTER UPDATE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('TISSDOMINIOSAPI',NEW.TIPO,'U') into :indice;
if ((new.ANVISA <> old.ANVISA) or (new.ANVISA is null and old.ANVISA is not null) or (new.ANVISA is not null and old.ANVISA is null)) then
 execute procedure insertlogitem(:indice,'ANVISA',old.ANVISA,new.ANVISA);
if ((new.APRESENTACAO <> old.APRESENTACAO) or (new.APRESENTACAO is null and old.APRESENTACAO is not null) or (new.APRESENTACAO is not null and old.APRESENTACAO is null)) then
 execute procedure insertlogitem(:indice,'APRESENTACAO',old.APRESENTACAO,new.APRESENTACAO);
if ((new.CAMPOAUX01 <> old.CAMPOAUX01) or (new.CAMPOAUX01 is null and old.CAMPOAUX01 is not null) or (new.CAMPOAUX01 is not null and old.CAMPOAUX01 is null)) then
 execute procedure insertlogitem(:indice,'CAMPOAUX01',old.CAMPOAUX01,new.CAMPOAUX01);
if ((new.CAMPOAUX02 <> old.CAMPOAUX02) or (new.CAMPOAUX02 is null and old.CAMPOAUX02 is not null) or (new.CAMPOAUX02 is not null and old.CAMPOAUX02 is null)) then
 execute procedure insertlogitem(:indice,'CAMPOAUX02',old.CAMPOAUX02,new.CAMPOAUX02);
if ((new.CLASSE_RISCO <> old.CLASSE_RISCO) or (new.CLASSE_RISCO is null and old.CLASSE_RISCO is not null) or (new.CLASSE_RISCO is not null and old.CLASSE_RISCO is null)) then
 execute procedure insertlogitem(:indice,'CLASSE_RISCO',old.CLASSE_RISCO,new.CLASSE_RISCO);
if ((new.CODIGO <> old.CODIGO) or (new.CODIGO is null and old.CODIGO is not null) or (new.CODIGO is not null and old.CODIGO is null)) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,new.CODIGO);
if ((new.DESCRICAO <> old.DESCRICAO) or (new.DESCRICAO is null and old.DESCRICAO is not null) or (new.DESCRICAO is not null and old.DESCRICAO is null)) then
 execute procedure insertlogitem(:indice,'DESCRICAO',old.DESCRICAO,new.DESCRICAO);
if ((new.DESCRICAOORIGINAL <> old.DESCRICAOORIGINAL) or (new.DESCRICAOORIGINAL is null and old.DESCRICAOORIGINAL is not null) or (new.DESCRICAOORIGINAL is not null and old.DESCRICAOORIGINAL is null)) then
 execute procedure insertlogitem(:indice,'DESCRICAOORIGINAL',old.DESCRICAOORIGINAL,new.DESCRICAOORIGINAL);
if ((new.DESCRICAO_DETALHADA <> old.DESCRICAO_DETALHADA) or (new.DESCRICAO_DETALHADA is null and old.DESCRICAO_DETALHADA is not null) or (new.DESCRICAO_DETALHADA is not null and old.DESCRICAO_DETALHADA is null)) then
 execute procedure insertlogitem(:indice,'DESCRICAO_DETALHADA',old.DESCRICAO_DETALHADA,new.DESCRICAO_DETALHADA);
if ((new.FABRICANTE <> old.FABRICANTE) or (new.FABRICANTE is null and old.FABRICANTE is not null) or (new.FABRICANTE is not null and old.FABRICANTE is null)) then
 execute procedure insertlogitem(:indice,'FABRICANTE',old.FABRICANTE,new.FABRICANTE);
if ((new.FIMIMPLANTACAO <> old.FIMIMPLANTACAO) or (new.FIMIMPLANTACAO is null and old.FIMIMPLANTACAO is not null) or (new.FIMIMPLANTACAO is not null and old.FIMIMPLANTACAO is null)) then
 execute procedure insertlogitem(:indice,'FIMIMPLANTACAO',old.FIMIMPLANTACAO,new.FIMIMPLANTACAO);
if ((new.FIMVIGENCIA <> old.FIMVIGENCIA) or (new.FIMVIGENCIA is null and old.FIMVIGENCIA is not null) or (new.FIMVIGENCIA is not null and old.FIMVIGENCIA is null)) then
 execute procedure insertlogitem(:indice,'FIMVIGENCIA',old.FIMVIGENCIA,new.FIMVIGENCIA);
if ((new.FORMA_ENVIO <> old.FORMA_ENVIO) or (new.FORMA_ENVIO is null and old.FORMA_ENVIO is not null) or (new.FORMA_ENVIO is not null and old.FORMA_ENVIO is null)) then
 execute procedure insertlogitem(:indice,'FORMA_ENVIO',old.FORMA_ENVIO,new.FORMA_ENVIO);
if ((new.GRUPO <> old.GRUPO) or (new.GRUPO is null and old.GRUPO is not null) or (new.GRUPO is not null and old.GRUPO is null)) then
 execute procedure insertlogitem(:indice,'GRUPO',old.GRUPO,new.GRUPO);
if ((new.INDICE <> old.INDICE) or (new.INDICE is null and old.INDICE is not null) or (new.INDICE is not null and old.INDICE is null)) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,new.INDICE);
if ((new.INICIOVIGENCIA <> old.INICIOVIGENCIA) or (new.INICIOVIGENCIA is null and old.INICIOVIGENCIA is not null) or (new.INICIOVIGENCIA is not null and old.INICIOVIGENCIA is null)) then
 execute procedure insertlogitem(:indice,'INICIOVIGENCIA',old.INICIOVIGENCIA,new.INICIOVIGENCIA);
if ((new.LABORATORIO <> old.LABORATORIO) or (new.LABORATORIO is null and old.LABORATORIO is not null) or (new.LABORATORIO is not null and old.LABORATORIO is null)) then
 execute procedure insertlogitem(:indice,'LABORATORIO',old.LABORATORIO,new.LABORATORIO);
if ((new.REF_FABRICANTE <> old.REF_FABRICANTE) or (new.REF_FABRICANTE is null and old.REF_FABRICANTE is not null) or (new.REF_FABRICANTE is not null and old.REF_FABRICANTE is null)) then
 execute procedure insertlogitem(:indice,'REF_FABRICANTE',old.REF_FABRICANTE,new.REF_FABRICANTE);
if ((new.TERMINOLOGIA <> old.TERMINOLOGIA) or (new.TERMINOLOGIA is null and old.TERMINOLOGIA is not null) or (new.TERMINOLOGIA is not null and old.TERMINOLOGIA is null)) then
 execute procedure insertlogitem(:indice,'TERMINOLOGIA',old.TERMINOLOGIA,new.TERMINOLOGIA);
if ((new.TIPO <> old.TIPO) or (new.TIPO is null and old.TIPO is not null) or (new.TIPO is not null and old.TIPO is null)) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,new.TIPO);
 end
 ^

CREATE TRIGGER "TRGADLOG_TISSDOMINIOSAPI" FOR "TISSDOMINIOSAPI" 
ACTIVE AFTER DELETE POSITION 200
as
 declare variable indice varchar(50);
 begin
select indice from insertlog('TISSDOMINIOSAPI',OLD.TIPO,'D') into :indice;
if (old.ANVISA is not null) then
 execute procedure insertlogitem(:indice,'ANVISA',old.ANVISA,null);
if (old.APRESENTACAO is not null) then
 execute procedure insertlogitem(:indice,'APRESENTACAO',old.APRESENTACAO,null);
if (old.CAMPOAUX01 is not null) then
 execute procedure insertlogitem(:indice,'CAMPOAUX01',old.CAMPOAUX01,null);
if (old.CAMPOAUX02 is not null) then
 execute procedure insertlogitem(:indice,'CAMPOAUX02',old.CAMPOAUX02,null);
if (old.CLASSE_RISCO is not null) then
 execute procedure insertlogitem(:indice,'CLASSE_RISCO',old.CLASSE_RISCO,null);
if (old.CODIGO is not null) then
 execute procedure insertlogitem(:indice,'CODIGO',old.CODIGO,null);
if (old.DESCRICAO is not null) then
 execute procedure insertlogitem(:indice,'DESCRICAO',old.DESCRICAO,null);
if (old.DESCRICAOORIGINAL is not null) then
 execute procedure insertlogitem(:indice,'DESCRICAOORIGINAL',old.DESCRICAOORIGINAL,null);
if (old.DESCRICAO_DETALHADA is not null) then
 execute procedure insertlogitem(:indice,'DESCRICAO_DETALHADA',old.DESCRICAO_DETALHADA,null);
if (old.FABRICANTE is not null) then
 execute procedure insertlogitem(:indice,'FABRICANTE',old.FABRICANTE,null);
if (old.FIMIMPLANTACAO is not null) then
 execute procedure insertlogitem(:indice,'FIMIMPLANTACAO',old.FIMIMPLANTACAO,null);
if (old.FIMVIGENCIA is not null) then
 execute procedure insertlogitem(:indice,'FIMVIGENCIA',old.FIMVIGENCIA,null);
if (old.FORMA_ENVIO is not null) then
 execute procedure insertlogitem(:indice,'FORMA_ENVIO',old.FORMA_ENVIO,null);
if (old.GRUPO is not null) then
 execute procedure insertlogitem(:indice,'GRUPO',old.GRUPO,null);
if (old.INDICE is not null) then
 execute procedure insertlogitem(:indice,'INDICE',old.INDICE,null);
if (old.INICIOVIGENCIA is not null) then
 execute procedure insertlogitem(:indice,'INICIOVIGENCIA',old.INICIOVIGENCIA,null);
if (old.LABORATORIO is not null) then
 execute procedure insertlogitem(:indice,'LABORATORIO',old.LABORATORIO,null);
if (old.REF_FABRICANTE is not null) then
 execute procedure insertlogitem(:indice,'REF_FABRICANTE',old.REF_FABRICANTE,null);
if (old.TERMINOLOGIA is not null) then
 execute procedure insertlogitem(:indice,'TERMINOLOGIA',old.TERMINOLOGIA,null);
if (old.TIPO is not null) then
 execute procedure insertlogitem(:indice,'TIPO',old.TIPO,null);
 end
 ^

CREATE TRIGGER "INS_TRANSFEVOL" FOR "TRANSFEVOLUCAO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.IDTRANSFEVOLUCAO = gen_id( gen_TRANSFEVOLUCAO, 1 );
end
 ^

CREATE TRIGGER "INSTRATAMENTO" FOR "TRATAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
     New.TRATAMENTO = gen_id( gen_TRATAMENTO, 1 );
end
 ^

CREATE TRIGGER "SINC1_TRATAMENTO" FOR "TRATAMENTO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TRATAMENTO" FOR "TRATAMENTO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_TRATAMENTO2" FOR "TRATAMENTO2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSTRATAMENTO2" FOR "TRATAMENTO2" 
ACTIVE BEFORE INSERT POSITION 20
AS
begin
     New.CODIGO = gen_id( gen_TRATAMENTO2, 1 );
end
 ^

CREATE TRIGGER "SINC2_TRATAMENTO2" FOR "TRATAMENTO2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_TRATAMENTO3" FOR "TRATAMENTO3" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( GEN_TRATAMENTO3, 1 );
end
 ^

CREATE TRIGGER "SINC1_TRATAMENTO3" FOR "TRATAMENTO3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TRATAMENTO3" FOR "TRATAMENTO3" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_TRATAMENTO4" FOR "TRATAMENTO4" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.indice = gen_id( GEN_TRATAMENTO4, 1 );
end
 ^

CREATE TRIGGER "SINC1_TRATAMENTO4" FOR "TRATAMENTO4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_TRATAMENTO4" FOR "TRATAMENTO4" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_TRAVAFATURAMENTO" FOR "TRAVAFATURAMENTO" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_TRAVAFATURAMENTO,1);
END
 ^

CREATE TRIGGER "TRGBI_TRIAGEM" FOR "TRIAGEM" 
ACTIVE BEFORE INSERT POSITION 20
AS BEGIN
  NEW.INDICE = GEN_ID(GEN_TRIAGEM,1);
END
 ^

CREATE TRIGGER "TRBI_TUSSANVISA" FOR "TUSSANVISA" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.INDICE = gen_id( gen_TUSSANVISA, 1 );
end
 ^

CREATE TRIGGER "SINC1_UNIDADE" FOR "UNIDADE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_UNIDADE" FOR "UNIDADE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_UNIDADENEGOCIO" FOR "UNIDADENEGOCIO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_UNIDADENEGOCIO" FOR "UNIDADENEGOCIO" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INS_USUARIOCONFIG" FOR "USUARIOCONFIG" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
  new.INDICE = GEN_ID( GEN_USUARIOCONFIG, 1 );
end
 ^

CREATE TRIGGER "SINC1_USUARIOCONFIG" FOR "USUARIOCONFIG" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
     NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_USUARIOCONFIG" FOR "USUARIOCONFIG" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSUSUARIO" FOR "USUARIOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.CODIGO = GEN_ID( GEN_USUARIO, 1 );
END
 ^

CREATE TRIGGER "INS_USUARIO" FOR "USUARIOS" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
   new.HTML = '';
   new.ativo = 'S';
end
 ^

CREATE TRIGGER "SINC1_USUARIOS" FOR "USUARIOS" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_USUARIO_SBIS" FOR "USUARIOS" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
  if (gen_id(gen_sbis,0) = 1) then
  begin
    If (exists(select codigo from usuarios where a_cpf = new.a_cpf and codigo <> new.codigo)) then
      exception exc_acaobloqueada;
  end
end
 ^

CREATE TRIGGER "SINC2_USUARIOS" FOR "USUARIOS" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "UP_USUARIO" FOR "USUARIOS" 
ACTIVE BEFORE UPDATE POSITION 0
as
begin
       NEW.HTML = '';
end
 ^

CREATE TRIGGER "TRGAU_USUARIO_SBIS" FOR "USUARIOS" 
ACTIVE AFTER UPDATE POSITION 20
as
begin
  if (gen_id(gen_sbis,0) = 1) then
  begin
    If (exists(select codigo from usuarios where a_cpf = new.a_cpf and codigo <> new.codigo)) then
      exception exc_acaobloqueada;
  end
end
 ^

CREATE TRIGGER "INS_UTI_TISS28" FOR "UTI_TISS28" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
    NEW.ID_UTI_TISS28 = GEN_ID( GEN_Uti_tiss28, 1 );
END
 ^

CREATE TRIGGER "TRGBI_VENTILACAO" FOR "VENTILACAO" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_VENTILACAO, 1 );
end
 ^

CREATE TRIGGER "INSVINLDRX" FOR "VINCULORX" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
    new.NUMERO = GEN_ID( Gen_VINCLPRX, 1 );
end
 ^

CREATE TRIGGER "SINC1_VINCULORX" FOR "VINCULORX" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_VINCULORX" FOR "VINCULORX" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "INSWEBSERVICE" FOR "WEBSERVICE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.Codigo = GEN_ID( Gen_WEBSERVICE, 1 );
END
 ^

CREATE TRIGGER "SINC1_XALTAITEM" FOR "XALTAITEM" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USUARIODELETOU = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC1_XCCIH" FOR "XCCIH" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "TRGBI_XCCIH" FOR "XCCIH" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( gen_Xccih, 1 );
end
 ^

CREATE TRIGGER "SINC1_XEVOLUCAOENF" FOR "XEVOLUCAOENF" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC1_XINTER4" FOR "XINTER4" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "TRBI_XLCONVENIO" FOR "XL_CONVENIO" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     new.xlConvenio = Gen_ID( GEN_XLCONVENIO, 1 );
end
 ^

CREATE TRIGGER "SINC1_XMATMEDP" FOR "XMATMEDP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATA_AUDITORIA = 'NOW';
END
 ^

CREATE TRIGGER "XMATMEDP_BI" FOR "XMATMEDP" 
ACTIVE BEFORE INSERT POSITION 0
as
begin
     NEW.INdICE = GEN_ID( gen_xmatmedp, 1 );
end
 ^

CREATE TRIGGER "TRIG_BI_XMLDEMONSTRATIVO" FOR "XMLDEMONSTRATIVO" 
ACTIVE BEFORE INSERT POSITION 10
as
BEGIN
   NEW.INDICE = GEN_ID(gen_demonstrativo,1);
END
 ^

CREATE TRIGGER "TRIG_BU_XMLDEMONSTRATIVO_GUIAOP" FOR "XMLDEMONSTRATIVO" 
ACTIVE BEFORE UPDATE POSITION 10
as
BEGIN
   IF ( NEW.TRATAMENTO > 0 ) THEN
   BEGIN
      UPDATE INTER2 SET NUMEROGUIAOPERADORA = NEW.NUMEROGUIAOPERADORA WHERE CODIGOINT = NEW.CODIGOCPS AND TRATAMENTO = NEW.TRATAMENTO AND ( ( NUMEROGUIAOPERADORA <> NEW.NUMEROGUIAOPERADORA ) OR ( NUMEROGUIAOPERADORA IS NULL) );
   END
   ELSE IF (NEW.TRATAMENTO = 0) THEN
   BEGIN
      UPDATE CPS1 SET NUMEROGUIAOPERADORA = NEW.NUMEROGUIAOPERADORA WHERE CODIGOCPS = NEW.CODIGOCPS AND ( TRATAMENTO = 0 or tratamento is null) AND ( ( NUMEROGUIAOPERADORA <> NEW.NUMEROGUIAOPERADORA ) OR ( NUMEROGUIAOPERADORA IS NULL) );
   END
END
 ^

CREATE TRIGGER "INS_XNOTAMED2" FOR "XNOTAMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.SEQUENCIA = GEN_ID( GEN_XNOTAMED2, 1 );
END
 ^

CREATE TRIGGER "SINC1_ZNOTAMED2" FOR "XNOTAMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC2_XNOTAMED2" FOR "XNOTAMED2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATA2 = 'NOW';
END
 ^

CREATE TRIGGER "INS_XXX_INTER2" FOR "XXX_INTER2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INTER2NO = GEN_ID( GEN_XXX_INTER2, 1 );
END
 ^

CREATE TRIGGER "DEL_XXX_INTER2" FOR "XXX_INTER2" 
ACTIVE BEFORE DELETE POSITION 0
as
BEGIN
insert into INTER2
  (CODIGOINT,TRATAMENTO, CONVENIO, A_VIA, A_DATA, A_HORA,
   A_DATAFIM, A_HORAFIM, A_ENVIO, DOCUMENTOS, A_DATADIA, FATURA,
   CODIGO, A_VALOR, A_GLOSA, A_VALOR1, MARCADO, PARCELA, TIPOGUIA, MOTIVOALTA,
   FATURANO, MEDICA, ENFERMAGEM, ADM, OBSERVACAO, USER1, USER2, DATA1, DATA2, MEDICOSOL, TIPO,CODSERV1,
   CODSERV2,CODSERV3,OBSERVACAO2,  DIARIA, DESCONTO, DATASINC,
   FATURAGLOSA,  A_GUIA,  DATARECEBIMENTO,  IP,  VERSAO,  IP1,  VERSAO1,  DIARIAAUTO,
   DIARIAHORA,  TRAVADIA,  ASSISTAUTO,  TIPOACOMODACAO,  TIPOENFERMARIA,  DATAGLOSA,
   USERGLOSA,  ALTAMEDICO,  ALTAANESTESISTA,  ALTAAUDITOR,  ALTAFARMACIA,  ALTAENFERMAGEM,  TIPOALTATISS,
   TRATAMENTO2)
SELECT
   CODIGOINT, TRATAMENTO, CONVENIO, A_VIA, A_DATA, A_HORA,
   A_DATAFIM, A_HORAFIM, A_ENVIO, DOCUMENTOS, A_DATADIA, FATURA,
   CODIGO, A_VALOR, A_GLOSA, A_VALOR1, MARCADO, PARCELA, TIPOGUIA, MOTIVOALTA,
   FATURANO, MEDICA, ENFERMAGEM, ADM, OBSERVACAO, USER1, USER2, DATA1, DATA2, MEDICOSOL, TIPO,CODSERV1,
   CODSERV2,CODSERV3,OBSERVACAO2,  DIARIA, DESCONTO, DATASINC,
   FATURAGLOSA,  A_GUIA,  DATARECEBIMENTO,  IP,  VERSAO,  IP1,  VERSAO1,  DIARIAAUTO,
   DIARIAHORA,  TRAVADIA,  ASSISTAUTO,  TIPOACOMODACAO,  TIPOENFERMARIA,  DATAGLOSA,
   USERGLOSA,  ALTAMEDICO,  ALTAANESTESISTA,  ALTAAUDITOR,  ALTAFARMACIA,  ALTAENFERMAGEM,  TIPOALTATISS,
   TRATAMENTO2
FROM XXX_INTER2
WHERE INTER2NO = OLD.INTER2NO;
DELETE FROM X_INTER3  WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
DELETE FROM X_INTER32 WHERE CODIGOINT = OLD.CODIGOINT AND TRATAMENTO = OLD.TRATAMENTO;
END
 ^

CREATE TRIGGER "SINC1_XX_INTER2" FOR "XX_INTER2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_XX_INTER2" FOR "XX_INTER2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "TRGBI_XALTAITEM" FOR "X_ALTAITEM" 
ACTIVE BEFORE INSERT POSITION 20
as
begin
    new.indice = GEN_ID( GEN_X_ALTAITEM, 1 );
end
 ^

CREATE TRIGGER "TRGBI_X_ALTAITEM" FOR "X_ALTAITEM" 
ACTIVE BEFORE INSERT POSITION 20
as
BEGIN
  new.DATAHORA_DEL  = 'now';
  NEW.VERSAO_DEL       = rdb$get_context('USER_SESSION', 'VERSAO');
  NEW.USUARIO_DEL      = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC1_CPS1X" FOR "X_CPS1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC1_X_CPS1" FOR "X_CPS1" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_X_CPS1" FOR "X_CPS1" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_X_CPS2" FOR "X_CPS2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_Z_CPS3X" FOR "X_CPS2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC2_X_CPS2" FOR "X_CPS2" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC1_CPS3X" FOR "X_CPS3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "SINC1_X_CPS6" FOR "X_CPS6" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "TRGINS_INTER2" FOR "X_INTER2" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INTER2NO = GEN_ID( X_INTER2, 1 );
END
 ^

CREATE TRIGGER "XINS_INTER3" FOR "X_INTER3" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.inter3no= GEN_ID( X_INTER3, 1 );
END
 ^

CREATE TRIGGER "XINS_INTER32" FOR "X_INTER32" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.INTER3NO = GEN_ID( X_INTER32, 1 );
END
 ^

CREATE TRIGGER "INS_XMARCACAO" FOR "X_MARCACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
begin
  new.Numero = Gen_ID( Gen_Xmarcacao, 1 );
end
 ^

CREATE TRIGGER "SINC1_MARCACAOX" FOR "X_MARCACAO" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.USERDEL = rdb$get_context('USER_SESSION', 'USUARIO');
END
 ^

CREATE TRIGGER "INS_PACBACKUP" FOR "X_PACBACKUP" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
   NEW.CodigoPac = GEN_ID( Gen_CodigoPac, 1 );
END
 ^

CREATE TRIGGER "SINC1_X_PACIENTE" FOR "X_PACIENTE" 
ACTIVE BEFORE INSERT POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

CREATE TRIGGER "SINC2_X_PACIENTE" FOR "X_PACIENTE" 
ACTIVE BEFORE UPDATE POSITION 0
AS
BEGIN
NEW.DATASINC = 'NOW';
END
 ^

COMMIT WORK ^
SET TERM ;^

/* Grant Roles for this database */


/* Role: "RDB$ADMIN", Owner: SYSDBA */

CREATE ROLE "RDB$ADMIN";

/* Grant permissions for this database */

GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "ACESSOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "ACESSOSA" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "ACESSOSI" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "ACESSOSL" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "AREAMED" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "BRASINDICE1" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "BRASINDICE3" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "CID" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "CONVENIO" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "CPS5" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "CPS6" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "CPS7" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "CPSOBS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "DEFPROF1" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "DEPTO" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "EMPRESAS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "ESPECIAL" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "ESPECIALIDADE" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "FERIADO" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "GRAFICO" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "GRUPOMED" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "GRUPOTERA" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "LABORA" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "LAUDOPADRX" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "LINKS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MATMED" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MATMEDCONV" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MATMEDP" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MEDICOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MOEDAS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MOEDASTAB" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "MOVSUS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PACOTE1" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PACOTE2" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PACOTE3" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PLANOSSAUDE" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PRECOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PRINCIPIO" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PROGRAMAC" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PROGRAMAS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PROGRAMASA" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PROGRAMASI" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PROGRAMASL" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "PROGRAMASX" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "RELALTA" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "RELATORIOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "REPRESENTA1" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "SALA" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "SERVICOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "TABELAHON" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "TABELASUS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "TECNICOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "TRATAMENTO" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "USUARIOS" TO SYSHOSP WITH GRANT OPTION;
GRANT DELETE, INSERT, SELECT, UPDATE, REFERENCES ON "VINCULORX" TO SYSHOSP WITH GRANT OPTION;
GRANT "SYSDA" TO SYSHOSP;
